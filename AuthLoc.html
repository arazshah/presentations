<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سیستم احراز هویت و کنترل دسترسی مکانی - شهرداری تهران</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
            color: #333;
            line-height: 1.6;
        }

        .presentation-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .slide {
            background: white;
            margin: 30px 0;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            animation: slideIn 0.6s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-header {
            background: linear-gradient(135deg, #2e7d32 0%, #43a047 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .slide-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .slide-header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .slide-header h2 {
            font-size: 2em;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }

        .slide-header p {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .slide-content {
            padding: 40px;
            background: #fafafa;
        }

        .architecture-box {
            background: white;
            border: 2px solid #43a047;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .hierarchy-tree {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            font-family: 'Courier New', monospace;
            line-height: 2;
        }

        .tree-node {
            color: #1976d2;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .tree-node:hover {
            color: #43a047;
            transform: translateX(10px);
        }

        .persona-card {
            background: white;
            border-left: 5px solid #43a047;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .persona-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .persona-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .persona-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #43a047 0%, #2e7d32 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
            margin-left: 15px;
            box-shadow: 0 4px 10px rgba(67, 160, 71, 0.3);
        }

        .scenario-box {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-top: 4px solid #43a047;
        }

        .scenario-title {
            color: #2e7d32;
            font-size: 1.5em;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .scenario-icon {
            background: #43a047;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            font-weight: bold;
        }

        .code-block {
            background: #263238;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            position: relative;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .code-block::before {
            content: 'Python';
            position: absolute;
            top: 5px;
            right: 10px;
            background: #43a047;
            color: white;
            padding: 3px 10px;
            border-radius: 5px;
            font-size: 0.8em;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .benefit-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-top: 4px solid #43a047;
        }

        .benefit-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .benefit-icon {
            font-size: 3em;
            margin-bottom: 15px;
            color: #43a047;
        }

        .benefit-card h3 {
            color: #2e7d32;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .timeline {
            position: relative;
            padding: 40px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, #43a047, #2e7d32);
            transform: translateX(-50%);
        }

        .timeline-item {
            position: relative;
            margin: 40px 0;
            width: 45%;
        }

        .timeline-item:nth-child(odd) {
            margin-right: auto;
            text-align: left;
        }

        .timeline-item:nth-child(even) {
            margin-left: auto;
            text-align: right;
        }

        .timeline-content {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px solid #e0e0e0;
            position: relative;
        }

        .timeline-content h3 {
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .timeline-marker {
            position: absolute;
            left: 50%;
            top: 20px;
            width: 20px;
            height: 20px;
            background: #43a047;
            border-radius: 50%;
            transform: translateX(-50%);
            border: 4px solid white;
            box-shadow: 0 0 0 4px #43a047;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
            color: #424242;
        }

        .feature-list li:before {
            content: '✓';
            color: #43a047;
            font-weight: bold;
            margin-left: 10px;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #43a047 0%, #2e7d32 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(67, 160, 71, 0.3);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(67, 160, 71, 0.4);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .warning-box {
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: #e65100;
            font-weight: 500;
        }

        .success-box {
            background: #e8f5e9;
            border: 2px solid #43a047;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: #1b5e20;
            font-weight: 500;
        }

        .error-box {
            background: #ffebee;
            border: 2px solid #f44336;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: #b71c1c;
            font-weight: 500;
        }

        .navigation {
            position: fixed;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            z-index: 1000;
        }

        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #bdbdbd;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-dot.active,
        .nav-dot:hover {
            background: #43a047;
            transform: scale(1.5);
        }

        .slide-number {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .slide-header h1 {
                font-size: 1.8em;
            }
            
            .slide-content {
                padding: 20px;
            }
            
            .benefits-grid {
                grid-template-columns: 1fr;
            }
            
            .timeline::before {
                left: 20px;
            }
            
            .timeline-item {
                width: calc(100% - 50px);
                margin-left: 50px !important;
                margin-right: 0 !important;
                text-align: right !important;
            }
            
            .timeline-marker {
                left: 20px;
            }
            
            .navigation {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="navigation">
        <div class="nav-dot active" onclick="scrollToSlide(0)"></div>
        <div class="nav-dot" onclick="scrollToSlide(1)"></div>
        <div class="nav-dot" onclick="scrollToSlide(2)"></div>
        <div class="nav-dot" onclick="scrollToSlide(3)"></div>
        <div class="nav-dot" onclick="scrollToSlide(4)"></div>
        <div class="nav-dot" onclick="scrollToSlide(5)"></div>
        <div class="nav-dot" onclick="scrollToSlide(6)"></div>
        <div class="nav-dot" onclick="scrollToSlide(7)"></div>
        <div class="nav-dot" onclick="scrollToSlide(8)"></div>
        <div class="nav-dot" onclick="scrollToSlide(9)"></div>
    </div>

    <div class="presentation-container">

        <!-- اسلاید 1: عنوان و مقدمه -->
        <div class="slide" id="slide-0">
            <div class="slide-number">1/10</div>
            <div class="slide-header">
                <h1>🏛️ سیستم احراز هویت و کنترل دسترسی مکانی</h1>
                <p>راهکار هوشمند برای شهرداری تهران</p>
            </div>
            <div class="slide-content">
                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو مقدماتی: یک روز شلوغ در شهرداری</h3>
                    <p>تصور کنید شهرداری تهران با هزاران کارمند و میلیون‌ها شهروند، نیاز به مدیریت دسترسی به اطلاعات شهری دارد. از صدور مجوزهای ساختمانی تا نظارت بر خدمات شهری - همه چیز باید بر اساس مکان و نقش کنترل شود. این سیستم مانند یک نگهبان هوشمند عمل می‌کند و اطمینان می‌دهد که هر فرد فقط به اطلاعات مرتبط با مسئولیت‌های خود دسترسی داشته باشد.</p>
                </div>
                <div class="success-box">
                    <strong>هدف سیستم:</strong> ارائه دسترسی ایمن و مکان‌محور به اطلاعات شهری، با تمرکز بر کارایی و امنیت.
                </div>
            </div>
        </div>

        <!-- اسلاید 2: زمینه و نیازمندی‌ها -->
        <div class="slide" id="slide-1">
            <div class="slide-number">2/10</div>
            <div class="slide-header">
                <h2>🏙️ زمینه سناریو: شهرداری تهران</h2>
                <p>مدیریت شهری پیچیده و نیازمند کنترل دقیق</p>
            </div>
            <div class="slide-content">
                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: چالش‌های روزانه شهرداری</h3>
                    <p>در شهرداری تهران، مدیران مناطق باید به اطلاعات محله‌های خود دسترسی داشته باشند، اما نباید بتوانند داده‌های منطقه دیگر را ببینند. یک کارمند صدور مجوز ساختمانی فقط به نقشه‌های مرتبط با محله خود نیاز دارد. این سیستم با استفاده از GIS، دسترسی‌ها را بر اساس موقعیت جغرافیایی محدود می‌کند و از نشت اطلاعات جلوگیری می‌کند.</p>
                    <p>مثال: یک شهروند درخواست مجوز ساخت در محله ونک می‌دهد. سیستم به طور خودکار درخواست را به مدیر منطقه مربوطه ارسال می‌کند و دسترسی‌های لازم را فراهم می‌کند، بدون اینکه اطلاعات سایر مناطق در دسترس باشد.</p>
                </div>
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">🏛️</div>
                        <h3>نیاز اصلی</h3>
                        <p>کنترل دسترسی بر اساس مناطق شهری</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">👥</div>
                        <h3>کاربران</h3>
                        <p>کارمندان، مدیران و شهروندان</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">🗺️</div>
                        <h3>تمرکز GIS</h3>
                        <p>نقشه‌های دقیق برای خدمات شهری</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- اسلاید 3: سلسله‌مراتب مکانی -->
        <div class="slide" id="slide-2">
            <div class="slide-number">3/10</div>
            <div class="slide-header">
                <h2>🗺️ سلسله‌مراتب مکانی در شهرداری</h2>
                <p>ساختار مناطق و محله‌ها</p>
            </div>
            <div class="slide-content">
                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: مدیریت مناطق شهری</h3>
                    <p>تصور کنید مدیر منطقه 1 نیاز به بررسی مجوزهای ساخت در محله تجریش دارد. سیستم دسترسی او را به تمام محله‌های زیرمجموعه منطقه 1 محدود می‌کند، اما اجازه دسترسی به منطقه 2 را نمی‌دهد. این ساختار درختی کمک می‌کند تا دسترسی‌ها به صورت ارثی مدیریت شوند.</p>
                </div>
                <div class="hierarchy-tree">
                    <div class="tree-node">🏙️ تهران</div>
                    <div class="tree-node">├── 📍 منطقه 1</div>
                    <div class="tree-node">│   ├── 🏘️ محله تجریش</div>
                    <div class="tree-node">│   │   ├── 🏠 خیابان اصلی</div>
                    <div class="tree-node">│   │   │   ├── 🏢 ساختمان 1</div>
                    <div class="tree-node">│   │   │   └── 🏢 ساختمان 2</div>
                    <div class="tree-node">│   │   └── 🏠 کوچه فرعی</div>
                    <div class="tree-node">│   │       ├── 🏢 ساختمان 3</div>
                    <div class="tree-node">│   │       └── 🏢 ساختمان 4</div>
                    <div class="tree-node">│   └── 🏘️ محله فرمانیه</div>
                    <div class="tree-node">│       ├── 🏠 خیابان فرمانیه</div>
                    <div class="tree-node">│       └── 🏠 کوچه‌های داخلی</div>
                    <div class="tree-node">├── 📍 منطقه 2</div>
                    <div class="tree-node">│   └── 🏘️ محله سعادت‌آباد</div>
                    <div class="tree-node">└── 📍 منطقه 3</div>
                    <div class="tree-node">    └── 🏘️ محله ونک</div>
                </div>
                <div class="success-box">
                    <strong>💡 ارث‌بری دسترسی:</strong> دسترسی به "منطقه 1" به معنای دسترسی خودکار به تمام محله‌ها و ساختمان‌های زیرمجموعه آن است.
                </div>
            </div>
        </div>

        <!-- اسلاید 4: نقش‌های سازمانی -->
        <div class="slide" id="slide-3">
            <div class="slide-number">4/10</div>
            <div class="slide-header">
                <h2>👥 نقش‌های سازمانی در شهرداری</h2>
                <p>تعریف نقش‌ها و اختیارات</p>
            </div>
            <div class="slide-content">
                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: نقش‌ها در عمل</h3>
                    <p>در شهرداری، نقش‌ها بر اساس مسئولیت‌های شهری تعریف شده‌اند. مثلاً مدیر منطقه فقط می‌تواند مجوزهای منطقه خود را بررسی کند، در حالی که شهردار کل به تمام داده‌ها دسترسی دارد. این سیستم اطمینان می‌دهد که هیچ کارمندی به اطلاعات غیرمرتبط دسترسی نداشته باشد.</p>
                </div>
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">👑</div>
                        <h3>شهردار</h3>
                        <ul class="feature-list">
                            <li>دسترسی کامل به تمام مناطق</li>
                            <li>مدیریت کارمندان</li>
                            <li>گزارش‌گیری کلان</li>
                        </ul>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">🏛️</div>
                        <h3>مدیر منطقه</h3>
                        <ul class="feature-list">
                            <li>دسترسی به محله‌های منطقه</li>
                            <li>صدور مجوزهای محلی</li>
                            <li>نظارت بر خدمات</li>
                        </ul>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">📍</div>
                        <h3>سرپرست محله</h3>
                        <ul class="feature-list">
                            <li>دسترسی به ساختمان‌های محله</li>
                            <li>بررسی درخواست‌ها</li>
                            <li>گزارش محلی</li>
                        </ul>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">🏢</div>
                        <h3>کارشناس فنی</h3>
                        <ul class="feature-list">
                            <li>دسترسی به نقشه‌های فنی</li>
                            <li>ویرایش داده‌های GIS</li>
                            <li>تحلیل شهری</li>
                        </ul>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">💼</div>
                        <h3>کارمند اداری</h3>
                        <ul class="feature-list">
                            <li>دسترسی خواندنی محدود</li>
                            <li>ثبت درخواست‌ها</li>
                            <li>گزارش ساده</li>
                        </ul>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">👤</div>
                        <h3>شهروند</h3>
                        <ul class="feature-list">
                            <li>دسترسی به اطلاعات عمومی</li>
                            <li>ثبت درخواست آنلاین</li>
                            <li>پیگیری وضعیت</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- اسلاید 5: شخصیت‌های سناریو -->
        <div class="slide" id="slide-4">
            <div class="slide-number">5/10</div>
            <div class="slide-header">
                <h2>👥 شخصیت‌های سناریو</h2>
                <p>کاربران نمونه در سیستم شهرداری</p>
            </div>
            <div class="slide-content">
                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: کاربران در یک روز کاری</h3>
                    <p>این شخصیت‌ها نشان‌دهنده کاربران واقعی سیستم هستند. هر کدام با نقش و دسترسی خاص خود، بخشی از فرآیندهای شهری را مدیریت می‌کنند. سیستم دسترسی آن‌ها را بر اساس مکان و نقش محدود می‌کند تا کارایی افزایش یابد.</p>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px;">
                    <div class="persona-card">
                        <div class="persona-header">
                            <div class="persona-icon">👔</div>
                            <div>
                                <h3>آقای احمدی</h3>
                                <p style="color: #666;">شهردار تهران</p>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <p><strong>📍 مکان:</strong> دفتر مرکزی</p>
                            <p><strong>🔑 دسترسی:</strong> کامل به تمام مناطق</p>
                            <p><strong>⚡ عملیات:</strong> نظارت کلان، گزارش‌گیری</p>
                        </div>
                    </div>

                    <div class="persona-card">
                        <div class="persona-header">
                            <div class="persona-icon">👩</div>
                            <div>
                                <h3>خانم رضایی</h3>
                                <p style="color: #666;">مدیر منطقه 1</p>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <p><strong>📍 مکان:</strong> دفتر منطقه 1</p>
                            <p><strong>🔑 دسترسی:</strong> محله‌های منطقه 1</p>
                            <p><strong>⚡ عملیات:</strong> صدور مجوز، نظارت محلی</p>
                        </div>
                    </div>

                    <div class="persona-card">
                        <div class="persona-header">
                            <div class="persona-icon">👨</div>
                            <div>
                                <h3>آقای محمدی</h3>
                                <p style="color: #666;">سرپرست محله تجریش</p>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <p><strong>📍 مکان:</strong> محله تجریش</p>
                            <p><strong>🔑 دسترسی:</strong> ساختمان‌های محله</p>
                            <p><strong>⚡ عملیات:</strong> بررسی درخواست‌ها</p>
                        </div>
                    </div>

                    <div class="persona-card">
                        <div class="persona-header">
                            <div class="persona-icon">🛠️</div>
                            <div>
                                <h3>خانم کریمی</h3>
                                <p style="color: #666;">کارشناس فنی</p>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <p><strong>📍 مکان:</strong> دفتر فنی</p>
                            <p><strong>🔑 دسترسی:</strong> نقشه‌های GIS</p>
                            <p><strong>⚡ عملیات:</strong> تحلیل و ویرایش داده‌ها</p>
                        </div>
                    </div>

                    <div class="persona-card">
                        <div class="persona-header">
                            <div class="persona-icon">💼</div>
                            <div>
                                <h3>آقای صادقی</h3>
                                <p style="color: #666;">کارمند اداری</p>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <p><strong>📍 مکان:</strong> دفتر اداری</p>
                            <p><strong>🔑 دسترسی:</strong> خواندنی محدود</p>
                            <p><strong>⚡ عملیات:</strong> ثبت درخواست‌ها</p>
                        </div>
                    </div>

                    <div class="persona-card">
                        <div class="persona-header">
                            <div class="persona-icon">👤</div>
                            <div>
                                <h3>خانم نوری</h3>
                                <p style="color: #666;">شهروند</p>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <p><strong>📍 مکان:</strong> محله ونک</p>
                            <p><strong>🔑 دسترسی:</strong> اطلاعات عمومی</p>
                            <p><strong>⚡ عملیات:</strong> ثبت درخواست</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- اسلاید 6: سناریوهای عملیاتی - بخش 1 -->
        <div class="slide" id="slide-5">
            <div class="slide-number">6/10</div>
            <div class="slide-header">
                <h2>🎬 سناریوهای عملیاتی - بخش 1</h2>
                <p>نحوه کارکرد سیستم در شرایط واقعی</p>
            </div>
            <div class="slide-content">
                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: ورود شهردار (آقای احمدی)</h3>
                    <p>آقای احمدی برای بررسی گزارش‌های کلان وارد سیستم می‌شود. سیستم دسترسی کامل به تمام مناطق را برای او فراهم می‌کند و او می‌تواند وضعیت خدمات شهری در سراسر تهران را نظارت کند.</p>
                    <div class="code-block">
# احراز هویت کاربر
from django.contrib.auth import authenticate
from rest_framework_simplejwt.tokens import RefreshToken

user = authenticate(username="ahmadi@municipality.com", password="secure123")
if user:
    refresh = RefreshToken.for_user(user)
    access_token = str(refresh.access_token)
    # ذخیره توکن در کوکی یا هدر برای درخواست‌های بعدی
else:
    # عدم موفقیت در احراز هویت
    raise AuthenticationFailed('نام کاربری یا رمز عبور نادرست است')

# بررسی دسترسی
from .models import LocationHierarchy, UserLocationAccess
from django.utils import timezone

def check_user_location_access(user, location):
    access = UserLocationAccess.objects.filter(
        user=user,
        location=location,
        is_active=True,
        expires_at__gt=timezone.now()
    ).first()
    if access:
        return access.can_read and access.can_update  # بررسی دسترسی‌های خاص
    # بررسی ارث‌بری از والدین
    current = location.parent
    while current:
        parent_access = UserLocationAccess.objects.filter(
            user=user,
            location=current,
            inherit_to_children=True,
            is_active=True,
            expires_at__gt=timezone.now()
        ).first()
        if parent_access:
            return parent_access.can_read and parent_access.can_update
        current = current.parent
    return False

location = LocationHierarchy.objects.get(name="تهران")
has_access = check_user_location_access(user, location)
# نتیجه: True (دسترسی کامل)
                    </div>
                    <div class="success-box">
                        نتیجه: آقای احمدی گزارش‌های تمام مناطق را مشاهده و تغییرات لازم را اعمال می‌کند.
                    </div>
                </div>

                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: محدودیت دسترسی مدیر منطقه (خانم رضایی)</h3>
                    <p>خانم رضایی سعی می‌کند به اطلاعات منطقه 2 دسترسی پیدا کند، اما سیستم مانع می‌شود زیرا دسترسی او فقط به منطقه 1 محدود است.</p>
                    <div class="code-block">
# تلاش برای دسترسی به منطقه غیرمجاز
location = LocationHierarchy.objects.get(name="منطقه 2")
has_access = check_user_location_access(rezaei, location)
# نتیجه: False (عدم دسترسی)

# در View DRF
from rest_framework.permissions import BasePermission

class LocationBasedPermission(BasePermission):
    def has_permission(self, request, view):
        location_id = request.data.get('location_id') or request.query_params.get('location_id')
        if not location_id:
            return False
        location = LocationHierarchy.objects.get(id=location_id)
        return check_user_location_access(request.user, location)

# اگر دسترسی نباشد
if not has_access:
    raise PermissionDenied("شما به این منطقه دسترسی ندارید")
                    </div>
                    <div class="error-box">
                        نتیجه: پیام سیستم: "شما به این منطقه دسترسی ندارید"
                    </div>
                </div>
            </div>
        </div>

        <!-- اسلاید 7: سناریوهای عملیاتی - بخش 2 -->
        <div class="slide" id="slide-6">
            <div class="slide-number">7/10</div>
            <div class="slide-header">
                <h2>🎬 سناریوهای عملیاتی - بخش 2</h2>
                <p>ادامه مثال‌های عملی</p>
            </div>
            <div class="slide-content">
                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: دسترسی کارشناس فنی (خانم کریمی)</h3>
                    <p>خانم کریمی نیاز به ویرایش نقشه GIS محله تجریش دارد. سیستم دسترسی ویرایشی را فقط برای این محله فراهم می‌کند.</p>
                    <div class="code-block">
# بررسی دسترسی برای ویرایش
location = LocationHierarchy.objects.get(name="محله تجریش")
has_access = check_user_location_access(karimi, location)
if has_access:
    # انجام ویرایش
    location.geometry = Point(51.3892, 35.6890)  # مثال ویرایش موقعیت
    location.save()
# نتیجه: دسترسی مجاز
                    </div>
                    <div class="success-box">
                        نتیجه: خانم کریمی نقشه را به‌روزرسانی می‌کند بدون دسترسی به سایر محله‌ها.
                    </div>
                </div>

                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: درخواست شهروند (خانم نوری)</h3>
                    <p>خانم نوری درخواست مجوز ساخت در محله ونک ثبت می‌کند. سیستم درخواست را به مدیر مربوطه ارجاع می‌دهد.</p>
                    <div class="code-block">
# ثبت درخواست شهروند
from .models import Request

request = Request.objects.create(
    user=nouri,
    location=LocationHierarchy.objects.get(name="محله ونک"),
    type="مجوز ساخت",
    status="در حال بررسی"
)

# ارجاع خودکار به مدیر
manager = UserLocationAccess.objects.filter(
    location=request.location,
    role="مدیر منطقه"
).first().user
request.assigned_to = manager
request.save()
                    </div>
                    <div class="success-box">
                        نتیجه: درخواست به طور ایمن پردازش می‌شود و وضعیت به شهروند اطلاع داده می‌شود.
                    </div>
                </div>
            </div>
        </div>

        <!-- اسلاید 8: قابلیت‌های GIS -->
        <div class="slide" id="slide-7">
            <div class="slide-number">8/10</div>
            <div class="slide-header">
                <h2>🗺️ قابلیت‌های GIS در سیستم</h2>
                <p>مدیریت مکانی پیشرفته</p>
            </div>
            <div class="slide-content">
                <div class="scenario-box">
                    <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: جستجوی مکانی در شهرداری</h3>
                    <p>مدیر منطقه نیاز به یافتن تمام ساختمان‌های غیرمجاز در شعاع 2 کیلومتری یک نقطه دارد. سیستم با GIS این کار را آسان می‌کند.</p>
                    <div class="code-block">
from django.contrib.gis.measure import D
from django.contrib.gis.geos import Point
from .models import Building

center_point = Point(51.3892, 35.6890)
nearby_buildings = Building.objects.filter(
    geometry__distance_lt=(center_point, D(km=2)),
    status="غیرمجاز"
)
# نتیجه: لیست ساختمان‌ها برای بررسی
                    </div>
                </div>
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">📍</div>
                        <h3>ذخیره موقعیت</h3>
                        <p>ثبت مختصات دقیق ساختمان‌ها</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">🔍</div>
<h3>جستجوی مکانی</h3>
                <p>پیدا کردن موارد در شعاع مشخص</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">📊</div>
                <h3>تحلیل‌های مکانی</h3>
                <p>محاسبه فاصله و مساحت برای برنامه‌ریزی شهری</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">🗺️</div>
                <h3>نقشه‌های تعاملی</h3>
                <p>نمایش داده‌ها روی نقشه برای کاربران مجاز</p>
            </div>
        </div>
        <div class="scenario-box">
            <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: تحلیل خدمات شهری</h3>
            <p>کارشناس فنی نیاز به محاسبه مساحت پارک‌های یک منطقه دارد. سیستم با GIS این تحلیل را انجام می‌دهد و گزارش می‌دهد.</p>
            <div class="code-block">
from django.contrib.gis.db.models.functions import Area

parks = Park.objects.filter(location__name="منطقه 1").annotate(area=Area('geometry'))
# نتیجه: لیست پارک‌ها با مساحت هر کدام
            </div>
        </div>
    </div>
</div>

<!-- اسلاید 9: لایه‌های امنیتی -->
<div class="slide" id="slide-8">
    <div class="slide-number">9/10</div>
    <div class="slide-header">
        <h2>🔒 لایه‌های امنیتی سیستم</h2>
        <p>حفاظت از داده‌های حساس شهری</p>
    </div>
    <div class="slide-content">
        <div class="scenario-box">
            <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو: جلوگیری از دسترسی غیرمجاز</h3>
            <p>یک کارمند سعی می‌کند به داده‌های محرمانه منطقه دیگر دسترسی پیدا کند. سیستم با چندین لایه امنیتی مانع می‌شود و فعالیت را ثبت می‌کند.</p>
            <div class="code-block">
# لایه 1: احراز هویت
if not request.user.is_authenticated:
    return Response({"error": "احراز هویت ناموفق"}, status=401)

# لایه 2: کنترل دسترسی
if not check_user_location_access(request.user, location):
    AuditLog.objects.create(
        user=request.user,
        action="ACCESS_DENIED",
        details=f"تلاش دسترسی به {location.name}"
    )
    return Response({"error": "دسترسی غیرمجاز"}, status=403)

# لایه 3: رمزنگاری
# داده‌ها با HTTPS ارسال می‌شوند و در دیتابیس با bcrypt هش می‌شوند
            </div>
        </div>
        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">🔑</div>
                <h3>احراز هویت JWT</h3>
                <p>توکن‌های امن با مدت اعتبار محدود</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">🛡️</div>
                <h3>کنترل دسترسی فیلدی</h3>
                <p>محدود کردن فیلدهای حساس بر اساس نقش</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">📋</div>
                <h3>Audit Logs</h3>
                <p>ثبت تمام فعالیت‌ها برای پیگیری</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">🚫</div>
                <h3>Rate Limiting</h3>
                <p>جلوگیری از حملات brute-force</p>
            </div>
        </div>
        <div class="success-box">
            <strong>نتیجه سناریو:</strong> سیستم فعالیت‌های مشکوک را ثبت و هشدار می‌دهد تا امنیت حفظ شود.
        </div>
    </div>
</div>

<!-- اسلاید 10: نتیجه‌گیری -->
<div class="slide" id="slide-9">
    <div class="slide-number">10/10</div>
    <div class="slide-header">
        <h2>📊 نتیجه‌گیری و مزایای کلیدی</h2>
        <p>جمع‌بندی سیستم برای شهرداری</p>
    </div>
    <div class="slide-content">
        <div class="scenario-box">
            <h3 style="color: #2e7d32; margin-bottom: 20px;">سناریو نهایی: تحول مدیریت شهری</h3>
            <p>با پیاده‌سازی این سیستم، شهرداری تهران می‌تواند خدمات را سریع‌تر ارائه دهد، امنیت داده‌ها را تضمین کند و تصمیم‌گیری‌ها را بر اساس داده‌های مکانی دقیق انجام دهد. مثلاً در بحران‌هایی مانند سیل، مدیران می‌توانند سریع به نقشه‌های مرتبط دسترسی پیدا کنند بدون ریسک امنیتی.</p>
        </div>
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number">99.9%</div>
                <div>در دسترس بودن</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">&lt;200ms</div>
                <div>زمان پاسخ</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">0</div>
                <div>حوادث امنیتی</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">∞</div>
                <div>مقیاس‌پذیری</div>
            </div>
        </div>
        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">🚀</div>
                <h3>کارایی بالا</h3>
                <p>پاسخ سریع به درخواست‌های شهروندان</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">📈</div>
                <h3>بهینه‌سازی منابع</h3>
                <p>کاهش اشتباهات دستی در مدیریت</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">🌐</div>
                <h3>ادغام آسان</h3>
                <p>اتصال به سیستم‌های دیگر شهری</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">💡</div>
                <h3>نوآوری</h3>
                <p>استفاده از GIS برای برنامه‌ریزی آینده</p>
            </div>
        </div>
    </div>
</div>

    </div>

    <script>
        function scrollToSlide(slideIndex) {
            const slides = document.querySelectorAll('.slide');
            if (slides[slideIndex]) {
                slides[slideIndex].scrollIntoView({ behavior: 'smooth', block: 'start' });
                document.querySelectorAll('.nav-dot').forEach((dot, index) => {
                    dot.classList.toggle('active', index === slideIndex);
                });
            }
        }

        let observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.5
        };

        let observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    let slideIndex = Array.from(document.querySelectorAll('.slide')).indexOf(entry.target);
                    document.querySelectorAll('.nav-dot').forEach((dot, index) => {
                        dot.classList.toggle('active', index === slideIndex);
                    });
                }
            });
        }, observerOptions);

        document.querySelectorAll('.slide').forEach(slide => {
            observer.observe(slide);
        });

        const animateOnScroll = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.benefit-card, .persona-card, .stat-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'all 0.6s ease';
            animateOnScroll.observe(card);
        });

        document.addEventListener('keydown', (e) => {
            const slides = document.querySelectorAll('.slide');
            const currentSlideIndex = Array.from(slides).findIndex(slide => {
                const rect = slide.getBoundingClientRect();
                return rect.top >= 0 && rect.top < window.innerHeight / 2;
            });

            if (e.key === 'ArrowDown' && currentSlideIndex < slides.length - 1) {
                scrollToSlide(currentSlideIndex + 1);
            } else if (e.key === 'ArrowUp' && currentSlideIndex > 0) {
                scrollToSlide(currentSlideIndex - 1);
            } else if (e.key === 'Home') {
                scrollToSlide(0);
            } else if (e.key === 'End') {
                scrollToSlide(slides.length - 1);
            }
        });
    </script>
</body>
</html>
