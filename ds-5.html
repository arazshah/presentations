<!DOCTYPE html>
<html lang="fa"
      dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <title>جلسه پنجم: Matplotlib و مصورسازی داده‌ها - آراز شاه کرمی</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: auto;
            color: #fff;
        }

        .presentation-container {
            display: flex;
            min-height: 100vh;
            padding: 20px;
            gap: 20px;
        }

        .slides-container {
            flex: 1;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            align-content: flex-start;
        }

        .slide {
            width: 400px;
            min-height: 300px;
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            color: #2d3748;
        }

        .slide:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
        }

        .slide.expanded {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90vw;
            height: 90vh;
            z-index: 10000;
            overflow-y: auto;
            max-width: 1200px;
            animation: expandSlide 0.3s ease;
        }

        @keyframes expandSlide {
            from {
                transform: translate(-50%, -50%) scale(0.3);
                opacity: 0;
            }

            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        .slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 400% 400%;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        .slide-number {
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 8px 15px;
            border-radius: 25px;
            font-size: 12px;
            font-weight: 600;
        }

        .expand-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 25px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .expand-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #e53e3e;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 18px;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10001;
        }

        .slide.expanded .close-btn {
            display: flex;
        }

        .slide.expanded .expand-btn {
            display: none;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            display: none;
        }

        .overlay.active {
            display: block;
        }

        .slide-title {
            font-size: 22px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 20px;
            margin-top: 25px;
            border-right: 4px solid #667eea;
            padding-right: 15px;
            line-height: 1.3;
        }

        .slide.expanded .slide-title {
            font-size: 32px;
            margin-bottom: 30px;
        }

        .slide-content {
            font-size: 14px;
            line-height: 1.8;
            color: #4a5568;
        }

        .slide.expanded .slide-content {
            font-size: 16px;
            line-height: 2;
        }

        .slide-content h3 {
            color: #667eea;
            font-size: 18px;
            margin: 20px 0 15px 0;
            font-weight: 600;
        }

        .slide.expanded .slide-content h3 {
            font-size: 24px;
            margin: 25px 0 20px 0;
        }

        .slide-content ul {
            margin: 15px 0;
            padding-right: 25px;
        }

        .slide-content li {
            margin: 10px 0;
            position: relative;
        }

        .slide-content li::before {
            content: '🔹';
            position: absolute;
            right: -25px;
            font-size: 14px;
        }

        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 12px;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 13px;
            margin: 20px 0;
            overflow-x: auto;
            direction: ltr;
            text-align: left;
            position: relative;
            border: 1px solid #4a5568;
        }

        .slide.expanded .code-block {
            font-size: 15px;
            padding: 25px;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: #5a67d8;
            transform: scale(1.05);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-item {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-item:hover {
            transform: scale(1.05);
        }

        .stat-number {
            font-size: 28px;
            font-weight: 700;
            display: block;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.9;
        }

        .icon {
            font-size: 50px;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .slide.expanded .icon {
            font-size: 70px;
            margin-bottom: 30px;
        }

        .navigation {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .nav-title {
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
            font-size: 16px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-item {
            display: block;
            padding: 12px 20px;
            margin: 8px 0;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-size: 13px;
            text-align: center;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-item:hover {
            transform: translateX(-8px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .nav-item.active {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52) !important;
            transform: translateX(-8px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .slide.intro {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .slide.intro .slide-title {
            color: white;
            border-right: 4px solid white;
            font-size: 24px;
            margin-bottom: 25px;
        }

        .slide.chart {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #2d3748;
        }

        .slide.chart .slide-title {
            color: #2d3748;
            border-right: 4px solid #ff6b6b;
        }

        .slide.plot {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #2d3748;
        }

        .slide.plot .slide-title {
            color: #2d3748;
            border-right: 4px solid #4facfe;
        }

        .slide.style {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #2d3748;
        }

        .slide.style .slide-title {
            color: #2d3748;
            border-right: 4px solid #f6ad55;
        }

        .example-box {
            background: linear-gradient(135deg, #e8f5e8, #f0fff0);
            border: 2px solid #68d391;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .example-title {
            color: #2f855a;
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .warning-box {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 2px solid #f6ad55;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .warning-title {
            color: #c05621;
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .exercise-box {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border: 2px solid #42a5f5;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .exercise-title {
            color: #1565c0;
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .tip-box {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            border: 2px solid #ab47bc;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .tip-title {
            color: #7b1fa2;
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .price-tag {
            position: absolute;
            top: -12px;
            right: 25px;
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 13px;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(238, 90, 82, 0.4);
        }

        .chart-types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .chart-type-card {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .chart-type-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .chart-icon {
            font-size: 30px;
            margin-bottom: 10px;
            display: block;
        }

        .chart-name {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .chart-desc {
            font-size: 11px;
            color: #4a5568;
            line-height: 1.4;
        }

        .color-palette {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
>)
heights_women = np.random.normal(<span class="number">162</span>, <span class="number">6</span>, <span class="number">500</span>)

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># رسم هیستوگرام چندگانه</span>
plt.hist(heights_men, bins=<span class="number">25</span>, alpha=<span class="number">0.7</span>, label=<span class="string">'مردان'</span>, 
         color=<span class="string">'blue'</span>, edgecolor=<span class="string">'black'</span>)
plt.hist(heights_women, bins=<span class="number">25</span>, alpha=<span class="number">0.7</span>, label=<span class="string">'زنان'</span>, 
         color=<span class="string">'pink'</span>, edgecolor=<span class="string">'black'</span>)

<span class="comment"># خطوط میانگین</span>
plt.axvline(np.mean(heights_men), color=<span class="string">'blue'</span>, linestyle=<span class="string">'--'</span>, 
           linewidth=<span class="number">2</span>, label=<span class="string">f'میانگین مردان: {np.mean(heights_men):.1f}'</span>)
plt.axvline(np.mean(heights_women), color=<span class="string">'red'</span>, linestyle=<span class="string">'--'</span>, 
           linewidth=<span class="number">2</span>, label=<span class="string">f'میانگین زنان: {np.mean(heights_women):.1f}'</span>)

plt.title(<span class="string">'توزیع قد مردان و زنان'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'قد (سانتی‌متر)'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'فراوانی'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>📈 هیستوگرام تجمعی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده درآمد</span>
np.random.seed(<span class="number">42</span>)
income = np.random.exponential(<span class="number">50</span>, <span class="number">1000</span>) * <span class="number">1000</span>  <span class="comment"># درآمد به هزار تومان</span>

plt.figure(figsize=(<span class="number">12</span>, <span class="number">10</span>))

<span class="comment"># هیستوگرام معمولی</span>
plt.subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>)
plt.hist(income, bins=<span class="number">50</span>, color=<span class="string">'lightgreen'</span>, alpha=<span class="number">0.7</span>, edgecolor=<span class="string">'black'</span>)
plt.title(<span class="string">'توزیع درآمد - هیستوگرام معمولی'</span>, fontsize=<span class="number">14</span>)
plt.xlabel(<span class="string">'درآمد (هزار تومان)'</span>)
plt.ylabel(<span class="string">'فراوانی'</span>)
plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)

<span class="comment"># هیستوگرام تجمعی</span>
plt.subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>)
plt.hist(income, bins=<span class="number">50</span>, cumulative=<span class="keyword">True</span>, color=<span class="string">'orange'</span>, 
         alpha=<span class="number">0.7</span>, edgecolor=<span class="string">'black'</span>)
plt.title(<span class="string">'توزیع درآمد - هیستوگرام تجمعی'</span>, fontsize=<span class="number">14</span>)
plt.xlabel(<span class="string">'درآمد (هزار تومان)'</span>)
plt.ylabel(<span class="string">'فراوانی تجمعی'</span>)
plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)

plt.tight_layout()
plt.show()

<span class="comment"># آمار توصیفی</span>
<span class="function">print</span>(<span class="string">f"میانگین درآمد: {np.mean(income):,.0f} هزار تومان"</span>)
<span class="function">print</span>(<span class="string">f"میانه درآمد: {np.median(income):,.0f} هزار تومان"</span>)
                    </div>

                    <h3>📊 هیستوگرام دوبعدی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده دوبعدی</span>
np.random.seed(<span class="number">42</span>)
x = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1000</span>)
y = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1000</span>) + x * <span class="number">0.5</span>

plt.figure(figsize=(<span class="number">12</span>, <span class="number">5</span>))

<span class="comment"># هیستوگرام دوبعدی</span>
plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)
plt.hist2d(x, y, bins=<span class="number">30</span>, cmap=<span class="string">'Blues'</span>)
plt.colorbar(label=<span class="string">'فراوانی'</span>)
plt.title(<span class="string">'هیستوگرام دوبعدی'</span>)
plt.xlabel(<span class="string">'X'</span>)
plt.ylabel(<span class="string">'Y'</span>)

<span class="comment"># هکس بین</span>
plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)
plt.hexbin(x, y, gridsize=<span class="number">20</span>, cmap=<span class="string">'Reds'</span>)
plt.colorbar(label=<span class="string">'فراوانی'</span>)
plt.title(<span class="string">'Hexbin Plot'</span>)
plt.xlabel(<span class="string">'X'</span>)
plt.ylabel(<span class="string">'Y'</span>)

plt.tight_layout()
plt.show()
                    </div>

                    <h3>🔔 منحنی توزیع نرمال:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده و منحنی نرمال</span>
<span class="keyword">from</span> scipy <span class="keyword">import</span> stats

np.random.seed(<span class="number">42</span>)
data = np.random.normal(<span class="number">50</span>, <span class="number">10</span>, <span class="number">1000</span>)

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># هیستوگرام نرمال شده</span>
n, bins, patches = plt.hist(data, bins=<span class="number">30</span>, density=<span class="keyword">True</span>, 
                           alpha=<span class="number">0.7</span>, color=<span class="string">'lightblue'</span>, 
                           edgecolor=<span class="string">'black'</span>, label=<span class="string">'داده واقعی'</span>)

<span class="comment"># منحنی نرمال نظری</span>
mu, sigma = np.mean(data), np.std(data)
x = np.linspace(data.min(), data.max(), <span class="number">100</span>)
y = stats.norm.pdf(x, mu, sigma)
plt.plot(x, y, <span class="string">'r-'</span>, linewidth=<span class="number">3</span>, label=<span class="string">f'نرمال نظری (μ={mu:.1f}, σ={sigma:.1f})'</span>)

<span class="comment"># نواحی مهم</span>
<span class="comment"># 68% داده در μ±σ</span>
x_fill = np.linspace(mu - sigma, mu + sigma, <span class="number">100</span>)
y_fill = stats.norm.pdf(x_fill, mu, sigma)
plt.fill_between(x_fill, y_fill, alpha=<span class="number">0.3</span>, color=<span class="string">'yellow'</span>, label=<span class="string">'68% داده'</span>)

plt.title(<span class="string">'مقایسه داده با توزیع نرمال'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'مقدار'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'چگالی احتمال'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()

<span class="comment"># تست نرمال بودن</span>
statistic, p_value = stats.shapiro(data[:<span class="number">100</span>])  <span class="comment"># نمونه کوچک</span>
<span class="function">print</span>(<span class="string">f"Shapiro-Wilk test p-value: {p_value:.4f}"</span>)
<span class="keyword">if</span> p_value > <span class="number">0.05</span>:
    <span class="function">print</span>(<span class="string">"داده احتمالاً نرمال است"</span>)
<span class="keyword">else</span>:
    <span class="function">print</span>(<span class="string">"داده احتمالاً نرمال نیست"</span>)
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.hist()</div>
                            <div class="method-desc">هیستوگرام اصلی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">bins</div>
                            <div class="method-desc">تعداد بازه‌ها</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">density</div>
                            <div class="method-desc">نرمال‌سازی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">cumulative</div>
                            <div class="method-desc">تجمعی</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکات هیستوگرام:</div>
                        <ul>
                            <li>تعداد bins مناسب انتخاب کنید (معمولاً √n)</li>
                            <li>از density=True برای مقایسه با منحنی نظری</li>
                            <li>alpha برای شفافیت در چندین هیستوگرام</li>
                            <li>edgecolor برای جدا کردن bins</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 8: نمودار پراکندگی -->
            <div class="slide" id="slide8">
                <div class="slide-number">8/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">⚫</div>
                <div class="slide-title">نمودار پراکندگی</div>
                <div class="slide-content">
                    <h3>⚫ نمودار پراکندگی ساده:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده قد و وزن</span>
np.random.seed(<span class="number">42</span>)
height = np.random.normal(<span class="number">170</span>, <span class="number">10</span>, <span class="number">100</span>)
weight = height * <span class="number">0.8</span> + np.random.normal(<span class="number">0</span>, <span class="number">5</span>, <span class="number">100</span>) - <span class="number">70</span>

plt.figure(figsize=(<span class="number">10</span>, <span class="number">8</span>))

<span class="comment"># رسم نمودار پراکندگی</span>
plt.scatter(height, weight, alpha=<span class="number">0.6</span>, s=<span class="number">50</span>, c=<span class="string">'blue'</span>)

<span class="comment"># خط رگرسیون</span>
z = np.polyfit(height, weight, <span class="number">1</span>)
p = np.poly1d(z)
plt.plot(height, p(height), <span class="string">"r--"</span>, linewidth=<span class="number">2</span>, label=<span class="string">f'خط رگرسیون: y={z[0]:.2f}x+{z[1]:.2f}'</span>)

<span class="comment"># محاسبه همبستگی</span>
correlation = np.corrcoef(height, weight)[<span class="number">0</span>, <span class="number">1</span>]

plt.title(<span class="string">f'رابطه قد و وزن (همبستگی: {correlation:.3f})'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'قد (سانتی‌متر)'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'وزن (کیلوگرم)'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()

<span class="function">print</span>(<span class="string">f"ضریب همبستگی: {correlation:.3f}"</span>)
                    </div>

                    <h3>🎨 پراکندگی رنگی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده چندبعدی</span>
np.random.seed(<span class="number">42</span>)
n = <span class="number">200</span>
x = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n)
y = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n)
colors = x + y  <span class="comment"># رنگ بر اساس مجموع</span>
sizes = <span class="number">100</span> * np.abs(x * y)  <span class="comment"># اندازه بر اساس ضرب</span>

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># نمودار پراکندگی با رنگ و اندازه متغیر</span>
scatter = plt.scatter(x, y, c=colors, s=sizes, alpha=<span class="number">0.6</span>, 
                     cmap=<span class="string">'viridis'</span>, edgecolors=<span class="string">'black'</span>, linewidth=<span class="number">0.5</span>)

<span class="comment"># نوار رنگ</span>
cbar = plt.colorbar(scatter)
cbar.set_label(<span class="string">'مقدار رنگ (x+y)'</span>, fontsize=<span class="number">12</span>)

plt.title(<span class="string">'نمودار پراکندگی با رنگ و اندازه متغیر'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'X'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'Y'</span>, fontsize=<span class="number">12</span>)
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>👥 پراکندگی گروهی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده دانشجویان سه رشته</span>
np.random.seed(<span class="number">42</span>)

<span class="comment"># ریاضی</span>
math_students = <span class="number">50</span>
math_math_score = np.random.normal(<span class="number">85</span>, <span class="number">8</span>, math_students)
math_physics_score = math_math_score + np.random.normal(<span class="number">0</span>, <span class="number">5</span>, math_students)

<span class="comment"># فیزیک</span>
physics_students = <span class="number">50</span>
physics_math_score = np.random.normal(<span class="number">75</span>, <span class="number">10</span>, physics_students)
physics_physics_score = np.random.normal(<span class="number">88</span>, <span class="number">7</span>, physics_students)

<span class="comment"># شیمی</span>
chemistry_students = <span class="number">50</span>
chemistry_math_score = np.random.normal(<span class="number">70</span>, <span class="number">12</span>, chemistry_students)
chemistry_physics_score = np.random.normal(<span class="number">75</span>, <span class="number">10</span>, chemistry_students)

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># رسم هر گروه با رنگ متفاوت</span>
plt.scatter(math_math_score, math_physics_score, 
           alpha=<span class="number">0.7</span>, s=<span class="number">60</span>, c=<span class="string">'red'</span>, label=<span class="string">'ریاضی'</span>, marker=<span class="string">'o'</span>)
plt.scatter(physics_math_score, physics_physics_score, 
           alpha=<span class="number">0.7</span>, s=<span class="number">60</span>, c=<span class="string">'blue'</span>, label=<span class="string">'فیزیک'</span>, marker=<span class="string">'s'</span>)
plt.scatter(chemistry_math_score, chemistry_physics_score, 
           alpha=<span class="number">0.7</span>, s=<span class="number">60</span>, c=<span class="string">'green'</span>, label=<span class="string">'شیمی'</span>, marker=<span class="string">'^'</span>)

<span class="comment"># خط مرجع</span>
plt.plot([<span class="number">40</span>, <span class="number">100</span>], [<span class="number">40</span>, <span class="number">100</span>], <span class="string">'k--'</span>, alpha=<span class="number">0.5</span>, label=<span class="string">'خط برابری'</span>)

plt.title(<span class="string">'مقایسه نمرات ریاضی و فیزیک بین رشته‌ها'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'نمره ریاضی'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'نمره فیزیک'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.axis(<span class="string">'equal'</span>)
plt.xlim(<span class="number">40</span>, <span class="number">100</span>)
plt.ylim(<span class="number">40</span>, <span class="number">100</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>📊 ماتریس پراکندگی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده چندمتغیره</span>
<span class="keyword">import</span> pandas <span class="keyword">as</span> pd

np.random.seed(<span class="number">42</span>)
n = <span class="number">100</span>

<span class="comment"># تولید داده همبسته</span>
data = {
    <span class="string">'قد'</span>: np.random.normal(<span class="number">170</span>, <span class="number">10</span>, n),
    <span class="string">'وزن'</span>: <span class="number">0</span>,  <span class="comment"># محاسبه می‌شود</span>
    <span class="string">'سن'</span>: np.random.randint(<span class="number">18</span>, <span class="number">65</span>, n),
    <span class="string">'درآمد'</span>: <span class="number">0</span>  <span class="comment"># محاسبه می‌شود</span>
}

<span class="comment"># وزن بر اساس قد</span>
data[<span class="string">'وزن'</span>] = data[<span class="string">'قد'</span>] * <span class="number">0.8</span> - <span class="number">70</span> + np.random.normal(<span class="number">0</span>, <span class="number">5</span>, n)

<span class="comment"># درآمد بر اساس سن</span>
data[<span class="string">'درآمد'</span>] = data[<span class="string">'سن'</span>] * <span class="number">500</span> + np.random.normal(<span class="number">0</span>, <span class="number">5000</span>, n)

df = pd.DataFrame(data)

<span class="comment"># ماتریس پراکندگی</span>
fig, axes = plt.subplots(<span class="number">3</span>, <span class="number">3</span>, figsize=(<span class="number">15</span>, <span class="number">15</span>))
variables = [<span class="string">'قد'</span>, <span class="string">'وزن'</span>, <span class="string">'سن'</span>]

<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):
    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">3</span>):
        <span class="keyword">if</span> i == j:
            <span class="comment"># قطر اصلی - هیستوگرام</span>
            axes[i, j].hist(df[variables[i]], bins=<span class="number">20</span>, alpha=<span class="number">0.7</span>, color=<span class="string">'skyblue'</span>)
            axes[i, j].set_title(<span class="string">f'توزیع {variables[i]}'</span>)
        <span class="keyword">else</span>:
            <span class="comment"># نمودار پراکندگی</span>
            axes[i, j].scatter(df[variables[j]], df[variables[i]], alpha=<span class="number">0.6</span>)
            
            <span class="comment"># محاسبه همبستگی</span>
            corr = df[variables[j]].corr(df[variables[i]])
            axes[i, j].set_title(<span class="string">f'{variables[j]} vs {variables[i]}\n(r={corr:.3f})'</span>)
        
        axes[i, j].set_xlabel(variables[j] <span class="keyword">if</span> i == <span class="number">2</span> <span class="keyword">else</span> <span class="string">''</span>)
        axes[i, j].set_ylabel(variables[i] <span class="keyword">if</span> j == <span class="number">0</span> <span class="keyword">else</span> <span class="string">''</span>)
        axes[i, j].grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)

plt.suptitle(<span class="string">'ماتریس پراکندگی متغیرها'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.tight_layout()
plt.show()

<span class="comment"># ماتریس همبستگی</span>
<span class="function">print</span>(<span class="string">"ماتریس همبستگی:"</span>)
<span class="function">print</span>(df[[<span class="string">'قد'</span>, <span class="string">'وزن'</span>, <span class="string">'سن'</span>]].corr())
                    </div>

                    <h3>🔥 نقشه حرارتی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده فروش ماهانه</span>
months = [<span class="string">'فرو'</span>, <span class="string">'ارد'</span>, <span class="string">'خرد'</span>, <span class="string">'تیر'</span>, <span class="string">'مرد'</span>, <span class="string">'شهر'</span>, <span class="string">'مهر'</span>, <span class="string">'آبا'</span>, <span class="string">'آذر'</span>, <span class="string">'دی'</span>, <span class="string">'بهم'</span>, <span class="string">'اسف'</span>]
products = [<span class="string">'محصول A'</span>, <span class="string">'محصول B'</span>, <span class="string">'محصول C'</span>, <span class="string">'محصول D'</span>]

<span class="comment"># تولید داده تصادفی</span>
np.random.seed(<span class="number">42</span>)
sales_data = np.random.randint(<span class="number">10</span>, <span class="number">100</span>, (len(products), len(months)))

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># نقشه حرارتی</span>
im = plt.imshow(sales_data, cmap=<span class="string">'YlOrRd'</span>, aspect=<span class="string">'auto'</span>)

<span class="comment"># تنظیم برچسب‌ها</span>
plt.xticks(range(len(months)), months)
plt.yticks(range(len(products)), products)

<span class="comment"># اضافه کردن مقادیر</span>
<span class="keyword">for</span> i <span class="keyword">in</span> range(len(products)):
    <span class="keyword">for</span> j <span class="keyword">in</span> range(len(months)):
        plt.text(j, i, sales_data[i, j], ha=<span class="string">'center'</span>, va=<span class="string">'center'</span>, 
                color=<span class="string">'white'</span> <span class="keyword">if</span> sales_data[i, j] > <span class="number">50</span> <span class="keyword">else</span> <span class="string">'black'</span>, fontweight=<span class="string">'bold'</span>)

<span class="comment"># نوار رنگ</span>
cbar = plt.colorbar(im)
cbar.set_label(<span class="string">'میزان فروش'</span>, fontsize=<span class="number">12</span>)

plt.title(<span class="string">'نقشه حرارتی فروش محصولات در طول سال'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'ماه'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'محصول'</span>, fontsize=<span class="number">12</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.scatter()</div>
                            <div class="method-desc">نمودار پراکندگی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">c (color)</div>
                            <div class="method-desc">رنگ نقاط</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">s (size)</div>
                            <div class="method-desc">اندازه نقاط</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">alpha</div>
                            <div class="method-desc">شفافیت</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 کاربردهای پراکندگی:</div>
                        <ul>
                            <li>بررسی همبستگی بین متغیرها</li>
                            <li>شناسایی نقاط پرت (outliers)</li>
                            <li>تشخیص الگوهای غیرخطی</li>
                            <li>مقایسه گروه‌های مختلف</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 9: سفارشی‌سازی نمودارها -->
            <div class="slide style" id="slide9">
                <div class="slide-number">9/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🎨</div>
                <div class="slide-title">سفارشی‌سازی نمودارها</div>
                <div class="slide-content">
                    <h3>🎨 عنوان و برچسب‌ها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># نمودار با تنظیمات کامل</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">50</span>)
y1 = np.sin(x)
y2 = np.cos(x)

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># رسم نمودارها</span>
plt.plot(x, y1, label=<span class="string">'sin(x)'</span>, linewidth=<span class="number">3</span>, color=<span class="string">'blue'</span>)
plt.plot(x, y2, label=<span class="string">'cos(x)'</span>, linewidth=<span class="number">3</span>, color=<span class="string">'red'</span>, linestyle=<span class="string">'--'</span>)

<span class="comment"># عنوان اصلی</span>
plt.suptitle(<span class="string">'مقایسه توابع مثلثاتی'</span>, fontsize=<span class="number">20</span>, fontweight=<span class="string">'bold'</span>, y=<span class="number">0.98</span>)
plt.title(<span class="string">'نمودار sin(x) و cos(x)'</span>, fontsize=<span class="number">16</span>, pad=<span class="number">20</span>)

<span class="comment"># برچسب محورها</span>
plt.xlabel(<span class="string">'زاویه (رادیان)'</span>, fontsize=<span class="number">14</span>, fontweight=<span class="string">'bold'</span>)
plt.ylabel(<span class="string">'مقدار تابع'</span>, fontsize=<span class="number">14</span>, fontweight=<span class="string">'bold'</span>)

<span class="comment"># راهنما</span>
plt.legend(fontsize=<span class="number">12</span>, loc=<span class="string">'upper right'</span>, frameon=<span class="keyword">True</span>, 
          fancybox=<span class="keyword">True</span>, shadow=<span class="keyword">True</span>)

<span class="comment"># شبکه</span>
plt.grid(<span class="keyword">True</span>, linestyle=<span class="string">'-'</span>, alpha=<span class="number">0.3</span>)

<span class="comment"># محدوده محورها</span>
plt.xlim(<span class="number">0</span>, <span class="number">10</span>)
plt.ylim(-<span class="number">1.2</span>, <span class="number">1.2</span>)

plt.tight_layout()
plt.show()
                    </div>

                    <h3>🎯 تنظیم محورها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده فروش ماهانه</span>
months = [<span class="string">'فرو'</span>, <span class="string">'ارد'</span>, <span class="string">'خرد'</span>, <span class="string">'تیر'</span>, <span class="string">'مرد'</span>, <span class="string">'شهر'</span>]
sales = [<span class="number">120</span>, <span class="number">135</span>, <span class="number">158</span>, <span class="number">142</span>, <span class="number">168</span>, <span class="number">155</span>]

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># رسم نمودار</span>
plt.plot(months, sales, <span class="string">'o-'</span>, linewidth=<span class="number">3</span>, markersize=<span class="number">10</span>, 
         color=<span class="string">'#2E86AB'</span>, markerfacecolor=<span class="string">'#F24236'</span>)

<span class="comment"># تنظیم محور X</span>
plt.xticks(rotation=<span class="number">45</span>, fontsize=<span class="number">12</span>)
plt.xlabel(<span class="string">'ماه'</span>, fontsize=<span class="number">14</span>)

<span class="comment"># تنظیم محور Y</span>
plt.yticks(range(<span class="number">100</span>, <span class="number">180</span>, <span class="number">10</span>), fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'فروش (میلیون تومان)'</span>, fontsize=<span class="number">14</span>)

<span class="comment"># خطوط مرجع</span>
avg_sales = np.mean(sales)
plt.axhline(y=avg_sales, color=<span class="string">'red'</span>, linestyle=<span class="string">'--'</span>, 
           linewidth=<span class="number">2</span>, alpha=<span class="number">0.7</span>, label=<span class="string">f'میانگین: {avg_sales:.1f}'</span>)

<span class="comment"># ناحیه پر شده</span>
plt.fill_between(months, sales, avg_sales, 
                where=np.array(sales) > avg_sales, 
                alpha=<span class="number">0.3</span>, color=<span class="string">'green'</span>, label=<span class="string">'بالاتر از میانگین'</span>)
plt.fill_between(months, sales, avg_sales, 
                where=np.array(sales) <= avg_sales, 
                alpha=<span class="number">0.3</span>, color=<span class="string">'red'</span>, label=<span class="string">'پایین‌تر از میانگین'</span>)

plt.title(<span class="string">'تحلیل فروش ماهانه'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>🌈 پالت رنگی و استایل:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># تنظیم استایل کلی</span>
plt.style.use(<span class="string">'seaborn-v0_8'</span>)

<span class="comment"># داده چندین سری</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">50</span>)
functions = {
    <span class="string">'sin(x)'</span>: np.sin(x),
    <span class="string">'cos(x)'</span>: np.cos(x),
    <span class="string">'sin(2x)'</span>: np.sin(<span class="number">2</span>*x),
    <span class="string">'cos(2x)'</span>: np.cos(<span class="number">2</span>*x)
}

<span class="comment"># پالت رنگی سفارشی</span>
colors = [<span class="string">'#FF6B6B'</span>, <span class="string">'#4ECDC4'</span>, <span class="string">'#45B7D1'</span>, <span class="string">'#96CEB4'</span>]
line_styles = [<span class="string">'-'</span>, <span class="string">'--'</span>, <span class="string">'-.'</span>, <span class="string">':'</span>]

plt.figure(figsize=(<span class="number">14</span>, <span class="number">10</span>))

<span class="comment"># رسم توابع</span>
<span class="keyword">for</span> i, (name, y) <span class="keyword">in</span> enumerate(functions.items()):
    plt.plot(x, y, label=name, color=colors[i], 
             linestyle=line_styles[i], linewidth=<span class="number">3</span>, alpha=<span class="number">0.8</span>)

<span class="comment"># تنظیمات پیشرفته</span>
plt.title(<span class="string">'مجموعه توابع مثلثاتی'</span>, fontsize=<span class="number">18</span>, fontweight=<span class="string">'bold'</span>, 
         color=<span class="string">'#2C3E50'</span>, pad=<span class="number">20</span>)

<span class="comment"># محورها</span>
ax = plt.gca()
ax.spines[<span class="string">'top'</span>].set_visible(<span class="keyword">False</span>)
ax.spines[<span class="string">'right'</span>].set_visible(<span class="keyword">False</span>)
ax.spines[<span class="string">'left'</span>].set_linewidth(<span class="number">2</span>)
ax.spines[<span class="string">'bottom'</span>].set_linewidth(<span class="number">2</span>)

<span class="comment"># برچسب‌ها</span>
plt.xlabel(<span class="string">'x'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.ylabel(<span class="string">'f(x)'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)

<span class="comment"># راهنما با استایل</span>
legend = plt.legend(fontsize=<span class="number">12</span>, loc=<span class="string">'upper right'</span>, 
                   frameon=<span class="keyword">True</span>, fancybox=<span class="keyword">True</span>, shadow=<span class="keyword">True</span>)
legend.get_frame().set_facecolor(<span class="string">'white'</span>)
legend.get_frame().set_alpha(<span class="number">0.9</span>)

<span class="comment"># شبکه سفارشی</span>
plt.grid(<span class="keyword">True</span>, linestyle=<span class="string">'-'</span>, alpha=<span class="number">0.2</span>, color=<span class="string">'gray'</span>)

plt.tight_layout()
plt.show()
                    </div>

                    <h3>📝 اضافه کردن متن و حاشیه‌نویسی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده قیمت سهام</span>
days = np.arange(<span class="number">1</span>, <span class="number">31</span>)
price = <span class="number">100</span> + np.cumsum(np.random.randn(<span class="number">30</span>) * <span class="number">2</span>)

plt.figure(figsize=(<span class="number">14</span>, <span class="number">8</span>))

<span class="comment"># رسم نمودار</span>
plt.plot(days, price, <span class="string">'b-'</span>, linewidth=<span class="number">2</span>, label=<span class="string">'قیمت سهام'</span>)

<span class="comment"># نقاط مهم</span>
max_idx = np.argmax(price)
min_idx = np.argmin(price)

<span class="comment"># نشان‌گذاری نقاط</span>
plt.plot(days[max_idx], price[max_idx], <span class="string">'ro'</span>, markersize=<span class="number">10</span>, label=<span class="string">'حداکثر'</span>)
plt.plot(days[min_idx], price[min_idx], <span class="string">'go'</span>, markersize=<span class="number">10</span>, label=<span class="string">'حداقل'</span>)

<span class="comment"># حاشیه‌نویسی</span>
plt.annotate(<span class="string">f'حداکثر قیمت\n{price[max_idx]:.1f}'</span>,
            xy=(days[max_idx], price[max_idx]),
            xytext=(days[max_idx] + <span class="number">5</span>, price[max_idx] + <span class="number">5</span>),
            arrowprops=dict(arrowstyle=<span class="string">'->'</span>, color=<span class="string">'red'</span>, lw=<span class="number">2</span>),
            fontsize=<span class="number">12</span>, fontweight=<span class="string">'bold'</span>,
            bbox=dict(boxstyle=<span class="string">'round,pad=0.3'</span>, facecolor=<span class="string">'yellow'</span>, alpha=<span class="number">0.7</span>))

plt.annotate(<span class="string">f'حداقل قیمت\n{price[min_idx]:.1f}'</span>,
            xy=(days[min_idx], price[min_idx]),
            xytext=(days[min_idx] - <span class="number">5</span>, price[min_idx] - <span class="number">8</span>),
            arrowprops=dict(arrowstyle=<span class="string">'->'</span>, color=<span class="string">'green'</span>, lw=<span class="number">2</span>),
            fontsize=<span class="number">12</span>, fontweight=<span class="string">'bold'</span>,
            bbox=dict(boxstyle=<span class="string">'round,pad=0.3'</span>, facecolor=<span class="string">'lightgreen'</span>, alpha=<span class="number">0.7</span>))

<span class="comment"># متن آزاد</span>
plt.text(<span class="number">20</span>, <span class="number">110</span>, <span class="string">'روند صعودی'</span>, fontsize=<span class="number">14</span>, fontweight=<span class="string">'bold'</span>,
         bbox=dict(boxstyle=<span class="string">'round'</span>, facecolor=<span class="string">'lightblue'</span>, alpha=<span class="number">0.5</span>))

plt.title(<span class="string">'تحلیل قیمت سهام در یک ماه'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'روز'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'قیمت'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>🎨 تم‌های آماده:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># نمایش تم‌های موجود</span>
<span class="function">print</span>(<span class="string">"تم‌های موجود:"</span>)
<span class="function">print</span>(plt.style.available)

<span class="comment"># مقایسه چند تم</span>
styles = [<span class="string">'default'</span>, <span class="string">'seaborn-v0_8'</span>, <span class="string">'ggplot'</span>, <span class="string">'dark_background'</span>]
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">50</span>)
y = np.sin(x)

fig, axes = plt.subplots(<span class="number">2</span>, <span class="number">2</span>, figsize=(<span class="number">15</span>, <span class="number">12</span>))
axes = axes.flatten()

<span class="keyword">for</span> i, style <span class="keyword">in</span> enumerate(styles):
    <span class="keyword">with</span> plt.style.context(style):
        axes[i].plot(x, y, linewidth=<span class="number">3</span>)
        axes[i].set_title(<span class="string">f'استایل: {style}'</span>, fontsize=<span class="number">12</span>, fontweight=<span class="string">'bold'</span>)
        axes[i].grid(<span class="keyword">True</span>)

plt.suptitle(<span class="string">'مقایسه استایل‌های مختلف'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.tight_layout()
plt.show()

<span class="comment"># استایل سفارشی</span>
plt.rcParams.update({
    <span class="string">'font.size'</span>: <span class="number">12</span>,
    <span class="string">'axes.linewidth'</span>: <span class="number">2</span>,
    <span class="string">'axes.spines.top'</span>: <span class="keyword">False</span>,
    <span class="string">'axes.spines.right'</span>: <span class="keyword">False</span>,
    <span class="string">'xtick.major.size'</span>: <span class="number">5</span>,
    <span class="string">'xtick.minor.size'</span>: <span class="number">3</span>,
    <span class="string">'ytick.major.size'</span>: <span class="number">5</span>,
    <span class="string">'ytick.minor.size'</span>: <span class="number">3</span>
})
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.title()</div>
                            <div class="method-desc">عنوان نمودار</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">plt.xlabel()</div>
                            <div class="method-desc">برچسب محور X</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">plt.legend()</div>
                            <div class="method-desc">راهنمای نمودار</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">plt.annotate()</div>
                            <div class="method-desc">حاشیه‌نویسی</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکات سفارشی‌سازی:</div>
                        <ul>
                            <li>از رنگ‌های هماهنگ استفاده کنید</li>
                            <li>فونت‌ها را یکسان نگه دارید</li>
                            <li>از فضای خالی مناسب استفاده کنید</li>
                            <li>حاشیه‌نویسی را محدود کنید</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 10: چندین نمودار در یک تصویر -->
            <div class="slide" id="slide10">
                <div class="slide-number">10/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🔢</div>
                <div class="slide-title">چندین نمودار در یک تصویر</div>
                <div class="slide-content">
                    <h3>📊 Subplots ساده:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده نمونه</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)

<span class="comment"># ایجاد subplots</span>
fig, axes = plt.subplots(<span class="number">2</span>, <span class="number">2</span>, figsize=(<span class="number">12</span>, <span class="number">10</span>))

<span class="comment"># نمودار اول - خطی</span>
axes[<span class="number">0</span>, <span class="number">0</span>].plot(x, np.sin(x), <span class="string">'b-'</span>, linewidth=<span class="number">2</span>)
axes[<span class="number">0</span>, <span class="number">0</span>].set_title(<span class="string">'نمودار خطی - sin(x)'</span>)
axes[<span class="number">0</span>, <span class="number">0</span>].grid(<span class="keyword">True</span>)

<span class="comment"># نمودار دوم - پراکندگی</span>
y_scatter = np.sin(x) + np.random.normal(<span class="number">0</span>, <span class="number">0.1</span>, len(x))
axes[<span class="number">0</span>, <span class="number">1</span>].scatter(x, y_scatter, alpha=<span class="number">0.6</span>, c=<span class="string">'red'</span>)
axes[<span class="number">0</span>, <span class="number">1</span>].set_title(<span class="string">'نمودار پراکندگی'</span>)
axes[<span class="number">0</span>, <span class="number">1</span>].grid(<span class="keyword">True</span>)

<span class="comment"># نمودار سوم - میله‌ای</span>
categories = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>]
values = [<span class="number">23</span>, <span class="number">45</span>, <span class="number">56</span>, <span class="number">78</span>]
axes[<span class="number">1</span>, <span class="number">0</span>].bar(categories, values, color=[<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>, <span class="string">'orange'</span>])
axes[<span class="number">1</span>, <span class="number">0</span>].set_title(<span class="string">'نمودار میله‌ای'</span>)

<span class="comment"># نمودار چهارم - هیستوگرام</span>
data = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1000</span>)
axes[<span class="number">1</span>, <span class="number">1</span>].hist(data, bins=<span class="number">30</span>, alpha=<span class="number">0.7</span>, color=<span class="string">'purple'</span>)
axes[<span class="number">1</span>, <span class="number">1</span>].set_title(<span class="string">'هیستوگرام'</span>)

<span class="comment"># تنظیمات کلی</span>
plt.suptitle(<span class="string">'مجموعه نمودارهای مختلف'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>📐 تنظیم اندازه متفاوت:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># GridSpec برای کنترل بیشتر</span>
<span class="keyword">from</span> matplotlib <span class="keyword">import</span> gridspec

<span class="comment"># تعریف شبکه</span>
fig = plt.figure(figsize=(<span class="number">15</span>, <span class="number">10</span>))
gs = gridspec.GridSpec(<span class="number">3</span>, <span class="number">3</span>, hspace=<span class="number">0.3</span>, wspace=<span class="number">0.3</span>)

<span class="comment"># نمودار بزرگ در بالا</span>
ax1 = fig.add_subplot(gs[<span class="number">0</span>, :])  <span class="comment"># تمام ستون‌های ردیف اول</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)
ax1.plot(x, np.sin(x), <span class="string">'b-'</span>, linewidth=<span class="number">3</span>, label=<span class="string">'sin(x)'</span>)
ax1.plot(x, np.cos(x), <span class="string">'r--'</span>, linewidth=<span class="number">3</span>, label=<span class="string">'cos(x)'</span>)
ax1.set_title(<span class="string">'نمودار اصلی - توابع مثلثاتی'</span>, fontsize=<span class="number">14</span>, fontweight=<span class="string">'bold'</span>)
ax1.legend()
ax1.grid(<span class="keyword">True</span>)

<span class="comment"># نمودار متوسط در چپ</span>
ax2 = fig.add_subplot(gs[<span class="number">1</span>:<span class="number">3</span>, <span class="number">0</span>])  <span class="comment"># دو ردیف، ستون اول</span>
data1 = np.random.normal(<span class="number">100</span>, <span class="number">15</span>, <span class="number">1000</span>)
ax2.hist(data1, bins=<span class="number">30</span>, orientation=<span class="string">'horizontal'</span>, alpha=<span class="number">0.7</span>, color=<span class="string">'green'</span>)
ax2.set_title(<span class="string">'هیستوگرام عمودی'</span>, fontweight=<span class="string">'bold'</span>)

<span class="comment"># نمودارهای کوچک در راست</span>
ax3 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">1</span>])
categories = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]
sizes = [<span class="number">30</span>, <span class="number">40</span>, <span class="number">30</span>]
ax3.pie(sizes, labels=categories, autopct=<span class="string">'%1.1f%%'</span>)
ax3.set_title(<span class="string">'نمودار دایره‌ای'</span>)

ax4 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">2</span>])
x_scatter = np.random.randn(<span class="number">50</span>)
y_scatter = np.random.randn(<span class="number">50</span>)
ax4.scatter(x_scatter, y_scatter, alpha=<span class="number">0.6</span>)
ax4.set_title(<span class="string">'پراکندگی'</span>)

ax5 = fig.add_subplot(gs[<span class="number">2</span>, <span class="number">1</span>:<span class="number">3</span>])  <span class="comment"># دو ستون آخر</span>
months = [<span class="string">'فرو'</span>, <span class="string">'ارد'</span>, <span class="string">'خرد'</span>, <span class="string">'تیر'</span>]
values = [<span class="number">20</span>, <span class="number">35</span>, <span class="number">30</span>, <span class="number">25</span>]
ax5.bar(months, values, color=<span class="string">'orange'</span>)
ax5.set_title(<span class="string">'فروش ماهانه'</span>)

plt.suptitle(<span class="string">'داشبورد تحلیلی'</span>, fontsize=<span class="number">18</span>, fontweight=<span class="string">'bold'</span>)
plt.show()
                    </div>

                    <h3>🔄 محورهای مشترک:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده سری زمانی</span>
dates = pd.date_range(<span class="string">'2023-01-01'</span>, periods=<span class="number">100</span>)
price = <span class="number">100</span> + np.cumsum(np.random.randn(<span class="number">100</span>) * <span class="number">0.5</span>)
volume = np.random.randint(<span class="number">1000</span>, <span class="number">5000</span>, <span class="number">100</span>)

<span class="comment"># نمودارهای با محور X مشترک</span>
fig, (ax1, ax2) = plt.subplots(<span class="number">2</span>, <span class="number">1</span>, figsize=(<span class="number">12</span>, <span class="number">10</span>), sharex=<span class="keyword">True</span>)

<span class="comment"># نمودار قیمت</span>
ax1.plot(dates, price, <span class="string">'b-'</span>, linewidth=<span class="number">2</span>)
ax1.set_title(<span class="string">'قیمت سهام'</span>, fontweight=<span class="string">'bold'</span>)
ax1.set_ylabel(<span class="string">'قیمت'</span>)
ax1.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)

<span class="comment"># نمودار حجم</span>
ax2.bar(dates, volume, alpha=<span class="number">0.7</span>, color=<span class="string">'orange'</span>)
ax2.set_title(<span class="string">'حجم معاملات'</span>, fontweight=<span class="string">'bold'</span>)
ax2.set_ylabel(<span class="string">'حجم'</span>)
ax2.set_xlabel(<span class="string">'تاریخ'</span>)

<span class="comment"># چرخاندن برچسب‌های تاریخ</span>
plt.xticks(rotation=<span class="number">45</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>🎯 محور دوگانه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده با مقیاس‌های متفاوت</span>
months = [<span class="string">'فرو'</span>, <span class="string">'ارد'</span>, <span class="string">'خرد'</span>, <span class="string">'تیر'</span>, <span class="string">'مرد'</span>, <span class="string">'شهر'</span>]
revenue = [<span class="number">120</span>, <span class="number">135</span>, <span class="number">158</span>, <span class="number">142</span>, <span class="number">168</span>, <span class="number">155</span>]  <span class="comment"># میلیون تومان</span>
profit_margin = [<span class="number">15</span>, <span class="number">18</span>, <span class="number">22</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">20</span>]  <span class="comment"># درصد</span>

fig, ax1 = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># محور اول - درآمد</span>
color = <span class="string">'tab:blue'</span>
ax1.set_xlabel(<span class="string">'ماه'</span>)
ax1.set_ylabel(<span class="string">'درآمد (میلیون تومان)'</span>, color=color)
bars = ax1.bar(months, revenue, color=color, alpha=<span class="number">0.7</span>)
ax1.tick_params(axis=<span class="string">'y'</span>, labelcolor=color)

<span class="comment"># اضافه کردن مقادیر روی میله‌ها</span>
<span class="keyword">for</span> bar, value <span class="keyword">in</span> zip(bars, revenue):
    ax1.text(bar.get_x() + bar.get_width()/<span class="number">2</span>, bar.get_height() + <span class="number">2</span>,
             <span class="string">f'{value}'</span>, ha=<span class="string">'center'</span>, va=<span class="string">'bottom'</span>, color=color, fontweight=<span class="string">'bold'</span>)

<span class="comment"># محور دوم - حاشیه سود</span>
ax2 = ax1.twinx()
color = <span class="string">'tab:red'</span>
ax2.set_ylabel(<span class="string">'حاشیه سود (%)'</span>, color=color)
line = ax2.plot(months, profit_margin, color=color, marker=<span class="string">'o'</span>, 
                linewidth=<span class="number">3</span>, markersize=<span class="number">8</span>, label=<span class="string">'حاشیه سود'</span>)
ax2.tick_params(axis=<span class="string">'y'</span>, labelcolor=color)

<span class="comment"># اضافه کردن مقادیر روی خط</span>
<span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate(profit_margin):
    ax2.text(i, value + <span class="number">1</span>, <span class="string">f'{value}%'</span>, ha=<span class="string">'center'</span>, 
             va=<span class="string">'bottom'</span>, color=color, fontweight=<span class="string">'bold'</span>)

plt.title(<span class="string">'درآمد و حاشیه سود ماهانه'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xticks(rotation=<span class="number">45</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.subplots()</div>
                            <div class="method-desc">ایجاد چند نمودار</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">GridSpec</div>
                            <div class="method-desc">کنترل دقیق چیدمان</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">sharex/sharey</div>
                            <div class="method-desc">محورهای مشترک</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">twinx()</div>
                            <div class="method-desc">محور دوگانه</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکات Subplots:</div>
                        <ul>
                            <li>از tight_layout() برای فاصله‌گذاری مناسب</li>
                            <li>محورهای مشترک برای مقایسه بهتر</li>
                            <li>رنگ‌های هماهنگ برای محورهای دوگانه</li>
                            <li>عنوان کلی با suptitle()</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 11: ذخیره و صادرات -->
            <div class="slide" id="slide11">
                <div class="slide-number">11/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">💾</div>
                <div class="slide-title">ذخیره و صادرات نمودار</div>
                <div class="slide-content">
                    <h3>💾 ذخیره در فرمت‌های مختلف:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># نمودار نمونه</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)
y = np.sin(x)

plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))
plt.plot(x, y, linewidth=<span class="number">3</span>)
plt.title(<span class="string">'نمودار برای ذخیره'</span>, fontsize=<span class="number">16</span>)
plt.xlabel(<span class="string">'X'
        .color-box {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: transform 0.2s ease;
            position: relative;
        }

        .color-box:hover {
            transform: scale(1.1);
        }

        .color-box::after {
            content: attr(data-color);
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            color: #4a5568;
            white-space: nowrap;
        }

        .method-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .method-card {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            transition: transform 0.3s ease;
        }

        .method-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .method-name {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 8px;
        }

        .method-desc {
            font-size: 12px;
            color: #4a5568;
            line-height: 1.5;
        }

        .chart-demo {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .demo-chart {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .demo-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }

        @media (max-width: 768px) {
            .presentation-container {
                flex-direction: column;
                padding: 10px;
            }

            .navigation {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                width: 100%;
                margin-bottom: 20px;
            }

            .slides-container {
                justify-content: center;
            }

            .slide {
                width: 100%;
                max-width: 400px;
            }

            .slide.expanded {
                width: 95vw;
                height: 95vh;
                padding: 15px;
            }

            .chart-types-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }

            .method-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Syntax highlighting */
        .keyword {
            color: #ff79c6;
        }

        .string {
            color: #50fa7b;
        }

        .number {
            color: #bd93f9;
        }

        .comment {
            color: #6272a4;
        }

        .function {
            color: #8be9fd;
        }

        .method {
            color: #f1fa8c;
        }
    </style>
</head>

<body>
    <div class="overlay"
         id="overlay"></div>

    <div class="navigation">
        <div class="nav-title">📊 جلسه پنجم - Matplotlib</div>
        <a href="#slide1"
           class="nav-item">معرفی Matplotlib</a>
        <a href="#slide2"
           class="nav-item">نصب و شروع</a>
        <a href="#slide3"
           class="nav-item">اولین نمودار</a>
        <a href="#slide4"
           class="nav-item">انواع نمودار</a>
        <a href="#slide5"
           class="nav-item">خط و نقطه</a>
        <a href="#slide6"
           class="nav-item">میله‌ای و دایره‌ای</a>
        <a href="#slide7"
           class="nav-item">هیستوگرام</a>
        <a href="#slide8"
           class="nav-item">پراکندگی</a>
        <a href="#slide9"
           class="nav-item">سفارشی‌سازی</a>
        <a href="#slide10"
           class="nav-item">چندین نمودار</a>
        <a href="#slide11"
           class="nav-item">ذخیره نمودار</a>
        <a href="#slide12"
           class="nav-item">پروژه عملی</a>
        <a href="#slide13"
           class="nav-item">جمع‌بندی</a>
    </div>

    <div class="presentation-container">
        <div class="slides-container">

            <!-- اسلاید 1: معرفی Matplotlib -->
            <div class="slide intro"
                 id="slide1">
                <div class="price-tag">💰 100,000 تومان</div>
                <div class="slide-number">1/13</div>
                <button class="expand-btn"
                        onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn"
                        onclick="closeSlide(this)">×</button>
                <div class="icon">📊</div>
                <div class="slide-title">جلسه پنجم: Matplotlib و مصورسازی داده‌ها</div>
                <div class="slide-content">
                    <h3>👨‍🏫 مدرس: آراز شاه کرمی</h3>
                    <h3>📅 جلسه پنجم از 12 جلسه</h3>
                    <h3>⏱️ مدت: 120 دقیقه</h3>
                    <h3>🎯 هدف: تسلط بر مصورسازی داده‌ها</h3>
                    <div style="margin-top: 30px; font-size: 18px;">
                        📈 <strong>از عدد تا تصویر - هنر داده‌کاوی</strong>
                    </div>
                    <div class="stats-grid"
                         style="margin-top: 25px;">
                        <div class="stat-item">
                            <span class="stat-number">10+</span>
                            <span class="stat-label">نوع نمودار</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">50+</span>
                            <span class="stat-label">تنظیمات</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">∞</span>
                            <span class="stat-label">سفارشی‌سازی</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">100%</span>
                            <span class="stat-label">بصری</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- اسلاید 2: چرا Matplotlib؟ -->
            <div class="slide chart"
                 id="slide2">
                <div class="slide-number">2/13</div>
                <button class="expand-btn"
                        onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn"
                        onclick="closeSlide(this)">×</button>
                <div class="icon">🤔</div>
                <div class="slide-title">چرا Matplotlib؟</div>
                <div class="slide-content">
                    <h3>📊 Matplotlib چیست؟</h3>
                    <p>کتابخانه قدرتمند و جامع برای ایجاد نمودارهای استاتیک، متحرک و تعاملی در Python</p>

                    <h3>💪 مزایای Matplotlib:</h3>
                    <ul>
                        <li>کنترل کامل روی هر جزء نمودار</li>
                        <li>خروجی با کیفیت بالا</li>
                        <li>انواع مختلف نمودار</li>
                        <li>سازگاری با NumPy و Pandas</li>
                        <li>قابلیت ذخیره در فرمت‌های مختلف</li>
                        <li>پشتیبانی از LaTeX</li>
                    </ul>

                    <h3>🎨 فلسفه Matplotlib:</h3>
                    <div class="example-box">
                        <div class="example-title">🎭 دو رویکرد:</div>
                        <ul>
                            <li><strong>MATLAB-style:</strong> pyplot - ساده و سریع</li>
                            <li><strong>Object-oriented:</strong> کنترل کامل و پیشرفته</li>
                        </ul>
                    </div>

                    <h3>📈 کاربردهای Matplotlib:</h3>
                    <div class="chart-types-grid">
                        <div class="chart-type-card">
                            <span class="chart-icon">📊</span>
                            <div class="chart-name">تحلیل داده</div>
                            <div class="chart-desc">بررسی الگوها و روندها</div>
                        </div>
                        <div class="chart-type-card">
                            <span class="chart-icon">📈</span>
                            <div class="chart-name">گزارش‌گیری</div>
                            <div class="chart-desc">ارائه نتایج</div>
                        </div>
                        <div class="chart-type-card">
                            <span class="chart-icon">🔬</span>
                            <div class="chart-name">علمی</div>
                            <div class="chart-desc">انتشارات و مقالات</div>
                        </div>
                        <div class="chart-type-card">
                            <span class="chart-icon">💼</span>
                            <div class="chart-name">تجاری</div>
                            <div class="chart-desc">داشبوردها</div>
                        </div>
                    </div>

                    <h3>🏗️ معماری Matplotlib:</h3>
                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">🖼️ Figure</div>
                            <div class="method-desc">کانتینر کلی نمودار</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">📊 Axes</div>
                            <div class="method-desc">منطقه رسم نمودار</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">📏 Axis</div>
                            <div class="method-desc">محورهای x و y</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">🎨 Artist</div>
                            <div class="method-desc">عناصر قابل رسم</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکته مهم:</div>
                        Matplotlib پایه بسیاری از کتابخانه‌های دیگر مثل Seaborn و Pandas plotting است
                    </div>
                </div>
            </div>

            <!-- اسلاید 3: نصب و شروع کار -->
            <div class="slide"
                 id="slide3">
                <div class="slide-number">3/13</div>
                <button class="expand-btn"
                        onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn"
                        onclick="closeSlide(this)">×</button>
                <div class="icon">📦</div>
                <div class="slide-title">نصب و شروع کار</div>
                <div class="slide-content">
                    <h3>💻 نصب Matplotlib:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        # نصب با pip
                        pip install matplotlib

                        # نصب با conda
                        conda install matplotlib

                        # نصب کامل با NumPy
                        pip install matplotlib numpy

                        # در Google Colab (از قبل نصب است)
                        import matplotlib.pyplot as plt
                    </div>

                    <h3>📥 Import کردن:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="keyword">import</span> <span class="string">matplotlib.pyplot</span> <span
                              class="keyword">as</span> <span class="string">plt</span>
                        <span class="keyword">import</span> <span class="string">numpy</span> <span
                              class="keyword">as</span> <span class="string">np</span>
                        <span class="keyword">import</span> <span class="string">pandas</span> <span
                              class="keyword">as</span> <span class="string">pd</span>

                        <span class="comment"># برای Jupyter Notebook</span>
                        %matplotlib inline

                        <span class="comment"># برای نمودارهای تعاملی</span>
                        %matplotlib widget

                        <span class="comment"># بررسی نسخه</span>
                        <span class="keyword">import</span> matplotlib
                        <span class="function">print</span>(matplotlib.__version__)
                    </div>

                    <h3>🎨 تنظیمات اولیه:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># تنظیم فونت فارسی</span>
                        plt.rcParams[<span class="string">'font.family'</span>] = [<span class="string">'Tahoma'</span>,
                        <span class="string">'DejaVu Sans'</span>]

                        <span class="comment"># تنظیم اندازه پیش‌فرض</span>
                        plt.rcParams[<span class="string">'figure.figsize'</span>] = (<span class="number">10</span>,
                        <span class="number">6</span>)

                        <span class="comment"># تنظیم DPI</span>
                        plt.rcParams[<span class="string">'figure.dpi'</span>] = <span class="number">100</span>

                        <span class="comment"># تنظیم استایل</span>
                        plt.style.use(<span class="string">'seaborn-v0_8'</span>)

                        <span class="comment"># نمایش استایل‌های موجود</span>
                        <span class="function">print</span>(plt.style.available)
                    </div>

                    <h3>🔍 اولین نمودار:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># داده ساده</span>
                        x = [<span class="number">1</span>, <span class="number">2</span>, <span
                              class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]
                        y = [<span class="number">2</span>, <span class="number">4</span>, <span
                              class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>]

                        <span class="comment"># رسم نمودار</span>
                        plt.plot(x, y)
                        plt.title(<span class="string">'اولین نمودار من'</span>)
                        plt.xlabel(<span class="string">'محور X'</span>)
                        plt.ylabel(<span class="string">'محور Y'</span>)
                        plt.show()

                        <span class="comment"># با NumPy</span>
                        x = np.linspace(<span class="number">0</span>, <span class="number">2*np.pi</span>, <span
                              class="number">100</span>)
                        y = np.sin(x)

                        plt.plot(x, y)
                        plt.title(<span class="string">'تابع سینوس'</span>)
                        plt.xlabel(<span class="string">'زاویه (رادیان)'</span>)
                        plt.ylabel(<span class="string">'sin(x)'</span>)
                        plt.grid(<span class="keyword">True</span>)
                        plt.show()
                    </div>

                    <div class="chart-demo">
                        <div class="demo-chart">
                            📈 نمودار خطی ساده
                        </div>
                        <div class="demo-title">نمونه خروجی: نمودار سینوس</div>
                    </div>

                    <h3>🔧 Backend ها:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># نمایش backend فعلی</span>
                        <span class="function">print</span>(plt.get_backend())

                        <span class="comment"># تغییر backend</span>
                        plt.switch_backend(<span class="string">'Agg'</span>) <span class="comment"># برای ذخیره
                            فایل</span>

                        <span class="comment"># لیست backend های موجود</span>
                        <span class="keyword">import</span> matplotlib
                        <span class="function">print</span>(matplotlib.backend_bases.Backend.list())
                    </div>

                    <div class="warning-box">
                        <div class="warning-title">⚠️ نکات مهم:</div>
                        <ul>
                            <li>همیشه matplotlib را با نام مستعار plt import کنید</li>
                            <li>در Jupyter از %matplotlib inline استفاده کنید</li>
                            <li>برای فونت فارسی تنظیمات اضافی لازم است</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 4: انواع نمودار -->
            <div class="slide plot"
                 id="slide4">
                <div class="slide-number">4/13</div>
                <button class="expand-btn"
                        onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn"
                        onclick="closeSlide(this)">×</button>
                <div class="icon">📊</div>
                <div class="slide-title">انواع نمودارها</div>
                <div class="slide-content">
                    <h3>📈 دسته‌بندی نمودارها:</h3>

                    <div class="chart-types-grid">
                        <div class="chart-type-card">
                            <span class="chart-icon">📈</span>
                            <div class="chart-name">Line Plot</div>
                            <div class="chart-desc">نمودار خطی - روند زمانی</div>
                        </div>
                        <div class="chart-type-card">
                            <span class="chart-icon">📊</span>
                            <div class="chart-name">Bar Chart</div>
                            <div class="chart-desc">نمودار میله‌ای - مقایسه</div>
                        </div>
                        <div class="chart-type-card">
                            <span class="chart-icon">🥧</span>
                            <div class="chart-name">Pie Chart</div>
                            <div class="chart-desc">نمودار دایره‌ای - نسبت</div>
                        </div>
                        <div class="chart-type-card">
                            <span class="chart-icon">📊</span>
                            <div class="chart-name">Histogram</div>
                            <div class="chart-desc">هیستوگرام - توزیع</div>
                        </div>
                        <div class="chart-type-card">
                            <span class="chart-icon">⚫</span>
                            <div class="chart-name">Scatter</div>
                            <div class="chart-desc">پراکندگی - همبستگی</div>
                        </div>
                        <div class="chart-type-card">
                            <span class="chart-icon">📦</span>
                            <div class="chart-name">Box Plot</div>
                            <div class="chart-desc">جعبه‌ای - آمار توصیفی</div>
                        </div>
                    </div>

                    <h3>🎯 انتخاب نمودار مناسب:</h3>
                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">📊 مقایسه مقادیر</div>
                            <div class="method-desc">Bar Chart, Column Chart</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">📈 روند زمانی</div>
                            <div class="method-desc">Line Chart, Area Chart</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">🥧 نسبت و درصد</div>
                            <div class="method-desc">Pie Chart, Donut Chart</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">📊 توزیع داده</div>
                            <div class="method-desc">Histogram, Box Plot</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">⚫ رابطه متغیرها</div>
                            <div class="method-desc">Scatter Plot, Correlation</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">🗺️ داده مکانی</div>
                            <div class="method-desc">Heatmap, Choropleth</div>
                        </div>
                    </div>

                    <h3>🎨 رنگ‌ها در Matplotlib:</h3>
                    <div class="color-palette">
                        <div class="color-box"
                             style="background: #1f77b4;"
                             data-color="blue"></div>
                        <div class="color-box"
                             style="background: #ff7f0e;"
                             data-color="orange"></div>
                        <div class="color-box"
                             style="background: #2ca02c;"
                             data-color="green"></div>
                        <div class="color-box"
                             style="background: #d62728;"
                             data-color="red"></div>
                        <div class="color-box"
                             style="background: #9467bd;"
                             data-color="purple"></div>
                        <div class="color-box"
                             style="background: #8c564b;"
                             data-color="brown"></div>
                        <div class="color-box"
                             style="background: #e377c2;"
                             data-color="pink"></div>
                        <div class="color-box"
                             style="background: #7f7f7f;"
                             data-color="gray"></div>
                    </div>

                    <h3>📏 اندازه و نسبت:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># تنظیم اندازه نمودار</span>
                        plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>)) <span
                              class="comment"># عرض، ارتفاع</span>

                        <span class="comment"># نسبت‌های استاندارد</span>
                        <span class="comment"># 16:9 برای پرزنتیشن</span>
                        plt.figure(figsize=(<span class="number">16</span>, <span class="number">9</span>))

                        <span class="comment"># 4:3 برای گزارش</span>
                        plt.figure(figsize=(<span class="number">12</span>, <span class="number">9</span>))

                        <span class="comment"># مربعی برای scatter</span>
                        plt.figure(figsize=(<span class="number">10</span>, <span class="number">10</span>))

                        <span class="comment"># تنظیم DPI</span>
                        plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>), dpi=<span
                              class="number">150</span>)
                    </div>

                    <div class="example-box">
                        <div class="example-title">💡 راهنمای سریع:</div>
                        <ul>
                            <li><strong>خطی:</strong> plt.plot() - روند زمانی</li>
                            <li><strong>میله‌ای:</strong> plt.bar() - مقایسه دسته‌ها</li>
                            <li><strong>دایره‌ای:</strong> plt.pie() - نسبت کل</li>
                            <li><strong>هیستوگرام:</strong> plt.hist() - توزیع فراوانی</li>
                            <li><strong>پراکندگی:</strong> plt.scatter() - رابطه دو متغیر</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 5: نمودار خطی و نقطه‌ای -->
            <div class="slide"
                 id="slide5">
                <div class="slide-number">5/13</div>
                <button class="expand-btn"
                        onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn"
                        onclick="closeSlide(this)">×</button>
                <div class="icon">📈</div>
                <div class="slide-title">نمودار خطی و نقطه‌ای</div>
                <div class="slide-content">
                    <h3>📈 نمودار خطی ساده:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt
                        <span class="keyword">import</span> numpy <span class="keyword">as</span> np

                        <span class="comment"># داده نمونه</span>
                        x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span
                              class="number">50</span>)
                        y = np.sin(x)

                        <span class="comment"># رسم نمودار</span>
                        plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))
                        plt.plot(x, y)
                        plt.title(<span class="string">'نمودار تابع سینوس'</span>)
                        plt.xlabel(<span class="string">'x'</span>)
                        plt.ylabel(<span class="string">'sin(x)'</span>)
                        plt.grid(<span class="keyword">True</span>)
                        plt.show()
                    </div>

                    <h3>🎨 سفارشی‌سازی خط:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># انواع خط و رنگ</span>
                        plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

                        x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span
                              class="number">50</span>)

                        <span class="comment"># خط‌های مختلف</span>
                        plt.plot(x, np.sin(x), <span class="string">'-'</span>, label=<span class="string">'خط
                            پیوسته'</span>, linewidth=<span class="number">2</span>)
                        plt.plot(x, np.cos(x), <span class="string">'--'</span>, label=<span class="string">'خط
                            چین'</span>, linewidth=<span class="number">2</span>)
                        plt.plot(x, np.sin(x + <span class="number">1</span>), <span class="string">'-.'</span>,
                        label=<span class="string">'خط نقطه چین'</span>, linewidth=<span class="number">2</span>)
                        plt.plot(x, np.cos(x + <span class="number">1</span>), <span class="string">':'</span>,
                        label=<span class="string">'خط نقطه‌ای'</span>, linewidth=<span class="number">3</span>)

                        <span class="comment"># تنظیمات</span>
                        plt.title(<span class="string">'انواع خط در Matplotlib'</span>, fontsize=<span
                              class="number">16</span>)
                        plt.xlabel(<span class="string">'x'</span>, fontsize=<span class="number">12</span>)
                        plt.ylabel(<span class="string">'y'</span>, fontsize=<span class="number">12</span>)
                        plt.legend(fontsize=<span class="number">10</span>)
                        plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
                        plt.show()
                    </div>

                    <h3>🎯 نمودار نقطه‌ای:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># نقاط مختلف</span>
                        plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

                        x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span
                              class="number">20</span>)

                        <span class="comment"># انواع نشانگر</span>
                        plt.plot(x, x, <span class="string">'o'</span>, label=<span class="string">'دایره'</span>,
                        markersize=<span class="number">8</span>)
                        plt.plot(x, x**<span class="number">1.2</span>, <span class="string">'s'</span>, label=<span
                              class="string">'مربع'</span>, markersize=<span class="number">8</span>)
                        plt.plot(x, x**<span class="number">1.4</span>, <span class="string">'^'</span>, label=<span
                              class="string">'مثلث'</span>, markersize=<span class="number">8</span>)
                        plt.plot(x, x**<span class="number">1.6</span>, <span class="string">'D'</span>, label=<span
                              class="string">'الماس'</span>, markersize=<span class="number">6</span>)
                        plt.plot(x, x**<span class="number">1.8</span>, <span class="string">'*'</span>, label=<span
                              class="string">'ستاره'</span>, markersize=<span class="number">10</span>)

                        plt.title(<span class="string">'انواع نشانگر در Matplotlib'</span>)
                        plt.xlabel(<span class="string">'x'</span>)
                        plt.ylabel(<span class="string">'y'</span>)
                        plt.legend()
                        plt.grid(<span class="keyword">True</span>)
                        plt.show()
                    </div>

                    <h3>🌈 رنگ‌بندی پیشرفته:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># رنگ‌های مختلف</span>
                        plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

                        x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span
                              class="number">100</span>)

                        <span class="comment"># روش‌های مختلف رنگ</span>
                        plt.plot(x, np.sin(x), color=<span class="string">'red'</span>, label=<span class="string">'نام
                            رنگ'</span>)
                        plt.plot(x, np.sin(x + <span class="number">0.5</span>), color=<span
                              class="string">'#FF5733'</span>, label=<span class="string">'کد هگز'</span>)
                        plt.plot(x, np.sin(x + <span class="number">1</span>), color=(<span class="number">0.2</span>,
                        <span class="number">0.8</span>, <span class="number">0.3</span>), label=<span
                              class="string">'RGB'</span>)
                        plt.plot(x, np.sin(x + <span class="number">1.5</span>), color=<span class="string">'C4'</span>,
                        label=<span class="string">'پالت پیش‌فرض'</span>)

                        <span class="comment"># گرادیان رنگ</span>
                        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span
                              class="number">5</span>):
                        alpha = <span class="number">0.2</span> + i * <span class="number">0.2</span>
                        plt.plot(x, np.sin(x + i*<span class="number">0.3</span>), alpha=alpha,
                        linewidth=<span class="number">3</span>, label=<span class="string">f'شفافیت {alpha}'</span>)

                        plt.title(<span class="string">'رنگ‌بندی در Matplotlib'</span>)
                        plt.legend()
                        plt.grid(<span class="keyword">True</span>)
                        plt.show()
                    </div>

                    <h3>📊 چندین سری داده:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># داده چندین شهر</span>
                        months = [<span class="string">'فروردین'</span>, <span class="string">'اردیبهشت'</span>, <span
                              class="string">'خرداد'</span>, <span class="string">'تیر'</span>, <span
                              class="string">'مرداد'</span>, <span class="string">'شهریور'</span>]
                        tehran_temp = [<span class="number">15</span>, <span class="number">20</span>, <span
                              class="number">28</span>, <span class="number">35</span>, <span class="number">32</span>,
                        <span class="number">25</span>]
                        isfahan_temp = [<span class="number">12</span>, <span class="number">18</span>, <span
                              class="number">26</span>, <span class="number">33</span>, <span class="number">30</span>,
                        <span class="number">22</span>]
                        shiraz_temp = [<span class="number">18</span>, <span class="number">23</span>, <span
                              class="number">30</span>, <span class="number">36</span>, <span class="number">34</span>,
                        <span class="number">28</span>]

                        plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

                        <span class="comment"># رسم چندین خط</span>
                        plt.plot(months, tehran_temp, <span class="string">'o-'</span>, label=<span
                              class="string">'تهران'</span>, linewidth=<span class="number">2</span>, markersize=<span
                              class="number">8</span>)
                        plt.plot(months, isfahan_temp, <span class="string">'s--'</span>, label=<span
                              class="string">'اصفهان'</span>, linewidth=<span class="number">2</span>, markersize=<span
                              class="number">8</span>)
                        plt.plot(months, shiraz_temp, <span class="string">'^-.'</span>, label=<span
                              class="string">'شیراز'</span>, linewidth=<span class="number">2</span>, markersize=<span
                              class="number">8</span>)

                        <span class="comment"># تنظیمات</span>
                        plt.title(<span class="string">'دمای هوا در شهرهای مختلف'</span>, fontsize=<span
                              class="number">16</span>, fontweight=<span class="string">'bold'</span>)
                        plt.xlabel(<span class="string">'ماه'</span>, fontsize=<span class="number">12</span>)
                        plt.ylabel(<span class="string">'دما (درجه سانتیگراد)'</span>, fontsize=<span
                              class="number">12</span>)
                        plt.legend(fontsize=<span class="number">12</span>)
                        plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
                        plt.xticks(rotation=<span class="number">45</span>)
                        plt.tight_layout()
                        plt.show()
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.plot()</div>
                            <div class="method-desc">نمودار خطی اصلی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">linewidth</div>
                            <div class="method-desc">ضخامت خط</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">markersize</div>
                            <div class="method-desc">اندازه نشانگر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">alpha</div>
                            <div class="method-desc">شفافیت</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکات کاربردی:</div>
                        <ul>
                            <li>از grid برای خوانایی بهتر استفاده کنید</li>
                            <li>legend را همیشه اضافه کنید</li>
                            <li>رنگ‌های متضاد برای خطوط انتخاب کنید</li>
                            <li>از tight_layout() برای چیدمان بهتر استفاده کنید</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 6: نمودار میله‌ای و دایره‌ای -->
            <div class="slide"
                 id="slide6">
                <div class="slide-number">6/13</div>
                <button class="expand-btn"
                        onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn"
                        onclick="closeSlide(this)">×</button>
                <div class="icon">📊</div>
                <div class="slide-title">نمودار میله‌ای و دایره‌ای</div>
                <div class="slide-content">
                    <h3>📊 نمودار میله‌ای عمودی:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># داده فروش محصولات</span>
                        products = [<span class="string">'لپ‌تاپ'</span>, <span class="string">'موبایل'</span>, <span
                              class="string">'تبلت'</span>, <span class="string">'هدفون'</span>, <span
                              class="string">'ساعت'</span>]
                        sales = [<span class="number">120</span>, <span class="number">85</span>, <span
                              class="number">60</span>, <span class="number">95</span>, <span class="number">40</span>]

                        plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))

                        <span class="comment"># رسم نمودار میله‌ای</span>
                        bars = plt.bar(products, sales, color=[<span class="string">'#FF6B6B'</span>, <span
                              class="string">'#4ECDC4'</span>, <span class="string">'#45B7D1'</span>, <span
                              class="string">'#96CEB4'</span>, <span class="string">'#FFEAA7'</span>])

                        <span class="comment"># اضافه کردن مقادیر روی میله‌ها</span>
                        <span class="keyword">for</span> bar, value <span class="keyword">in</span> zip(bars, sales):
                        plt.text(bar.get_x() + bar.get_width()/<span class="number">2</span>, bar.get_height() + <span
                              class="number">2</span>,
                        <span class="string">f'{value}'</span>, ha=<span class="string">'center'</span>, va=<span
                              class="string">'bottom'</span>, fontweight=<span class="string">'bold'</span>)

                        plt.title(<span class="string">'فروش محصولات در ماه گذشته'</span>, fontsize=<span
                              class="number">16</span>, fontweight=<span class="string">'bold'</span>)
                        plt.xlabel(<span class="string">'محصولات'</span>, fontsize=<span class="number">12</span>)
                        plt.ylabel(<span class="string">'تعداد فروش'</span>, fontsize=<span class="number">12</span>)
                        plt.xticks(rotation=<span class="number">45</span>)
                        plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)
                        plt.tight_layout()
                        plt.show()
                    </div>

                    <h3>📊 نمودار میله‌ای افقی:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># داده امتیاز دانشجویان</span>
                        students = [<span class="string">'علی'</span>, <span class="string">'سارا'</span>, <span
                              class="string">'حسن'</span>, <span class="string">'مریم'</span>, <span
                              class="string">'رضا'</span>]
                        scores = [<span class="number">85</span>, <span class="number">92</span>, <span
                              class="number">78</span>, <span class="number">96</span>, <span class="number">88</span>]

                        plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))

                        <span class="comment"># رسم نمودار میله‌ای افقی</span>
                        bars = plt.barh(students, scores, color=plt.cm.viridis(np.linspace(<span
                              class="number">0</span>, <span class="number">1</span>, len(students))))

                        <span class="comment"># اضافه کردن مقادیر</span>
                        <span class="keyword">for</span> i, (student, score) <span class="keyword">in</span>
                        enumerate(zip(students, scores)):
                        plt.text(score + <span class="number">1</span>, i, <span class="string">f'{score}'</span>,
                        va=<span class="string">'center'</span>, fontweight=<span class="string">'bold'</span>)

                        plt.title(<span class="string">'امتیاز نهایی دانشجویان'</span>, fontsize=<span
                              class="number">16</span>, fontweight=<span class="string">'bold'</span>)
                        plt.xlabel(<span class="string">'امتیاز'</span>, fontsize=<span class="number">12</span>)
                        plt.ylabel(<span class="string">'دانشجو'</span>, fontsize=<span class="number">12</span>)
                        plt.grid(axis=<span class="string">'x'</span>, alpha=<span class="number">0.3</span>)
                        plt.xlim(<span class="number">0</span>, <span class="number">100</span>)
                        plt.tight_layout()
                        plt.show()
                    </div>

                    <h3>📊 نمودار میله‌ای گروهی:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># داده فروش فصلی</span>
                        categories = [<span class="string">'بهار'</span>, <span class="string">'تابستان'</span>, <span
                              class="string">'پاییز'</span>, <span class="string">'زمستان'</span>]
                        sales_2022 = [<span class="number">20</span>, <span class="number">35</span>, <span
                              class="number">30</span>, <span class="number">25</span>]
                        sales_2023 = [<span class="number">25</span>, <span class="number">40</span>, <span
                              class="number">35</span>, <span class="number">30</span>]

                        x = np.arange(len(categories))
                        width = <span class="number">0.35</span>

                        plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))

                        <span class="comment"># رسم میله‌های گروهی</span>
                        bars1 = plt.bar(x - width/<span class="number">2</span>, sales_2022, width, label=<span
                              class="string">'2022'</span>, color=<span class="string">'#FF6B6B'</span>, alpha=<span
                              class="number">0.8</span>)
                        bars2 = plt.bar(x + width/<span class="number">2</span>, sales_2023, width, label=<span
                              class="string">'2023'</span>, color=<span class="string">'#4ECDC4'</span>, alpha=<span
                              class="number">0.8</span>)

                        <span class="comment"># اضافه کردن مقادیر</span>
                        <span class="keyword">for</span> bars <span class="keyword">in</span> [bars1, bars2]:
                        <span class="keyword">for</span> bar <span class="keyword">in</span> bars:
                        height = bar.get_height()
                        plt.text(bar.get_x() + bar.get_width()/<span class="number">2</span>, height + <span
                              class="number">0.5</span>,
                        <span class="string">f'{height}'</span>, ha=<span class="string">'center'</span>, va=<span
                              class="string">'bottom'</span>)

                        plt.title(<span class="string">'مقایسه فروش فصلی'</span>, fontsize=<span
                              class="number">16</span>, fontweight=<span class="string">'bold'</span>)
                        plt.xlabel(<span class="string">'فصل'</span>, fontsize=<span class="number">12</span>)
                        plt.ylabel(<span class="string">'فروش (میلیون تومان)'</span>, fontsize=<span
                              class="number">12</span>)
                        plt.xticks(x, categories)
                        plt.legend()
                        plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)
                        plt.tight_layout()
                        plt.show()
                    </div>

                    <h3>🥧 نمودار دایره‌ای:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># داده سهم بازار</span>
                        companies = [<span class="string">'شرکت A'</span>, <span class="string">'شرکت B'</span>, <span
                              class="string">'شرکت C'</span>, <span class="string">'شرکت D'</span>, <span
                              class="string">'سایر'</span>]
                        market_share = [<span class="number">30</span>, <span class="number">25</span>, <span
                              class="number">20</span>, <span class="number">15</span>, <span class="number">10</span>]
                        colors = [<span class="string">'#FF6B6B'</span>, <span class="string">'#4ECDC4'</span>, <span
                              class="string">'#45B7D1'</span>, <span class="string">'#96CEB4'</span>, <span
                              class="string">'#FFEAA7'</span>]

                        plt.figure(figsize=(<span class="number">10</span>, <span class="number">8</span>))

                        <span class="comment"># رسم نمودار دایره‌ای</span>
                        wedges, texts, autotexts = plt.pie(market_share, labels=companies, colors=colors,
                        autopct=<span class="string">'%1.1f%%'</span>, startangle=<span class="number">90</span>,
                        explode=(<span class="number">0.05</span>, <span class="number">0</span>, <span
                              class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>))

                        <span class="comment"># تنظیمات فونت</span>
                        <span class="keyword">for</span> autotext <span class="keyword">in</span> autotexts:
                        autotext.set_color(<span class="string">'white'</span>)
                        autotext.set_fontweight(<span class="string">'bold'</span>)
                        autotext.set_fontsize(<span class="number">12</span>)

                        plt.title(<span class="string">'سهم بازار شرکت‌ها'</span>, fontsize=<span
                              class="number">16</span>, fontweight=<span class="string">'bold'</span>)
                        plt.axis(<span class="string">'equal'</span>) <span class="comment"># دایره کامل</span>
                        plt.tight_layout()
                        plt.show()
                    </div>

                    <h3>🍩 نمودار دونات:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># داده دسته‌بندی سن</span>
                        age_groups = [<span class="string">'18-25'</span>, <span class="string">'26-35'</span>, <span
                              class="string">'36-45'</span>, <span class="string">'46-55'</span>, <span
                              class="string">'55+'</span>]
                        population = [<span class="number">22</span>, <span class="number">28</span>, <span
                              class="number">25</span>, <span class="number">15</span>, <span class="number">10</span>]

                        plt.figure(figsize=(<span class="number">10</span>, <span class="number">8</span>))

                        <span class="comment"># رسم نمودار دونات</span>
                        wedges, texts, autotexts = plt.pie(population, labels=age_groups,
                        autopct=<span class="string">'%1.1f%%'</span>, startangle=<span class="number">90</span>,
                        wedgeprops=dict(width=<span class="number">0.5</span>),
                        colors=plt.cm.Set3(np.linspace(<span class="number">0</span>, <span class="number">1</span>,
                        len(age_groups))))

                        <span class="comment"># متن وسط</span>
                        plt.text(<span class="number">0</span>, <span class="number">0</span>, <span
                              class="string">'توزیع\nسنی'</span>, ha=<span class="string">'center'</span>, va=<span
                              class="string">'center'</span>,
                        fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)

                        plt.title(<span class="string">'توزیع سنی جمعیت'</span>, fontsize=<span
                              class="number">16</span>, fontweight=<span class="string">'bold'</span>)
                        plt.axis(<span class="string">'equal'</span>)
                        plt.tight_layout()
                        plt.show()
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.bar()</div>
                            <div class="method-desc">میله‌ای عمودی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">plt.barh()</div>
                            <div class="method-desc">میله‌ای افقی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">plt.pie()</div>
                            <div class="method-desc">نمودار دایره‌ای</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">explode</div>
                            <div class="method-desc">جدا کردن بخش‌ها</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- اسلاید 7: هیستوگرام و توزیع -->
            <div class="slide"
                 id="slide7">
                <div class="slide-number">7/13</div>
                <button class="expand-btn"
                        onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn"
                        onclick="closeSlide(this)">×</button>
                <div class="icon">📊</div>
                <div class="slide-title">هیستوگرام و توزیع داده</div>
                <div class="slide-content">
                    <h3>📊 هیستوگرام ساده:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># تولید داده تصادفی</span>
                        np.random.seed(<span class="number">42</span>)
                        data = np.random.normal(<span class="number">100</span>, <span class="number">15</span>, <span
                              class="number">1000</span>) <span class="comment"># میانگین=100، انحراف=15</span>

                        plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))

                        <span class="comment"># رسم هیستوگرام</span>
                        n, bins, patches = plt.hist(data, bins=<span class="number">30</span>, color=<span
                              class="string">'skyblue'</span>,
                        alpha=<span class="number">0.7</span>, edgecolor=<span class="string">'black'</span>)

                        <span class="comment"># اضافه کردن خط میانگین</span>
                        mean_val = np.mean(data)
                        plt.axvline(mean_val, color=<span class="string">'red'</span>, linestyle=<span
                              class="string">'--'</span>,
                        linewidth=<span class="number">2</span>, label=<span class="string">f'میانگین:
                            {mean_val:.1f}'</span>)

                        plt.title(<span class="string">'توزیع نمرات آزمون'</span>, fontsize=<span
                              class="number">16</span>, fontweight=<span class="string">'bold'</span>)
                        plt.xlabel(<span class="string">'نمره'</span>, fontsize=<span class="number">12</span>)
                        plt.ylabel(<span class="string">'فراوانی'</span>, fontsize=<span class="number">12</span>)
                        plt.legend()
                        plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)
                        plt.tight_layout()
                        plt.show()

                        <span class="function">print</span>(<span class="string">f"میانگین: {np.mean(data):.2f}"</span>)
                        <span class="function">print</span>(<span class="string">f"انحراف معیار:
                            {np.std(data):.2f}"</span>)
                    </div>

                    <h3>🎨 هیستوگرام رنگی:</h3>
                    <div class="code-block">
                        <button class="copy-btn"
                                onclick="copyCode(this)">کپی</button>
                        <span class="comment"># داده قد افراد</span>
                        np.random.seed(<span class="number">42</span>)
                        heights_men = np.random.normal(<span class="number">175</span>, <span class="number">7</span>,
                        <span class="number">500</span>)
heights_women = np.random.normal(<span class="number">162</span>, <span class="number">6</span>, <span class="number">500</span>)

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># رسم هیستوگرام چندگانه</span>
plt.hist(heights_men, bins=<span class="number">25</span>, alpha=<span class="number">0.7</span>, label=<span class="string">'مردان'</span>, 
         color=<span class="string">'blue'</span>, edgecolor=<span class="string">'black'</span>)
plt.hist(heights_women, bins=<span class="number">25</span>, alpha=<span class="number">0.7</span>, label=<span class="string">'زنان'</span>, 
         color=<span class="string">'pink'</span>, edgecolor=<span class="string">'black'</span>)

<span class="comment"># خطوط میانگین</span>
plt.axvline(np.mean(heights_men), color=<span class="string">'blue'</span>, linestyle=<span class="string">'--'</span>, 
           linewidth=<span class="number">2</span>, label=<span class="string">f'میانگین مردان: {np.mean(heights_men):.1f}'</span>)
plt.axvline(np.mean(heights_women), color=<span class="string">'red'</span>, linestyle=<span class="string">'--'</span>, 
           linewidth=<span class="number">2</span>, label=<span class="string">f'میانگین زنان: {np.mean(heights_women):.1f}'</span>)

plt.title(<span class="string">'توزیع قد مردان و زنان'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'قد (سانتی‌متر)'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'فراوانی'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>📈 هیستوگرام تجمعی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده درآمد</span>
np.random.seed(<span class="number">42</span>)
income = np.random.exponential(<span class="number">50</span>, <span class="number">1000</span>) * <span class="number">1000</span>  <span class="comment"># درآمد به هزار تومان</span>

plt.figure(figsize=(<span class="number">12</span>, <span class="number">10</span>))

<span class="comment"># هیستوگرام معمولی</span>
plt.subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>)
plt.hist(income, bins=<span class="number">50</span>, color=<span class="string">'lightgreen'</span>, alpha=<span class="number">0.7</span>, edgecolor=<span class="string">'black'</span>)
plt.title(<span class="string">'توزیع درآمد - هیستوگرام معمولی'</span>, fontsize=<span class="number">14</span>)
plt.xlabel(<span class="string">'درآمد (هزار تومان)'</span>)
plt.ylabel(<span class="string">'فراوانی'</span>)
plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)

<span class="comment"># هیستوگرام تجمعی</span>
plt.subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>)
plt.hist(income, bins=<span class="number">50</span>, cumulative=<span class="keyword">True</span>, color=<span class="string">'orange'</span>, 
         alpha=<span class="number">0.7</span>, edgecolor=<span class="string">'black'</span>)
plt.title(<span class="string">'توزیع درآمد - هیستوگرام تجمعی'</span>, fontsize=<span class="number">14</span>)
plt.xlabel(<span class="string">'درآمد (هزار تومان)'</span>)
plt.ylabel(<span class="string">'فراوانی تجمعی'</span>)
plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)

plt.tight_layout()
plt.show()

<span class="comment"># آمار توصیفی</span>
<span class="function">print</span>(<span class="string">f"میانگین درآمد: {np.mean(income):,.0f} هزار تومان"</span>)
<span class="function">print</span>(<span class="string">f"میانه درآمد: {np.median(income):,.0f} هزار تومان"</span>)
                    </div>

                    <h3>📊 هیستوگرام دوبعدی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده دوبعدی</span>
np.random.seed(<span class="number">42</span>)
x = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1000</span>)
y = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1000</span>) + x * <span class="number">0.5</span>

plt.figure(figsize=(<span class="number">12</span>, <span class="number">5</span>))

<span class="comment"># هیستوگرام دوبعدی</span>
plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)
plt.hist2d(x, y, bins=<span class="number">30</span>, cmap=<span class="string">'Blues'</span>)
plt.colorbar(label=<span class="string">'فراوانی'</span>)
plt.title(<span class="string">'هیستوگرام دوبعدی'</span>)
plt.xlabel(<span class="string">'X'</span>)
plt.ylabel(<span class="string">'Y'</span>)

<span class="comment"># هکس بین</span>
plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)
plt.hexbin(x, y, gridsize=<span class="number">20</span>, cmap=<span class="string">'Reds'</span>)
plt.colorbar(label=<span class="string">'فراوانی'</span>)
plt.title(<span class="string">'Hexbin Plot'</span>)
plt.xlabel(<span class="string">'X'</span>)
plt.ylabel(<span class="string">'Y'</span>)

plt.tight_layout()
plt.show()
                    </div>

                    <h3>🔔 منحنی توزیع نرمال:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده و منحنی نرمال</span>
<span class="keyword">from</span> scipy <span class="keyword">import</span> stats

np.random.seed(<span class="number">42</span>)
data = np.random.normal(<span class="number">50</span>, <span class="number">10</span>, <span class="number">1000</span>)

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># هیستوگرام نرمال شده</span>
n, bins, patches = plt.hist(data, bins=<span class="number">30</span>, density=<span class="keyword">True</span>, 
                           alpha=<span class="number">0.7</span>, color=<span class="string">'lightblue'</span>, 
                           edgecolor=<span class="string">'black'</span>, label=<span class="string">'داده واقعی'</span>)

<span class="comment"># منحنی نرمال نظری</span>
mu, sigma = np.mean(data), np.std(data)
x = np.linspace(data.min(), data.max(), <span class="number">100</span>)
y = stats.norm.pdf(x, mu, sigma)
plt.plot(x, y, <span class="string">'r-'</span>, linewidth=<span class="number">3</span>, label=<span class="string">f'نرمال نظری (μ={mu:.1f}, σ={sigma:.1f})'</span>)

<span class="comment"># نواحی مهم</span>
<span class="comment"># 68% داده در μ±σ</span>
x_fill = np.linspace(mu - sigma, mu + sigma, <span class="number">100</span>)
y_fill = stats.norm.pdf(x_fill, mu, sigma)
plt.fill_between(x_fill, y_fill, alpha=<span class="number">0.3</span>, color=<span class="string">'yellow'</span>, label=<span class="string">'68% داده'</span>)

plt.title(<span class="string">'مقایسه داده با توزیع نرمال'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'مقدار'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'چگالی احتمال'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()

<span class="comment"># تست نرمال بودن</span>
statistic, p_value = stats.shapiro(data[:<span class="number">100</span>])  <span class="comment"># نمونه کوچک</span>
<span class="function">print</span>(<span class="string">f"Shapiro-Wilk test p-value: {p_value:.4f}"</span>)
<span class="keyword">if</span> p_value > <span class="number">0.05</span>:
    <span class="function">print</span>(<span class="string">"داده احتمالاً نرمال است"</span>)
<span class="keyword">else</span>:
    <span class="function">print</span>(<span class="string">"داده احتمالاً نرمال نیست"</span>)
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.hist()</div>
                            <div class="method-desc">هیستوگرام اصلی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">bins</div>
                            <div class="method-desc">تعداد بازه‌ها</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">density</div>
                            <div class="method-desc">نرمال‌سازی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">cumulative</div>
                            <div class="method-desc">تجمعی</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکات هیستوگرام:</div>
                        <ul>
                            <li>تعداد bins مناسب انتخاب کنید (معمولاً √n)</li>
                            <li>از density=True برای مقایسه با منحنی نظری</li>
                            <li>alpha برای شفافیت در چندین هیستوگرام</li>
                            <li>edgecolor برای جدا کردن bins</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 8: نمودار پراکندگی -->
            <div class="slide" id="slide8">
                <div class="slide-number">8/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">⚫</div>
                <div class="slide-title">نمودار پراکندگی</div>
                <div class="slide-content">
                    <h3>⚫ نمودار پراکندگی ساده:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده قد و وزن</span>
np.random.seed(<span class="number">42</span>)
height = np.random.normal(<span class="number">170</span>, <span class="number">10</span>, <span class="number">100</span>)
weight = height * <span class="number">0.8</span> + np.random.normal(<span class="number">0</span>, <span class="number">5</span>, <span class="number">100</span>) - <span class="number">70</span>

plt.figure(figsize=(<span class="number">10</span>, <span class="number">8</span>))

<span class="comment"># رسم نمودار پراکندگی</span>
plt.scatter(height, weight, alpha=<span class="number">0.6</span>, s=<span class="number">50</span>, c=<span class="string">'blue'</span>)

<span class="comment"># خط رگرسیون</span>
z = np.polyfit(height, weight, <span class="number">1</span>)
p = np.poly1d(z)
plt.plot(height, p(height), <span class="string">"r--"</span>, linewidth=<span class="number">2</span>, label=<span class="string">f'خط رگرسیون: y={z[0]:.2f}x+{z[1]:.2f}'</span>)

<span class="comment"># محاسبه همبستگی</span>
correlation = np.corrcoef(height, weight)[<span class="number">0</span>, <span class="number">1</span>]

plt.title(<span class="string">f'رابطه قد و وزن (همبستگی: {correlation:.3f})'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'قد (سانتی‌متر)'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'وزن (کیلوگرم)'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()

<span class="function">print</span>(<span class="string">f"ضریب همبستگی: {correlation:.3f}"</span>)
                    </div>

                    <h3>🎨 پراکندگی رنگی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده چندبعدی</span>
np.random.seed(<span class="number">42</span>)
n = <span class="number">200</span>
x = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n)
y = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n)
colors = x + y  <span class="comment"># رنگ بر اساس مجموع</span>
sizes = <span class="number">100</span> * np.abs(x * y)  <span class="comment"># اندازه بر اساس ضرب</span>

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># نمودار پراکندگی با رنگ و اندازه متغیر</span>
scatter = plt.scatter(x, y, c=colors, s=sizes, alpha=<span class="number">0.6</span>, 
                     cmap=<span class="string">'viridis'</span>, edgecolors=<span class="string">'black'</span>, linewidth=<span class="number">0.5</span>)

<span class="comment"># نوار رنگ</span>
cbar = plt.colorbar(scatter)
cbar.set_label(<span class="string">'مقدار رنگ (x+y)'</span>, fontsize=<span class="number">12</span>)

plt.title(<span class="string">'نمودار پراکندگی با رنگ و اندازه متغیر'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'X'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'Y'</span>, fontsize=<span class="number">12</span>)
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>👥 پراکندگی گروهی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده دانشجویان سه رشته</span>
np.random.seed(<span class="number">42</span>)

<span class="comment"># ریاضی</span>
math_students = <span class="number">50</span>
math_math_score = np.random.normal(<span class="number">85</span>, <span class="number">8</span>, math_students)
math_physics_score = math_math_score + np.random.normal(<span class="number">0</span>, <span class="number">5</span>, math_students)

<span class="comment"># فیزیک</span>
physics_students = <span class="number">50</span>
physics_math_score = np.random.normal(<span class="number">75</span>, <span class="number">10</span>, physics_students)
physics_physics_score = np.random.normal(<span class="number">88</span>, <span class="number">7</span>, physics_students)

<span class="comment"># شیمی</span>
chemistry_students = <span class="number">50</span>
chemistry_math_score = np.random.normal(<span class="number">70</span>, <span class="number">12</span>, chemistry_students)
chemistry_physics_score = np.random.normal(<span class="number">75</span>, <span class="number">10</span>, chemistry_students)

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># رسم هر گروه با رنگ متفاوت</span>
plt.scatter(math_math_score, math_physics_score, 
           alpha=<span class="number">0.7</span>, s=<span class="number">60</span>, c=<span class="string">'red'</span>, label=<span class="string">'ریاضی'</span>, marker=<span class="string">'o'</span>)
plt.scatter(physics_math_score, physics_physics_score, 
           alpha=<span class="number">0.7</span>, s=<span class="number">60</span>, c=<span class="string">'blue'</span>, label=<span class="string">'فیزیک'</span>, marker=<span class="string">'s'</span>)
plt.scatter(chemistry_math_score, chemistry_physics_score, 
           alpha=<span class="number">0.7</span>, s=<span class="number">60</span>, c=<span class="string">'green'</span>, label=<span class="string">'شیمی'</span>, marker=<span class="string">'^'</span>)

<span class="comment"># خط مرجع</span>
plt.plot([<span class="number">40</span>, <span class="number">100</span>], [<span class="number">40</span>, <span class="number">100</span>], <span class="string">'k--'</span>, alpha=<span class="number">0.5</span>, label=<span class="string">'خط برابری'</span>)

plt.title(<span class="string">'مقایسه نمرات ریاضی و فیزیک بین رشته‌ها'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'نمره ریاضی'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'نمره فیزیک'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.axis(<span class="string">'equal'</span>)
plt.xlim(<span class="number">40</span>, <span class="number">100</span>)
plt.ylim(<span class="number">40</span>, <span class="number">100</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>📊 ماتریس پراکندگی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده چندمتغیره</span>
<span class="keyword">import</span> pandas <span class="keyword">as</span> pd

np.random.seed(<span class="number">42</span>)
n = <span class="number">100</span>

<span class="comment"># تولید داده همبسته</span>
data = {
    <span class="string">'قد'</span>: np.random.normal(<span class="number">170</span>, <span class="number">10</span>, n),
    <span class="string">'وزن'</span>: <span class="number">0</span>,  <span class="comment"># محاسبه می‌شود</span>
    <span class="string">'سن'</span>: np.random.randint(<span class="number">18</span>, <span class="number">65</span>, n),
    <span class="string">'درآمد'</span>: <span class="number">0</span>  <span class="comment"># محاسبه می‌شود</span>
}

<span class="comment"># وزن بر اساس قد</span>
data[<span class="string">'وزن'</span>] = data[<span class="string">'قد'</span>] * <span class="number">0.8</span> - <span class="number">70</span> + np.random.normal(<span class="number">0</span>, <span class="number">5</span>, n)

<span class="comment"># درآمد بر اساس سن</span>
data[<span class="string">'درآمد'</span>] = data[<span class="string">'سن'</span>] * <span class="number">500</span> + np.random.normal(<span class="number">0</span>, <span class="number">5000</span>, n)

df = pd.DataFrame(data)

<span class="comment"># ماتریس پراکندگی</span>
fig, axes = plt.subplots(<span class="number">3</span>, <span class="number">3</span>, figsize=(<span class="number">15</span>, <span class="number">15</span>))
variables = [<span class="string">'قد'</span>, <span class="string">'وزن'</span>, <span class="string">'سن'</span>]

<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):
    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">3</span>):
        <span class="keyword">if</span> i == j:
            <span class="comment"># قطر اصلی - هیستوگرام</span>
            axes[i, j].hist(df[variables[i]], bins=<span class="number">20</span>, alpha=<span class="number">0.7</span>, color=<span class="string">'skyblue'</span>)
            axes[i, j].set_title(<span class="string">f'توزیع {variables[i]}'</span>)
        <span class="keyword">else</span>:
            <span class="comment"># نمودار پراکندگی</span>
            axes[i, j].scatter(df[variables[j]], df[variables[i]], alpha=<span class="number">0.6</span>)
            
            <span class="comment"># محاسبه همبستگی</span>
            corr = df[variables[j]].corr(df[variables[i]])
            axes[i, j].set_title(<span class="string">f'{variables[j]} vs {variables[i]}\n(r={corr:.3f})'</span>)
        
        axes[i, j].set_xlabel(variables[j] <span class="keyword">if</span> i == <span class="number">2</span> <span class="keyword">else</span> <span class="string">''</span>)
        axes[i, j].set_ylabel(variables[i] <span class="keyword">if</span> j == <span class="number">0</span> <span class="keyword">else</span> <span class="string">''</span>)
        axes[i, j].grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)

plt.suptitle(<span class="string">'ماتریس پراکندگی متغیرها'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.tight_layout()
plt.show()

<span class="comment"># ماتریس همبستگی</span>
<span class="function">print</span>(<span class="string">"ماتریس همبستگی:"</span>)
<span class="function">print</span>(df[[<span class="string">'قد'</span>, <span class="string">'وزن'</span>, <span class="string">'سن'</span>]].corr())
                    </div>

                    <h3>🔥 نقشه حرارتی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده فروش ماهانه</span>
months = [<span class="string">'فرو'</span>, <span class="string">'ارد'</span>, <span class="string">'خرد'</span>, <span class="string">'تیر'</span>, <span class="string">'مرد'</span>, <span class="string">'شهر'</span>, <span class="string">'مهر'</span>, <span class="string">'آبا'</span>, <span class="string">'آذر'</span>, <span class="string">'دی'</span>, <span class="string">'بهم'</span>, <span class="string">'اسف'</span>]
products = [<span class="string">'محصول A'</span>, <span class="string">'محصول B'</span>, <span class="string">'محصول C'</span>, <span class="string">'محصول D'</span>]

<span class="comment"># تولید داده تصادفی</span>
np.random.seed(<span class="number">42</span>)
sales_data = np.random.randint(<span class="number">10</span>, <span class="number">100</span>, (len(products), len(months)))

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># نقشه حرارتی</span>
im = plt.imshow(sales_data, cmap=<span class="string">'YlOrRd'</span>, aspect=<span class="string">'auto'</span>)

<span class="comment"># تنظیم برچسب‌ها</span>
plt.xticks(range(len(months)), months)
plt.yticks(range(len(products)), products)

<span class="comment"># اضافه کردن مقادیر</span>
<span class="keyword">for</span> i <span class="keyword">in</span> range(len(products)):
    <span class="keyword">for</span> j <span class="keyword">in</span> range(len(months)):
        plt.text(j, i, sales_data[i, j], ha=<span class="string">'center'</span>, va=<span class="string">'center'</span>, 
                color=<span class="string">'white'</span> <span class="keyword">if</span> sales_data[i, j] > <span class="number">50</span> <span class="keyword">else</span> <span class="string">'black'</span>, fontweight=<span class="string">'bold'</span>)

<span class="comment"># نوار رنگ</span>
cbar = plt.colorbar(im)
cbar.set_label(<span class="string">'میزان فروش'</span>, fontsize=<span class="number">12</span>)

plt.title(<span class="string">'نقشه حرارتی فروش محصولات در طول سال'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'ماه'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'محصول'</span>, fontsize=<span class="number">12</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.scatter()</div>
                            <div class="method-desc">نمودار پراکندگی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">c (color)</div>
                            <div class="method-desc">رنگ نقاط</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">s (size)</div>
                            <div class="method-desc">اندازه نقاط</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">alpha</div>
                            <div class="method-desc">شفافیت</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 کاربردهای پراکندگی:</div>
                        <ul>
                            <li>بررسی همبستگی بین متغیرها</li>
                            <li>شناسایی نقاط پرت (outliers)</li>
                            <li>تشخیص الگوهای غیرخطی</li>
                            <li>مقایسه گروه‌های مختلف</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 9: سفارشی‌سازی نمودارها -->
            <div class="slide style" id="slide9">
                <div class="slide-number">9/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🎨</div>
                <div class="slide-title">سفارشی‌سازی نمودارها</div>
                <div class="slide-content">
                    <h3>🎨 عنوان و برچسب‌ها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># نمودار با تنظیمات کامل</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">50</span>)
y1 = np.sin(x)
y2 = np.cos(x)

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># رسم نمودارها</span>
plt.plot(x, y1, label=<span class="string">'sin(x)'</span>, linewidth=<span class="number">3</span>, color=<span class="string">'blue'</span>)
plt.plot(x, y2, label=<span class="string">'cos(x)'</span>, linewidth=<span class="number">3</span>, color=<span class="string">'red'</span>, linestyle=<span class="string">'--'</span>)

<span class="comment"># عنوان اصلی</span>
plt.suptitle(<span class="string">'مقایسه توابع مثلثاتی'</span>, fontsize=<span class="number">20</span>, fontweight=<span class="string">'bold'</span>, y=<span class="number">0.98</span>)
plt.title(<span class="string">'نمودار sin(x) و cos(x)'</span>, fontsize=<span class="number">16</span>, pad=<span class="number">20</span>)

<span class="comment"># برچسب محورها</span>
plt.xlabel(<span class="string">'زاویه (رادیان)'</span>, fontsize=<span class="number">14</span>, fontweight=<span class="string">'bold'</span>)
plt.ylabel(<span class="string">'مقدار تابع'</span>, fontsize=<span class="number">14</span>, fontweight=<span class="string">'bold'</span>)

<span class="comment"># راهنما</span>
plt.legend(fontsize=<span class="number">12</span>, loc=<span class="string">'upper right'</span>, frameon=<span class="keyword">True</span>, 
          fancybox=<span class="keyword">True</span>, shadow=<span class="keyword">True</span>)

<span class="comment"># شبکه</span>
plt.grid(<span class="keyword">True</span>, linestyle=<span class="string">'-'</span>, alpha=<span class="number">0.3</span>)

<span class="comment"># محدوده محورها</span>
plt.xlim(<span class="number">0</span>, <span class="number">10</span>)
plt.ylim(-<span class="number">1.2</span>, <span class="number">1.2</span>)

plt.tight_layout()
plt.show()
                    </div>

                    <h3>🎯 تنظیم محورها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده فروش ماهانه</span>
months = [<span class="string">'فرو'</span>, <span class="string">'ارد'</span>, <span class="string">'خرد'</span>, <span class="string">'تیر'</span>, <span class="string">'مرد'</span>, <span class="string">'شهر'</span>]
sales = [<span class="number">120</span>, <span class="number">135</span>, <span class="number">158</span>, <span class="number">142</span>, <span class="number">168</span>, <span class="number">155</span>]

plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># رسم نمودار</span>
plt.plot(months, sales, <span class="string">'o-'</span>, linewidth=<span class="number">3</span>, markersize=<span class="number">10</span>, 
         color=<span class="string">'#2E86AB'</span>, markerfacecolor=<span class="string">'#F24236'</span>)

<span class="comment"># تنظیم محور X</span>
plt.xticks(rotation=<span class="number">45</span>, fontsize=<span class="number">12</span>)
plt.xlabel(<span class="string">'ماه'</span>, fontsize=<span class="number">14</span>)

<span class="comment"># تنظیم محور Y</span>
plt.yticks(range(<span class="number">100</span>, <span class="number">180</span>, <span class="number">10</span>), fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'فروش (میلیون تومان)'</span>, fontsize=<span class="number">14</span>)

<span class="comment"># خطوط مرجع</span>
avg_sales = np.mean(sales)
plt.axhline(y=avg_sales, color=<span class="string">'red'</span>, linestyle=<span class="string">'--'</span>, 
           linewidth=<span class="number">2</span>, alpha=<span class="number">0.7</span>, label=<span class="string">f'میانگین: {avg_sales:.1f}'</span>)

<span class="comment"># ناحیه پر شده</span>
plt.fill_between(months, sales, avg_sales, 
                where=np.array(sales) > avg_sales, 
                alpha=<span class="number">0.3</span>, color=<span class="string">'green'</span>, label=<span class="string">'بالاتر از میانگین'</span>)
plt.fill_between(months, sales, avg_sales, 
                where=np.array(sales) <= avg_sales, 
                alpha=<span class="number">0.3</span>, color=<span class="string">'red'</span>, label=<span class="string">'پایین‌تر از میانگین'</span>)

plt.title(<span class="string">'تحلیل فروش ماهانه'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>🌈 پالت رنگی و استایل:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># تنظیم استایل کلی</span>
plt.style.use(<span class="string">'seaborn-v0_8'</span>)

<span class="comment"># داده چندین سری</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">50</span>)
functions = {
    <span class="string">'sin(x)'</span>: np.sin(x),
    <span class="string">'cos(x)'</span>: np.cos(x),
    <span class="string">'sin(2x)'</span>: np.sin(<span class="number">2</span>*x),
    <span class="string">'cos(2x)'</span>: np.cos(<span class="number">2</span>*x)
}

<span class="comment"># پالت رنگی سفارشی</span>
colors = [<span class="string">'#FF6B6B'</span>, <span class="string">'#4ECDC4'</span>, <span class="string">'#45B7D1'</span>, <span class="string">'#96CEB4'</span>]
line_styles = [<span class="string">'-'</span>, <span class="string">'--'</span>, <span class="string">'-.'</span>, <span class="string">':'</span>]

plt.figure(figsize=(<span class="number">14</span>, <span class="number">10</span>))

<span class="comment"># رسم توابع</span>
<span class="keyword">for</span> i, (name, y) <span class="keyword">in</span> enumerate(functions.items()):
    plt.plot(x, y, label=name, color=colors[i], 
             linestyle=line_styles[i], linewidth=<span class="number">3</span>, alpha=<span class="number">0.8</span>)

<span class="comment"># تنظیمات پیشرفته</span>
plt.title(<span class="string">'مجموعه توابع مثلثاتی'</span>, fontsize=<span class="number">18</span>, fontweight=<span class="string">'bold'</span>, 
         color=<span class="string">'#2C3E50'</span>, pad=<span class="number">20</span>)

<span class="comment"># محورها</span>
ax = plt.gca()
ax.spines[<span class="string">'top'</span>].set_visible(<span class="keyword">False</span>)
ax.spines[<span class="string">'right'</span>].set_visible(<span class="keyword">False</span>)
ax.spines[<span class="string">'left'</span>].set_linewidth(<span class="number">2</span>)
ax.spines[<span class="string">'bottom'</span>].set_linewidth(<span class="number">2</span>)

<span class="comment"># برچسب‌ها</span>
plt.xlabel(<span class="string">'x'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.ylabel(<span class="string">'f(x)'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)

<span class="comment"># راهنما با استایل</span>
legend = plt.legend(fontsize=<span class="number">12</span>, loc=<span class="string">'upper right'</span>, 
                   frameon=<span class="keyword">True</span>, fancybox=<span class="keyword">True</span>, shadow=<span class="keyword">True</span>)
legend.get_frame().set_facecolor(<span class="string">'white'</span>)
legend.get_frame().set_alpha(<span class="number">0.9</span>)

<span class="comment"># شبکه سفارشی</span>
plt.grid(<span class="keyword">True</span>, linestyle=<span class="string">'-'</span>, alpha=<span class="number">0.2</span>, color=<span class="string">'gray'</span>)

plt.tight_layout()
plt.show()
                    </div>

                    <h3>📝 اضافه کردن متن و حاشیه‌نویسی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده قیمت سهام</span>
days = np.arange(<span class="number">1</span>, <span class="number">31</span>)
price = <span class="number">100</span> + np.cumsum(np.random.randn(<span class="number">30</span>) * <span class="number">2</span>)

plt.figure(figsize=(<span class="number">14</span>, <span class="number">8</span>))

<span class="comment"># رسم نمودار</span>
plt.plot(days, price, <span class="string">'b-'</span>, linewidth=<span class="number">2</span>, label=<span class="string">'قیمت سهام'</span>)

<span class="comment"># نقاط مهم</span>
max_idx = np.argmax(price)
min_idx = np.argmin(price)

<span class="comment"># نشان‌گذاری نقاط</span>
plt.plot(days[max_idx], price[max_idx], <span class="string">'ro'</span>, markersize=<span class="number">10</span>, label=<span class="string">'حداکثر'</span>)
plt.plot(days[min_idx], price[min_idx], <span class="string">'go'</span>, markersize=<span class="number">10</span>, label=<span class="string">'حداقل'</span>)

<span class="comment"># حاشیه‌نویسی</span>
plt.annotate(<span class="string">f'حداکثر قیمت\n{price[max_idx]:.1f}'</span>,
            xy=(days[max_idx], price[max_idx]),
            xytext=(days[max_idx] + <span class="number">5</span>, price[max_idx] + <span class="number">5</span>),
            arrowprops=dict(arrowstyle=<span class="string">'->'</span>, color=<span class="string">'red'</span>, lw=<span class="number">2</span>),
            fontsize=<span class="number">12</span>, fontweight=<span class="string">'bold'</span>,
            bbox=dict(boxstyle=<span class="string">'round,pad=0.3'</span>, facecolor=<span class="string">'yellow'</span>, alpha=<span class="number">0.7</span>))

plt.annotate(<span class="string">f'حداقل قیمت\n{price[min_idx]:.1f}'</span>,
            xy=(days[min_idx], price[min_idx]),
            xytext=(days[min_idx] - <span class="number">5</span>, price[min_idx] - <span class="number">8</span>),
            arrowprops=dict(arrowstyle=<span class="string">'->'</span>, color=<span class="string">'green'</span>, lw=<span class="number">2</span>),
            fontsize=<span class="number">12</span>, fontweight=<span class="string">'bold'</span>,
            bbox=dict(boxstyle=<span class="string">'round,pad=0.3'</span>, facecolor=<span class="string">'lightgreen'</span>, alpha=<span class="number">0.7</span>))

<span class="comment"># متن آزاد</span>
plt.text(<span class="number">20</span>, <span class="number">110</span>, <span class="string">'روند صعودی'</span>, fontsize=<span class="number">14</span>, fontweight=<span class="string">'bold'</span>,
         bbox=dict(boxstyle=<span class="string">'round'</span>, facecolor=<span class="string">'lightblue'</span>, alpha=<span class="number">0.5</span>))

plt.title(<span class="string">'تحلیل قیمت سهام در یک ماه'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xlabel(<span class="string">'روز'</span>, fontsize=<span class="number">12</span>)
plt.ylabel(<span class="string">'قیمت'</span>, fontsize=<span class="number">12</span>)
plt.legend()
plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>🎨 تم‌های آماده:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># نمایش تم‌های موجود</span>
<span class="function">print</span>(<span class="string">"تم‌های موجود:"</span>)
<span class="function">print</span>(plt.style.available)

<span class="comment"># مقایسه چند تم</span>
styles = [<span class="string">'default'</span>, <span class="string">'seaborn-v0_8'</span>, <span class="string">'ggplot'</span>, <span class="string">'dark_background'</span>]
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">50</span>)
y = np.sin(x)

fig, axes = plt.subplots(<span class="number">2</span>, <span class="number">2</span>, figsize=(<span class="number">15</span>, <span class="number">12</span>))
axes = axes.flatten()

<span class="keyword">for</span> i, style <span class="keyword">in</span> enumerate(styles):
    <span class="keyword">with</span> plt.style.context(style):
        axes[i].plot(x, y, linewidth=<span class="number">3</span>)
        axes[i].set_title(<span class="string">f'استایل: {style}'</span>, fontsize=<span class="number">12</span>, fontweight=<span class="string">'bold'</span>)
        axes[i].grid(<span class="keyword">True</span>)

plt.suptitle(<span class="string">'مقایسه استایل‌های مختلف'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.tight_layout()
plt.show()

<span class="comment"># استایل سفارشی</span>
plt.rcParams.update({
    <span class="string">'font.size'</span>: <span class="number">12</span>,
    <span class="string">'axes.linewidth'</span>: <span class="number">2</span>,
    <span class="string">'axes.spines.top'</span>: <span class="keyword">False</span>,
    <span class="string">'axes.spines.right'</span>: <span class="keyword">False</span>,
    <span class="string">'xtick.major.size'</span>: <span class="number">5</span>,
    <span class="string">'xtick.minor.size'</span>: <span class="number">3</span>,
    <span class="string">'ytick.major.size'</span>: <span class="number">5</span>,
    <span class="string">'ytick.minor.size'</span>: <span class="number">3</span>
})
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.title()</div>
                            <div class="method-desc">عنوان نمودار</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">plt.xlabel()</div>
                            <div class="method-desc">برچسب محور X</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">plt.legend()</div>
                            <div class="method-desc">راهنمای نمودار</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">plt.annotate()</div>
                            <div class="method-desc">حاشیه‌نویسی</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکات سفارشی‌سازی:</div>
                        <ul>
                            <li>از رنگ‌های هماهنگ استفاده کنید</li>
                            <li>فونت‌ها را یکسان نگه دارید</li>
                            <li>از فضای خالی مناسب استفاده کنید</li>
                            <li>حاشیه‌نویسی را محدود کنید</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 10: چندین نمودار در یک تصویر -->
            <div class="slide" id="slide10">
                <div class="slide-number">10/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🔢</div>
                <div class="slide-title">چندین نمودار در یک تصویر</div>
                <div class="slide-content">
                    <h3>📊 Subplots ساده:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده نمونه</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)

<span class="comment"># ایجاد subplots</span>
fig, axes = plt.subplots(<span class="number">2</span>, <span class="number">2</span>, figsize=(<span class="number">12</span>, <span class="number">10</span>))

<span class="comment"># نمودار اول - خطی</span>
axes[<span class="number">0</span>, <span class="number">0</span>].plot(x, np.sin(x), <span class="string">'b-'</span>, linewidth=<span class="number">2</span>)
axes[<span class="number">0</span>, <span class="number">0</span>].set_title(<span class="string">'نمودار خطی - sin(x)'</span>)
axes[<span class="number">0</span>, <span class="number">0</span>].grid(<span class="keyword">True</span>)

<span class="comment"># نمودار دوم - پراکندگی</span>
y_scatter = np.sin(x) + np.random.normal(<span class="number">0</span>, <span class="number">0.1</span>, len(x))
axes[<span class="number">0</span>, <span class="number">1</span>].scatter(x, y_scatter, alpha=<span class="number">0.6</span>, c=<span class="string">'red'</span>)
axes[<span class="number">0</span>, <span class="number">1</span>].set_title(<span class="string">'نمودار پراکندگی'</span>)
axes[<span class="number">0</span>, <span class="number">1</span>].grid(<span class="keyword">True</span>)

<span class="comment"># نمودار سوم - میله‌ای</span>
categories = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>]
values = [<span class="number">23</span>, <span class="number">45</span>, <span class="number">56</span>, <span class="number">78</span>]
axes[<span class="number">1</span>, <span class="number">0</span>].bar(categories, values, color=[<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>, <span class="string">'orange'</span>])
axes[<span class="number">1</span>, <span class="number">0</span>].set_title(<span class="string">'نمودار میله‌ای'</span>)

<span class="comment"># نمودار چهارم - هیستوگرام</span>
data = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1000</span>)
axes[<span class="number">1</span>, <span class="number">1</span>].hist(data, bins=<span class="number">30</span>, alpha=<span class="number">0.7</span>, color=<span class="string">'purple'</span>)
axes[<span class="number">1</span>, <span class="number">1</span>].set_title(<span class="string">'هیستوگرام'</span>)

<span class="comment"># تنظیمات کلی</span>
plt.suptitle(<span class="string">'مجموعه نمودارهای مختلف'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>📐 تنظیم اندازه متفاوت:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># GridSpec برای کنترل بیشتر</span>
<span class="keyword">from</span> matplotlib <span class="keyword">import</span> gridspec

<span class="comment"># تعریف شبکه</span>
fig = plt.figure(figsize=(<span class="number">15</span>, <span class="number">10</span>))
gs = gridspec.GridSpec(<span class="number">3</span>, <span class="number">3</span>, hspace=<span class="number">0.3</span>, wspace=<span class="number">0.3</span>)

<span class="comment"># نمودار بزرگ در بالا</span>
ax1 = fig.add_subplot(gs[<span class="number">0</span>, :])  <span class="comment"># تمام ستون‌های ردیف اول</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)
ax1.plot(x, np.sin(x), <span class="string">'b-'</span>, linewidth=<span class="number">3</span>, label=<span class="string">'sin(x)'</span>)
ax1.plot(x, np.cos(x), <span class="string">'r--'</span>, linewidth=<span class="number">3</span>, label=<span class="string">'cos(x)'</span>)
ax1.set_title(<span class="string">'نمودار اصلی - توابع مثلثاتی'</span>, fontsize=<span class="number">14</span>, fontweight=<span class="string">'bold'</span>)
ax1.legend()
ax1.grid(<span class="keyword">True</span>)

<span class="comment"># نمودار متوسط در چپ</span>
ax2 = fig.add_subplot(gs[<span class="number">1</span>:<span class="number">3</span>, <span class="number">0</span>])  <span class="comment"># دو ردیف، ستون اول</span>
data1 = np.random.normal(<span class="number">100</span>, <span class="number">15</span>, <span class="number">1000</span>)
ax2.hist(data1, bins=<span class="number">30</span>, orientation=<span class="string">'horizontal'</span>, alpha=<span class="number">0.7</span>, color=<span class="string">'green'</span>)
ax2.set_title(<span class="string">'هیستوگرام عمودی'</span>, fontweight=<span class="string">'bold'</span>)

<span class="comment"># نمودارهای کوچک در راست</span>
ax3 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">1</span>])
categories = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]
sizes = [<span class="number">30</span>, <span class="number">40</span>, <span class="number">30</span>]
ax3.pie(sizes, labels=categories, autopct=<span class="string">'%1.1f%%'</span>)
ax3.set_title(<span class="string">'نمودار دایره‌ای'</span>)

ax4 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">2</span>])
x_scatter = np.random.randn(<span class="number">50</span>)
y_scatter = np.random.randn(<span class="number">50</span>)
ax4.scatter(x_scatter, y_scatter, alpha=<span class="number">0.6</span>)
ax4.set_title(<span class="string">'پراکندگی'</span>)

ax5 = fig.add_subplot(gs[<span class="number">2</span>, <span class="number">1</span>:<span class="number">3</span>])  <span class="comment"># دو ستون آخر</span>
months = [<span class="string">'فرو'</span>, <span class="string">'ارد'</span>, <span class="string">'خرد'</span>, <span class="string">'تیر'</span>]
values = [<span class="number">20</span>, <span class="number">35</span>, <span class="number">30</span>, <span class="number">25</span>]
ax5.bar(months, values, color=<span class="string">'orange'</span>)
ax5.set_title(<span class="string">'فروش ماهانه'</span>)

plt.suptitle(<span class="string">'داشبورد تحلیلی'</span>, fontsize=<span class="number">18</span>, fontweight=<span class="string">'bold'</span>)
plt.show()
                    </div>

                    <h3>🔄 محورهای مشترک:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده سری زمانی</span>
dates = pd.date_range(<span class="string">'2023-01-01'</span>, periods=<span class="number">100</span>)
price = <span class="number">100</span> + np.cumsum(np.random.randn(<span class="number">100</span>) * <span class="number">0.5</span>)
volume = np.random.randint(<span class="number">1000</span>, <span class="number">5000</span>, <span class="number">100</span>)

<span class="comment"># نمودارهای با محور X مشترک</span>
fig, (ax1, ax2) = plt.subplots(<span class="number">2</span>, <span class="number">1</span>, figsize=(<span class="number">12</span>, <span class="number">10</span>), sharex=<span class="keyword">True</span>)

<span class="comment"># نمودار قیمت</span>
ax1.plot(dates, price, <span class="string">'b-'</span>, linewidth=<span class="number">2</span>)
ax1.set_title(<span class="string">'قیمت سهام'</span>, fontweight=<span class="string">'bold'</span>)
ax1.set_ylabel(<span class="string">'قیمت'</span>)
ax1.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)

<span class="comment"># نمودار حجم</span>
ax2.bar(dates, volume, alpha=<span class="number">0.7</span>, color=<span class="string">'orange'</span>)
ax2.set_title(<span class="string">'حجم معاملات'</span>, fontweight=<span class="string">'bold'</span>)
ax2.set_ylabel(<span class="string">'حجم'</span>)
ax2.set_xlabel(<span class="string">'تاریخ'</span>)

<span class="comment"># چرخاندن برچسب‌های تاریخ</span>
plt.xticks(rotation=<span class="number">45</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <h3>🎯 محور دوگانه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># داده با مقیاس‌های متفاوت</span>
months = [<span class="string">'فرو'</span>, <span class="string">'ارد'</span>, <span class="string">'خرد'</span>, <span class="string">'تیر'</span>, <span class="string">'مرد'</span>, <span class="string">'شهر'</span>]
revenue = [<span class="number">120</span>, <span class="number">135</span>, <span class="number">158</span>, <span class="number">142</span>, <span class="number">168</span>, <span class="number">155</span>]  <span class="comment"># میلیون تومان</span>
profit_margin = [<span class="number">15</span>, <span class="number">18</span>, <span class="number">22</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">20</span>]  <span class="comment"># درصد</span>

fig, ax1 = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">8</span>))

<span class="comment"># محور اول - درآمد</span>
color = <span class="string">'tab:blue'</span>
ax1.set_xlabel(<span class="string">'ماه'</span>)
ax1.set_ylabel(<span class="string">'درآمد (میلیون تومان)'</span>, color=color)
bars = ax1.bar(months, revenue, color=color, alpha=<span class="number">0.7</span>)
ax1.tick_params(axis=<span class="string">'y'</span>, labelcolor=color)

<span class="comment"># اضافه کردن مقادیر روی میله‌ها</span>
<span class="keyword">for</span> bar, value <span class="keyword">in</span> zip(bars, revenue):
    ax1.text(bar.get_x() + bar.get_width()/<span class="number">2</span>, bar.get_height() + <span class="number">2</span>,
             <span class="string">f'{value}'</span>, ha=<span class="string">'center'</span>, va=<span class="string">'bottom'</span>, color=color, fontweight=<span class="string">'bold'</span>)

<span class="comment"># محور دوم - حاشیه سود</span>
ax2 = ax1.twinx()
color = <span class="string">'tab:red'</span>
ax2.set_ylabel(<span class="string">'حاشیه سود (%)'</span>, color=color)
line = ax2.plot(months, profit_margin, color=color, marker=<span class="string">'o'</span>, 
                linewidth=<span class="number">3</span>, markersize=<span class="number">8</span>, label=<span class="string">'حاشیه سود'</span>)
ax2.tick_params(axis=<span class="string">'y'</span>, labelcolor=color)

<span class="comment"># اضافه کردن مقادیر روی خط</span>
<span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate(profit_margin):
    ax2.text(i, value + <span class="number">1</span>, <span class="string">f'{value}%'</span>, ha=<span class="string">'center'</span>, 
             va=<span class="string">'bottom'</span>, color=color, fontweight=<span class="string">'bold'</span>)

plt.title(<span class="string">'درآمد و حاشیه سود ماهانه'</span>, fontsize=<span class="number">16</span>, fontweight=<span class="string">'bold'</span>)
plt.xticks(rotation=<span class="number">45</span>)
plt.tight_layout()
plt.show()
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">plt.subplots()</div>
                            <div class="method-desc">ایجاد چند نمودار</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">GridSpec</div>
                            <div class="method-desc">کنترل دقیق چیدمان</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">sharex/sharey</div>
                            <div class="method-desc">محورهای مشترک</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">twinx()</div>
                            <div class="method-desc">محور دوگانه</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکات Subplots:</div>
                        <ul>
                            <li>از tight_layout() برای فاصله‌گذاری مناسب</li>
                            <li>محورهای مشترک برای مقایسه بهتر</li>
                            <li>رنگ‌های هماهنگ برای محورهای دوگانه</li>
                            <li>عنوان کلی با suptitle()</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 11: ذخیره و صادرات -->
            <div class="slide" id="slide11">
                <div class="slide-number">11/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">💾</div>
                <div class="slide-title">ذخیره و صادرات نمودار</div>
                <div class="slide-content">
                    <h3>💾 ذخیره در فرمت‌های مختلف:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># نمودار نمونه</span>
x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)
y = np.sin(x)

plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))
plt.plot(x, y, linewidth=<span class="number">3</span>)
plt.title(<span class="string">'نمودار برای ذخیره'</span>, fontsize=<span class="number">16</span>)
plt.xlabel(<span class="string">'X'</span>)
    plt.ylabel(<span class="string">'Y'</span>)
    plt.grid(<span class="keyword">True</span>)
    
    <span class="comment"># ذخیره در فرمت‌های مختلف</span>
    plt.savefig(<span class="string">'my_plot.png'</span>, dpi=<span class="number">300</span>, bbox_inches=<span
          class="string">'tight'</span>)
    plt.savefig(<span class="string">'my_plot.pdf'</span>, bbox_inches=<span class="string">'tight'</span>)
    plt.savefig(<span class="string">'my_plot.svg'</span>, bbox_inches=<span class="string">'tight'</span>)
    plt.savefig(<span class="string">'my_plot.eps'</span>, bbox_inches=<span class="string">'tight'</span>)
    
    plt.show()
    
    <span class="function">print</span>(<span class="string">"نمودار در فرمت‌های مختلف ذخیره شد!"</span>)
    </div>
    
    <h3>⚙️ تنظیمات پیشرفته ذخیره:</h3>
    <div class="code-block">
        <button class="copy-btn"
                onclick="copyCode(this)">کپی</button>
        <span class="comment"># نمودار با کیفیت بالا</span>
        fig, ax = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">8</span>))
    
        <span class="comment"># داده نمونه</span>
        x = np.linspace(<span class="number">0</span>, <span class="number">4</span>*np.pi, <span class="number">200</span>)
        y1 = np.sin(x)
        y2 = np.cos(x)
    
        ax.plot(x, y1, label=<span class="string">'sin(x)'</span>, linewidth=<span class="number">3</span>)
        ax.plot(x, y2, label=<span class="string">'cos(x)'</span>, linewidth=<span class="number">3</span>)
        ax.set_title(<span class="string">'نمودار با کیفیت انتشار'</span>, fontsize=<span class="number">18</span>,
        fontweight=<span class="string">'bold'</span>)
        ax.set_xlabel(<span class="string">'x'</span>, fontsize=<span class="number">14</span>)
        ax.set_ylabel(<span class="string">'f(x)'</span>, fontsize=<span class="number">14</span>)
        ax.legend(fontsize=<span class="number">12</span>)
        ax.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
    
        <span class="comment"># ذخیره برای انتشار علمی</span>
        plt.savefig(<span class="string">'publication_plot.pdf'</span>,
        dpi=<span class="number">300</span>, <span class="comment"># کیفیت بالا</span>
        bbox_inches=<span class="string">'tight'</span>, <span class="comment"># حذف فضای اضافی</span>
        pad_inches=<span class="number">0.1</span>, <span class="comment"># حاشیه کم</span>
        facecolor=<span class="string">'white'</span>, <span class="comment"># پس‌زمینه سفید</span>
        edgecolor=<span class="string">'none'</span>) <span class="comment"># بدون حاشیه</span>
    
        <span class="comment"># ذخیره برای وب</span>
        plt.savefig(<span class="string">'web_plot.png'</span>,
        dpi=<span class="number">150</span>, <span class="comment"># کیفیت متوسط</span>
        bbox_inches=<span class="string">'tight'</span>,
        facecolor=<span class="string">'white'</span>,
        transparent=<span class="keyword">False</span>) <span class="comment"># پس‌زمینه غیرشفاف</span>
    
        <span class="comment"># ذخیره با پس‌زمینه شفاف</span>
        plt.savefig(<span class="string">'transparent_plot.png'</span>,
        dpi=<span class="number">300</span>,
        bbox_inches=<span class="string">'tight'</span>,
        transparent=<span class="keyword">True</span>) <span class="comment"># پس‌زمینه شفاف</span>
    
        plt.show()
    </div>
    
    <h3>📱 اندازه‌های مختلف برای کاربردهای متفاوت:</h3>
    <div class="code-block">
        <button class="copy-btn"
                onclick="copyCode(this)">کپی</button>
        <span class="comment"># تابع برای ایجاد نمودار استاندارد</span>
        <span class="keyword">def</span> <span class="function">create_standard_plot</span>():
        fig, ax = plt.subplots()
        x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)
        y = np.sin(x)
        ax.plot(x, y, linewidth=<span class="number">2</span>)
        ax.set_title(<span class="string">'نمودار نمونه'</span>)
        ax.set_xlabel(<span class="string">'X'</span>)
        ax.set_ylabel(<span class="string">'Y'</span>)
        ax.grid(<span class="keyword">True</span>)
        <span class="keyword">return</span> fig
    
        <span class="comment"># برای پرزنتیشن (16:9)</span>
        fig = create_standard_plot()
        fig.set_size_inches(<span class="number">16</span>, <span class="number">9</span>)
        fig.savefig(<span class="string">'presentation_plot.png'</span>, dpi=<span class="number">150</span>,
        bbox_inches=<span class="string">'tight'</span>)
        plt.close(fig)
    
        <span class="comment"># برای گزارش (A4)</span>
        fig = create_standard_plot()
        fig.set_size_inches(<span class="number">8.27</span>, <span class="number">11.69</span>) <span class="comment"># A4
            در اینچ</span>
        fig.savefig(<span class="string">'report_plot.pdf'</span>, dpi=<span class="number">300</span>, bbox_inches=<span
              class="string">'tight'</span>)
        plt.close(fig)
    
        <span class="comment"># برای شبکه‌های اجتماعی (مربع)</span>
        fig = create_standard_plot()
        fig.set_size_inches(<span class="number">8</span>, <span class="number">8</span>)
        fig.savefig(<span class="string">'social_media_plot.png'</span>, dpi=<span class="number">200</span>,
        bbox_inches=<span class="string">'tight'</span>)
        plt.close(fig)
    
        <span class="comment"># برای موبایل (عمودی)</span>
        fig = create_standard_plot()
        fig.set_size_inches(<span class="number">6</span>, <span class="number">10</span>)
        fig.savefig(<span class="string">'mobile_plot.png'</span>, dpi=<span class="number">200</span>, bbox_inches=<span
              class="string">'tight'</span>)
        plt.close(fig)
    
        <span class="function">print</span>(<span class="string">"نمودارها برای کاربردهای مختلف ذخیره شدند!"</span>)
    </div>
    
    <h3>🎨 ذخیره با تنظیمات سفارشی:</h3>
    <div class="code-block">
        <button class="copy-btn"
                onclick="copyCode(this)">کپی</button>
        <span class="comment"># تابع ذخیره پیشرفته</span>
        <span class="keyword">def</span> <span class="function">save_plot_advanced</span>(filename, fig=<span
              class="keyword">None</span>, **kwargs):
        <span class="string">"""
            ذخیره نمودار با تنظیمات پیشرفته
            """</span>
        <span class="keyword">if</span> fig <span class="keyword">is</span> <span class="keyword">None</span>:
        fig = plt.gcf() <span class="comment"># گرفتن figure فعلی</span>
    
        <span class="comment"># تنظیمات پیش‌فرض</span>
        default_settings = {
        <span class="string">'dpi'</span>: <span class="number">300</span>,
        <span class="string">'bbox_inches'</span>: <span class="string">'tight'</span>,
        <span class="string">'pad_inches'</span>: <span class="number">0.1</span>,
        <span class="string">'facecolor'</span>: <span class="string">'white'</span>,
        <span class="string">'edgecolor'</span>: <span class="string">'none'</span>
        }
    
        <span class="comment"># ترکیب تنظیمات</span>
        settings = {**default_settings, **kwargs}
    
        <span class="comment"># ذخیره</span>
        fig.savefig(filename, **settings)
        <span class="function">print</span>(<span class="string">f"نمودار در {filename} ذخیره شد"</span>)
    
        <span class="comment"># نمودار نمونه</span>
        plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))
        x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)
        plt.plot(x, np.sin(x), label=<span class="string">'sin(x)'</span>)
        plt.plot(x, np.cos(x), label=<span class="string">'cos(x)'</span>)
        plt.title(<span class="string">'نمودار برای ذخیره پیشرفته'</span>)
        plt.legend()
        plt.grid(<span class="keyword">True</span>)
    
        <span class="comment"># ذخیره با تنظیمات مختلف</span>
        save_plot_advanced(<span class="string">'high_quality.pdf'</span>)
        save_plot_advanced(<span class="string">'web_version.png'</span>, dpi=<span class="number">150</span>)
        save_plot_advanced(<span class="string">'transparent.png'</span>, transparent=<span class="keyword">True</span>)
    
        plt.show()
    </div>
    
    <h3>📊 ذخیره چندین نمودار:</h3>
    <div class="code-block">
        <button class="copy-btn"
                onclick="copyCode(this)">کپی</button>
        <span class="comment"># ذخیره چندین نمودار در یک PDF</span>
        <span class="keyword">from</span> matplotlib.backends.backend_pdf <span class="keyword">import</span> PdfPages
    
        <span class="comment"># ایجاد PDF چندصفحه‌ای</span>
        <span class="keyword">with</span> PdfPages(<span class="string">'multiple_plots.pdf'</span>) <span
              class="keyword">as</span> pdf:
        <span class="comment"># نمودار اول</span>
        fig1, ax1 = plt.subplots(figsize=(<span class="number">8</span>, <span class="number">6</span>))
        x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)
        ax1.plot(x, np.sin(x))
        ax1.set_title(<span class="string">'نمودار اول - sin(x)'</span>)
        pdf.savefig(fig1, bbox_inches=<span class="string">'tight'</span>)
        plt.close(fig1)
    
        <span class="comment"># نمودار دوم</span>
        fig2, ax2 = plt.subplots(figsize=(<span class="number">8</span>, <span class="number">6</span>))
        ax2.plot(x, np.cos(x))
        ax2.set_title(<span class="string">'نمودار دوم - cos(x)'</span>)
        pdf.savefig(fig2, bbox_inches=<span class="string">'tight'</span>)
        plt.close(fig2)
    
        <span class="comment"># نمودار سوم</span>
        fig3, ax3 = plt.subplots(figsize=(<span class="number">8</span>, <span class="number">6</span>))
        data = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, <span
              class="number">1000</span>)
        ax3.hist(data, bins=<span class="number">30</span>)
        ax3.set_title(<span class="string">'نمودار سوم - هیستوگرام'</span>)
        pdf.savefig(fig3, bbox_inches=<span class="string">'tight'</span>)
        plt.close(fig3)
    
        <span class="function">print</span>(<span class="string">"PDF چندصفحه‌ای ایجاد شد!"</span>)
    
        <span class="comment"># ذخیره دسته‌ای</span>
        plot_types = [<span class="string">'line'</span>, <span class="string">'bar'</span>, <span
              class="string">'scatter'</span>, <span class="string">'hist'</span>]
        data_sets = [
        (np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">50</span>),
        np.sin(np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">50</span>))),
        ([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span
              class="string">'D'</span>], [<span class="number">10</span>, <span class="number">25</span>, <span
              class="number">15</span>, <span class="number">30</span>]),
        (np.random.randn(<span class="number">100</span>), np.random.randn(<span class="number">100</span>)),
        (np.random.normal(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1000</span>),
        <span class="keyword">None</span>)
        ]
    
        <span class="keyword">for</span> i, (plot_type, data) <span class="keyword">in</span> enumerate(zip(plot_types,
        data_sets)):
        fig, ax = plt.subplots(figsize=(<span class="number">8</span>, <span class="number">6</span>))
    
        <span class="keyword">if</span> plot_type == <span class="string">'line'</span>:
        ax.plot(data[<span class="number">0</span>], data[<span class="number">1</span>])
        <span class="keyword">elif</span> plot_type == <span class="string">'bar'</span>:
        ax.bar(data[<span class="number">0</span>], data[<span class="number">1</span>])
        <span class="keyword">elif</span> plot_type == <span class="string">'scatter'</span>:
        ax.scatter(data[<span class="number">0</span>], data[<span class="number">1</span>])
        <span class="keyword">elif</span> plot_type == <span class="string">'hist'</span>:
        ax.hist(data[<span class="number">0</span>], bins=<span class="number">30</span>)
    
        ax.set_title(<span class="string">f'نمودار {plot_type}'</span>)
        ax.grid(<span class="keyword">True</span>)
    
        <span class="comment"># ذخیره با نام منحصربه‌فرد</span>
        filename = <span class="string">f'plot_{i+1:02d}_{plot_type}.png'</span>
        fig.savefig(filename, dpi=<span class="number">200</span>, bbox_inches=<span class="string">'tight'</span>)
        plt.close(fig)
        <span class="function">print</span>(<span class="string">f"ذخیره شد: {filename}"</span>)
    </div>
    
    <h3>🔧 بهینه‌سازی حجم فایل:</h3>
    <div class="code-block">
        <button class="copy-btn"
                onclick="copyCode(this)">کپی</button>
        <span class="comment"># مقایسه حجم فایل‌ها</span>
        <span class="keyword">import</span> os
    
        <span class="comment"># نمودار پیچیده</span>
        fig, ax = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">8</span>))
        x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)
        <span class="comment"># داده زیاد</span>
        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):
        y = np.sin(x + i * <span class="number">0.5</span>) * np.exp(-x * <span class="number">0.1</span>)
        ax.plot(x, y, alpha=<span class="number">0.7</span>, linewidth=<span class="number">2</span>)
    
        ax.set_title(<span class="string">'نمودار پیچیده برای تست حجم'</span>)
        ax.grid(<span class="keyword">True</span>)
    
        <span class="comment"># ذخیره با تنظیمات مختلف</span>
        formats_settings = {
        <span class="string">'high_quality.png'</span>: {<span class="string">'dpi'</span>: <span
              class="number">300</span>},
        <span class="string">'medium_quality.png'</span>: {<span class="string">'dpi'</span>: <span
              class="number">150</span>},
        <span class="string">'low_quality.png'</span>: {<span class="string">'dpi'</span>: <span class="number">72</span>},
        <span class="string">'vector.pdf'</span>: {},
        <span class="string">'vector.svg'</span>: {},
        <span class="string">'compressed.jpg'</span>: {<span class="string">'dpi'</span>: <span class="number">150</span>}
        }
    
        file_sizes = {}
        <span class="keyword">for</span> filename, settings <span class="keyword">in</span> formats_settings.items():
        fig.savefig(filename, bbox_inches=<span class="string">'tight'</span>, **settings)
        file_sizes[filename] = os.path.getsize(filename) / <span class="number">1024</span> <span class="comment">#
            KB</span>
    
        plt.close(fig)
    
        <span class="comment"># نمایش مقایسه حجم</span>
        <span class="function">print</span>(<span class="string">"مقایسه حجم فایل‌ها:"</span>)
        <span class="keyword">for</span> filename, size <span class="keyword">in</span> sorted(file_sizes.items(), key=<span
              class="keyword">lambda</span> x: x[<span class="number">1</span>]):
        <span class="function">print</span>(<span class="string">f"{filename:20} : {size:6.1f} KB"</span>)
    
        <span class="comment"># توصیه‌ها</span>
        <span class="function">print</span>(<span class="string">"\n💡 توصیه‌ها:"</span>)
        <span class="function">print</span>(<span class="string">"- PNG: برای نمودارهای با جزئیات زیاد"</span>)
        <span class="function">print</span>(<span class="string">"- PDF/SVG: برای چاپ و بزرگنمایی"</span>)
        <span class="function">print</span>(<span class="string">"- JPG: برای عکس‌ها (نه نمودار)"</span>)
        <span class="function">print</span>(<span class="string">"- DPI بالا: برای چاپ (300)"</span>)
        <span class="function">print</span>(<span class="string">"- DPI پایین: برای وب (72-150)"</span>)
    </div>
    
    <div class="method-grid">
        <div class="method-card">
            <div class="method-name">plt.savefig()</div>
            <div class="method-desc">ذخیره نمودار</div>
        </div>
        <div class="method-card">
            <div class="method-name">dpi</div>
            <div class="method-desc">کیفیت تصویر</div>
        </div>
        <div class="method-card">
            <div class="method-name">bbox_inches</div>
            <div class="method-desc">اندازه خروجی</div>
        </div>
        <div class="method-card">
            <div class="method-name">transparent</div>
            <div class="method-desc">پس‌زمینه شفاف</div>
        </div>
    </div>
    
    <div class="example-box">
        <div class="example-title">📋 راهنمای انتخاب فرمت:</div>
        <ul>
            <li><strong>PNG:</strong> کیفیت بالا، حجم متوسط - برای وب</li>
            <li><strong>PDF:</strong> برداری، قابل بزرگنمایی - برای چاپ</li>
            <li><strong>SVG:</strong> برداری، قابل ویرایش - برای وب</li>
            <li><strong>EPS:</strong> برای انتشارات علمی</li>
            <li><strong>JPG:</strong> حجم کم، کیفیت کمتر - اجتناب کنید</li>
        </ul>
    </div>
    </div>
    </div>
    
    <!-- اسلاید 12: پروژه عملی -->
    <div class="slide"
         id="slide12">
        <div class="slide-number">12/13</div>
        <button class="expand-btn"
                onclick="expandSlide(this)">🔍 بزرگنمایی</button>
        <button class="close-btn"
                onclick="closeSlide(this)">×</button>
        <div class="icon">🚀</div>
        <div class="slide-title">پروژه عملی: داشبورد فروش</div>
        <div class="slide-content">
            <h3>🎯 هدف پروژه:</h3>
            <p>ایجاد داشبورد تحلیلی کامل برای داده‌های فروش با استفاده از تمام تکنیک‌های آموخته شده</p>
    
            <h3>📊 مرحله 1: تولید و آماده‌سازی داده:</h3>
            <div class="code-block">
                <button class="copy-btn"
                        onclick="copyCode(this)">کپی</button>
                <span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt
                <span class="keyword">import</span> numpy <span class="keyword">as</span> np
                <span class="keyword">import</span> pandas <span class="keyword">as</span> pd
                <span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timedelta
                <span class="keyword">import</span> seaborn <span class="keyword">as</span> sns
    
                <span class="comment"># تنظیم فونت فارسی</span>
                plt.rcParams[<span class="string">'font.family'</span>] = [<span class="string">'Tahoma'</span>, <span
                      class="string">'DejaVu Sans'</span>]
    
                <span class="comment"># تولید داده فروش</span>
                np.random.seed(<span class="number">42</span>)
    
                <span class="comment"># تاریخ‌ها</span>
                start_date = datetime(<span class="number">2023</span>, <span class="number">1</span>, <span
                      class="number">1</span>)
                dates = [start_date + timedelta(days=x) <span class="keyword">for</span> x <span class="keyword">in</span>
                range(<span class="number">365</span>)]
    
                <span class="comment"># محصولات</span>
                products = [<span class="string">'لپ‌تاپ'</span>, <span class="string">'موبایل'</span>, <span
                      class="string">'تبلت'</span>, <span class="string">'هدفون'</span>, <span class="string">'ساعت
                    هوشمند'</span>]
    
                <span class="comment"># مناطق</span>
                regions = [<span class="string">'تهران'</span>, <span class="string">'اصفهان'</span>, <span
                      class="string">'مشهد'</span>, <span class="string">'شیراز'</span>, <span
                      class="string">'تبریز'</span>]
    
                <span class="comment"># تولید داده تصادفی</span>
                data = []
                <span class="keyword">for</span> date <span class="keyword">in</span> dates:
                <span class="keyword">for</span> product <span class="keyword">in</span> products:
                <span class="keyword">for</span> region <span class="keyword">in</span> regions:
                <span class="comment"># فروش با الگوی فصلی</span>
                base_sales = np.random.poisson(<span class="number">10</span>)
                seasonal_factor = <span class="number">1</span> + <span class="number">0.3</span> * np.sin(<span
                      class="number">2</span> * np.pi * date.timetuple().tm_yday / <span class="number">365</span>)
                sales = int(base_sales * seasonal_factor)
    
                <span class="comment"># قیمت بر اساس محصول</span>
                base_prices = {<span class="string">'لپ‌تاپ'</span>: <span class="number">25000000</span>, <span
                      class="string">'موبایل'</span>: <span class="number">15000000</span>,
                <span class="string">'تبلت'</span>: <span class="number">8000000</span>, <span
                      class="string">'هدفون'</span>: <span class="number">2000000</span>,
                <span class="string">'ساعت هوشمند'</span>: <span class="number">5000000</span>}
                price = base_prices[product] * (<span class="number">1</span> + np.random.normal(<span
                      class="number">0</span>, <span class="number">0.1</span>))
    
                data.append({
                <span class="string">'تاریخ'</span>: date,
                <span class="string">'محصول'</span>: product,
                <span class="string">'منطقه'</span>: region,
                <span class="string">'تعداد'</span>: sales,
                <span class="string">'قیمت_واحد'</span>: price,
                <span class="string">'درآمد'</span>: sales * price
                })
    
                <span class="comment"># تبدیل به DataFrame</span>
                df = pd.DataFrame(data)
                df[<span class="string">'ماه'</span>] = df[<span class="string">'تاریخ'</span>].dt.month
                df[<span class="string">'فصل'</span>] = df[<span class="string">'ماه'</span>].map({<span
                      class="number">12</span>:<span class="string">'زمستان'</span>, <span class="number">1</span>:<span
                      class="string">'زمستان'</span>, <span class="number">2</span>:<span class="string">'زمستان'</span>,
                <span class="number">3</span>:<span class="string">'بهار'</span>, <span class="number">4</span>:<span
                      class="string">'بهار'</span>, <span class="number">5</span>:<span class="string">'بهار'</span>,
                <span class="number">6</span>:<span class="string">'تابستان'</span>, <span class="number">7</span>:<span
                      class="string">'تابستان'</span>, <span class="number">8</span>:<span class="string">'تابستان'</span>,
                <span class="number">9</span>:<span class="string">'پاییز'</span>, <span class="number">10</span>:<span
                      class="string">'پاییز'</span>, <span class="number">11</span>:<span class="string">'پاییز'</span>})
    
                <span class="function">print</span>(<span class="string">f"تعداد رکوردها: {len(df)}"</span>)
                <span class="function">print</span>(<span class="string">f"بازه زمانی: {df['تاریخ'].min()} تا
                    {df['تاریخ'].max()}"</span>)
                <span class="function">print</span>(<span class="string">f"کل درآمد: {df['درآمد'].sum():,.0f} تومان"</span>)
            </div>
    
            <h3>📈 مرحله 2: ایجاد داشبورد:</h3>
            <div class="code-block">
                <button class="copy-btn"
                        onclick="copyCode(this)">کپی</button>
                <span class="comment"># ایجاد داشبورد</span>
                fig = plt.figure(figsize=(<span class="number">20</span>, <span class="number">16</span>))
                gs = fig.add_gridspec(<span class="number">4</span>, <span class="number">4</span>, hspace=<span
                      class="number">0.3</span>, wspace=<span class="number">0.3</span>)
    
                <span class="comment"># رنگ‌های سازگار</span>
                colors = [<span class="string">'#FF6B6B'</span>, <span class="string">'#4ECDC4'</span>, <span
                      class="string">'#45B7D1'</span>, <span class="string">'#96CEB4'</span>, <span
                      class="string">'#FFEAA7'</span>]
    
                <span class="comment"># 1. روند فروش ماهانه (بزرگ - بالا)</span>
                ax1 = fig.add_subplot(gs[<span class="number">0</span>, :])
                monthly_sales = df.groupby(df[<span class="string">'تاریخ'</span>].dt.to_period(<span
                      class="string">'M'</span>))[<span class="string">'درآمد'</span>].sum() / <span
                      class="number">1000000</span> <span class="comment"># میلیون تومان</span>
                monthly_sales.index = monthly_sales.index.to_timestamp()
    
                ax1.plot(monthly_sales.index, monthly_sales.values, linewidth=<span class="number">3</span>,
                color=<span class="string">'#2E86AB'</span>, marker=<span class="string">'o'</span>, markersize=<span
                      class="number">6</span>)
                ax1.fill_between(monthly_sales.index, monthly_sales.values, alpha=<span class="number">0.3</span>,
                color=<span class="string">'#2E86AB'</span>)
                ax1.set_title(<span class="string">'روند درآمد ماهانه (میلیون تومان)'</span>, fontsize=<span
                      class="number">16</span>, fontweight=<span class="string">'bold'</span>)
                ax1.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
                ax1.tick_params(axis=<span class="string">'x'</span>, rotation=<span class="number">45</span>)
    
                <span class="comment"># اضافه کردن میانگین</span>
                avg_monthly = monthly_sales.mean()
                ax1.axhline(y=avg_monthly, color=<span class="string">'red'</span>, linestyle=<span
                      class="string">'--'</span>,
                label=<span class="string">f'میانگین: {avg_monthly:.1f}M'</span>)
                ax1.legend()
    
                <span class="comment"># 2. فروش به تفکیک محصول (دایره‌ای)</span>
                ax2 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">0</span>])
                product_sales = df.groupby(<span class="string">'محصول'</span>)[<span class="string">'درآمد'</span>].sum()
                wedges, texts, autotexts = ax2.pie(product_sales.values, labels=product_sales.index,
                autopct=<span class="string">'%1.1f%%'</span>, colors=colors, startangle=<span class="number">90</span>)
                ax2.set_title(<span class="string">'سهم درآمد محصولات'</span>, fontweight=<span
                      class="string">'bold'</span>)
    
                <span class="comment"># 3. فروش به تفکیک منطقه (میله‌ای)</span>
                ax3 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">1</span>])
                region_sales = df.groupby(<span class="string">'منطقه'</span>)[<span class="string">'درآمد'</span>].sum() /
                <span class="number">1000000</span>
                bars = ax3.bar(region_sales.index, region_sales.values, color=colors)
                ax3.set_title(<span class="string">'درآمد به تفکیک منطقه'</span>, fontweight=<span
                      class="string">'bold'</span>)
                ax3.set_ylabel(<span class="string">'درآمد (میلیون تومان)'</span>)
                ax3.tick_params(axis=<span class="string">'x'</span>, rotation=<span class="number">45</span>)
    
                <span class="comment"># اضافه کردن مقادیر روی میله‌ها</span>
                <span class="keyword">for</span> bar, value <span class="keyword">in</span> zip(bars, region_sales.values):
                ax3.text(bar.get_x() + bar.get_width()/<span class="number">2</span>, bar.get_height() + <span
                      class="number">50</span>,
                <span class="string">f'{value:.0f}M'</span>, ha=<span class="string">'center'</span>, va=<span
                      class="string">'bottom'</span>, fontweight=<span class="string">'bold'</span>)
    
                <span class="comment"># 4. توزیع تعداد فروش (هیستوگرام)</span>
                ax4 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">2</span>])
                ax4.hist(df[<span class="string">'تعداد'</span>], bins=<span class="number">30</span>, alpha=<span
                      class="number">0.7</span>, color=<span class="string">'#FF6B6B'</span>, edgecolor=<span
                      class="string">'black'</span>)
                ax4.set_title(<span class="string">'توزیع تعداد فروش'</span>, fontweight=<span class="string">'bold'</span>)
                ax4.set_xlabel(<span class="string">'تعداد'</span>)
                ax4.set_ylabel(<span class="string">'فراوانی'</span>)
                ax4.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">0.3</span>)
    
                <span class="comment"># 5. فروش فصلی (میله‌ای گروهی)</span>
                ax5 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">3</span>])
                seasonal_data = df.groupby([<span class="string">'فصل'</span>, <span class="string">'محصول'</span>])[<span
                      class="string">'تعداد'</span>].sum().unstack()
                seasonal_data.plot(kind=<span class="string">'bar'</span>, ax=ax5, color=colors)
                ax5.set_title(<span class="string">'فروش فصلی به تفکیک محصول'</span>, fontweight=<span
                      class="string">'bold'</span>)
                ax5.set_xlabel(<span class="string">'فصل'</span>)
                ax5.set_ylabel(<span class="string">'تعداد فروش'</span>)
                ax5.legend(bbox_to_anchor=(<span class="number">1.05</span>, <span class="number">1</span>), loc=<span
                      class="string">'upper left'</span>)
                ax5.tick_params(axis=<span class="string">'x'</span>, rotation=<span class="number">0</span>)
            </div>
    
            <h3>🔥 مرحله 3: نمودارهای پیشرفته:</h3>
            <div class="code-block">
                <button class="copy-btn"
                        onclick="copyCode(this)">کپی</button>
                <span class="comment"># 6. نقشه حرارتی همبستگی</span>
                ax6 = fig.add_subplot(gs[<span class="number">2</span>, :<span class="number">2</span>])
                <span class="comment"># آماده‌سازی داده برای همبستگی</span>
                pivot_data = df.pivot_table(values=<span class="string">'درآمد'</span>, index=<span
                      class="string">'محصول'</span>,
                columns=<span class="string">'منطقه'</span>, aggfunc=<span class="string">'sum'</span>)
                im = ax6.imshow(pivot_data.values, cmap=<span class="string">'YlOrRd'</span>, aspect=<span
                      class="string">'auto'</span>)
    
                <span class="comment"># تنظیم برچسب‌ها</span>
                ax6.set_xticks(range(len(pivot_data.columns)))
                ax6.set_yticks(range(len(pivot_data.index)))
                ax6.set_xticklabels(pivot_data.columns)
                ax6.set_yticklabels(pivot_data.index)
                ax6.set_title(<span class="string">'نقشه حرارتی درآمد (محصول × منطقه)'</span>, fontweight=<span
                      class="string">'bold'</span>)
    
                <span class="comment"># اضافه کردن مقادیر</span>
                <span class="keyword">for</span> i <span class="keyword">in</span> range(len(pivot_data.index)):
                <span class="keyword">for</span> j <span class="keyword">in</span> range(len(pivot_data.columns)):
                value = pivot_data.iloc[i, j] / <span class="number">1000000</span> <span class="comment"># میلیون</span>
                color = <span class="string">'white'</span> <span class="keyword">if</span> value >
                pivot_data.values.max()/<span class="number">2000000</span> <span class="keyword">else</span> <span
                      class="string">'black'</span>
                ax6.text(j, i, <span class="string">f'{value:.0f}M'</span>, ha=<span class="string">'center'</span>,
                va=<span class="string">'center'</span>,
                color=color, fontweight=<span class="string">'bold'</span>)
    
                <span class="comment"># نوار رنگ</span>
                cbar = plt.colorbar(im, ax=ax6)
                cbar.set_label(<span class="string">'درآمد (تومان)'</span>)
    
                <span class="comment"># 7. پراکندگی قیمت و تعداد</span>
                ax7 = fig.add_subplot(gs[<span class="number">2</span>, <span class="number">2</span>:])
                <span class="keyword">for</span> i, product <span class="keyword">in</span> enumerate(products):
                product_data = df[df[<span class="string">'محصول'</span>] == product]
                ax7.scatter(product_data[<span class="string">'قیمت_واحد'</span>]/<span class="number">1000000</span>,
                product_data[<span class="string">'تعداد'</span>],
                alpha=<span class="number">0.6</span>, label=product, color=colors[i], s=<span class="number">30</span>)
    
                ax7.set_title(<span class="string">'رابطه قیمت و تعداد فروش'</span>, fontweight=<span
                      class="string">'bold'</span>)
                ax7.set_xlabel(<span class="string">'قیمت واحد (میلیون تومان)'</span>)
                ax7.set_ylabel(<span class="string">'تعداد فروش'</span>)
                ax7.legend(bbox_to_anchor=(<span class="number">1.05</span>, <span class="number">1</span>), loc=<span
                      class="string">'upper left'</span>)
                ax7.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
    
                <span class="comment"># 8. آمار کلیدی</span>
                ax8 = fig.add_subplot(gs[<span class="number">3</span>, :])
                ax8.axis(<span class="string">'off'</span>) <span class="comment"># حذف محورها</span>
    
                <span class="comment"># محاسبه آمار</span>
                total_revenue = df[<span class="string">'درآمد'</span>].sum()
                total_sales = df[<span class="string">'تعداد'</span>].sum()
                avg_price = df[<span class="string">'قیمت_واحد'</span>].mean()
                best_product = df.groupby(<span class="string">'محصول'</span>)[<span
                      class="string">'درآمد'</span>].sum().idxmax()
                best_region = df.groupby(<span class="string">'منطقه'</span>)[<span
                      class="string">'درآمد'</span>].sum().idxmax()
    
                <span class="comment"># نمایش آمار در قالب جدول زیبا</span>
                stats_text = <span class="string">f"""
                    📊 خلاصه آمار فروش سال 2023
    
                    💰 کل درآمد: {total_revenue:,.0f} تومان
                    📦 کل فروش: {total_sales:,} واحد
                    💵 میانگین قیمت: {avg_price:,.0f} تومان
                    🏆 محصول برتر: {best_product}
                    🌟 منطقه برتر: {best_region}
                    📈 میانگین درآمد ماهانه: {total_revenue/12:,.0f} تومان
                    """</span>
    
                ax8.text(<span class="number">0.5</span>, <span class="number">0.5</span>, stats_text,
                transform=ax8.transAxes,
                fontsize=<span class="number">14</span>, ha=<span class="string">'center'</span>, va=<span
                      class="string">'center'</span>,
                bbox=dict(boxstyle=<span class="string">'round,pad=1'</span>, facecolor=<span
                      class="string">'lightblue'</span>, alpha=<span class="number">0.8</span>))
    
                <span class="comment"># عنوان کلی</span>
                fig.suptitle(<span class="string">'📊 داشبورد تحلیل فروش - سال 2023'</span>,
                fontsize=<span class="number">24</span>, fontweight=<span class="string">'bold'</span>, y=<span
                      class="number">0.98</span>)
    
                <span class="comment"># ذخیره داشبورد</span>
                plt.savefig(<span class="string">'sales_dashboard.png'</span>, dpi=<span class="number">300</span>,
                bbox_inches=<span class="string">'tight'</span>)
                plt.savefig(<span class="string">'sales_dashboard.pdf'</span>, bbox_inches=<span
                      class="string">'tight'</span>)
    
                plt.show()
            </div>
    
            <h3>📋 مرحله 4: گزارش تحلیلی:</h3>
            <div class="code-block">
                <button class="copy-btn"
                        onclick="copyCode(this)">کپی</button>
                <span class="comment"># تولید گزارش تحلیلی</span>
                <span class="keyword">def</span> <span class="function">generate_analysis_report</span>(df):
                <span class="string">"""تولید گزارش تحلیلی از داده‌ها"""</span>
    
                report = []
                report.append(<span class="string">"🔍 گزارش تحلیل فروش\n" + "="*50</span>)
    
                <span class="comment"># آمار کلی</span>
                total_revenue = df[<span class="string">'درآمد'</span>].sum()
                total_units = df[<span class="string">'تعداد'</span>].sum()
                report.append(<span class="string">f"\n📊 آمار کلی:"</span>)
                report.append(<span class="string">f"- کل درآمد: {total_revenue:,.0f} تومان"</span>)
                report.append(<span class="string">f"- کل واحد فروخته شده: {total_units:,}"</span>)
                report.append(<span class="string">f"- میانگین درآمد روزانه: {total_revenue/365:,.0f} تومان"</span>)
    
                <span class="comment"># تحلیل محصولات</span>
                product_analysis = df.groupby(<span class="string">'محصول'</span>).agg({
                <span class="string">'درآمد'</span>: <span class="string">'sum'</span>,
                <span class="string">'تعداد'</span>: <span class="string">'sum'</span>,
                <span class="string">'قیمت_واحد'</span>: <span class="string">'mean'</span>
                }).sort_values(<span class="string">'درآمد'</span>, ascending=<span class="keyword">False</span>)
    
                report.append(<span class="string">f"\n🏆 رتبه‌بندی محصولات (بر اساس درآمد):"</span>)
                <span class="keyword">for</span> i, (product, row) <span class="keyword">in</span>
                enumerate(product_analysis.iterrows(), <span class="number">1</span>):
                share = (row[<span class="string">'درآمد'</span>] / total_revenue) * <span class="number">100</span>
                report.append(<span class="string">f"{i}. {product}: {row['درآمد']:,.0f} تومان ({share:.1f}%)"</span>)
    
                <span class="comment"># تحلیل مناطق</span>
                region_analysis = df.groupby(<span class="string">'منطقه'</span>)[<span
                      class="string">'درآمد'</span>].sum().sort_values(ascending=<span class="keyword">False</span>)
                report.append(<span class="string">f"\n🗺️ عملکرد مناطق:"</span>)
                <span class="keyword">for</span> i, (region, revenue) <span class="keyword">in</span>
                enumerate(region_analysis.items(), <span class="number">1</span>):
                share = (revenue / total_revenue) * <span class="number">100</span>
                report.append(<span class="string">f"{i}. {region}: {revenue:,.0f} تومان ({share:.1f}%)"</span>)
    
                <span class="comment"># تحلیل فصلی</span>
                seasonal_analysis = df.groupby(<span class="string">'فصل'</span>)[<span
                      class="string">'درآمد'</span>].sum().sort_values(ascending=<span class="keyword">False</span>)
                report.append(<span class="string">f"\n🌡️ تحلیل فصلی:"</span>)
                <span class="keyword">for</span> season, revenue <span class="keyword">in</span> seasonal_analysis.items():
                share = (revenue / total_revenue) * <span class="number">100</span>
                report.append(<span class="string">f"- {season}: {revenue:,.0f} تومان ({share:.1f}%)"</span>)
    
                <span class="comment"># نتیجه‌گیری</span>
                best_product = product_analysis.index[<span class="number">0</span>]
                best_region = region_analysis.index[<span class="number">0</span>]
                best_season = seasonal_analysis.index[<span class="number">0</span>]
    
                report.append(<span class="string">f"\n💡 نتیجه‌گیری و توصیه‌ها:"</span>)
                report.append(<span class="string">f"- محصول پرفروش: {best_product}"</span>)
                report.append(<span class="string">f"- منطقه پردرآمد: {best_region}"</span>)
                report.append(<span class="string">f"- فصل پرفروش: {best_season}"</span>)
                report.append(<span class="string">f"- توصیه: تمرکز بیشتر روی {best_product} در منطقه {best_region}"</span>)
    
                <span class="keyword">return</span> <span class="string">"\n"</span>.join(report)
    
                <span class="comment"># تولید و نمایش گزارش</span>
                analysis_report = generate_analysis_report(df)
                <span class="function">print</span>(analysis_report)
    
                <span class="comment"># ذخیره گزارش</span>
                <span class="keyword">with</span> open(<span class="string">'sales_analysis_report.txt'</span>, <span
                      class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>) <span
                      class="keyword">as</span> f:
                f.write(analysis_report)
    
                <span class="function">print</span>(<span class="string">"\n✅ پروژه کامل شد!"</span>)
                <span class="function">print</span>(<span class="string">"📁 فایل‌های تولید شده:"</span>)
                <span class="function">print</span>(<span class="string">"- sales_dashboard.png"</span>)
                <span class="function">print</span>(<span class="string">"- sales_dashboard.pdf"</span>)
                <span class="function">print</span>(<span class="string">"- sales_analysis_report.txt"</span>)
            </div>
    
            <div class="exercise-box">
                <div class="exercise-title">🎯 تمرین خانگی:</div>
                <ul>
                    <li>داده‌های خودتان را جایگزین کنید</li>
                    <li>نمودارهای جدید اضافه کنید</li>
                    <li>رنگ‌بندی و استایل را تغییر دهید</li>
                    <li>گزارش تحلیلی را گسترش دهید</li>
                    <li>داشبورد تعاملی با widgets ایجاد کنید</li>
                </ul>
            </div>
    
            <div class="tip-box">
                <div class="tip-title">💡 نکات پروژه:</div>
                <ul>
                    <li>همیشه داده‌ها را بررسی و تمیز کنید</li>
                    <li>از رنگ‌های هماهنگ استفاده کنید</li>
                    <li>عناوین واضح و مفید انتخاب کنید</li>
                    <li>داشبورد را ساده و قابل فهم نگه دارید</li>
                    <li>گزارش متنی را همراه نمودارها ارائه دهید</li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- اسلاید 13: جمع‌بندی -->
    <div class="slide"
         id="slide13">
        <div class="slide-number">13/13</div>
        <button class="expand-btn"
                onclick="expandSlide(this)">🔍 بزرگنمایی</button>
        <button class="close-btn"
                onclick="closeSlide(this)">×</button>
        <div class="icon">🎯</div>
        <div class="slide-title">جمع‌بندی و جلسه بعد</div>
        <div class="slide-content">
            <h3>📚 خلاصه آموخته‌ها:</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number">10+</span>
                    <span class="stat-label">نوع نمودار</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">50+</span>
                    <span class="stat-label">تابع و متد</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">100+</span>
                    <span class="stat-label">تنظیمات</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">1</span>
                    <span class="stat-label">پروژه کامل</span>
                </div>
            </div>
    
            <h3>✅ مهارت‌های کسب شده:</h3>
            <div class="method-grid">
                <div class="method-card">
                    <div class="method-name">📈 نمودارهای خطی</div>
                    <div class="method-desc">روندها و تغییرات زمانی</div>
                </div>
                <div class="method-card">
                    <div class="method-name">📊 نمودارهای میله‌ای</div>
                    <div class="method-desc">مقایسه دسته‌ها</div>
                </div>
                <div class="method-card">
                    <div class="method-name">🥧 نمودارهای دایره‌ای</div>
                    <div class="method-desc">نسبت‌ها و درصدها</div>
                </div>
                <div class="method-card">
                    <div class="method-name">📊 هیستوگرام</div>
                    <div class="method-desc">توزیع داده‌ها</div>
                </div>
                <div class="method-card">
                    <div class="method-name">⚫ پراکندگی</div>
                    <div class="method-desc">روابط بین متغیرها</div>
                </div>
                <div class="method-card">
                    <div class="method-name">🎨 سفارشی‌سازی</div>
                    <div class="method-desc">رنگ، فونت، استایل</div>
                </div>
                <div class="method-card">
                    <div class="method-name">🔢 Subplots</div>
                    <div class="method-desc">چندین نمودار</div>
                </div>
                <div class="method-card">
                    <div class="method-name">💾 ذخیره</div>
                    <div class="method-desc">فرمت‌های مختلف</div>
                </div>
            </div>
    
            <h3>🚀 پروژه‌های پیشنهادی:</h3>
            <div class="example-box">
                <div class="example-title">💼 پروژه‌های عملی:</div>
                <ul>
                    <li><strong>تحلیل بورس:</strong> نمودار قیمت سهام و شاخص‌ها</li>
                    <li><strong>آب و هوا:</strong> تحلیل داده‌های هواشناسی</li>
                    <li><strong>فروش:</strong> داشبورد فروش و مشتریان</li>
                    <li><strong>ورزشی:</strong> آمار بازیکنان و تیم‌ها</li>
                    <li><strong>آموزشی:</strong> تحلیل نمرات و عملکرد</li>
                    <li><strong>شبکه‌های اجتماعی:</strong> تحلیل داده‌های کاربران</li>
                </ul>
            </div>
    
            <h3>📖 منابع مطالعه بیشتر:</h3>
            <div class="method-grid">
                <div class="method-card">
                    <div class="method-name">📚 مستندات رسمی</div>
                    <div class="method-desc">matplotlib.org</div>
                </div>
                <div class="method-card">
                    <div class="method-name">🎨 گالری نمودارها</div>
                    <div class="method-desc">matplotlib.org/gallery</div>
                </div>
                <div class="method-card">
                    <div class="method-name">📊 Seaborn</div>
                    <div class="method-desc">کتابخانه مکمل</div>
                </div>
                <div class="method-card">
                    <div class="method-name">🌐 Plotly</div>
                    <div class="method-desc">نمودارهای تعاملی</div>
                </div>
            </div>
    
            <h3>🔮 جلسه بعد: Seaborn و نمودارهای آماری</h3>
            <div class="example-box">
                <div class="example-title">📋 سرفصل جلسه ششم:</div>
                <ul>
                    <li>آشنایی با Seaborn</li>
                    <li>نمودارهای آماری پیشرفته</li>
                    <li>Box plot و Violin plot</li>
                    <li>Heatmap و Correlation matrix</li>
                    <li>Pair plot و Joint plot</li>
                    <li>تم‌ها و استایل‌های آماده</li>
                    <li>تحلیل داده‌های دسته‌بندی شده</li>
                    <li>پروژه: تحلیل آماری کامل</li>
                </ul>
            </div>
    
            <h3>🎯 تکالیف تا جلسه بعد:</h3>
            <div class="exercise-box">
                <div class="exercise-title">📝 تمرین‌های عملی:</div>
                <ul>
                    <li>پروژه داشبورد را با داده‌های واقعی تکرار کنید</li>
                    <li>5 نمودار مختلف با داده‌های خودتان بسازید</li>
                    <li>یک گزارش تحلیلی کامل تهیه کنید</li>
                    <li>نمودارها را در فرمت‌های مختلف ذخیره کنید</li>
                    <li>کدهای جلسه را مرور و تست کنید</li>
                </ul>
            </div>
    
            <h3>❓ سوالات متداول:</h3>
            <div class="tip-box">
                <div class="tip-title">🔧 راه‌حل مشکلات رایج:</div>
                <ul>
                    <li><strong>فونت فارسی:</strong> از Tahoma یا B Nazanin استفاده کنید</li>
                    <li><strong>کیفیت پایین:</strong> DPI را افزایش دهید (300)</li>
                    <li><strong>حجم زیاد:</strong> از فرمت SVG یا کاهش DPI</li>
                    <li><strong>چیدمان بد:</strong> از tight_layout() استفاده کنید</li>
                    <li><strong>رنگ‌های نامناسب:</strong> از پالت‌های آماده</li>
                </ul>
            </div>
    
            <div class="warning-box">
                <div class="warning-title">⚠️ نکات مهم:</div>
                <ul>
                    <li>همیشه کدها را در محیط مناسب تست کنید</li>
                    <li>داده‌ها را قبل از رسم بررسی کنید</li>
                    <li>نمودار مناسب برای نوع داده انتخاب کنید</li>
                    <li>از رنگ‌های مناسب برای مخاطب استفاده کنید</li>
                </ul>
            </div>
    
            <div
                 style="text-align: center; margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 15px; color: white;">
                <h3 style="margin-bottom: 15px;">🎉 تبریک!</h3>
                <p style="font-size: 16px; margin-bottom: 10px;">شما با موفقیت جلسه پنجم را به پایان رساندید</p>
                <p style="font-size: 14px;">اکنون قادر به ایجاد نمودارهای حرفه‌ای با Matplotlib هستید</p>
                <div style="margin-top: 15px; font-size: 18px;">
                    📊 آماده جلسه بعد: Seaborn! 🚀
                </div>
            </div>
        </div>
    </div>
    
    </div>
    </div>
    
    <script>
        // انیمیشن ورود اسلایدها
        function animateSlides() {
            const slides = document.querySelectorAll('.slide');
            slides.forEach((slide, index) => {
                slide.style.opacity = '0';
                slide.style.transform = 'translateY(50px)';
                setTimeout(() => {
                    slide.style.transition = 'all 0.6s ease';
                    slide.style.opacity = '1';
                    slide.style.transform = 'translateY(0)';
                }, index * 100);
            });
        }

        // بزرگنمایی اسلاید
        function expandSlide(button) {
            const slide = button.closest('.slide');
            const overlay = document.getElementById('overlay');

            slide.classList.add('expanded');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // بستن اسلاید بزرگ شده
        function closeSlide(button) {
            const slide = button.closest('.slide');
            const overlay = document.getElementById('overlay');

            slide.classList.remove('expanded');
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // بستن با کلیک روی overlay
        document.getElementById('overlay').addEventListener('click', function () {
            const expandedSlide = document.querySelector('.slide.expanded');
            if (expandedSlide) {
                closeSlide(expandedSlide.querySelector('.close-btn'));
            }
        });

        // بستن با کلید Escape
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                const expandedSlide = document.querySelector('.slide.expanded');
                if (expandedSlide) {
                    closeSlide(expandedSlide.querySelector('.close-btn'));
                }
            }
        });

        // کپی کردن کد
        function copyCode(button) {
            const codeBlock = button.parentElement;
            const code = codeBlock.textContent.replace('کپی', '').trim();

            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.textContent;
                button.textContent = '✅ کپی شد';
                button.style.background = '#28a745';

                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '#667eea';
                }, 2000);
            });
        }

        // اسکرول نرم برای navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });

                    // به‌روزرسانی active item
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        // تشخیص اسلاید فعال هنگام اسکرول
        function updateActiveNav() {
            const slides = document.querySelectorAll('.slide');
            const navItems = document.querySelectorAll('.nav-item');

            let currentSlide = '';

            slides.forEach(slide => {
                const rect = slide.getBoundingClientRect();
                if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                    currentSlide = slide.id;
                }
            });

            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === `#${currentSlide}`) {
                    item.classList.add('active');
                }
            });
        }

        // رویدادها
        window.addEventListener('scroll', updateActiveNav);
        window.addEventListener('load', () => {
            animateSlides();
            updateActiveNav();
        });

        // اضافه کردن افکت hover به اسلایدها
        document.querySelectorAll('.slide').forEach(slide => {
            slide.addEventListener('mouseenter', function () {
                this.style.transform = 'translateY(-10px) scale(1.02)';
            });

            slide.addEventListener('mouseleave', function () {
                if (!this.classList.contains('expanded')) {
                    this.style.transform = 'translateY(0) scale(1)';
                }
            });
        });

        // انیمیشن برای آمار
        function animateStats() {
            const statNumbers = document.querySelectorAll('.stat-number');
            statNumbers.forEach(stat => {
                const finalNumber = stat.textContent;
                if (!isNaN(finalNumber)) {
                    let currentNumber = 0;
                    const increment = finalNumber / 50;
                    const timer = setInterval(() => {
                        currentNumber += increment;
                        if (currentNumber >= finalNumber) {
                            stat.textContent = finalNumber;
                            clearInterval(timer);
                        } else {
                            stat.textContent = Math.floor(currentNumber);
                        }
                    }, 30);
                }
            });
        }

        // اجرای انیمیشن آمار پس از لود صفحه
        setTimeout(animateStats, 1000);
    </script>
    </body>
    
    </html>