<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <title>Ø¢Ù…ÙˆØ²Ø´ Ù…Ø¹Ù…Ø§Ø±ÛŒ Hexagonal Ø¨Ø§ Django</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e4e4e4;
            line-height: 1.8;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #0f3460 0%, #533483 100%);
            border-radius: 20px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        header h1 {
            font-size: 2.5em;
            color: #00d9ff;
            margin-bottom: 15px;
            text-shadow: 0 0 20px rgba(0, 217, 255, 0.5);
        }

        header p {
            font-size: 1.2em;
            color: #b8b8b8;
        }

        /* Navigation */
        nav {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        nav h3 {
            color: #00d9ff;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        nav ul li a {
            display: block;
            padding: 10px 20px;
            background: linear-gradient(135deg, #533483 0%, #0f3460 100%);
            color: #fff;
            text-decoration: none;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        nav ul li a:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(83, 52, 131, 0.5);
        }

        /* Section Styles */
        section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        section h2 {
            color: #00d9ff;
            font-size: 1.8em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(0, 217, 255, 0.3);
        }

        section h3 {
            color: #ff6b6b;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
        }

        section h4 {
            color: #ffd93d;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }

        section p {
            margin-bottom: 15px;
            text-align: justify;
        }

        /* Code Block Styles */
        .code-block {
            background: #0d1117;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            overflow-x: auto;
            border: 1px solid #30363d;
            position: relative;
        }

        .code-block::before {
            content: attr(data-filename);
            position: absolute;
            top: 0;
            right: 0;
            background: linear-gradient(135deg, #238636 0%, #2ea043 100%);
            color: #fff;
            padding: 5px 15px;
            border-radius: 0 15px 0 10px;
            font-size: 0.85em;
        }

        .code-block code {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            color: #c9d1d9;
            direction: ltr;
            text-align: left;
            display: block;
            white-space: pre;
        }

        /* Highlight.js styling override */
        .code-block pre {
            margin: 0;
            padding: 0;
        }

        /* Syntax Highlighting removed - using Highlight.js */

        /* Diagram Styles */
        .diagram {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d1b4e 100%);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            text-align: center;
        }

        .hexagon-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 30px;
            margin: 30px 0;
        }

        .hexagon {
            width: 150px;
            height: 170px;
            background: linear-gradient(135deg, #00d9ff 0%, #533483 100%);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            font-weight: bold;
            color: #fff;
            transition: all 0.3s ease;
        }

        .hexagon:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(0, 217, 255, 0.5);
        }

        .hexagon.core {
            width: 200px;
            height: 230px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ffd93d 100%);
        }

        /* Layer Diagram */
        .layer-diagram {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 600px;
            margin: 30px auto;
        }

        .layer {
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .layer:hover {
            transform: scale(1.02);
        }

        .layer.adapter-in {
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
        }

        .layer.port-in {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .layer.usecase {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .layer.domain {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffd93d 100%);
        }

        .layer.port-out {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        .layer.adapter-out {
            background: linear-gradient(135deg, #44a08d 0%, #4ecdc4 100%);
        }

        /* Arrow */
        .arrow {
            text-align: center;
            font-size: 2em;
            color: #00d9ff;
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.1) 0%, rgba(83, 52, 131, 0.1) 100%);
            border-right: 4px solid #00d9ff;
            padding: 20px;
            border-radius: 0 15px 15px 0;
            margin: 20px 0;
        }

        .info-box.warning {
            border-right-color: #ffd93d;
            background: linear-gradient(135deg, rgba(255, 217, 61, 0.1) 0%, rgba(255, 107, 107, 0.1) 100%);
        }

        .info-box.success {
            background: linear-gradient(135deg, rgba(46, 160, 67, 0.1) 0%, rgba(35, 134, 54, 0.1) 100%);
            border-right-color: #2ea043;
        }

        /* List Styles */
        ul, ol {
            margin: 15px 0;
            padding-right: 30px;
        }

        ul li, ol li {
            margin-bottom: 10px;
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            overflow: hidden;
        }

        table th {
            background: linear-gradient(135deg, #533483 0%, #0f3460 100%);
            padding: 15px;
            text-align: right;
            color: #00d9ff;
        }

        table td {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Folder Structure */
        .folder-structure {
            background: #0d1117;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            direction: ltr;
            text-align: left;
            border: 1px solid #30363d;
        }

        .folder-structure .folder {
            color: #79c0ff;
        }

        .folder-structure .file {
            color: #c9d1d9;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 0;
        }

        .tab {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 10px 10px 0 0;
            color: #b8b8b8;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: #0d1117;
            color: #00d9ff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            margin-top: 40px;
        }

        footer p {
            color: #8b949e;
        }

        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            section {
                padding: 20px;
            }

            nav ul {
                flex-direction: column;
            }

            .hexagon-container {
                flex-direction: column;
            }
        }

        /* Scroll to top */
        .scroll-top {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #00d9ff 0%, #533483 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .scroll-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 217, 255, 0.4);
        }

        /* Flow Diagram */
        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
            padding: 30px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
        }

        .flow-box {
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: bold;
            text-align: center;
            min-width: 120px;
        }

        .flow-box.request { background: #4ecdc4; color: #000; }
        .flow-box.adapter { background: #667eea; }
        .flow-box.usecase { background: #f5576c; }
        .flow-box.domain { background: #ffd93d; color: #000; }
        .flow-box.response { background: #2ea043; }

        .flow-arrow {
            font-size: 1.5em;
            color: #00d9ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>ğŸ”· Ù…Ø¹Ù…Ø§Ø±ÛŒ Hexagonal</h1>
            <p>Ø¢Ù…ÙˆØ²Ø´ Ú©Ø§Ù…Ù„ Ø¨Ø§ Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÛŒ Ø³ÛŒØ³ØªÙ… Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø¯Ø± Django</p>
        </header>

        <!-- Navigation -->
        <nav>
            <h3>ğŸ“‘ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨</h3>
            <ul>
                <li><a href="#intro">Ù…Ù‚Ø¯Ù…Ù‡</a></li>
                <li><a href="#concepts">Ù…ÙØ§Ù‡ÛŒÙ… Ú©Ù„ÛŒØ¯ÛŒ</a></li>
                <li><a href="#ports">Ports</a></li>
                <li><a href="#adapters">Adapters</a></li>
                <li><a href="#structure">Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡</a></li>
                <li><a href="#domain">Domain Layer</a></li>
                <li><a href="#usecases">Use Cases</a></li>
                <li><a href="#implementation">Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ</a></li>
                <li><a href="#testing">ØªØ³Øªâ€ŒÙ†ÙˆÛŒØ³ÛŒ</a></li>
                <li><a href="#summary">Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ</a></li>
            </ul>
        </nav>

        <!-- Section 1: Introduction -->
        <section id="intro">
            <h2>ğŸ“– Û±. Ù…Ù‚Ø¯Ù…Ù‡</h2>
            
            <h3>Ù…Ø¹Ù…Ø§Ø±ÛŒ Hexagonal Ú†ÛŒØ³ØªØŸ</h3>
            <p>
                Ù…Ø¹Ù…Ø§Ø±ÛŒ Hexagonal (Ú©Ù‡ Ø¨Ø§ Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ports and Adapters ÛŒØ§ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø´Ø´â€ŒØ¶Ù„Ø¹ÛŒ Ù†ÛŒØ² Ø´Ù†Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯) 
                ÛŒÚ© Ø§Ù„Ú¯ÙˆÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± Ø§Ø³Øª Ú©Ù‡ ØªÙˆØ³Ø· <strong>Alistair Cockburn</strong> Ø¯Ø± Ø³Ø§Ù„ Û²Û°Û°Ûµ Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯.
                Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ Ø§ÛŒÙ† Ù…Ø¹Ù…Ø§Ø±ÛŒØŒ Ø¬Ø¯Ø§Ø³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± (Domain) Ø§Ø² Ø²ÛŒØ±Ø³Ø§Ø®Øªâ€ŒÙ‡Ø§ Ùˆ ÙÙ†Ø§ÙˆØ±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Ø±Ø¬ÛŒ Ø§Ø³Øª.
            </p>

            <div class="info-box">
                <strong>ğŸ’¡ Ø§ÛŒØ¯Ù‡ Ø§ØµÙ„ÛŒ:</strong>
                Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø¨Ø§ÛŒØ¯ Ø¨ØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ ÛŒÚ© Ø§Ù†Ø¯Ø§Ø²Ù‡ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ØŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø±ØŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± ÛŒØ§ Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ batch 
                Ø§Ø¬Ø±Ø§ Ø´ÙˆØ¯ Ùˆ Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø³ØªÙ‚Ù„ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ùˆ Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ ØªÙˆØ³Ø¹Ù‡ Ùˆ ØªØ³Øª Ø´ÙˆØ¯.
            </div>

            <h3>Ú†Ø±Ø§ HexagonalØŸ</h3>
            <p>Ø´Ú©Ù„ Ø´Ø´â€ŒØ¶Ù„Ø¹ÛŒ ØµØ±ÙØ§Ù‹ ÛŒÚ© Ù†Ù…Ø§ÛŒØ´ Ø¨ØµØ±ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯:</p>
            <ul>
                <li>Ú†Ù†Ø¯ÛŒÙ† Ø±Ø§Ù‡ Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ (Inbound)</li>
                <li>Ú†Ù†Ø¯ÛŒÙ† Ø±Ø§Ù‡ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÙˆØ¬ Ø§Ø² Ø³ÛŒØ³ØªÙ… ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ (Outbound)</li>
                <li>Ù‡Ø³ØªÙ‡ Ù…Ø±Ú©Ø²ÛŒ (Domain) Ø§Ø² Ù‡Ù…Ù‡ Ø·Ø±Ù Ù…Ø­Ø§ÙØ¸Øª Ø´Ø¯Ù‡ Ø§Ø³Øª</li>
            </ul>

            <!-- Hexagon Diagram -->
            <div class="diagram">
                <h4 style="color: #00d9ff; margin-bottom: 20px;">Ù†Ù…Ø§ÛŒ Ú©Ù„ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Hexagonal</h4>
                <div class="hexagon-container">
                    <div class="hexagon">
                        <span>Inbound<br>Adapter<br>(API/UI)</span>
                    </div>
                    <div class="hexagon core">
                        <span>ğŸ¯<br>Domain<br>(Ù‡Ø³ØªÙ‡ Ø§ØµÙ„ÛŒ)</span>
                    </div>
                    <div class="hexagon">
                        <span>Outbound<br>Adapter<br>(DB/Services)</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Key Concepts -->
        <section id="concepts">
            <h2>ğŸ”‘ Û². Ù…ÙØ§Ù‡ÛŒÙ… Ú©Ù„ÛŒØ¯ÛŒ</h2>

            <h3>Ø§Ø¬Ø²Ø§ÛŒ Ø§ØµÙ„ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ</h3>
            
            <table>
                <thead>
                    <tr>
                        <th>Ø¬Ø²Ø¡</th>
                        <th>ØªÙˆØ¶ÛŒØ­</th>
                        <th>Ù…Ø«Ø§Ù„</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Domain</strong></td>
                        <td>Ù‡Ø³ØªÙ‡ Ø§ØµÙ„ÛŒØŒ Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±ØŒ Ù…Ø¯Ù„â€ŒÙ‡Ø§</td>
                        <td>UserDomain, OrderDomain</td>
                    </tr>
                    <tr>
                        <td><strong>Use Cases</strong></td>
                        <td>Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒØŒ Ø¹Ù…Ù„ÛŒØ§Øª Ø§ØµÙ„ÛŒ</td>
                        <td>RegisterUser, LoginUser</td>
                    </tr>
                    <tr>
                        <td><strong>Inbound Ports</strong></td>
                        <td>Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…</td>
                        <td>UserServicePort</td>
                    </tr>
                    <tr>
                        <td><strong>Outbound Ports</strong></td>
                        <td>Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Ø§Ø² Ø³ÛŒØ³ØªÙ…</td>
                        <td>UserRepositoryPort</td>
                    </tr>
                    <tr>
                        <td><strong>Inbound Adapters</strong></td>
                        <td>Ù…Ø¨Ø¯Ù„â€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ</td>
                        <td>REST API, GraphQL, CLI</td>
                    </tr>
                    <tr>
                        <td><strong>Outbound Adapters</strong></td>
                        <td>Ù…Ø¨Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ</td>
                        <td>Database, External APIs</td>
                    </tr>
                </tbody>
            </table>

            <!-- Layer Diagram -->
            <div class="layer-diagram">
                <div class="layer adapter-in">ğŸŒ Inbound Adapter (Django Views)</div>
                <div class="arrow">â¬‡ï¸</div>
                <div class="layer port-in">ğŸšª Inbound Port (Service Interface)</div>
                <div class="arrow">â¬‡ï¸</div>
                <div class="layer usecase">âš™ï¸ Use Case (Application Logic)</div>
                <div class="arrow">â¬‡ï¸</div>
                <div class="layer domain">ğŸ¯ Domain (Business Logic)</div>
                <div class="arrow">â¬‡ï¸</div>
                <div class="layer port-out">ğŸšª Outbound Port (Repository Interface)</div>
                <div class="arrow">â¬‡ï¸</div>
                <div class="layer adapter-out">ğŸ’¾ Outbound Adapter (Django ORM)</div>
            </div>

            <h3>Ù‚Ø§Ø¹Ø¯Ù‡ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ (Dependency Rule)</h3>
            <div class="info-box warning">
                <strong>âš ï¸ Ù‚Ø§Ø¹Ø¯Ù‡ Ø·Ù„Ø§ÛŒÛŒ:</strong>
                ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ ÙÙ‚Ø· Ø¨Ù‡ Ø³Ù…Øª Ø¯Ø§Ø®Ù„ Ù‡Ø³ØªÙ†Ø¯. Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ±ÙˆÙ†ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ù‡ Ø¯Ø§Ø®Ù„ ÙˆØ§Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯ØŒ 
                Ø§Ù…Ø§ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ù‡Ø±Ú¯Ø² Ù†Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ±ÙˆÙ†ÛŒ ÙˆØ§Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.
            </div>
        </section>

        <!-- Section 3: Ports -->
        <section id="ports">
            <h2>ğŸšª Û³. Ports (Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§)</h2>

            <h3>Inbound Ports (Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ)</h3>
            <p>
                Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§ÛŒÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ <strong>Ú†Ù‡ Ø¹Ù…Ù„ÛŒØ§ØªÛŒ</strong> Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø±ÙˆÛŒ Ø³ÛŒØ³ØªÙ… Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯.
                Ø§ÛŒÙ† Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ ØªÙˆØ³Ø· Use Caseâ€ŒÙ‡Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
            </p>

            <div class="code-block" data-filename="core/ports/inbound/user_service_port.py">
<code><span class="keyword">from</span> abc <span class="keyword">import</span> ABC, abstractmethod
<span class="keyword">from</span> typing <span class="keyword">import</span> Optional
<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain


<span class="keyword">class</span> <span class="class-name">UserServicePort</span>(ABC):
    <span class="string">"""
    Ù¾ÙˆØ±Øª ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆÛŒØ³ Ú©Ø§Ø±Ø¨Ø±
    Ø§ÛŒÙ† Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú†Ù‡ Ø¹Ù…Ù„ÛŒØ§ØªÛŒ Ø±ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø± Ù‚Ø§Ø¨Ù„ Ø§Ù†Ø¬Ø§Ù… Ø§Ø³Øª
    """</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">register_user</span>(self, user_data: dict) -> UserDomain:
        <span class="string">"""Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"""</span>
        <span class="keyword">pass</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">login_user</span>(self, username: <span class="class-name">str</span>, password: <span class="class-name">str</span>) -> UserDomain:
        <span class="string">"""ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…"""</span>
        <span class="keyword">pass</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">get_user_by_id</span>(self, user_id: <span class="class-name">str</span>) -> Optional[UserDomain]:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡"""</span>
        <span class="keyword">pass</span>
</code>
            </div>

            <h3>Outbound Ports (Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ)</h3>
            <p>
                Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§ÛŒÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ø³ÛŒØ³ØªÙ… <strong>Ú†Ú¯ÙˆÙ†Ù‡</strong> Ø¨Ø§ Ù…Ù†Ø§Ø¨Ø¹ Ø®Ø§Ø±Ø¬ÛŒ 
                (Ø¯ÛŒØªØ§Ø¨ÛŒØ³ØŒ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø®Ø§Ø±Ø¬ÛŒ Ùˆ...) Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø±Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
            </p>

            <div class="code-block" data-filename="core/ports/outbound/user_repository_port.py">
<code><span class="keyword">from</span> abc <span class="keyword">import</span> ABC, abstractmethod
<span class="keyword">from</span> typing <span class="keyword">import</span> Optional, List
<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain


<span class="keyword">class</span> <span class="class-name">UserRepositoryPort</span>(ABC):
    <span class="string">"""
    Ù¾ÙˆØ±Øª Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ø±Ø¨Ø±
    Ø§ÛŒÙ† Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú†Ú¯ÙˆÙ†Ù‡ Ø¨Ø§ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø±Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯
    """</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">save</span>(self, user: UserDomain) -> UserDomain:
        <span class="string">"""Ø°Ø®ÛŒØ±Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³"""</span>
        <span class="keyword">pass</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">find_by_id</span>(self, user_id: <span class="class-name">str</span>) -> Optional[UserDomain]:
        <span class="string">"""Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡"""</span>
        <span class="keyword">pass</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">find_by_username</span>(self, username: <span class="class-name">str</span>) -> Optional[UserDomain]:
        <span class="string">"""Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"""</span>
        <span class="keyword">pass</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">find_by_email</span>(self, email: <span class="class-name">str</span>) -> Optional[UserDomain]:
        <span class="string">"""Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø§ÛŒÙ…ÛŒÙ„"""</span>
        <span class="keyword">pass</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">delete</span>(self, user_id: <span class="class-name">str</span>) -> <span class="class-name">bool</span>:
        <span class="string">"""Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">pass</span>
</code>
            </div>

            <div class="code-block" data-filename="core/ports/outbound/auth_service_port.py">
<code><span class="keyword">from</span> abc <span class="keyword">import</span> ABC, abstractmethod


<span class="keyword">class</span> <span class="class-name">AuthServicePort</span>(ABC):
    <span class="string">"""
    Ù¾ÙˆØ±Øª Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆÛŒØ³ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
    """</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">hash_password</span>(self, password: <span class="class-name">str</span>) -> <span class="class-name">str</span>:
        <span class="string">"""Ù‡Ø´ Ú©Ø±Ø¯Ù† Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"""</span>
        <span class="keyword">pass</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">verify_password</span>(self, plain_password: <span class="class-name">str</span>, hashed_password: <span class="class-name">str</span>) -> <span class="class-name">bool</span>:
        <span class="string">"""ØªØ§ÛŒÛŒØ¯ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"""</span>
        <span class="keyword">pass</span>


<span class="keyword">class</span> <span class="class-name">TokenServicePort</span>(ABC):
    <span class="string">"""
    Ù¾ÙˆØ±Øª Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆÛŒØ³ ØªÙˆÚ©Ù†
    """</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">generate_token</span>(self, user_id: <span class="class-name">str</span>) -> <span class="class-name">str</span>:
        <span class="string">"""ØªÙˆÙ„ÛŒØ¯ ØªÙˆÚ©Ù† JWT"""</span>
        <span class="keyword">pass</span>

    <span class="decorator">@abstractmethod</span>
    <span class="keyword">def</span> <span class="function">verify_token</span>(self, token: <span class="class-name">str</span>) -> Optional[<span class="class-name">str</span>]:
        <span class="string">"""ØªØ§ÛŒÛŒØ¯ ØªÙˆÚ©Ù† Ùˆ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† user_id"""</span>
        <span class="keyword">pass</span>
</code>
            </div>

            <div class="info-box success">
                <strong>âœ… ØªÙØ§ÙˆØª Ú©Ù„ÛŒØ¯ÛŒ:</strong><br>
                <strong>Inbound Ports:</strong> Ú†Ù‡ Ú©Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ… (What)<br>
                <strong>Outbound Ports:</strong> Ú†Ú¯ÙˆÙ†Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø± Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ… (How)</div>
        </section>

        <!-- Section 4: Adapters -->
        <section id="adapters">
            <h2>ğŸ”Œ Û´. Adapters (Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§)</h2>

            <h3>Inbound Adapters (Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ)</h3>
            <p>
                Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ ÙˆØ¸ÛŒÙÙ‡ ØªØ¨Ø¯ÛŒÙ„ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Ø±Ø¬ÛŒ (HTTPØŒ CLIØŒ GraphQL Ùˆ...) Ø¨Ù‡ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Use Caseâ€ŒÙ‡Ø§ Ø±Ø§ Ø¯Ø§Ø±Ù†Ø¯.
                Ø¯Ø± DjangoØŒ Ø§ÛŒÙ† Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø¨Ù‡ ØµÙˆØ±Øª Views Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
            </p>

            <div class="flow-diagram">
                <div class="flow-box request">HTTP Request</div>
                <div class="flow-arrow">â†</div>
                <div class="flow-box adapter">Django View<br>(Inbound Adapter)</div>
                <div class="flow-arrow">â†</div>
                <div class="flow-box usecase">Use Case</div>
                <div class="flow-arrow">â†</div>
                <div class="flow-box domain">Domain</div>
                <div class="flow-arrow">â†</div>
                <div class="flow-box response">HTTP Response</div>
            </div>

            <h3>Outbound Adapters (Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ)</h3>
            <p>
                Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Ù‡Ø³ØªÙ†Ø¯. Ø§ÛŒÙ† Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ Ø¨Ø§ ÙÙ†Ø§ÙˆØ±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ 
                (Django ORMØŒ PostgreSQLØŒ RedisØŒ External APIs Ùˆ...) Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.
            </p>

            <table>
                <thead>
                    <tr>
                        <th>Ù†ÙˆØ¹ Ø¢Ø¯Ø§Ù¾ØªØ±</th>
                        <th>Inbound (ÙˆØ±ÙˆØ¯ÛŒ)</th>
                        <th>Outbound (Ø®Ø±ÙˆØ¬ÛŒ)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Ù‡Ø¯Ù</strong></td>
                        <td>Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø§Ø² Ø¯Ù†ÛŒØ§ÛŒ Ø®Ø§Ø±Ø¬</td>
                        <td>Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ù†Ø§Ø¨Ø¹ Ø®Ø§Ø±Ø¬ÛŒ</td>
                    </tr>
                    <tr>
                        <td><strong>Ù…Ø«Ø§Ù„ Ø¯Ø± Django</strong></td>
                        <td>Views, API Endpoints</td>
                        <td>ORM Repositories, Services</td>
                    </tr>
                    <tr>
                        <td><strong>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯</strong></td>
                        <td>ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Use Case</td>
                        <td>Outbound Port Interface</td>
                    </tr>
                    <tr>
                        <td><strong>ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ</strong></td>
                        <td>Ø¨Ù‡ Use Case ÙˆØ§Ø¨Ø³ØªÙ‡ Ø§Ø³Øª</td>
                        <td>Port Ø¨Ù‡ Ø¢Ù† ÙˆØ§Ø¨Ø³ØªÙ‡ Ù†ÛŒØ³Øª</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section 5: Project Structure -->
        <section id="structure">
            <h2>ğŸ“ Ûµ. Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡</h2>

            <h3>Ø³Ø§Ø®ØªØ§Ø± Ú©Ø§Ù…Ù„ Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª</h3>
            
            <div class="folder-structure">
<span class="folder">auth_project/</span>
â”‚
â”œâ”€â”€ <span class="folder">core/</span>                          <span class="comment"># Ù‡Ø³ØªÙ‡ Ø§ØµÙ„ÛŒ (Ù…Ø³ØªÙ‚Ù„ Ø§Ø² ÙØ±ÛŒÙ…â€ŒÙˆØ±Ú©)</span>
â”‚   â”‚
â”‚   â”œâ”€â”€ <span class="folder">domain/</span>                    <span class="comment"># Ù„Ø§ÛŒÙ‡ Ø¯Ø§Ù…Ù†Ù‡</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚   â”œâ”€â”€ <span class="folder">models/</span>                <span class="comment"># Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ù…Ù†Ù‡</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚   â”‚   â””â”€â”€ <span class="file">user.py</span>              <span class="comment"># Ù…Ø¯Ù„ Ú©Ø§Ø±Ø¨Ø±</span>
â”‚   â”‚   â”œâ”€â”€ <span class="folder">exceptions/</span>            <span class="comment"># Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§ÛŒ Ø¯Ø§Ù…Ù†Ù‡</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚   â”‚   â””â”€â”€ <span class="file">auth_exceptions.py</span>
â”‚   â”‚   â””â”€â”€ <span class="folder">value_objects/</span>         <span class="comment"># Value Objects</span>
â”‚   â”‚       â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚       â”œâ”€â”€ <span class="file">email.py</span>
â”‚   â”‚       â””â”€â”€ <span class="file">password.py</span>
â”‚   â”‚
â”‚   â”œâ”€â”€ <span class="folder">ports/</span>                     <span class="comment"># Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ (Ø§ÛŒÙ†ØªØ±ÙÛŒØ³â€ŒÙ‡Ø§)</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚   â”œâ”€â”€ <span class="folder">inbound/</span>               <span class="comment"># Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚   â”‚   â””â”€â”€ <span class="file">user_service_port.py</span>
â”‚   â”‚   â””â”€â”€ <span class="folder">outbound/</span>              <span class="comment"># Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ</span>
â”‚   â”‚       â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚       â”œâ”€â”€ <span class="file">user_repository_port.py</span>
â”‚   â”‚       â”œâ”€â”€ <span class="file">auth_service_port.py</span>
â”‚   â”‚       â””â”€â”€ <span class="file">token_service_port.py</span>
â”‚   â”‚
â”‚   â””â”€â”€ <span class="folder">use_cases/</span>                 <span class="comment"># Use Caseâ€ŒÙ‡Ø§</span>
â”‚       â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚       â”œâ”€â”€ <span class="file">register_user.py</span>
â”‚       â”œâ”€â”€ <span class="file">login_user.py</span>
â”‚       â””â”€â”€ <span class="file">get_user.py</span>
â”‚
â”œâ”€â”€ <span class="folder">adapters/</span>                      <span class="comment"># Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§</span>
â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚
â”‚   â”œâ”€â”€ <span class="folder">inbound/</span>                   <span class="comment"># Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚   â””â”€â”€ <span class="folder">django/</span>
â”‚   â”‚       â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”‚       â”œâ”€â”€ <span class="file">views.py</span>             <span class="comment"># Django Views</span>
â”‚   â”‚       â”œâ”€â”€ <span class="file">serializers.py</span>       <span class="comment"># Ø³Ø±ÛŒØ§Ù„Ø§ÛŒØ²Ø±Ù‡Ø§</span>
â”‚   â”‚       â””â”€â”€ <span class="file">urls.py</span>              <span class="comment"># URLâ€ŒÙ‡Ø§</span>
â”‚   â”‚
â”‚   â””â”€â”€ <span class="folder">outbound/</span>                  <span class="comment"># Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ</span>
â”‚       â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚       â””â”€â”€ <span class="folder">django/</span>
â”‚           â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚           â”œâ”€â”€ <span class="file">user_repository.py</span>   <span class="comment"># Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Repository</span>
â”‚           â”œâ”€â”€ <span class="file">auth_service.py</span>      <span class="comment"># Ø³Ø±ÙˆÛŒØ³ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª</span>
â”‚           â”œâ”€â”€ <span class="file">token_service.py</span>     <span class="comment"># Ø³Ø±ÙˆÛŒØ³ ØªÙˆÚ©Ù†</span>
â”‚           â””â”€â”€ <span class="file">models.py</span>            <span class="comment"># Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Django</span>
â”‚
â”œâ”€â”€ <span class="folder">infrastructure/</span>               <span class="comment"># Ø²ÛŒØ±Ø³Ø§Ø®Øª</span>
â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â””â”€â”€ <span class="folder">config/</span>
â”‚       â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚       â”œâ”€â”€ <span class="file">dependency_injection.py</span> <span class="comment"># ØªØ²Ø±ÛŒÙ‚ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ</span>
â”‚       â””â”€â”€ <span class="file">settings.py</span>             <span class="comment"># ØªÙ†Ø¸ÛŒÙ…Ø§Øª</span>
â”‚
â”œâ”€â”€ <span class="folder">tests/</span>                         <span class="comment"># ØªØ³Øªâ€ŒÙ‡Ø§</span>
â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”œâ”€â”€ <span class="folder">unit/</span>                      <span class="comment"># ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ§Ø­Ø¯</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file">test_user_domain.py</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file">test_register_usecase.py</span>
â”‚   â”‚   â””â”€â”€ <span class="file">test_login_usecase.py</span>
â”‚   â”œâ”€â”€ <span class="folder">integration/</span>               <span class="comment"># ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ</span>
â”‚   â”‚   â””â”€â”€ <span class="file">test_user_repository.py</span>
â”‚   â””â”€â”€ <span class="folder">e2e/</span>                       <span class="comment"># ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ End-to-End</span>
â”‚       â””â”€â”€ <span class="file">test_auth_api.py</span>
â”‚
â”œâ”€â”€ <span class="file">manage.py</span>
â””â”€â”€ <span class="file">requirements.txt</span>
            </div>

            <div class="info-box">
                <strong>ğŸ’¡ Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…:</strong>
                Ù¾ÙˆØ´Ù‡ <code>core/</code> Ù‡ÛŒÚ† ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø¨Ù‡ Django ÛŒØ§ Ù‡Ø± ÙØ±ÛŒÙ…â€ŒÙˆØ±Ú© Ø¯ÛŒÚ¯Ø±ÛŒ Ù†Ø¯Ø§Ø±Ø¯. 
                Ø§ÛŒÙ† Ù¾ÙˆØ´Ù‡ ÙÙ‚Ø· Ø´Ø§Ù…Ù„ Python Ø®Ø§Ù„Øµ Ø§Ø³Øª Ùˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¯Ø± Ù‡Ø± Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯.
            </div>
        </section>

        <!-- Section 6: Domain Layer -->
        <section id="domain">
            <h2>ğŸ¯ Û¶. Domain Layer (Ù„Ø§ÛŒÙ‡ Ø¯Ø§Ù…Ù†Ù‡)</h2>

            <h3>Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡ Ú©Ø§Ø±Ø¨Ø±</h3>
            <p>
                Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡ ÛŒÚ© Ú©Ù„Ø§Ø³ Python Ø®Ø§Ù„Øµ Ø§Ø³Øª Ú©Ù‡ Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¯Ø± Ø®ÙˆØ¯ Ø¯Ø§Ø±Ø¯.
                Ø§ÛŒÙ† Ù…Ø¯Ù„ Ù‡ÛŒÚ† ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø¨Ù‡ ÙØ±ÛŒÙ…â€ŒÙˆØ±Ú© ÛŒØ§ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù†Ø¯Ø§Ø±Ø¯.
            </p>

            <div class="code-block" data-filename="core/domain/models/user.py">
<code><span class="keyword">from</span> dataclasses <span class="keyword">import</span> dataclass, field
<span class="keyword">from</span> typing <span class="keyword">import</span> Optional, List
<span class="keyword">from</span> uuid <span class="keyword">import</span> uuid4
<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime
<span class="keyword">import</span> re


<span class="decorator">@dataclass</span>
<span class="keyword">class</span> <span class="class-name">UserDomain</span>:
    <span class="string">"""
    Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡ Ú©Ø§Ø±Ø¨Ø±
    Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ø´Ø§Ù…Ù„ ØªÙ…Ø§Ù… Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Øª
    """</span>
    
    <span class="comment"># ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ</span>
    id: Optional[<span class="class-name">str</span>] = field(default_factory=<span class="keyword">lambda</span>: <span class="class-name">str</span>(uuid4()))
    username: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>
    email: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>
    password: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>
    first_name: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>
    last_name: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>
    
    <span class="comment"># ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ ÙˆØ¶Ø¹ÛŒØª</span>
    is_active: <span class="class-name">bool</span> = <span class="keyword">True</span>
    is_verified: <span class="class-name">bool</span> = <span class="keyword">False</span>
    
    <span class="comment"># ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ</span>
    created_at: Optional[datetime] = field(default_factory=datetime.utcnow)
    updated_at: Optional[datetime] = <span class="keyword">None</span>
    last_login: Optional[datetime] = <span class="keyword">None</span>
    
    <span class="comment"># Ù†Ù‚Ø´â€ŒÙ‡Ø§</span>
    roles: List[<span class="class-name">str</span>] = field(default_factory=<span class="keyword">list</span>)

    <span class="comment"># ===== Ù…ØªØ¯Ù‡Ø§ÛŒ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ =====</span>
    
    <span class="keyword">def</span> <span class="function">validate</span>(self) -> <span class="class-name">bool</span>:
        <span class="string">"""Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ú©Ø§Ù…Ù„ Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">return</span> (
            self.validate_username() <span class="keyword">and</span>
            self.validate_email() <span class="keyword">and</span>
            self.validate_password()
        )

    <span class="keyword">def</span> <span class="function">validate_username</span>(self) -> <span class="class-name">bool</span>:
        <span class="string">"""Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"""</span>
        <span class="keyword">if not</span> self.username:
            <span class="keyword">return</span> <span class="keyword">False</span>
        <span class="keyword">if</span> <span class="class-name">len</span>(self.username) < <span class="number">3</span>:
            <span class="keyword">return</span> <span class="keyword">False</span>
        <span class="keyword">if</span> <span class="class-name">len</span>(self.username) > <span class="number">50</span>:
            <span class="keyword">return</span> <span class="keyword">False</span>
        <span class="comment"># ÙÙ‚Ø· Ø­Ø±ÙˆÙØŒ Ø§Ø¹Ø¯Ø§Ø¯ Ùˆ Ø¢Ù†Ø¯Ø±Ù„Ø§ÛŒÙ† Ù…Ø¬Ø§Ø² Ø§Ø³Øª</span>
        <span class="keyword">if not</span> re.match(<span class="string">r'^[a-zA-Z0-9_]+$'</span>, self.username):
            <span class="keyword">return</span> <span class="keyword">False</span>
        <span class="keyword">return</span> <span class="keyword">True</span>

    <span class="keyword">def</span> <span class="function">validate_email</span>(self) -> <span class="class-name">bool</span>:
        <span class="string">"""Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø§ÛŒÙ…ÛŒÙ„"""</span>
        <span class="keyword">if not</span> self.email:
            <span class="keyword">return</span> <span class="keyword">False</span>
        email_pattern = <span class="string">r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'</span>
        <span class="keyword">return</span> <span class="class-name">bool</span>(re.match(email_pattern, self.email))

    <span class="keyword">def</span> <span class="function">validate_password</span>(self) -> <span class="class-name">bool</span>:
        <span class="string">"""Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± (Ø­Ø¯Ø§Ù‚Ù„ Û¸ Ú©Ø§Ø±Ø§Ú©ØªØ±)"""</span>
        <span class="keyword">if not</span> self.password:
            <span class="keyword">return</span> <span class="keyword">False</span>
        <span class="keyword">return</span> <span class="class-name">len</span>(self.password) >= <span class="number">8</span>

    <span class="comment"># ===== Ù…ØªØ¯Ù‡Ø§ÛŒ Ú©Ù…Ú©ÛŒ =====</span>

    <span class="keyword">def</span> <span class="function">get_full_name</span>(self) -> <span class="class-name">str</span>:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Ù†Ø§Ù… Ú©Ø§Ù…Ù„ Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">if</span> self.first_name <span class="keyword">and</span> self.last_name:
            <span class="keyword">return</span> <span class="string">f"</span>{self.first_name} {self.last_name}<span class="string">"</span>
        <span class="keyword">return</span> self.username <span class="keyword">or</span> <span class="string">""</span>

    <span class="keyword">def</span> <span class="function">has_role</span>(self, role: <span class="class-name">str</span>) -> <span class="class-name">bool</span>:
        <span class="string">"""Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ† Ù†Ù‚Ø´ Ø®Ø§Øµ"""</span>
        <span class="keyword">return</span> role <span class="keyword">in</span> self.roles

    <span class="keyword">def</span> <span class="function">add_role</span>(self, role: <span class="class-name">str</span>) -> <span class="keyword">None</span>:
        <span class="string">"""Ø§ÙØ²ÙˆØ¯Ù† Ù†Ù‚Ø´ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">if</span> role <span class="keyword">not in</span> self.roles:
            self.roles.append(role)

    <span class="keyword">def</span> <span class="function">remove_role</span>(self, role: <span class="class-name">str</span>) -> <span class="keyword">None</span>:
        <span class="string">"""Ø­Ø°Ù Ù†Ù‚Ø´ Ø§Ø² Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">if</span> role <span class="keyword">in</span> self.roles:
            self.roles.remove(role)

    <span class="keyword">def</span> <span class="function">activate</span>(self) -> <span class="keyword">None</span>:
        <span class="string">"""ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ø±Ø¨Ø±"""</span>
        self.is_active = <span class="keyword">True</span>

    <span class="keyword">def</span> <span class="function">deactivate</span>(self) -> <span class="keyword">None</span>:
        <span class="string">"""ØºÛŒØ±ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ø±Ø¨Ø±"""</span>
        self.is_active = <span class="keyword">False</span>

    <span class="keyword">def</span> <span class="function">verify</span>(self) -> <span class="keyword">None</span>:
        <span class="string">"""ØªØ§ÛŒÛŒØ¯ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±"""</span>
        self.is_verified = <span class="keyword">True</span>

    <span class="keyword">def</span> <span class="function">update_last_login</span>(self) -> <span class="keyword">None</span>:
        <span class="string">"""Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ø®Ø±ÛŒÙ† ÙˆØ±ÙˆØ¯"""</span>
        self.last_login = datetime.utcnow()

    <span class="keyword">def</span> <span class="function">to_dict</span>(self) -> <span class="class-name">dict</span>:
        <span class="string">"""ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ (Ø¨Ø¯ÙˆÙ† Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±)"""</span>
        <span class="keyword">return</span> {
            <span class="string">'id'</span>: self.id,
            <span class="string">'username'</span>: self.username,
            <span class="string">'email'</span>: self.email,
            <span class="string">'first_name'</span>: self.first_name,
            <span class="string">'last_name'</span>: self.last_name,
            <span class="string">'is_active'</span>: self.is_active,
            <span class="string">'is_verified'</span>: self.is_verified,
            <span class="string">'roles'</span>: self.roles,
            <span class="string">'created_at'</span>: self.created_at.isoformat() <span class="keyword">if</span> self.created_at <span class="keyword">else</span> <span class="keyword">None</span>,
            <span class="string">'last_login'</span>: self.last_login.isoformat() <span class="keyword">if</span> self.last_login <span class="keyword">else</span> <span class="keyword">None</span>,
        }
</code>
            </div>

            <h3>Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§ÛŒ Ø¯Ø§Ù…Ù†Ù‡</h3>
            <p>
                Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§ÛŒ Ø¯Ø§Ù…Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
            </p>

            <div class="code-block" data-filename="core/domain/exceptions/auth_exceptions.py">
<code><span class="keyword">class</span> <span class="class-name">DomainException</span>(<span class="class-name">Exception</span>):
    <span class="string">"""Ø§Ø³ØªØ«Ù†Ø§ÛŒ Ù¾Ø§ÛŒÙ‡ Ø¯Ø§Ù…Ù†Ù‡"""</span>
    <span class="keyword">pass</span>


<span class="keyword">class</span> <span class="class-name">UserNotFoundException</span>(<span class="class-name">DomainException</span>):
    <span class="string">"""Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯"""</span>
    <span class="keyword">def</span> <span class="function">__init__</span>(self, identifier: <span class="class-name">str</span>):
        self.message = <span class="string">f"Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡ '</span>{identifier}<span class="string">' ÛŒØ§ÙØª Ù†Ø´Ø¯"</span>
        <span class="keyword">super</span>().__init__(self.message)


<span class="keyword">class</span> <span class="class-name">UserAlreadyExistsException</span>(<span class="class-name">DomainException</span>):
    <span class="string">"""Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ù‚Ø¨Ù„ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯"""</span>
    <span class="keyword">def</span> <span class="function">__init__</span>(self, field: <span class="class-name">str</span>, value: <span class="class-name">str</span>):
        self.message = <span class="string">f"Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ </span>{field}<span class="string"> '</span>{value}<span class="string">' Ø§Ø² Ù‚Ø¨Ù„ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯"</span>
        <span class="keyword">super</span>().__init__(self.message)


<span class="keyword">class</span> <span class="class-name">InvalidCredentialsException</span>(<span class="class-name">DomainException</span>):
    <span class="string">"""Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ±ÙˆØ¯ Ù†Ø§Ù…Ø¹ØªØ¨Ø±"""</span>
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self.message = <span class="string">"Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª"</span>
        <span class="keyword">super</span>().__init__(self.message)


<span class="keyword">class</span> <span class="class-name">InvalidUserDataException</span>(<span class="class-name">DomainException</span>):
    <span class="string">"""Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ù†Ø§Ù…Ø¹ØªØ¨Ø±"""</span>
    <span class="keyword">def</span> <span class="function">__init__</span>(self, errors: <span class="class-name">list</span>):
        self.errors = errors
        self.message = <span class="string">"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª: "</span> + <span class="string">", "</span>.join(errors)
        <span class="keyword">super</span>().__init__(self.message)


<span class="keyword">class</span> <span class="class-name">UserNotActiveException</span>(<span class="class-name">DomainException</span>):
    <span class="string">"""Ú©Ø§Ø±Ø¨Ø± ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª"""</span>
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self.message = <span class="string">"Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª"</span>
        <span class="keyword">super</span>().__init__(self.message)


<span class="keyword">class</span> <span class="class-name">TokenExpiredException</span>(<span class="class-name">DomainException</span>):
    <span class="string">"""ØªÙˆÚ©Ù† Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡"""</span>
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self.message = <span class="string">"ØªÙˆÚ©Ù† Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª"</span>
        <span class="keyword">super</span>().__init__(self.message)


<span class="keyword">class</span> <span class="class-name">InvalidTokenException</span>(<span class="class-name">DomainException</span>):
    <span class="string">"""ØªÙˆÚ©Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø±"""</span>
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self.message = <span class="string">"ØªÙˆÚ©Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª"</span>
        <span class="keyword">super</span>().__init__(self.message)
</code>
            </div>
        </section>

        <!-- Section 7: Use Cases -->
        <section id="usecases">
            <h2>âš™ï¸ Û·. Use Cases</h2>

            <h3>Use Case Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±</h3>
            <p>
                Ø§ÛŒÙ† Use Case ÙØ±Ø¢ÛŒÙ†Ø¯ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯. 
                ØªÙ…Ø§Ù… Ù…Ù†Ø·Ù‚ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø± Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ù…ØªÙ…Ø±Ú©Ø² Ø§Ø³Øª.
            </p>

            <div class="code-block" data-filename="core/use_cases/register_user.py">
<code><span class="keyword">from</span> typing <span class="keyword">import</span> Optional
<span class="keyword">from</span> dataclasses <span class="keyword">import</span> dataclass

<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain
<span class="keyword">from</span> core.domain.exceptions.auth_exceptions <span class="keyword">import</span> (
    UserAlreadyExistsException,
    InvalidUserDataException
)
<span class="keyword">from</span> core.ports.outbound.user_repository_port <span class="keyword">import</span> UserRepositoryPort
<span class="keyword">from</span> core.ports.outbound.auth_service_port <span class="keyword">import</span> AuthServicePort


<span class="decorator">@dataclass</span>
<span class="keyword">class</span> <span class="class-name">RegisterUserRequest</span>:
    <span class="string">"""Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±"""</span>
    username: <span class="class-name">str</span>
    email: <span class="class-name">str</span>
    password: <span class="class-name">str</span>
    first_name: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>
    last_name: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>


<span class="decorator">@dataclass</span>
<span class="keyword">class</span> <span class="class-name">RegisterUserResponse</span>:
    <span class="string">"""Ù¾Ø§Ø³Ø® Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±"""</span>
    user: UserDomain
    success: <span class="class-name">bool</span>
    message: <span class="class-name">str</span>


<span class="keyword">class</span> <span class="class-name">RegisterUserUseCase</span>:
    <span class="string">"""
    Use Case Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±
    
    Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ù…Ø³Ø¦ÙˆÙ„ Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ Ø§Ø³Øª.
    Ø§Ø² Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø²ÛŒØ±Ø³Ø§Ø®Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
    """</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(
        self,
        user_repository: UserRepositoryPort,
        auth_service: AuthServicePort
    ):
        <span class="string">"""
        Ø³Ø§Ø²Ù†Ø¯Ù‡ Use Case
        
        Args:
            user_repository: Ù¾ÙˆØ±Øª Ù…Ø®Ø²Ù† Ú©Ø§Ø±Ø¨Ø±
            auth_service: Ù¾ÙˆØ±Øª Ø³Ø±ÙˆÛŒØ³ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
        """</span>
        self._user_repository = user_repository
        self._auth_service = auth_service

    <span class="keyword">def</span> <span class="function">execute</span>(self, request: RegisterØ§Ø¬Ø±Ø§ÛŒ Use Case Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…
        
        Args:
            request: Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø´Ø§Ù…Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±
            
        Returns:
            RegisterUserResponse: Ù¾Ø§Ø³Ø® Ø´Ø§Ù…Ù„ Ú©Ø§Ø±Ø¨Ø± Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡
            
        Raises:
            UserAlreadyExistsException: Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ù‚Ø¨Ù„ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
            InvalidUserDataException: Ø§Ú¯Ø± Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø¨Ø§Ø´Ø¯
        """</span>
        
        <span class="comment"># Û±. Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</span>
        existing_user = self._user_repository.find_by_username(request.username)
        <span class="keyword">if</span> existing_user:
            <span class="keyword">raise</span> UserAlreadyExistsException(<span class="string">"Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"</span>, request.username)
        
        <span class="comment"># Û². Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø§ÛŒÙ…ÛŒÙ„</span>
        existing_email = self._user_repository.find_by_email(request.email)
        <span class="keyword">if</span> existing_email:
            <span class="keyword">raise</span> UserAlreadyExistsException(<span class="string">"Ø§ÛŒÙ…ÛŒÙ„"</span>, request.email)
        
        <span class="comment"># Û³. Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡ Ú©Ø§Ø±Ø¨Ø±</span>
        user = UserDomain(
            username=request.username,
            email=request.email,
            password=request.password,
            first_name=request.first_name,
            last_name=request.last_name
        )
        
        <span class="comment"># Û´. Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ú©Ø§Ø±Ø¨Ø±</span>
        errors = []
        <span class="keyword">if not</span> user.validate_username():
            errors.append(<span class="string">"Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª"</span>)
        <span class="keyword">if not</span> user.validate_email():
            errors.append(<span class="string">"Ø§ÛŒÙ…ÛŒÙ„ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª"</span>)
        <span class="keyword">if not</span> user.validate_password():
            errors.append(<span class="string">"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û¸ Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯"</span>)
        
        <span class="keyword">if</span> errors:
            <span class="keyword">raise</span> InvalidUserDataException(errors)
        
        <span class="comment"># Ûµ. Ù‡Ø´ Ú©Ø±Ø¯Ù† Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</span>
        user.password = self._auth_service.hash_password(request.password)
        
        <span class="comment"># Û¶. Ø°Ø®ÛŒØ±Ù‡ Ú©Ø§Ø±Ø¨Ø±</span>
        saved_user = self._user_repository.save(user)
        
        <span class="comment"># Û·. Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù¾Ø§Ø³Ø®</span>
        <span class="keyword">return</span> RegisterUserResponse(
            user=saved_user,
            success=<span class="keyword">True</span>,
            message=<span class="string">"Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯"</span>
        )
</code>
            </div>

            <h3>Use Case ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±</h3>
            <p>
                Ø§ÛŒÙ† Use Case ÙØ±Ø¢ÛŒÙ†Ø¯ ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø¯Ø± ØµÙˆØ±Øª Ù…ÙˆÙÙ‚ÛŒØªØŒ ØªÙˆÚ©Ù† JWT Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.
            </p>

            <div class="code-block" data-filename="core/use_cases/login_user.py">
<code><span class="keyword">from</span> typing <span class="keyword">import</span> Optional
<span class="keyword">from</span> dataclasses <span class="keyword">import</span> dataclass

<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain
<span class="keyword">from</span> core.domain.exceptions.auth_exceptions <span class="keyword">import</span> (
    UserNotFoundException,
    InvalidCredentialsException,
    UserNotActiveException
)
<span class="keyword">from</span> core.ports.outbound.user_repository_port <span class="keyword">import</span> UserRepositoryPort
<span class="keyword">from</span> core.ports.outbound.auth_service_port <span class="keyword">import</span> AuthServicePort, TokenServicePort


<span class="decorator">@dataclass</span>
<span class="keyword">class</span> <span class="class-name">LoginUserRequest</span>:
    <span class="string">"""Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±"""</span>
    username: <span class="class-name">str</span>
    password: <span class="class-name">str</span>


<span class="decorator">@dataclass</span>
<span class="keyword">class</span> <span class="class-name">LoginUserResponse</span>:
    <span class="string">"""Ù¾Ø§Ø³Ø® ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±"""</span>
    user: UserDomain
    access_token: <span class="class-name">str</span>
    refresh_token: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>
    token_type: <span class="class-name">str</span> = <span class="string">"Bearer"</span>
    success: <span class="class-name">bool</span> = <span class="keyword">True</span>
    message: <span class="class-name">str</span> = <span class="string">"ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ²"</span>


<span class="keyword">class</span> <span class="class-name">LoginUserUseCase</span>:
    <span class="string">"""
    Use Case ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±
    
    Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ù…Ø³Ø¦ÙˆÙ„ Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†Ø·Ù‚ ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ø§Ø³Øª.
    """</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(
        self,
        user_repository: UserRepositoryPort,
        auth_service: AuthServicePort,
        token_service: TokenServicePort
    ):
        <span class="string">"""
        Ø³Ø§Ø²Ù†Ø¯Ù‡ Use Case
        
        Args:
            user_repository: Ù¾ÙˆØ±Øª Ù…Ø®Ø²Ù† Ú©Ø§Ø±Ø¨Ø±
            auth_service: Ù¾ÙˆØ±Øª Ø³Ø±ÙˆÛŒØ³ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
            token_service: Ù¾ÙˆØ±Øª Ø³Ø±ÙˆÛŒØ³ ØªÙˆÚ©Ù†
        """</span>
        self._user_repository = user_repository
        self._auth_service = auth_service
        self._token_service = token_service

    <span class="keyword">def</span> <span class="function">execute</span>(self, request: LoginUserRequest) -> LoginUserResponse:
        <span class="string">"""
        Ø§Ø¬Ø±Ø§ÛŒ Use Case ÙˆØ±ÙˆØ¯
        
        Args:
            request: Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆØ±ÙˆØ¯ Ø´Ø§Ù…Ù„ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ùˆ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±
            
        Returns:
            LoginUserResponse: Ù¾Ø§Ø³Ø® Ø´Ø§Ù…Ù„ ØªÙˆÚ©Ù† Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±
            
        Raises:
            UserNotFoundException: Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´ÙˆØ¯
            InvalidCredentialsException: Ø§Ú¯Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø¨Ø§Ø´Ø¯
            UserNotActiveException: Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± ØºÛŒØ±ÙØ¹Ø§Ù„ Ø¨Ø§Ø´Ø¯
        """</span>
        
        <span class="comment"># Û±. Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</span>
        user = self._user_repository.find_by_username(request.username)
        
        <span class="keyword">if not</span> user:
            <span class="keyword">raise</span> UserNotFoundException(request.username)
        
        <span class="comment"># Û². Ø¨Ø±Ø±Ø³ÛŒ ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø±</span>
        <span class="keyword">if not</span> user.is_active:
            <span class="keyword">raise</span> UserNotActiveException()
        
        <span class="comment"># Û³. ØªØ§ÛŒÛŒØ¯ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</span>
        <span class="keyword">if not</span> self._auth_service.verify_password(request.password, user.password):
            <span class="keyword">raise</span> InvalidCredentialsException()
        
        <span class="comment"># Û´. Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ø®Ø±ÛŒÙ† ÙˆØ±ÙˆØ¯</span>
        user.update_last_login()
        self._user_repository.save(user)
        
        <span class="comment"># Ûµ. ØªÙˆÙ„ÛŒØ¯ ØªÙˆÚ©Ù†</span>
        access_token = self._token_service.generate_token(user.id)
        
        <span class="comment"># Û¶. Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù¾Ø§Ø³Ø®</span>
        <span class="keyword">return</span> LoginUserResponse(
            user=user,
            access_token=access_token,
            success=<span class="keyword">True</span>,
            message=<span class="string">"ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯"</span>
        )
</code>
            </div>

            <h3>Use Case Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±</h3>

            <div class="code-block" data-filename="core/use_cases/get_user.py">
<code><span class="keyword">from</span> typing <span class="keyword">import</span> Optional
<span class="keyword">from</span> dataclasses <span class="keyword">import</span> dataclass

<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain
<span class="keyword">from</span> core.domain.exceptions.auth_exceptions <span class="keyword">import</span> UserNotFoundException
<span class="keyword">from</span> core.ports.outbound.user_repository_port <span class="keyword">import</span> UserRepositoryPort


<span class="decorator">@dataclass</span>
<span class="keyword">class</span> <span class="class-name">GetUserRequest</span>:
    <span class="string">"""Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±"""</span>
    user_id: <span class="class-name">str</span>


<span class="decorator">@dataclass</span>
<span class="keyword">class</span> <span class="class-name">GetUserResponse</span>:
    <span class="string">"""Ù¾Ø§Ø³Ø® Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±"""</span>
    user: UserDomain
    success: <span class="class-name">bool</span> = <span class="keyword">True</span>


<span class="keyword">class</span> <span class="class-name">GetUserUseCase</span>:
    <span class="string">"""
    Use Case Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±
    """</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, user_repository: UserRepositoryPort):
        self._user_repository = user_repository

    <span class="keyword">def</span> <span class="function">execute</span>(self, request: GetUserRequest) -> GetUserResponse:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡"""</span>
        
        user = self._user_repository.find_by_id(request.user_id)
        
        <span class="keyword">if not</span> user:
            <span class="keyword">raise</span> UserNotFoundException(request.user_id)
        
        <span class="keyword">return</span> GetUserResponse(user=user, success=<span class="keyword">True</span>)
</code>
            </div>
        </section>

        <!-- Section 8: Implementation -->
        <section id="implementation">
            <h2>ğŸ”§ Û¸. Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§</h2>

            <h3>Ø¢Ø¯Ø§Ù¾ØªØ± Ø®Ø±ÙˆØ¬ÛŒ: Django User Repository</h3>
            <p>
                Ø§ÛŒÙ† Ø¢Ø¯Ø§Ù¾ØªØ± Ù¾ÙˆØ±Øª <code>UserRepositoryPort</code> Ø±Ø§ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Django ORM Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
            </p>

            <div class="code-block" data-filename="adapters/outbound/django/models.py">
<code><span class="keyword">from</span> django.db <span class="keyword">import</span> models
<span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> AbstractBaseUser, PermissionsMixin, BaseUserManager
<span class="keyword">import</span> uuid


<span class="keyword">class</span> <span class="class-name">CustomUserManager</span>(BaseUserManager):
    <span class="string">"""Ù…Ø¯ÛŒØ± Ø³ÙØ§Ø±Ø´ÛŒ Ú©Ø§Ø±Ø¨Ø±"""</span>
    
    <span class="keyword">def</span> <span class="function">create_user</span>(self, username, email, password=<span class="keyword">None</span>, **extra_fields):
        <span class="keyword">if not</span> email:
            <span class="keyword">raise</span> <span class="class-name">ValueError</span>(<span class="string">'Ø§ÛŒÙ…ÛŒÙ„ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª'</span>)
        <span class="keyword">if not</span> username:
            <span class="keyword">raise</span> <span class="class-name">ValueError</span>(<span class="string">'Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª'</span>)
        
        email = self.normalize_email(email)
        user = self.model(username=username, email=email, **extra_fields)
        user.set_password(password)
        user.save(using=self._db)
        <span class="keyword">return</span> user

    <span class="keyword">def</span> <span class="function">create_superuser</span>(self, username, email, password=<span class="keyword">None</span>, **extra_fields):
        extra_fields.setdefault(<span class="string">'is_staff'</span>, <span class="keyword">True</span>)
        extra_fields.setdefault(<span class="string">'is_superuser'</span>, <span class="keyword">True</span>)
        <span class="keyword">return</span> self.create_user(username, email, password, **extra_fields)


<span class="keyword">class</span> <span class="class-name">UserModel</span>(AbstractBaseUser, PermissionsMixin):
    <span class="string">"""Ù…Ø¯Ù„ Django Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±"""</span>
    
    id = models.UUIDField(primary_key=<span class="keyword">True</span>, default=uuid.uuid4, editable=<span class="keyword">False</span>)
    username = models.CharField(max_length=<span class="number">50</span>, unique=<span class="keyword">True</span>)
    email = models.EmailField(unique=<span class="keyword">True</span>)
    first_name = models.CharField(max_length=<span class="number">100</span>, blank=<span class="keyword">True</span>)
    last_name = models.CharField(max_length=<span class="number">100</span>, blank=<span class="keyword">True</span>)
    
    is_active = models.BooleanField(default=<span class="keyword">True</span>)
    is_verified = models.BooleanField(default=<span class="keyword">False</span>)
    is_staff = models.BooleanField(default=<span class="keyword">False</span>)
    
    created_at = models.DateTimeField(auto_now_add=<span class="keyword">True</span>)
    updated_at = models.DateTimeField(auto_now=<span class="keyword">True</span>)
    last_login = models.DateTimeField(null=<span class="keyword">True</span>, blank=<span class="keyword">True</span>)
    
    objects = CustomUserManager()
    
    USERNAME_FIELD = <span class="string">'username'</span>
    REQUIRED_FIELDS = [<span class="string">'email'</span>]
    
    <span class="keyword">class</span> <span class="class-name">Meta</span>:
        db_table = <span class="string">'users'</span>
        verbose_name = <span class="string">'Ú©Ø§Ø±Ø¨Ø±'</span>
        verbose_name_plural = <span class="string">'Ú©Ø§Ø±Ø¨Ø±Ø§Ù†'</span>
</code>
            </div>

            <div class="code-block" data-filename="adapters/outbound/django/user_repository.py">
<code><span class="keyword">from</span> typing <span class="keyword">import</span> Optional, List
<span class="keyword">from</span> core.ports.outbound.user_repository_port <span class="keyword">import</span> UserRepositoryPort
<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain
<span class="keyword">from</span> .models <span class="keyword">import</span> UserModel


<span class="keyword">class</span> <span class="class-name">DjangoUserRepository</span>(UserRepositoryPort):
    <span class="string">"""
    Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Django Ø¨Ø±Ø§ÛŒ Ù¾ÙˆØ±Øª Ù…Ø®Ø²Ù† Ú©Ø§Ø±Ø¨Ø±
    
    Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ù…Ø³Ø¦ÙˆÙ„ ØªØ¨Ø¯ÛŒÙ„ Ø¨ÛŒÙ† Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡ Ùˆ Ù…Ø¯Ù„ Django Ø§Ø³Øª.
    """</span>

    <span class="keyword">def</span> <span class="function">_to_domain</span>(self, django_user: UserModel) -> UserDomain:
        <span class="string">"""ØªØ¨Ø¯ÛŒÙ„ Ù…Ø¯Ù„ Django Ø¨Ù‡ Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡"""</span>
        <span class="keyword">return</span> UserDomain(
            id=<span class="class-name">str</span>(django_user.id),
            username=django_user.username,
            email=django_user.email,
            password=django_user.password,
            first_name=django_user.first_name,
            last_name=django_user.last_name,
            is_active=django_user.is_active,
            is_verified=django_user.is_verified,
            created_at=django_user.created_at,
            updated_at=django_user.updated_at,
            last_login=django_user.last_login,
            roles=[group.name <span class="keyword">for</span> group <span class="keyword">in</span> django_user.groups.all()]
        )

    <span class="keyword">def</span> <span class="function">_to_django</span>(self, user: UserDomain) -> <span class="class-name">dict</span>:
        <span class="string">"""ØªØ¨Ø¯ÛŒÙ„ Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡ Ø¨Ù‡ Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Django"""</span>
        <span class="keyword">return</span> {
            <span class="string">'username'</span>: user.username,
            <span class="string">'email'</span>: user.email,
            <span class="string">'password'</span>: user.password,
            <span class="string">'first_name'</span>: user.first_name <span class="keyword">or</span> <span class="string">''</span>,
            <span class="string">'last_name'</span>: user.last_name <span class="keyword">or</span> <span class="string">''</span>,
            <span class="string">'is_active'</span>: user.is_active,
            <span class="string">'is_verified'</span>: user.is_verified,
        }

    <span class="keyword">def</span> <span class="function">save</span>(self, user: UserDomain) -> UserDomain:
        <span class="string">"""Ø°Ø®ÛŒØ±Ù‡ ÛŒØ§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ø§Ø±Ø¨Ø±"""</span>
        
        <span class="keyword">if</span> user.id:
            <span class="comment"># Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ¬ÙˆØ¯</span>
            <span class="keyword">try</span>:
                django_user = UserModel.objects.get(id=user.id)
                <span class="keyword">for</span> key, value <span class="keyword">in</span> self._to_django(user).items():
                    setattr(django_user, key, value)
                django_user.save()
            <span class="keyword">except</span> UserModel.DoesNotExist:
                <span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯</span>
                django_user = UserModel.objects.create(**self._to_django(user))
        <span class="keyword">else</span>:
            <span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯</span>
            django_user = UserModel.objects.create(**self._to_django(user))
        
        <span class="keyword">return</span> self._to_domain(django_user)

    <span class="keyword">def</span> <span class="function">find_by_id</span>(self, user_id: <span class="class-name">str</span>) -> Optional[UserDomain]:
        <span class="string">"""Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡"""</span>
        <span class="keyword">try</span>:
            django_user = UserModel.objects.get(id=user_id)
            <span class="keyword">return</span> self._to_domain(django_user)
        <span class="keyword">except</span> UserModel.DoesNotExist:
            <span class="keyword">return</span> <span class="keyword">None</span>

    <span class="keyword">def</span> <span class="function">find_by_username</span>(self, username: <span class="class-name">str</span>) -> Optional[UserDomain]:
        <span class="string">"""Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"""</span>
        <span class="keyword">try</span>:
            django_user = UserModel.objects.get(username=username)
            <span class="keyword">return</span> self._to_domain(django_user)
        <span class="keyword">except</span> UserModel.DoesNotExist:
            <span class="keyword">return</span> <span class="keyword">None</span>

    <span class="keyword">def</span> <span class="function">find_by_email</span>(self, email: <span class="class-name">str</span>) -> Optional[UserDomain]:
        <span class="string">"""Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø§ÛŒÙ…ÛŒÙ„"""</span>
        <span class="keyword">try</span>:
            django_user = UserModel.objects.get(email=email)
            <span class="keyword">return</span> self._to_domain(django_user)
        <span class="keyword">except</span> UserModel.DoesNotExist:
            <span class="keyword">return</span> <span class="keyword">None</span>

    <span class="keyword">def</span> <span class="function">delete</span>(self, user_id: <span class="class-name">str</span>) -> <span class="class-name">bool</span>:
        <span class="string">"""Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">try</span>:
            django_user = UserModel.objects.get(id=user_id)
            django_user.delete()
            <span class="keyword">return</span> <span class="keyword">True</span>
        <span class="keyword">except</span> UserModel.DoesNotExist:
            <span class="keyword">return</span> <span class="keyword">False</span>
</code>
            </div>

            <h3>Ø¢Ø¯Ø§Ù¾ØªØ± Ø®Ø±ÙˆØ¬ÛŒ: Ø³Ø±ÙˆÛŒØ³ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª</h3>

            <div class="code-block" data-filename="adapters/outbound/django/auth_service.py">
<code><span class="keyword">from</span> django.contrib.auth.hashers <span class="keyword">import</span> make_password, check_password
<span class="keyword">from</span> core.ports.outbound.auth_service_port <span class="keyword">import</span> AuthServicePort


<span class="keyword">class</span> <span class="class-name">DjangoAuthService</span>(AuthServicePort):
    <span class="string">"""
    Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Django Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆÛŒØ³ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
    
    Ø§Ø² Ø³ÛŒØ³ØªÙ… Ù‡Ø´ Django Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†ÛŒØª Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
    """</span>

    <span class="keyword">def</span> <span class="function">hash_password</span>(self, password: <span class="class-name">str</span>) -> <span class="class-name">str</span>:
        <span class="string">"""
        Ù‡Ø´ Ú©Ø±Ø¯Ù† Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¨Ø§ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Django
        
        Args:
            password: Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø®Ø§Ù…
            
        Returns:
            str: Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ù‡Ø´ Ø´Ø¯Ù‡
        """</span>
        <span class="keyword">return</span> make_password(password)

    <span class="keyword">def</span> <span class="function">verify_password</span>(self, plain_password: <span class="class-name">str</span>, hashed_password: <span class="class-name">str</span>) -> <span class="class-name">bool</span>:
        <span class="string">"""
        ØªØ§ÛŒÛŒØ¯ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±
        
        Args:
            plain_password: Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø®Ø§Ù…
            hashed_password: Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ù‡Ø´ Ø´Ø¯Ù‡
            
        Returns:
            bool: True Ø§Ú¯Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ØµØ­ÛŒØ­ Ø¨Ø§Ø´Ø¯
        """</span>
        <span class="keyword">return</span> check_password(plain_password, hashed_password)
</code>
            </div>

            <h3>Ø¢Ø¯Ø§Ù¾ØªØ± Ø®Ø±ÙˆØ¬ÛŒ: Ø³Ø±ÙˆÛŒØ³ ØªÙˆÚ©Ù† JWT</h3>

            <div class="code-block" data-filename="adapters/outbound/django/token_service.py">
<code><span class="keyword">from</span> typing <span class="keyword">import</span> Optional
<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timedelta
<span class="keyword">import</span> jwt
<span class="keyword">from</span> django.conf <span class="keyword">import</span> settings

<span class="keyword">from</span> core.ports.outbound.auth_service_port <span class="keyword">import</span> TokenServicePort
<span class="keyword">from</span> core.domain.exceptions.auth_exceptions <span class="keyword">import</span> (
    TokenExpiredException,
    InvalidTokenException
)


<span class="keyword">class</span> <span class="class-name">JWTTokenService</span>(TokenServicePort):
    <span class="string">"""
    Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø±ÙˆÛŒØ³ ØªÙˆÚ©Ù† Ø¨Ø§ JWT
    """</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(
        self,
        secret_key: <span class="class-name">str</span> = <span class="keyword">None</span>,
        algorithm: <span class="class-name">str</span> = <span class="string">'HS256'</span>,
        access_token_expire_minutes: <span class="class-name">int</span> = <span class="number">60</span>,
        refresh_token_expire_days: <span class="class-name">int</span> = <span class="number">7</span>
    ):
        self._secret_key = secret_key <span class="keyword">or</span> settings.SECRET_KEY
        self._algorithm = algorithm
        self._access_token_expire = timedelta(minutes=access_token_expire_minutes)
        self._refresh_token_expire = timedelta(days=refresh_token_expire_days)

    <span class="keyword">def</span> <span class="function">generate_token</span>(self, user_id: <span class="class-name">str</span>) -> <span class="class-name">str</span>:
        <span class="string">"""
        ØªÙˆÙ„ÛŒØ¯ Access Token
        
        Args:
            user_id: Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±
            
        Returns:
            str: ØªÙˆÚ©Ù† JWT
        """</span>
        payload = {
            <span class="string">'user_id'</span>: user_id,
            <span class="string">'type'</span>: <span class="string">'access'</span>,
            <span class="string">'exp'</span>: datetime.utcnow() + self._access_token_expire,
            <span class="string">'iat'</span>: datetime.utcnow()
        }
        <span class="keyword">return</span> jwt.encode(payload, self._secret_key, algorithm=self._algorithm)

    <span class="keyword">def</span> <span class="function">generate_refresh_token</span>(self, user_id: <span class="class-name">str</span>) -> <span class="class-name">str</span>:
        <span class="string">"""
        ØªÙˆÙ„ÛŒØ¯ Refresh Token
        
        Args:
            user_id: Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±
            
        Returns:
            str: ØªÙˆÚ©Ù† JWT
        """</span>
        payload = {
            <span class="string">'user_id'</span>: user_id,
            <span class="string">'type'</span>: <span class="string">'refresh'</span>,
            <span class="string">'exp'</span>: datetime.utcnow() + self._refresh_token_expire,
            <span class="string">'iat'</span>: datetime.utcnow()
        }
        <span class="keyword">return</span> jwt.encode(payload, self._secret_key, algorithm=self._algorithm)

    <span class="keyword">def</span> <span class="function">verify_token</span>(self, token: <span class="class-name">str</span>) -> Optional[<span class="class-name">str</span>]:
        <span class="string">"""
        ØªØ§ÛŒÛŒØ¯ ØªÙˆÚ©Ù† Ùˆ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† user_id
        
        Args:
            token: ØªÙˆÚ©Ù† JWT
            
        Returns:
            str: Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±
            
        Raises:
            TokenExpiredException: Ø§Ú¯Ø± ØªÙˆÚ©Ù† Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
            InvalidTokenException: Ø§Ú¯Ø± ØªÙˆÚ©Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø¨Ø§Ø´Ø¯
        """</span>
        <span class="keyword">try</span>:
            payload = jwt.decode(
                token,
                self._secret_key,
                algorithms=[self._algorithm]
            )
            <span class="keyword">return</span> payload.get(<span class="string">'user_id'</span>)
        <span class="keyword">except</span> jwt.ExpiredSignatureError:
            <span class="keyword">raise</span> TokenExpiredException()
        <span class="keyword">except</span> jwt.InvalidTokenError:
            <span class="keyword">raise</span> InvalidTokenException()
</code>
            </div>

            <h3>Ø¢Ø¯Ø§Ù¾ØªØ± ÙˆØ±ÙˆØ¯ÛŒ: Django Views</h3>
            <p>
                Ø§ÛŒÙ† Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ HTTP Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡ Ùˆ Ø¨Ù‡ Use Caseâ€ŒÙ‡Ø§ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.
            </p>

            <div class="code-block" data-filename="adapters/inbound/django/serializers.py">
<code><span class="keyword">from</span> dataclasses <span class="keyword">import</span> dataclass
<span class="keyword">from</span> typing <span class="keyword">import</span> Optional, List
<span class="keyword">import</span> json


<span class="decorator">@dataclass</span>
<span class="keyword">class</span> <span class="class-name">RegisterRequestDTO</span>:
    <span class="string">"""DTO Ø¨Ø±Ø§ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…"""</span>
    username: <span class="class-name">str</span>
    email: <span class="class-name">str</span>
    password: <span class="class-name">str</span>
    first_name: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>
    last_name: Optional[<span class="class-name">str</span>] = <span class="keyword">None</span>

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">from_json</span>(cls, json_data: <span class="class-name">dict</span>) -> <span class="string">'RegisterRequestDTO'</span>:
        <span class="string">"""Ø§ÛŒØ¬Ø§Ø¯ DTO Ø§Ø² Ø¯Ø§Ø¯Ù‡ JSON"""</span>
        <span class="keyword">return</span> cls(
            username=json_data.get(<span class="string">'username'</span>, <span class="string">''</span>),
            email=json_data.get(<span class="string">'email'</span>, <span class="string">''</span>),
            password=json_data.get(<span class="string">'password'</span>, <span class="string">''</span>),
            first_name=json_data.get(<span class="string">'first_name'</span>),
            last_name=json_data.get(<span class="string">'last_name'</span>)
        )

    <span class="keyword">def</span> <span class="function">validate</span>(self) -> List[<span class="class-name">str</span>]:
        <span class="string">"""Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙˆØ±ÙˆØ¯ÛŒ"""</span>
        errors = []
        <span class="keyword">if not</span> self.username:
            errors.append(<span class="string">'Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª'</span>)
        <span class="keyword">if not</span> self.email:
            errors.append(<span class="string">'Ø§ÛŒÙ…ÛŒÙ„ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª'</span>)
        <span class="keyword">if not</span> self.password:
            errors.append(<span class="string">'Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª'</span>)
        <span class="keyword">return</span> errors


<span class="decorator">@dataclass</span>
<span class="keyword">class</span> <span class="class-name">LoginRequestDTO</span>:
    <span class="string">"""DTO Ø¨Ø±Ø§ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆØ±ÙˆØ¯"""</span>
    username: <span class="class-name">str</span>
    password: <span class="class-name">str</span>

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">from_json</span>(cls, json_data: <span class="class-name">dict</span>) -> <span class="string">'LoginRequestDTO'</span>:
        <span class="string">"""Ø§ÛŒØ¬Ø§Ø¯ DTO Ø§Ø² Ø¯Ø§Ø¯Ù‡ JSON"""</span>
        <span class="keyword">return</span> cls(
            username=json_data.get(<span class="string">'username'</span>, <span class="string">''</span>),
            password=json_data.get(<span class="string">'password'</span>, <span class="string">''</span>)
        )

    <span class="keyword">def</span> <span class="function">validate</span>(self) -> List[<span class="class-name">str</span>]:
        <span class="string">"""Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙˆØ±ÙˆØ¯ÛŒ"""</span>
        errors = []
        <span class="keyword">if not</span> self.username:
            errors.append(<span class="string">'Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª'</span>)
        <span class="keyword">if not</span> self.password:
            errors.append(<span class="string">'Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª'</span>)
        <span class="keyword">return</span> errors


<span class="keyword">class</span> <span class="class-name">UserResponseDTO</span>:
    <span class="string">"""DTO Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±"""</span>
    
    <span class="decorator">@staticmethod</span>
    <span class="keyword">def</span> <span class="function">from_domain</span>(user) -> <span class="class-name">dict</span>:
        <span class="string">"""ØªØ¨Ø¯ÛŒÙ„ Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡ Ø¨Ù‡ Ù¾Ø§Ø³Ø® JSON"""</span>
        <span class="keyword">return</span> {
            <span class="string">'id'</span>: user.id,
            <span class="string">'username'</span>: user.username,
            <span class="string">'email'</span>: user.email,
            <span class="string">'first_name'</span>: user.first_name,
            <span class="string">'last_name'</span>: user.last_name,
            <span class="string">'is_active'</span>: user.is_active,
            <span class="string">'is_verified'</span>: user.is_verified,
            <span class="string">'roles'</span>: user.roles,
            <span class="string">'created_at'</span>: user.created_at.isoformat() <span class="keyword">if</span> user.created_at <span class="keyword">else</span> <span class="keyword">None</span>
        }
</code>
            </div>

            <div class="code-block" data-filename="adapters/inbound/django/views.py">
<code><span class="keyword">import</span> json
<span class="keyword">from</span> django.views <span class="keyword">import</span> View
<span class="keyword">from</span> django.http <span class="keyword">import</span> JsonResponse
<span class="keyword">from</span> django.views.decorators.csrf <span class="keyword">import</span> csrf_exempt
<span class="keyword">from</span> django.utils.decorators <span class="keyword">import</span> method_decorator

<span class="keyword">from</span> .serializers <span class="keyword">import</span> (
    RegisterRequestDTO,
    LoginRequestDTO,
    UserResponseDTO
)
<span class="keyword">from</span> core.use_cases.register_user <span class="keyword">import</span> RegisterUserUseCase, RegisterUserRequest
<span class="keyword">from</span> core.use_cases.login_user <span class="keyword">import</span> LoginUserUseCase, LoginUserRequest
<span class="keyword">from</span> core.use_cases.get_user <span class="keyword">import</span> GetUserUseCase, GetUserRequest
<span class="keyword">from</span> core.domain.exceptions.auth_exceptions <span class="keyword">import</span> (
    UserAlreadyExistsException,
    InvalidUserDataException,
    UserNotFoundException,
    InvalidCredentialsException,
    UserNotActiveException,
    InvalidTokenException,
    TokenExpiredException
)
<span class="keyword">from</span> infrastructure.config.dependency_injection <span class="keyword">import</span> DependencyContainer


<span class="decorator">@method_decorator</span>(csrf_exempt, name=<span class="string">'dispatch'</span>)
<span class="keyword">class</span> <span class="class-name">RegisterView</span>(View):
    <span class="string">"""
    Ø¢Ø¯Ø§Ù¾ØªØ± ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±
    
    Endpoint: POST /api/auth/register/
    """</span>

    <span class="keyword">def</span> <span class="function">post</span>(self, request):
        <span class="keyword">try</span>:
            <span class="comment"># Û±. Ø¯Ø±ÛŒØ§ÙØª Ùˆ Ù¾Ø§Ø±Ø³ Ø¯Ø§Ø¯Ù‡ JSON</span>
            data = json.loads(request.body.decode(<span class="string">'utf-8'</span>))
            dto = RegisterRequestDTO.from_json(data)
            
            <span class="comment"># Û². Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙˆØ±ÙˆØ¯ÛŒ</span>
            errors = dto.validate()
            <span class="keyword">if</span> errors:
                <span class="keyword">return</span> JsonResponse({
                    <span class="string">'success'</span>: <span class="keyword">False</span>,
                    <span class="string">'errors'</span>: errors
                }, status=<span class="number">400</span>)
            
            <span class="comment"># Û³. Ø¯Ø±ÛŒØ§ÙØª Use Case Ø§Ø² Container</span>
            use_case = DependencyContainer.get_register_use_case()
            
            <span class="comment"># Û´. Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Use Case</span>
            use_case_request = RegisterUserRequest(
                username=dto.username,
                email=dto.email,
                password=dto.password,
                first_name=dto.first_name,
                last_name=dto.last_name
            )
            
            <span class="comment"># Ûµ. Ø§Ø¬Ø±Ø§ÛŒ Use Case</span>
            response = use_case.execute(use_case_request)
            
            <span class="comment"># Û¶. Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù¾Ø§Ø³Ø® Ù…ÙˆÙÙ‚</span>
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">True</span>,
                <span class="string">'message'</span>: response.message,
                <span class="string">'data'</span>: {
                    <span class="string">'user'</span>: UserResponseDTO.from_domain(response.user)
                }
            }, status=<span class="number">201</span>)
        
        <span class="keyword">except</span> UserAlreadyExistsException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="class-name">str</span>(e)
            }, status=<span class="number">409</span>)
        
        <span class="keyword">except</span> InvalidUserDataException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'errors'</span>: e.errors
            }, status=<span class="number">400</span>)
        
        <span class="keyword">except</span> json.JSONDecodeError:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'ÙØ±Ù…Øª JSON Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª'</span>
            }, status=<span class="number">400</span>)
        
        <span class="keyword">except</span> <span class="class-name">Exception</span> <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'Ø®Ø·Ø§ÛŒ Ø³Ø±ÙˆØ±'</span>
            }, status=<span class="number">500</span>)


<span class="decorator">@method_decorator</span>(csrf_exempt, name=<span class="string">'dispatch'</span>)
<span class="keyword">class</span> <span class="class-name">LoginView</span>(View):
    <span class="string">"""
    Ø¢Ø¯Ø§Ù¾ØªØ± ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±
    
    Endpoint: POST /api/auth/login/
    """</span>

    <span class="keyword">def</span> <span class="function">post</span>(self, request):
        <span class="keyword">try</span>:
            <span class="comment"># Û±. Ø¯Ø±ÛŒØ§ÙØª Ùˆ Ù¾Ø§Ø±Ø³ Ø¯Ø§Ø¯Ù‡ JSON</span>
            data = json.loads(request.body.decode(<span class="string">'utf-8'</span>))
            dto = LoginRequestDTO.from_json(data)
            
            <span class="comment"># Û². Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙˆØ±ÙˆØ¯ÛŒ</span>
            errors = dto.validate()
            <span class="keyword">if</span> errors:
                <span class="keyword">return</span> JsonResponse({
                    <span class="string">'success'</span>: <span class="keyword">False</span>,
                    <span class="string">'errors'</span>: errors
                }, status=<span class="number">400</span>)
            
            <span class="comment"># Û³. Ø¯Ø±ÛŒØ§ÙØª Use Case Ø§Ø² Container</span>
            use_case = DependencyContainer.get_login_use_case()
            
            <span class="comment"># Û´. Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Use Case</span>
            use_case_request = LoginUserRequest(
                username=dto.username,
                password=dto.password
            )
            
            <span class="comment"># Ûµ. Ø§Ø¬Ø±Ø§ÛŒ Use Case</span>
            response = use_case.execute(use_case_request)
            
            <span class="comment"># Û¶. Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù¾Ø§Ø³Ø® Ù…ÙˆÙÙ‚</span>
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">True</span>,
                <span class="string">'message'</span>: response.message,
                <span class="string">'data'</span>: {
                    <span class="string">'user'</span>: UserResponseDTO.from_domain(response.user),
                    <span class="string">'access_token'</span>: response.access_token,
                    <span class="string">'token_type'</span>: response.token_type
                }
            }, status=<span class="number">200</span>)
        
        <span class="keyword">except</span> UserNotFoundException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª'</span>
            }, status=<span class="number">401</span>)
        
        <span class="keyword">except</span> InvalidCredentialsException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="class-name">str</span>(e)
            }, status=<span class="number">401</span>)
        
        <span class="keyword">except</span> UserNotActiveException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="class-name">str</span>(e)
            }, status=<span class="number">403</span>)
        
        <span class="keyword">except</span> json.JSONDecodeError:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'ÙØ±Ù…Øª JSON Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª'</span>
            }, status=<span class="number">400</span>)
        
        <span class="keyword">except</span> <span class="class-name">Exception</span> <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'Ø®Ø·Ø§ÛŒ Ø³Ø±ÙˆØ±'</span>
            }, status=<span class="number">500</span>)


<span class="decorator">@method_decorator</span>(csrf_exempt, name=<span class="string">'dispatch'</span>)
<span class="keyword">class</span> <span class="class-name">ProfileView</span>(View):
    <span class="string">"""
    Ø¢Ø¯Ø§Ù¾ØªØ± ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±
    
    Endpoint: GET /api/auth/profile/
    Headers: Authorization: Bearer <token>
    """</span>

    <span class="keyword">def</span> <span class="function">get</span>(self, request):
        <span class="keyword">try</span>:
            <span class="comment"># Û±. Ø¯Ø±ÛŒØ§ÙØª ØªÙˆÚ©Ù† Ø§Ø² Ù‡Ø¯Ø±</span>
            auth_header = request.headers.get(<span class="string">'Authorization'</span>, <span class="string">''</span>)
            <span class="keyword">if not</span> auth_header.startswith(<span class="string">'Bearer '</span>):
                <span class="keyword">return</span> JsonResponse({
                    <span class="string">'success'</span>: <span class="keyword">False</span>,
                    <span class="string">'error'</span>: <span class="string">'ØªÙˆÚ©Ù† Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª ÛŒØ§ÙØª Ù†Ø´Ø¯'</span>
                }, status=<span class="number">401</span>)
            
            token = auth_header.split(<span class="string">' '</span>)[<span class="number">1</span>]
            
            <span class="comment"># Û². ØªØ§ÛŒÛŒØ¯ ØªÙˆÚ©Ù†</span>
            token_service = DependencyContainer.get_token_service()
            user_id = token_service.verify_token(token)
            
            <span class="comment"># Û³. Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±</span>
            use_case = DependencyContainer.get_user_use_case()
            response = use_case.execute(GetUserRequest(user_id=user_id))
            
            <span class="comment"># Û´. Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù¾Ø§Ø³Ø®</span>
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">True</span>,
                <span class="string">'data'</span>: {
                    <span class="string">'user'</span>: UserResponseDTO.from_domain(response.user)
                }
            }, status=<span class="number">200</span>)
        
        <span class="keyword">except</span> TokenExpiredException:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'ØªÙˆÚ©Ù† Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª'</span>
            }, status=<span class="number">401</span>)
        
        <span class="keyword">except</span> InvalidTokenException:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'ØªÙˆÚ©Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª'</span>
            }, status=<span class="number">401</span>)
        
        <span class="keyword">except</span> UserNotFoundException:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯'</span>
            }, status=<span class="number">404</span>)
        
        <span class="keyword">except</span> <span class="class-name">Exception</span> <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'Ø®Ø·Ø§ÛŒ Ø³Ø±ÙˆØ±'</span>
            }, status=<span class="number">500</span>)
</code>
            </div>

            <h3>ØªÙ†Ø¸ÛŒÙ…Ø§Øª URL</h3>

            <div class="code-block" data-filename="adapters/inbound/django/urls.py">
<code><span class="keyword">from</span> django.urls <span class="keyword">import</span> path
<span class="keyword">from</span> .views <span class="keyword">import</span> RegisterView, LoginView, ProfileView

app_name = <span class="string">'auth'</span>

urlpatterns = [
    path(<span class="string">'register/'</span>, RegisterView.as_view(), name=<span class="string">'register'</span>),
    path(<span class="string">'login/'</span>, LoginView.as_view(), name=<span class="string">'login'</span>),
    path(<span class="string">'profile/'</span>, ProfileView.as_view(), name=<span class="string">'profile'</span>),
]
</code>
            </div>

            <h3>ØªØ²Ø±ÛŒÙ‚ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ (Dependency Injection)</h3>

            <div class="code-block" data-filename="infrastructure/config/dependency_injection.py">
<code><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings

<span class="comment"># Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ</span>
<span class="keyword">from</span> core.ports.outbound.user_repository_port <span class="keyword">import</span> UserRepositoryPort
<span class="keyword">from</span> core.ports.outbound.auth_service_port <span class="keyword">import</span> AuthServicePort, TokenServicePort

<span class="comment"># Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ</span>
<span class="keyword">from</span> adapters.outbound.django.user_repository <span class="keyword">import</span> DjangoUserRepository
<span class="keyword">from</span> adapters.outbound.django.auth_service <span class="keyword">import</span> DjangoAuthService
<span class="keyword">from</span> adapters.outbound.django.token_service <span class="keyword">import</span> JWTTokenService

<span class="comment"># Use Caseâ€ŒÙ‡Ø§</span>
<span class="keyword">from</span> core.use_cases.register_user <span class="keyword">import</span> RegisterUserUseCase
<span class="keyword">from</span> core.use_cases.login_user <span class="keyword">import</span> LoginUserUseCase
<span class="keyword">from</span> core.use_cases.get_user <span class="keyword">import</span> GetUserUseCase


<span class="keyword">class</span> <span class="class-name">DependencyContainer</span>:
    <span class="string">"""
    Ú©Ø§Ù†ØªÛŒÙ†Ø± ØªØ²Ø±ÛŒÙ‚ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ
    
    Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ù…Ø³Ø¦ÙˆÙ„ Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ Ø§Ø³Øª.
    Ø¨Ø§ ØªØºÛŒÛŒØ± Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø±Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ø±Ø¯.
    """</span>
    
    <span class="comment"># Ú©Ø´ Ø¨Ø±Ø§ÛŒ Singletonâ€ŒÙ‡Ø§</span>
    _user_repository: UserRepositoryPort = <span class="keyword">None</span>
    _auth_service: AuthServicePort = <span class="keyword">None</span>
    _token_service: TokenServicePort = <span class="keyword">None</span>

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_user_repository</span>(cls) -> UserRepositoryPort:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Repository Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">if</span> cls._user_repository <span class="keyword">is</span> <span class="keyword">None</span>:
            cls._user_repository = DjangoUserRepository()
        <span class="keyword">return</span> cls._user_repository

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_auth_service</span>(cls) -> AuthServicePort:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Ø³Ø±ÙˆÛŒØ³ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"""</span>
        <span class="keyword">if</span> cls._auth_service <span class="keyword">is</span> <span class="keyword">None</span>:
            cls._auth_service = DjangoAuthService()
        <span class="keyword">return</span> cls._auth_service

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_token_service</span>(cls) -> TokenServicePort:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Ø³Ø±ÙˆÛŒØ³ ØªÙˆÚ©Ù†"""</span>
        <span class="keyword">if</span> cls._token_service <span class="keyword">is</span> <span class="keyword">None</span>:
            cls._token_service = JWTTokenService(
                secret_key=settings.SECRET_KEY,
                access_token_expire_minutes=<span class="number">60</span>
            )
        <span class="keyword">return</span> cls._token_service

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_register_use_case</span>(cls) -> RegisterUserUseCase:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Use Case Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…"""</span>
        <span class="keyword">return</span> RegisterUserUseCase(
            user_repository=cls.get_user_repository(),
            auth_service=cls.get_auth_service()
        )

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_login_use_case</span>(cls) -> LoginUserUseCase:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Use Case ÙˆØ±ÙˆØ¯"""</span>
        <span class="keyword">return</span> LoginUserUseCase(
            user_repository=cls.get_user_repository(),
            auth_service=cls.get_auth_service(),
            token_service=cls.get_token_service()
        )

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_user_use_case</span>(cls) -> GetUserUseCase:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Use Case Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">return</span> GetUserUseCase(
            user_repository=cls.get_user_repository()
        )

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">reset</span>(cls):
        <span class="string">"""Ø±ÛŒØ³Øª Ú©Ø±Ø¯Ù† Ú©Ø´ (Ø¨Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§)"""</span>
        cls._user_repository = <span class="keyword">None</span>
        cls._auth_service = <span class="keyword">None</span>
        cls._token_service = <span class="keyword">None</span>
</code>
            </div>
        </section>

        <!-- Section 9: Testing -->
        <section id="testing">
            <h2>ğŸ§ª Û¹. ØªØ³Øªâ€ŒÙ†ÙˆÛŒØ³ÛŒ</h2>

            <h3>ØªØ³Øª ÙˆØ§Ø­Ø¯ Use Case Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</h3>
            <p>
                Ø¯Ø± Ù…Ø¹Ù…Ø§Ø±ÛŒ HexagonalØŒ ØªØ³Øªâ€ŒÙ†ÙˆÛŒØ³ÛŒ Ø¨Ø³ÛŒØ§Ø± Ø³Ø§Ø¯Ù‡ Ø§Ø³Øª Ø²ÛŒØ±Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ Mock Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ø±Ø¯.
            </p>

            <div class="code-block" data-filename="tests/unit/test_register_usecase.py">
<code><span class="keyword">import</span> unittest
<span class="keyword">from</span> unittest.mock <span class="keyword">import</span> Mock, MagicMock

<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain
<span class="keyword">from</span> core.use_cases.register_user <span class="keyword">import</span> (
    RegisterUserUseCase,
    RegisterUserRequest
)
<span class="keyword">from</span> core.domain.exceptions.auth_exceptions <span class="keyword">import</span> (
    UserAlreadyExistsException,
    InvalidUserDataException
)


<span class="keyword">class</span> <span class="class-name">TestRegisterUserUseCase</span>(unittest.TestCase):
    <span class="string">"""ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Use Case Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±"""</span>

    <span class="keyword">def</span> <span class="function">setUp</span>(self):
        <span class="string">"""ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± ØªØ³Øª"""</span>
        <span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Mock Ø¨Ø±Ø§ÛŒ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§</span>
        self.mock_user_repository = Mock()
        self.mock_auth_service = Mock()
        
        <span class="comment"># ØªÙ†Ø¸ÛŒÙ… Ø±ÙØªØ§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶</span>
        self.mock_user_repository.find_by_username.return_value = <span class="keyword">None</span>
        self.mock_user_repository.find_by_email.return_value = <span class="keyword">None</span>
        self.mock_auth_service.hash_password.return_value = <span class="string">'hashed_password'</span>
        
        <span class="comment"># Ø§ÛŒØ¬Ø§Ø¯Ø§Ù…Ù‡ ÙØ§ÛŒÙ„ HTML Ø±Ø§ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ù…:

```html
Error:
            <span class="keyword">raise</span> InvalidTokenException()
</code>
            </div>

            <h3>Ø¢Ø¯Ø§Ù¾ØªØ± ÙˆØ±ÙˆØ¯ÛŒ: Django Views</h3>
            <p>
                Ø§ÛŒÙ† Ø¢Ø¯Ø§Ù¾ØªØ± Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ HTTP Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡ Ùˆ Ø¨Ù‡ Use Caseâ€ŒÙ‡Ø§ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
            </p>

            <div class="code-block" data-filename="adapters/inbound/django/views.py">
<code><span class="keyword">import</span> json
<span class="keyword">from</span> django.views <span class="keyword">import</span> View
<span class="keyword">from</span> django.http <span class="keyword">import</span> JsonResponse
<span class="keyword">from</span> django.views.decorators.csrf <span class="keyword">import</span> csrf_exempt
<span class="keyword">from</span> django.utils.decorators <span class="keyword">import</span> method_decorator

<span class="keyword">from</span> core.use_cases.register_user <span class="keyword">import</span> RegisterUserUseCase, RegisterUserRequest
<span class="keyword">from</span> core.use_cases.login_user <span class="keyword">import</span> LoginUserUseCase, LoginUserRequest
<span class="keyword">from</span> core.use_cases.get_user <span class="keyword">import</span> GetUserUseCase, GetUserRequest
<span class="keyword">from</span> core.domain.exceptions.auth_exceptions <span class="keyword">import</span> (
    UserAlreadyExistsException,
    InvalidUserDataException,
    UserNotFoundException,
    InvalidCredentialsException,
    UserNotActiveException,
    InvalidTokenException,
    TokenExpiredException
)
<span class="keyword">from</span> infrastructure.config.dependency_injection <span class="keyword">import</span> DependencyContainer


<span class="decorator">@method_decorator</span>(csrf_exempt, name=<span class="string">'dispatch'</span>)
<span class="keyword">class</span> <span class="class-name">RegisterView</span>(View):
    <span class="string">"""
    Ø¢Ø¯Ø§Ù¾ØªØ± ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±
    
    Endpoint: POST /api/auth/register/
    """</span>

    <span class="keyword">def</span> <span class="function">post</span>(self, request):
        <span class="keyword">try</span>:
            <span class="comment"># Û±. Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª</span>
            data = json.loads(request.body.decode(<span class="string">'utf-8'</span>))
            
            <span class="comment"># Û². Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Use Case</span>
            use_case_request = RegisterUserRequest(
                username=data.get(<span class="string">'username'</span>),
                email=data.get(<span class="string">'email'</span>),
                password=data.get(<span class="string">'password'</span>),
                first_name=data.get(<span class="string">'first_name'</span>),
                last_name=data.get(<span class="string">'last_name'</span>)
            )
            
            <span class="comment"># Û³. Ø¯Ø±ÛŒØ§ÙØª Use Case Ø§Ø² Container</span>
            use_case = DependencyContainer.get_register_use_case()
            
            <span class="comment"># Û´. Ø§Ø¬Ø±Ø§ÛŒ Use Case</span>
            response = use_case.execute(use_case_request)
            
            <span class="comment"># Ûµ. Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù¾Ø§Ø³Ø® Ù…ÙˆÙÙ‚</span>
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">True</span>,
                <span class="string">'message'</span>: response.message,
                <span class="string">'data'</span>: {
                    <span class="string">'user'</span>: response.user.to_dict()
                }
            }, status=<span class="number">201</span>)
        
        <span class="keyword">except</span> UserAlreadyExistsException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="class-name">str</span>(e),
                <span class="string">'code'</span>: <span class="string">'USER_EXISTS'</span>
            }, status=<span class="number">409</span>)
        
        <span class="keyword">except</span> InvalidUserDataException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="class-name">str</span>(e),
                <span class="string">'errors'</span>: e.errors,
                <span class="string">'code'</span>: <span class="string">'INVALID_DATA'</span>
            }, status=<span class="number">400</span>)
        
        <span class="keyword">except</span> json.JSONDecodeError:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'ÙØ±Ù…Øª JSON Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª'</span>,
                <span class="string">'code'</span>: <span class="string">'INVALID_JSON'</span>
            }, status=<span class="number">400</span>)
        
        <span class="keyword">except</span> <span class="class-name">Exception</span> <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'Ø®Ø·Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ø³Ø±ÙˆØ±'</span>,
                <span class="string">'code'</span>: <span class="string">'INTERNAL_ERROR'</span>
            }, status=<span class="number">500</span>)


<span class="decorator">@method_decorator</span>(csrf_exempt, name=<span class="string">'dispatch'</span>)
<span class="keyword">class</span> <span class="class-name">LoginView</span>(View):
    <span class="string">"""
    Ø¢Ø¯Ø§Ù¾ØªØ± ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±
    
    Endpoint: POST /api/auth/login/
    """</span>

    <span class="keyword">def</span> <span class="function">post</span>(self, request):
        <span class="keyword">try</span>:
            <span class="comment"># Û±. Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª</span>
            data = json.loads(request.body.decode(<span class="string">'utf-8'</span>))
            
            <span class="comment"># Û². Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Use Case</span>
            use_case_request = LoginUserRequest(
                username=data.get(<span class="string">'username'</span>),
                password=data.get(<span class="string">'password'</span>)
            )
            
            <span class="comment"># Û³. Ø¯Ø±ÛŒØ§ÙØª Use Case Ø§Ø² Container</span>
            use_case = DependencyContainer.get_login_use_case()
            
            <span class="comment"># Û´. Ø§Ø¬Ø±Ø§ÛŒ Use Case</span>
            response = use_case.execute(use_case_request)
            
            <span class="comment"># Ûµ. Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù¾Ø§Ø³Ø® Ù…ÙˆÙÙ‚</span>
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">True</span>,
                <span class="string">'message'</span>: response.message,
                <span class="string">'data'</span>: {
                    <span class="string">'user'</span>: response.user.to_dict(),
                    <span class="string">'access_token'</span>: response.access_token,
                    <span class="string">'token_type'</span>: response.token_type
                }
            }, status=<span class="number">200</span>)
        
        <span class="keyword">except</span> UserNotFoundException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª'</span>,
                <span class="string">'code'</span>: <span class="string">'INVALID_CREDENTIALS'</span>
            }, status=<span class="number">401</span>)
        
        <span class="keyword">except</span> InvalidCredentialsException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="class-name">str</span>(e),
                <span class="string">'code'</span>: <span class="string">'INVALID_CREDENTIALS'</span>
            }, status=<span class="number">401</span>)
        
        <span class="keyword">except</span> UserNotActiveException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="class-name">str</span>(e),
                <span class="string">'code'</span>: <span class="string">'USER_INACTIVE'</span>
            }, status=<span class="number">403</span>)
        
        <span class="keyword">except</span> json.JSONDecodeError:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'ÙØ±Ù…Øª JSON Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª'</span>,
                <span class="string">'code'</span>: <span class="string">'INVALID_JSON'</span>
            }, status=<span class="number">400</span>)
        
        <span class="keyword">except</span> <span class="class-name">Exception</span> <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'Ø®Ø·Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ø³Ø±ÙˆØ±'</span>,
                <span class="string">'code'</span>: <span class="string">'INTERNAL_ERROR'</span>
            }, status=<span class="number">500</span>)


<span class="decorator">@method_decorator</span>(csrf_exempt, name=<span class="string">'dispatch'</span>)
<span class="keyword">class</span> <span class="class-name">ProfileView</span>(View):
    <span class="string">"""
    Ø¢Ø¯Ø§Ù¾ØªØ± ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±
    
    Endpoint: GET /api/auth/profile/
    Headers: Authorization: Bearer <token>
    """</span>

    <span class="keyword">def</span> <span class="function">get</span>(self, request):
        <span class="keyword">try</span>:
            <span class="comment"># Û±. Ø¯Ø±ÛŒØ§ÙØª ØªÙˆÚ©Ù† Ø§Ø² Ù‡Ø¯Ø±</span>
            auth_header = request.META.get(<span class="string">'HTTP_AUTHORIZATION'</span>, <span class="string">''</span>)
            
            <span class="keyword">if not</span> auth_header.startswith(<span class="string">'Bearer '</span>):
                <span class="keyword">return</span> JsonResponse({
                    <span class="string">'success'</span>: <span class="keyword">False</span>,
                    <span class="string">'error'</span>: <span class="string">'ØªÙˆÚ©Ù† Ø§Ø±Ø§Ø¦Ù‡ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª'</span>,
                    <span class="string">'code'</span>: <span class="string">'NO_TOKEN'</span>
                }, status=<span class="number">401</span>)
            
            token = auth_header.split(<span class="string">' '</span>)[<span class="number">1</span>]
            
            <span class="comment"># Û². ØªØ§ÛŒÛŒØ¯ ØªÙˆÚ©Ù† Ùˆ Ø¯Ø±ÛŒØ§ÙØª user_id</span>
            token_service = DependencyContainer.get_token_service()
            user_id = token_service.verify_token(token)
            
            <span class="comment"># Û³. Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±</span>
            use_case = DependencyContainer.get_user_use_case()
            response = use_case.execute(GetUserRequest(user_id=user_id))
            
            <span class="comment"># Û´. Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù¾Ø§Ø³Ø®</span>
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">True</span>,
                <span class="string">'data'</span>: {
                    <span class="string">'user'</span>: response.user.to_dict()
                }
            }, status=<span class="number">200</span>)
        
        <span class="keyword">except</span> TokenExpiredException:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'ØªÙˆÚ©Ù† Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª'</span>,
                <span class="string">'code'</span>: <span class="string">'TOKEN_EXPIRED'</span>
            }, status=<span class="number">401</span>)
        
        <span class="keyword">except</span> InvalidTokenException:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'ØªÙˆÚ©Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª'</span>,
                <span class="string">'code'</span>: <span class="string">'INVALID_TOKEN'</span>
            }, status=<span class="number">401</span>)
        
        <span class="keyword">except</span> UserNotFoundException <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="class-name">str</span>(e),
                <span class="string">'code'</span>: <span class="string">'USER_NOT_FOUND'</span>
            }, status=<span class="number">404</span>)
        
        <span class="keyword">except</span> <span class="class-name">Exception</span> <span class="keyword">as</span> e:
            <span class="keyword">return</span> JsonResponse({
                <span class="string">'success'</span>: <span class="keyword">False</span>,
                <span class="string">'error'</span>: <span class="string">'Ø®Ø·Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ø³Ø±ÙˆØ±'</span>,
                <span class="string">'code'</span>: <span class="string">'INTERNAL_ERROR'</span>
            }, status=<span class="number">500</span>)
</code>
            </div>

            <h3>ØªÙ†Ø¸ÛŒÙ… URLâ€ŒÙ‡Ø§</h3>

            <div class="code-block" data-filename="adapters/inbound/django/urls.py">
<code><span class="keyword">from</span> django.urls <span class="keyword">import</span> path
<span class="keyword">from</span> .views <span class="keyword">import</span> RegisterView, LoginView, ProfileView

app_name = <span class="string">'auth'</span>

urlpatterns = [
    path(<span class="string">'register/'</span>, RegisterView.as_view(), name=<span class="string">'register'</span>),
    path(<span class="string">'login/'</span>, LoginView.as_view(), name=<span class="string">'login'</span>),
    path(<span class="string">'profile/'</span>, ProfileView.as_view(), name=<span class="string">'profile'</span>),
]
</code>
            </div>

            <h3>Dependency Injection Container</h3>
            <p>
                Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ù…Ø³Ø¦ÙˆÙ„ Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ Ø§Ø³Øª. ØªÙ…Ø§Ù… Use Caseâ€ŒÙ‡Ø§ Ùˆ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø§ÛŒÙ† Container Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
            </p>

            <div class="code-block" data-filename="infrastructure/config/dependency_injection.py">
<code><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings

<span class="comment"># Outbound Adapters</span>
<span class="keyword">from</span> adapters.outbound.django.user_repository <span class="keyword">import</span> DjangoUserRepository
<span class="keyword">from</span> adapters.outbound.django.auth_service <span class="keyword">import</span> DjangoAuthService
<span class="keyword">from</span> adapters.outbound.django.token_service <span class="keyword">import</span> JWTTokenService

<span class="comment"># Use Cases</span>
<span class="keyword">from</span> core.use_cases.register_user <span class="keyword">import</span> RegisterUserUseCase
<span class="keyword">from</span> core.use_cases.login_user <span class="keyword">import</span> LoginUserUseCase
<span class="keyword">from</span> core.use_cases.get_user <span class="keyword">import</span> GetUserUseCase


<span class="keyword">class</span> <span class="class-name">DependencyContainer</span>:
    <span class="string">"""
    Container Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
    
    Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ ØªÙ…Ø§Ù… ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
    Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØºÛŒÛŒØ± Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒØŒ ÙÙ‚Ø· Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
    """</span>
    
    <span class="comment"># Singleton instances</span>
    _user_repository = <span class="keyword">None</span>
    _auth_service = <span class="keyword">None</span>
    _token_service = <span class="keyword">None</span>

    <span class="comment"># ===== Outbound Adapters =====</span>
    
    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_user_repository</span>(cls):
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Repository Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">if</span> cls._user_repository <span class="keyword">is</span> <span class="keyword">None</span>:
            cls._user_repository = DjangoUserRepository()
        <span class="keyword">return</span> cls._user_repository

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_auth_service</span>(cls):
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Ø³Ø±ÙˆÛŒØ³ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"""</span>
        <span class="keyword">if</span> cls._auth_service <span class="keyword">is</span> <span class="keyword">None</span>:
            cls._auth_service = DjangoAuthService()
        <span class="keyword">return</span> cls._auth_service

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_token_service</span>(cls):
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Ø³Ø±ÙˆÛŒØ³ ØªÙˆÚ©Ù†"""</span>
        <span class="keyword">if</span> cls._token_service <span class="keyword">is</span> <span class="keyword">None</span>:
            cls._token_service = JWTTokenService(
                secret_key=settings.SECRET_KEY,
                access_token_expire_minutes=<span class="number">60</span>,
                refresh_token_expire_days=<span class="number">7</span>
            )
        <span class="keyword">return</span> cls._token_service

    <span class="comment"># ===== Use Cases =====</span>
    
    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_register_use_case</span>(cls):
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Use Case Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…"""</span>
        <span class="keyword">return</span> RegisterUserUseCase(
            user_repository=cls.get_user_repository(),
            auth_service=cls.get_auth_service()
        )

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_login_use_case</span>(cls):
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Use Case ÙˆØ±ÙˆØ¯"""</span>
        <span class="keyword">return</span> LoginUserUseCase(
            user_repository=cls.get_user_repository(),
            auth_service=cls.get_auth_service(),
            token_service=cls.get_token_service()
        )

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_user_use_case</span>(cls):
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Use Case Ø¯Ø±ÛŒØ§ÙØª Ú©Ø§Ø±Ø¨Ø±"""</span>
        <span class="keyword">return</span> GetUserUseCase(
            user_repository=cls.get_user_repository()
        )

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">reset</span>(cls):
        <span class="string">"""Ø±ÛŒØ³Øª Ú©Ø±Ø¯Ù† ØªÙ…Ø§Ù… instanceâ€ŒÙ‡Ø§ (Ø¨Ø±Ø§ÛŒ ØªØ³Øª)"""</span>
        cls._user_repository = <span class="keyword">None</span>
        cls._auth_service = <span class="keyword">None</span>
        cls._token_service = <span class="keyword">None</span>
</code>
            </div>
        </section>

        <!-- Section 9: Testing -->
        <section id="testing">
            <h2>ğŸ§ª Û¹. ØªØ³Øªâ€ŒÙ†ÙˆÛŒØ³ÛŒ</h2>

            <h3>Ù…Ø²Ø§ÛŒØ§ÛŒ ØªØ³Øªâ€ŒÙ¾Ø°ÛŒØ±ÛŒ Ø¯Ø± Ù…Ø¹Ù…Ø§Ø±ÛŒ Hexagonal</h3>
            <p>
                ÛŒÚ©ÛŒ Ø§Ø² Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† Ù…Ø²Ø§ÛŒØ§ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ HexagonalØŒ Ù‚Ø§Ø¨Ù„ÛŒØª ØªØ³Øªâ€ŒÙ¾Ø°ÛŒØ±ÛŒ Ø¨Ø§Ù„Ø§ÛŒ Ø¢Ù† Ø§Ø³Øª.
                Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡ Ø±Ø§Ø­ØªÛŒ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Mock Ú©Ø±Ø¯.
            </p>

            <div class="info-box success">
                <strong>âœ… Ø§Ù†ÙˆØ§Ø¹ ØªØ³Øª Ø¯Ø± Ù…Ø¹Ù…Ø§Ø±ÛŒ Hexagonal:</strong>
                <ul>
                    <li><strong>Unit Tests:</strong> ØªØ³Øª Use Caseâ€ŒÙ‡Ø§ Ø¨Ø§ Mock Ú©Ø±Ø¯Ù† Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§</li>
                    <li><strong>Integration Tests:</strong> ØªØ³Øª Ø¢Ø¯Ø§Ù¾ØªØ±Ù‡Ø§ Ø¨Ø§ Ø²ÛŒØ±Ø³Ø§Ø®Øª ÙˆØ§Ù‚Ø¹ÛŒ</li>
                    <li><strong>E2E Tests:</strong> ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Ø§Ø² API ØªØ§ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</li>
                </ul>
            </div>

            <h3>ØªØ³Øª ÙˆØ§Ø­Ø¯ Use Case Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</h3>

            <div class="code-block" data-filename="tests/unit/test_register_usecase.py">
<code><span class="keyword">import</span> pytest
<span class="keyword">from</span> unittest.mock <span class="keyword">import</span> Mock, MagicMock

<span class="keyword">from</span> core.use_cases.register_user <span class="keyword">import</span> (
    RegisterUserUseCase,
    RegisterUserRequest,
    RegisterUserResponse
)
<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain
<span class="keyword">from</span> core.domain.exceptions.auth_exceptions <span class="keyword">import</span> (
    UserAlreadyExistsException,
    InvalidUserDataException
)


<span class="keyword">class</span> <span class="class-name">TestRegisterUserUseCase</span>:
    <span class="string">"""ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Use Case Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…"""</span>

    <span class="keyword">def</span> <span class="function">setup_method</span>(self):
        <span class="string">"""Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù‚Ø¨Ù„ Ø§Ø² Ù‡Ø± ØªØ³Øª"""</span>
        <span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Mock Ø¨Ø±Ø§ÛŒ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ</span>
        self.mock_user_repository = Mock()
        self.mock_auth_service = Mock()
        
        <span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Use Case Ø¨Ø§ Mockâ€ŒÙ‡Ø§</span>
        self.use_case = RegisterUserUseCase(
            user_repository=self.mock_user_repository,
            auth_service=self.mock_auth_service
        )

    <span class="keyword">def</span> <span class="function">test_successful_registration</span>(self):
        <span class="string">"""ØªØ³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù…ÙˆÙÙ‚"""</span>
        
        <span class="comment"># Arrange: ØªÙ†Ø¸ÛŒÙ… Ø±ÙØªØ§Ø± Mockâ€ŒÙ‡Ø§</span>
        self.mock_user_repository.find_by_username.return_value = <span class="keyword">None</span>
        self.mock_user_repository.find_by_email.return_value = <span class="keyword">None</span>
        self.mock_auth_service.hash_password.return_value = <span class="string">'hashed_password'</span>
        
        saved_user = UserDomain(
            id=<span class="string">'123'</span>,
            username=<span class="string">'testuser'</span>,
            email=<span class="string">'test@example.com'</span>,
            password=<span class="string">'hashed_password'</span>
        )
        self.mock_user_repository.save.return_value = saved_user
        
        <span class="comment"># Act: Ø§Ø¬Ø±Ø§ÛŒ Use Case</span>
        request = RegisterUserRequest(
            username=<span class="string">'testuser'</span>,
            email=<span class="string">'test@example.com'</span>,
            password=<span class="string">'securepassword123'</span>
        )
        response = self.use_case.execute(request)
        
        <span class="comment"># Assert: Ø¨Ø±Ø±Ø³ÛŒ Ù†ØªÛŒØ¬Ù‡</span>
        <span class="keyword">assert</span> response.success == <span class="keyword">True</span>
        <span class="keyword">assert</span> response.user.username == <span class="string">'testuser'</span>
        <span class="keyword">assert</span> response.user.email == <span class="string">'test@example.com'</span>
        
        <span class="comment"># Ø¨Ø±Ø±Ø³ÛŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ØªØ¯Ù‡Ø§</span>
        self.mock_user_repository.find_by_username.assert_called_once_with(<span class="string">'testuser'</span>)
        self.mock_user_repository.find_by_email.assert_called_once_with(<span class="string">'test@example.com'</span>)
        self.mock_auth_service.hash_password.assert_called_once_with(<span class="string">'securepassword123'</span>)
        self.mock_user_repository.save.assert_called_once()

    <span class="keyword">def</span> <span class="function">test_registration_with_existing_username</span>(self):
        <span class="string">"""ØªØ³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ"""</span>
        
        <span class="comment"># Arrange: Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ¬ÙˆØ¯</span>
        existing_user = UserDomain(
            id=<span class="string">'456'</span>,
            username=<span class="string">'existinguser'</span>,
            email=<span class="string">'existing@example.com'</span>
        )
        self.mock_user_repository.find_by_username.return_value = existing_user
        
        <span class="comment"># Act & Assert</span>
        request = RegisterUserRequest(
            username=<span class="string">'existinguser'</span>,
            email=<span class="string">'new@example.com'</span>,
            password=<span class="string">'securepassword123'</span>
        )
        
        <span class="keyword">with</span> pytest.raises(UserAlreadyExistsException):
            self.use_case.execute(request)

    <span class="keyword">def</span> <span class="function">test_registration_with_invalid_email</span>(self):
        <span class="string">"""ØªØ³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø§ Ø§ÛŒÙ…ÛŒÙ„ Ù†Ø§Ù…Ø¹ØªØ¨Ø±"""</span>
        
        <span class="comment"># Arrange</span>
        self.mock_user_repository.find_by_username.return_value = <span class="keyword">None</span>
        self.mock_user_repository.find_by_email.return_value = <span class="keyword">None</span>
        
        <span class="comment"># Act & Assert</span>
        request = RegisterUserRequest(
            username=<span class="string">'testuser'</span>,
            email=<span class="string">'invalid-email'</span>,  <span class="comment"># Ø§ÛŒÙ…ÛŒÙ„ Ù†Ø§Ù…Ø¹ØªØ¨Ø±</span>
            password=<span class="string">'securepassword123'</span>
        )<span class="keyword">with</span> pytest.raises(InvalidUserDataException):
            self.use_case.execute(request)

    <span class="keyword">def</span> <span class="function">test_registration_with_short_password</span>(self):
        <span class="string">"""ØªØ³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ú©ÙˆØªØ§Ù‡"""</span>
        
        <span class="comment"># Arrange</span>
        self.mock_user_repository.find_by_username.return_value = <span class="keyword">None</span>
        self.mock_user_repository.find_by_email.return_value = <span class="keyword">None</span>
        
        <span class="comment"># Act & Assert</span>
        request = RegisterUserRequest(
            username=<span class="string">'testuser'</span>,
            email=<span class="string">'test@example.com'</span>,
            password=<span class="string">'123'</span>  <span class="comment"># Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ú©ÙˆØªØ§Ù‡</span>
        )
        
        <span class="keyword">with</span> pytest.raises(InvalidUserDataException) <span class="keyword">as</span> exc_info:
            self.use_case.execute(request)
        
        <span class="keyword">assert</span> <span class="string">'Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±'</span> <span class="keyword">in</span> <span class="class-name">str</span>(exc_info.value)
</code>
            </div>

            <h3>ØªØ³Øª ÙˆØ§Ø­Ø¯ Use Case ÙˆØ±ÙˆØ¯</h3>

            <div class="code-block" data-filename="tests/unit/test_login_usecase.py">
<code><span class="keyword">import</span> pytest
<span class="keyword">from</span> unittest.mock <span class="keyword">import</span> Mock

<span class="keyword">from</span> core.use_cases.login_user <span class="keyword">import</span> (
    LoginUserUseCase,
    LoginUserRequest,
    LoginUserResponse
)
<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain
<span class="keyword">from</span> core.domain.exceptions.auth_exceptions <span class="keyword">import</span> (
    UserNotFoundException,
    InvalidCredentialsException,
    UserNotActiveException
)


<span class="keyword">class</span> <span class="class-name">TestLoginUserUseCase</span>:
    <span class="string">"""ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Use Case ÙˆØ±ÙˆØ¯"""</span>

    <span class="keyword">def</span> <span class="function">setup_method</span>(self):
        <span class="string">"""Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù‚Ø¨Ù„ Ø§Ø² Ù‡Ø± ØªØ³Øª"""</span>
        self.mock_user_repository = Mock()
        self.mock_auth_service = Mock()
        self.mock_token_service = Mock()
        
        self.use_case = LoginUserUseCase(
            user_repository=self.mock_user_repository,
            auth_service=self.mock_auth_service,
            token_service=self.mock_token_service
        )

    <span class="keyword">def</span> <span class="function">test_successful_login</span>(self):
        <span class="string">"""ØªØ³Øª ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚"""</span>
        
        <span class="comment"># Arrange</span>
        user = UserDomain(
            id=<span class="string">'123'</span>,
            username=<span class="string">'testuser'</span>,
            email=<span class="string">'test@example.com'</span>,
            password=<span class="string">'hashed_password'</span>,
            is_active=<span class="keyword">True</span>
        )
        
        self.mock_user_repository.find_by_username.return_value = user
        self.mock_auth_service.verify_password.return_value = <span class="keyword">True</span>
        self.mock_token_service.generate_token.return_value = <span class="string">'jwt_token_123'</span>
        self.mock_user_repository.save.return_value = user
        
        <span class="comment"># Act</span>
        request = LoginUserRequest(
            username=<span class="string">'testuser'</span>,
            password=<span class="string">'correct_password'</span>
        )
        response = self.use_case.execute(request)
        
        <span class="comment"># Assert</span>
        <span class="keyword">assert</span> response.success == <span class="keyword">True</span>
        <span class="keyword">assert</span> response.access_token == <span class="string">'jwt_token_123'</span>
        <span class="keyword">assert</span> response.user.username == <span class="string">'testuser'</span>
        
        self.mock_auth_service.verify_password.assert_called_once_with(
            <span class="string">'correct_password'</span>, <span class="string">'hashed_password'</span>
        )

    <span class="keyword">def</span> <span class="function">test_login_user_not_found</span>(self):
        <span class="string">"""ØªØ³Øª ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ú©Ø§Ø±Ø¨Ø± Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯"""</span>
        
        <span class="comment"># Arrange</span>
        self.mock_user_repository.find_by_username.return_value = <span class="keyword">None</span>
        
        <span class="comment"># Act & Assert</span>
        request = LoginUserRequest(
            username=<span class="string">'nonexistent'</span>,
            password=<span class="string">'any_password'</span>
        )
        
        <span class="keyword">with</span> pytest.raises(UserNotFoundException):
            self.use_case.execute(request)

    <span class="keyword">def</span> <span class="function">test_login_wrong_password</span>(self):
        <span class="string">"""ØªØ³Øª ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡"""</span>
        
        <span class="comment"># Arrange</span>
        user = UserDomain(
            id=<span class="string">'123'</span>,
            username=<span class="string">'testuser'</span>,
            password=<span class="string">'hashed_password'</span>,
            is_active=<span class="keyword">True</span>
        )
        
        self.mock_user_repository.find_by_username.return_value = user
        self.mock_auth_service.verify_password.return_value = <span class="keyword">False</span>
        
        <span class="comment"># Act & Assert</span>
        request = LoginUserRequest(
            username=<span class="string">'testuser'</span>,
            password=<span class="string">'wrong_password'</span>
        )
        
        <span class="keyword">with</span> pytest.raises(InvalidCredentialsException):
            self.use_case.execute(request)

    <span class="keyword">def</span> <span class="function">test_login_inactive_user</span>(self):
        <span class="string">"""ØªØ³Øª ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ú©Ø§Ø±Ø¨Ø± ØºÛŒØ±ÙØ¹Ø§Ù„"""</span>
        
        <span class="comment"># Arrange</span>
        user = UserDomain(
            id=<span class="string">'123'</span>,
            username=<span class="string">'testuser'</span>,
            password=<span class="string">'hashed_password'</span>,
            is_active=<span class="keyword">False</span>  <span class="comment"># Ú©Ø§Ø±Ø¨Ø± ØºÛŒØ±ÙØ¹Ø§Ù„</span>
        )
        
        self.mock_user_repository.find_by_username.return_value = user
        
        <span class="comment"># Act & Assert</span>
        request = LoginUserRequest(
            username=<span class="string">'testuser'</span>,
            password=<span class="string">'any_password'</span>
        )
        
        <span class="keyword">with</span> pytest.raises(UserNotActiveException):
            self.use_case.execute(request)
</code>
            </div>

            <h3>ØªØ³Øª ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ Repository</h3>

            <div class="code-block" data-filename="tests/integration/test_user_repository.py">
<code><span class="keyword">import</span> pytest
<span class="keyword">from</span> django.test <span class="keyword">import</span> TestCase

<span class="keyword">from</span> adapters.outbound.django.user_repository <span class="keyword">import</span> DjangoUserRepository
<span class="keyword">from</span> adapters.outbound.django.models <span class="keyword">import</span> UserModel
<span class="keyword">from</span> core.domain.models.user <span class="keyword">import</span> UserDomain


<span class="keyword">class</span> <span class="class-name">TestDjangoUserRepository</span>(TestCase):
    <span class="string">"""ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ Repository Ú©Ø§Ø±Ø¨Ø±"""</span>

    <span class="keyword">def</span> <span class="function">setUp</span>(self):
        <span class="string">"""Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù‚Ø¨Ù„ Ø§Ø² Ù‡Ø± ØªØ³Øª"""</span>
        self.repository = DjangoUserRepository()
        
        <span class="comment"># Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
        UserModel.objects.all().delete()

    <span class="keyword">def</span> <span class="function">test_save_new_user</span>(self):
        <span class="string">"""ØªØ³Øª Ø°Ø®ÛŒØ±Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"""</span>
        
        <span class="comment"># Arrange</span>
        user = UserDomain(
            username=<span class="string">'newuser'</span>,
            email=<span class="string">'new@example.com'</span>,
            password=<span class="string">'hashed_password'</span>,
            first_name=<span class="string">'Ø¹Ù„ÛŒ'</span>,
            last_name=<span class="string">'Ù…Ø­Ù…Ø¯ÛŒ'</span>
        )
        
        <span class="comment"># Act</span>
        saved_user = self.repository.save(user)
        
        <span class="comment"># Assert</span>
        self.assertIsNotNone(saved_user.id)
        self.assertEqual(saved_user.username, <span class="string">'newuser'</span>)
        self.assertEqual(saved_user.email, <span class="string">'new@example.com'</span>)
        
        <span class="comment"># Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
        db_user = UserModel.objects.get(username=<span class="string">'newuser'</span>)
        self.assertEqual(db_user.email, <span class="string">'new@example.com'</span>)

    <span class="keyword">def</span> <span class="function">test_find_by_username</span>(self):
        <span class="string">"""ØªØ³Øª Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"""</span>
        
        <span class="comment"># Arrange: Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
        UserModel.objects.create(
            username=<span class="string">'findme'</span>,
            email=<span class="string">'find@example.com'</span>,
            password=<span class="string">'hashed'</span>
        )
        
        <span class="comment"># Act</span>
        found_user = self.repository.find_by_username(<span class="string">'findme'</span>)
        
        <span class="comment"># Assert</span>
        self.assertIsNotNone(found_user)
        self.assertEqual(found_user.username, <span class="string">'findme'</span>)
        self.assertEqual(found_user.email, <span class="string">'find@example.com'</span>)

    <span class="keyword">def</span> <span class="function">test_find_by_username_not_found</span>(self):
        <span class="string">"""ØªØ³Øª Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø± Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯"""</span>
        
        <span class="comment"># Act</span>
        found_user = self.repository.find_by_username(<span class="string">'nonexistent'</span>)
        
        <span class="comment"># Assert</span>
        self.assertIsNone(found_user)

    <span class="keyword">def</span> <span class="function">test_delete_user</span>(self):
        <span class="string">"""ØªØ³Øª Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø±"""</span>
        
        <span class="comment"># Arrange</span>
        db_user = UserModel.objects.create(
            username=<span class="string">'deleteme'</span>,
            email=<span class="string">'delete@example.com'</span>,
            password=<span class="string">'hashed'</span>
        )
        
        <span class="comment"># Act</span>
        result = self.repository.delete(<span class="class-name">str</span>(db_user.id))
        
        <span class="comment"># Assert</span>
        self.assertTrue(result)
        self.assertFalse(UserModel.objects.filter(id=db_user.id).exists())
</code>
            </div>

            <h3>ØªØ³Øª End-to-End API</h3>

            <div class="code-block" data-filename="tests/e2e/test_auth_api.py">
<code><span class="keyword">import</span> json
<span class="keyword">from</span> django.test <span class="keyword">import</span> TestCase, Client
<span class="keyword">from</span> django.urls <span class="keyword">import</span> reverse

<span class="keyword">from</span> adapters.outbound.django.models <span class="keyword">import</span> UserModel


<span class="keyword">class</span> <span class="class-name">TestAuthAPI</span>(TestCase):
    <span class="string">"""ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ End-to-End Ø¨Ø±Ø§ÛŒ API Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"""</span>

    <span class="keyword">def</span> <span class="function">setUp</span>(self):
        <span class="string">"""Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù‚Ø¨Ù„ Ø§Ø² Ù‡Ø± ØªØ³Øª"""</span>
        self.client = Client()
        UserModel.objects.all().delete()

    <span class="keyword">def</span> <span class="function">test_register_success</span>(self):
        <span class="string">"""ØªØ³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù…ÙˆÙÙ‚ Ø§Ø² Ø·Ø±ÛŒÙ‚ API"""</span>
        
        <span class="comment"># Arrange</span>
        data = {
            <span class="string">'username'</span>: <span class="string">'apiuser'</span>,
            <span class="string">'email'</span>: <span class="string">'api@example.com'</span>,
            <span class="string">'password'</span>: <span class="string">'securepassword123'</span>,
            <span class="string">'first_name'</span>: <span class="string">'Ú©Ø§Ø±Ø¨Ø±'</span>,
            <span class="string">'last_name'</span>: <span class="string">'ØªØ³Øª'</span>
        }
        
        <span class="comment"># Act</span>
        response = self.client.post(
            <span class="string">'/api/auth/register/'</span>,
            data=json.dumps(data),
            content_type=<span class="string">'application/json'</span>
        )
        
        <span class="comment"># Assert</span>
        self.assertEqual(response.status_code, <span class="number">201</span>)
        
        response_data = response.json()
        self.assertTrue(response_data[<span class="string">'success'</span>])
        self.assertEqual(response_data[<span class="string">'data'</span>][<span class="string">'user'</span>][<span class="string">'username'</span>], <span class="string">'apiuser'</span>)

    <span class="keyword">def</span> <span class="function">test_register_duplicate_username</span>(self):
        <span class="string">"""ØªØ³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ"""</span>
        
        <span class="comment"># Arrange: Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø§ÙˆÙ„</span>
        UserModel.objects.create(
            username=<span class="string">'existing'</span>,
            email=<span class="string">'existing@example.com'</span>,
            password=<span class="string">'hashed'</span>
        )
        
        data = {
            <span class="string">'username'</span>: <span class="string">'existing'</span>,  <span class="comment"># Ù†Ø§Ù… ØªÚ©Ø±Ø§Ø±ÛŒ</span>
            <span class="string">'email'</span>: <span class="string">'new@example.com'</span>,
            <span class="string">'password'</span>: <span class="string">'securepassword123'</span>
        }
        
        <span class="comment"># Act</span>
        response = self.client.post(
            <span class="string">'/api/auth/register/'</span>,
            data=json.dumps(data),
            content_type=<span class="string">'application/json'</span>
        )
        
        <span class="comment"># Assert</span>
        self.assertEqual(response.status_code, <span class="number">409</span>)
        self.assertFalse(response.json()[<span class="string">'success'</span>])

    <span class="keyword">def</span> <span class="function">test_login_success</span>(self):
        <span class="string">"""ØªØ³Øª ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚"""</span>
        
        <span class="comment"># Arrange: Ø§Ø¨ØªØ¯Ø§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</span>
        register_data = {
            <span class="string">'username'</span>: <span class="string">'loginuser'</span>,
            <span class="string">'email'</span>: <span class="string">'login@example.com'</span>,
            <span class="string">'password'</span>: <span class="string">'securepassword123'</span>
        }
        self.client.post(
            <span class="string">'/api/auth/register/'</span>,
            data=json.dumps(register_data),
            content_type=<span class="string">'application/json'</span>
        )
        
        <span class="comment"># Act: ÙˆØ±ÙˆØ¯</span>
        login_data = {
            <span class="string">'username'</span>: <span class="string">'loginuser'</span>,
            <span class="string">'password'</span>: <span class="string">'securepassword123'</span>
        }
        response = self.client.post(
            <span class="string">'/api/auth/login/'</span>,
            data=json.dumps(login_data),
            content_type=<span class="string">'application/json'</span>
        )
        
        <span class="comment"># Assert</span>
        self.assertEqual(response.status_code, <span class="number">200</span>)
        
        response_data = response.json()
        self.assertTrue(response_data[<span class="string">'success'</span>])
        self.assertIn(<span class="string">'access_token'</span>, response_data[<span class="string">'data'</span>])

    <span class="keyword">def</span> <span class="function">test_profile_with_valid_token</span>(self):
        <span class="string">"""ØªØ³Øª Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨Ø§ ØªÙˆÚ©Ù† Ù…Ø¹ØªØ¨Ø±"""</span>
        
        <span class="comment"># Arrange: Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ùˆ ÙˆØ±ÙˆØ¯</span>
        register_data = {
            <span class="string">'username'</span>: <span class="string">'profileuser'</span>,
            <span class="string">'email'</span>: <span class="string">'profile@example.com'</span>,
            <span class="string">'password'</span>: <span class="string">'securepassword123'</span>
        }
        self.client.post(
            <span class="string">'/api/auth/register/'</span>,
            data=json.dumps(register_data),
            content_type=<span class="string">'application/json'</span>
        )
        
        login_response = self.client.post(
            <span class="string">'/api/auth/login/'</span>,
            data=json.dumps({
                <span class="string">'username'</span>: <span class="string">'profileuser'</span>,
                <span class="string">'password'</span>: <span class="string">'securepassword123'</span>
            }),
            content_type=<span class="string">'application/json'</span>
        )
        
        token = login_response.json()[<span class="string">'data'</span>][<span class="string">'access_token'</span>]
        
        <span class="comment"># Act: Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÙØ§ÛŒÙ„</span>
        response = self.client.get(
            <span class="string">'/api/auth/profile/'</span>,
            HTTP_AUTHORIZATION=<span class="string">f'Bearer </span>{token}<span class="string">'</span>
        )
        
        <span class="comment"># Assert</span>
        self.assertEqual(response.status_code, <span class="number">200</span>)
        self.assertEqual(
            response.json()[<span class="string">'data'</span>][<span class="string">'user'</span>][<span class="string">'username'</span>],
            <span class="string">'profileuser'</span>
        )

    <span class="keyword">def</span> <span class="function">test_profile_without_token</span>(self):
        <span class="string">"""ØªØ³Øª Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨Ø¯ÙˆÙ† ØªÙˆÚ©Ù†"""</span>
        
        <span class="comment"># Act</span>
        response = self.client.get(<span class="string">'/api/auth/profile/'</span>)
        
        <span class="comment"># Assert</span>
        self.assertEqual(response.status_code, <span class="number">401</span>)
        self.assertFalse(response.json()[<span class="string">'success'</span>])
</code>
            </div>

            <h3>Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§</h3>

            <div class="code-block" data-filename="Terminal">
<code><span class="comment"># Ø§Ø¬Ø±Ø§ÛŒ ØªÙ…Ø§Ù… ØªØ³Øªâ€ŒÙ‡Ø§</span>
$ python manage.py test

<span class="comment"># Ø§Ø¬Ø±Ø§ÛŒ ÙÙ‚Ø· ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ§Ø­Ø¯</span>
$ python manage.py test tests.unit

<span class="comment"># Ø§Ø¬Ø±Ø§ÛŒ ÙÙ‚Ø· ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ</span>
$ python manage.py test tests.integration

<span class="comment"># Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø§ pytest Ùˆ coverage</span>
$ pytest --cov=core --cov=adapters tests/

<span class="comment"># Ú¯Ø²Ø§Ø±Ø´ coverage</span>
$ pytest --cov=core --cov-report=html tests/
</code>
            </div>
        </section>

        <!-- Section 10: Summary -->
        <section id="summary">
            <h2>ğŸ“‹ Û±Û°. Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ</h2>

            <h3>Ù…Ø²Ø§ÛŒØ§ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Hexagonal</h3>

            <div class="info-box success">
                <ul>
                    <li><strong>Ø¬Ø¯Ø§Ø³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„:</strong> Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ø§Ø² ÙØ±ÛŒÙ…â€ŒÙˆØ±Ú© Ùˆ Ø²ÛŒØ±Ø³Ø§Ø®Øª Ø¬Ø¯Ø§ Ø§Ø³Øª</li>
                    <li><strong>ØªØ³Øªâ€ŒÙ¾Ø°ÛŒØ±ÛŒ:</strong> Ø§Ù…Ú©Ø§Ù† ØªØ³Øª ÙˆØ§Ø­Ø¯ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ÛŒØ§ Ø³Ø±ÙˆÛŒØ³ Ø®Ø§Ø±Ø¬ÛŒ</li>
                    <li><strong>Ø§Ù†Ø¹Ø·Ø§Ùâ€ŒÙ¾Ø°ÛŒØ±ÛŒ:</strong> ØªØ¹ÙˆÛŒØ¶ Ø¢Ø³Ø§Ù† Ø²ÛŒØ±Ø³Ø§Ø®Øªâ€ŒÙ‡Ø§ (Ù…Ø«Ù„Ø§Ù‹ ØªØºÛŒÛŒØ± Ø¯ÛŒØªØ§Ø¨ÛŒØ³)</li>
                    <li><strong>Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ø¢Ø³Ø§Ù†:</strong> ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± ÛŒÚ© Ù„Ø§ÛŒÙ‡ ØªØ£Ø«ÛŒØ±ÛŒ Ø¨Ø± Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ù†Ø¯Ø§Ø±Ø¯</li>
                    <li><strong>Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±ÛŒ:</strong> Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø³Ø§Ø®ØªØ§Ø±</li>
                </ul>
            </div>

            <h3>Ù…Ø¹Ø§ÛŒØ¨ Ùˆ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§</h3>

            <div class="info-box warning">
                <ul>
                    <li><strong>Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ø§ÙˆÙ„ÛŒÙ‡:</strong> Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù†ÙˆØ´ØªÙ† Ú©Ø¯ Ø¨ÛŒØ´ØªØ± Ø¯Ø± Ø§Ø¨ØªØ¯Ø§</li>
                    <li><strong>Ù…Ù†Ø­Ù†ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ:</strong> Ø¯Ø±Ú© Ù…ÙØ§Ù‡ÛŒÙ… Ø¨Ø±Ø§ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø²Ù…Ø§Ù†â€ŒØ¨Ø± Ø§Ø³Øª</li>
                    <li><strong>Over-engineering:</strong> Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ Ø¨Ø§Ø´Ø¯</li>
                    <li><strong>ØªØ¨Ø¯ÛŒÙ„ Ø¯Ø§Ø¯Ù‡:</strong> Ù†ÛŒØ§Ø² Ø¨Ù‡ Mapper Ø¨ÛŒÙ† Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§</li>
                </ul>
            </div>

            <h3>Ú†Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø§Ø² Hexagonal Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŸ</h3>

            <table>
                <thead>
                    <tr>
                        <th>Ù…Ù†Ø§Ø³Ø¨ Ø§Ø³Øª Ø¨Ø±Ø§ÛŒ</th>
                        <th>Ù…Ù†Ø§Ø³Ø¨ Ù†ÛŒØ³Øª Ø¨Ø±Ø§ÛŒ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ùˆ Ø¨Ù„Ù†Ø¯Ù…Ø¯Øª</td>
                        <td>Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ùˆ Ø³Ø§Ø¯Ù‡</td>
                    </tr>
                    <tr>
                        <td>Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø¨Ø§ Ù…Ù†Ø·Ù‚ Ù¾ÛŒÚ†ÛŒØ¯Ù‡</td>
                        <td>MVP Ùˆ Ù†Ù…ÙˆÙ†Ù‡ Ø§ÙˆÙ„ÛŒÙ‡</td>
                    </tr>
                    <tr>
                        <td>Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øªâ€ŒÙ¾Ø°ÛŒØ±ÛŒ Ø¨Ø§Ù„Ø§</td>
                        <td>Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§ Ø¹Ù…Ø± Ú©ÙˆØªØ§Ù‡</td>
                    </tr>
                    <tr>
                        <td>Ø§Ø­ØªÙ…Ø§Ù„ ØªØºÛŒÛŒØ± Ø²ÛŒØ±Ø³Ø§Ø®Øª</td>
                        <td>ØªÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ùˆ Ú©Ù…â€ŒØªØ¬Ø±Ø¨Ù‡</td>
                    </tr>
                    <tr>
                        <td>Ù…ÛŒÚ©Ø±ÙˆØ³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§</td>
                        <td>Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡</td>
                    </tr>
                </tbody>
            </table>

            <h3>Ø®Ù„Ø§ØµÙ‡ Ø§Ø¬Ø²Ø§ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ</h3>

            <div class="diagram">
                <div class="layer-diagram">
                    <div class="layer adapter-in">
                        <strong>ğŸŒ Inbound Adapters</strong><br>
                        Django Views, REST API, GraphQL, CLI
                    </div>
                    <div class="arrow">â¬‡ï¸ Ø¯Ø±Ø®ÙˆØ§Ø³Øª</div>
                    <div class="layer port-in">
                        <strong>ğŸšª Inbound Ports</strong><br>
                        Service Interfaces (Ú†Ù‡ Ú©Ø§Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ…)
                    </div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="layer usecase">
                        <strong>âš™ï¸ Use Cases</strong><br>
                        Application Logic, Orchestration
                    </div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="layer domain">
                        <strong>ğŸ¯ Domain</strong><br>
                        Entities, Value Objects, Business Rules
                    </div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="layer port-out">
                        <strong>ğŸšª Outbound Ports</strong><br>
                        Repository Interfaces (Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ…)
                    </div>
                    <div class="arrow">â¬‡ï¸ Ø¯Ø§Ø¯Ù‡</div>
                    <div class="layer adapter-out">
                        <strong>ğŸ’¾ Outbound Adapters</strong><br>
                        Django ORM, External APIs, Cache
                    </div>
                </div>
            </div>

            <h3>Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ</h3>

            <div class="info-box">
                <strong>ğŸ“š Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø¨ÛŒØ´ØªØ±:</strong>
                <ol>
                    <li>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ Ú©ÙˆÚ†Ú© Ø¨Ø§ Ø§ÛŒÙ† Ù…Ø¹Ù…Ø§Ø±ÛŒ</li>
                    <li>Ù…Ø·Ø§Ù„Ø¹Ù‡ Clean Architecture Ùˆ DDD</li>
                    <li>Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ CQRS Ùˆ Event Sourcing</li>
                    <li>Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ DI Ù…Ø§Ù†Ù†Ø¯ <code>dependency-injector</code></li>
                    <li>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø± Ù…ÛŒÚ©Ø±ÙˆØ³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§</li>
                </ol>
            </div>

            <h3>Ù…Ù†Ø§Ø¨Ø¹ Ù…ÙÛŒØ¯</h3>

            <ul>
                <li>ğŸ“– <a href="https://alistair.cockburn.us/hexagonal-architecture/" style="color: #00d9ff;">Hexagonal Architecture by Alistair Cockburn</a></li>
                <li>ğŸ“– <a href="https://www.amazon.com/Clean-Architecture-Craftsmans-Software-Structure/dp/0134494164" style="color: #00d9ff;">Clean Architecture by Robert C. Martin</a></li>
                <li>ğŸ“– <a href="https://www.amazon.com/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215" style="color: #00d9ff;">Domain-Driven Design by Eric Evans</a></li>
            </ul>
        </section>

        <!-- Footer -->
        <footer>
            <p>
                ğŸ”· Ø¢Ù…ÙˆØ²Ø´ Ù…Ø¹Ù…Ø§Ø±ÛŒ Hexagonal Ø¨Ø§ Django<br>
                ØªÙ‡ÛŒÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù…Ø¹Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³Ø§Ù† ÙØ§Ø±Ø³ÛŒâ€ŒØ²Ø¨Ø§Ù†
            </p>
        </footer>
    </div>

    <!-- Scroll to Top Button -->
    <div class="scroll-top" onclick="scrollToTop()"></div>

    <script>
        // Smooth scroll to sections
        document.querySelectorAll('nav ul li a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Scroll to top functionality
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Show/hide scroll to top button
        window.addEventListener('scroll', function() {
            const scrollTopBtn = document.querySelector('.scroll-top');
            if (window.pageYOffset > 300) {
                scrollTopBtn.style.display = 'flex';
            } else {
                scrollTopBtn.style.display = 'none';
            }
        });

        // Tab switching
        function switchTab(tabName) {
            const contents = document.querySelectorAll('.tab-content');
            const tabs = document.querySelectorAll('.tab');
            
            contents.forEach(content => {
                content.classList.remove('active');
            });
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Code highlighting on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Highlight.js
            hljs.highlightAll();

            // Initial hide of scroll button
            document.querySelector('.scroll-top').style.display = 'none';
            
            // Add animation to sections on scroll
            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            document.querySelectorAll('section').forEach(section => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(20px)';
                section.style.transition = 'all 0.6s ease-out';
                observer.observe(section);
            });
        });

        // Copy code functionality
        document.querySelectorAll('.code-block').forEach(block => {
            const copyBtn = document.createElement('button');
            copyBtn.textContent = 'ğŸ“‹ Ú©Ù¾ÛŒ Ú©Ø¯';
            copyBtn.style.cssText = `
                position: absolute;
                top: 40px;
                left: 10px;
                padding: 8px 15px;
                background: linear-gradient(135deg, #238636 0%, #2ea043 100%);
                color: white;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                font-size: 0.85em;
                transition: all 0.3s ease;
            `;
            
            copyBtn.addEventListener('mouseover', function() {
                this.style.transform = 'translateY(-2px)';
                this.style.boxShadow = '0 5px 15px rgba(46, 160, 67, 0.4)';
            });
            
            copyBtn.addEventListener('mouseout', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
            });
            
            copyBtn.addEventListener('click', function() {
                const code = block.querySelector('code').textContent;
                navigator.clipboard.writeText(code).then(() => {
                    const originalText = this.textContent;
                    this.textContent = 'âœ… Ú©Ù¾ÛŒ Ø´Ø¯!';
                    this.style.background = 'linear-gradient(135deg, #ffd93d 0%, #ff6b6b 100%)';
                    
                    setTimeout(() => {
                        this.textContent = originalText;
                        this.style.background = 'linear-gradient(135deg, #238636 0%, #2ea043 100%)';
                    }, 2000);
                });
            });
            
            block.style.position = 'relative';
            block.appendChild(copyBtn);
        });
    </script>
</body>
</html>
