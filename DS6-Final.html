<!DOCTYPE html>
<html lang="fa" dir="rtl" aria-label="دوره جامع علم داده">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>دوره جامع علم داده - نسخه مدرن</title>

        <!-- Modern CSS Framework -->
        <link
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
            rel="stylesheet">
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
            rel="stylesheet">
        <link
            href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css"
            rel="stylesheet"
            type="text/css"/>
        <link href="style.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <!-- Animated Background -->
        <div class="animated-bg">
            <div class="floating-shape shape1"></div>
            <div class="floating-shape shape2"></div>
            <div class="floating-shape shape3"></div>
            <div class="floating-shape shape4"></div>
            <div class="floating-shape shape5"></div>
            <div class="floating-shape shape6"></div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <!-- Slide Indicators -->
        <div
            class="slide-indicators"
            id="slideIndicators"
            role="group"
            aria-label="نشانگرهای اسلاید">
            <!-- Indicators will be generated by JavaScript -->
        </div>

        <!-- Mobile Menu Toggle -->
        <button
            class="mobile-menu-toggle"
            id="mobileMenuToggle"
            aria-label="تغییر وضعیت منوی موبایل"
            aria-expanded="false"
            title="منوی موبایل">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Main Container -->
        <div class="main-container" role="main" aria-label="محتوای اصلی دوره">
            <!-- Sidebar Navigation -->
            <nav
                class="sidebar"
                id="sidebar"
                role="navigation"
                aria-label="ناوبری اسلایدها">
                <div class="sidebar-header">
                    <div class="sidebar-title">
                        <i class="fas fa-graduation-cap"></i>
                        دوره علم داده
                    </div>
                    <div class="sidebar-subtitle">جلسه ششم :تحلیل داده‌های جدولی</div>
                </div>

                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-slide="0">
                            <i class="fas fa-info-circle nav-icon"></i>
                            معرفی جلسه
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="1">
                            <i class="fas fa-lightbulb nav-icon"></i>
                            چرا Pandas؟
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="2">
                            <i class="fas fa-terminal nav-icon"></i>
                            نصب و شروع کار
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="3">
                            <i class="fas fa-stream nav-icon"></i>
                            Series - عمیق‌تر
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="4">
                            <i class="fas fa-table nav-icon"></i>
                            DataFrame - عمیق‌تر
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="5">
                            <i class="fas fa-file-import nav-icon"></i>
                            خواندن و ذخیره داده
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="6">
                            <i class="fas fa-mouse-pointer nav-icon"></i>
                            انتخاب داده‌ها
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="7">
                            <i class="fas fa-filter nav-icon"></i>
                            فیلتر پیشرفته
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="8">
                            <i class="fas fa-object-group nav-icon"></i>
                            گروه‌بندی و تجمیع
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="9">
                            <i class="fas fa-broom nav-icon"></i>
                            پاک‌سازی داده‌ها
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="10">
                            <i class="fas fa-random nav-icon"></i>
                            تغییر شکل داده‌ها
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-slide="11">
                            <i class="fas fa-chart-line nav-icon"></i>
                            تحلیل‌های پیشرفته
                        </a>
                    </li>
                </ul>

            </nav>

            <!-- Slide Container -->
            <div class="slide-container" role="region" aria-label="محتوای اسلاید">
                <!-- Slide 1: -->
                <div
                    class="slide intro"
                    id="slide0"
                    role="article"
                    aria-labelledby="slide0-title"
                    tabindex="0">
                    <div class="slide-header">
                        <div class="slide-number">1/12</div>
                    </div>
                    <div class="slide-icon">🎓</div>
                    <h1 class="slide-title">دوره جامع علم داده با پایتون</h1>
                    <div class="slide-content">
                        <div class="card-grid">
                            <div class="modern-card fade-in">
                                <div class="card-icon">👨‍🏫</div>
                                <div class="card-title">مدرس</div>
                                <div class="card-description">آراز شاه کرمی</div>
                            </div>
                            <div class="modern-card fade-in" style="animation-delay: 0.1s">
                                <div class="card-icon">🐼</div>
                                <div class="card-title">جلسه ششم</div>
                                <div class="card-description">
                                    Pandas و تحلیل داده‌های جدولی</div>
                            </div>
                            <div class="modern-card fade-in" style="animation-delay: 0.2s">
                                <div class="card-icon">⏱️</div>
                                <div class="card-title">مدت زمان</div>
                                <div class="card-description">120 دقیقه</div>
                            </div>
                            <div class="modern-card fade-in" style="animation-delay: 0.3s">
                                <div class="card-icon">🎯</div>
                                <div class="card-title">اهداف</div>
                                <div class="card-description" style="direction: rtl; text-align: right;">

                                    <i class="fas fa-book-open nav-icon"></i>
                                    تسلط بر تحلیل داده‌های جدولی<br>

                                </div>
                            </div>
                            <div class="modern-card fade-in" style="animation-delay: 0.3s">
                                <div class="card-icon">📊</div>
                                <div class="card-title">
                                    قدرت Pandas</div>
                                <div class="card-description" style="direction: rtl; text-align: right;">
                                    <i class="fas fa-sliders-h nav-icon"></i>
                                    متد کاربردی
                                    <br>
                                    <i class="fas fa-layer-group nav-icon"></i>
                                    ساختار داده
                                    <br>

                                    <i class="fas fa-play-circle nav-icon"></i>
                                    امکانات
                                    <br>

                                    <i class="fas fa-file-export nav-icon"></i>
                                    کاربردی
                                </div>
                            </div>

                        </div>
                        <div class="text-center mt-8 slide-up">
                            <h2 class="text-3xl font-bold mb-4">🚀 شروع سفر به دنیای علم داده</h2>
                            <p class="text-xl opacity-90">با هم قدم به قدم پیش می‌رویم</p>
                        </div>
                    </div>
                </div>

                <!-- Slide 2: -->
                <div class="slide" id="slide1" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">2/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">🤔</div>
                        <h1 class="text-3xl font-bold mb-4">چرا Pandas؟</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-paw ml-2"></i>پانداس چیست؟
                            </h3>
                            <p class="text-white/80 mb-6 leading-relaxed">
                                کتابخانه قدرتمند Python برای دستکاری و تحلیل داده‌های ساختاریافته
                            </p>

                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-star ml-2"></i>مزایای Pandas:
                            </h3>
                            <ul class="text-white/80 space-y-2 mb-6">
                                <li>
                                    <i class="fas fa-check text-green-400 ml-2"></i>کار آسان با داده‌های جدولی</li>
                                <li>
                                    <i class="fas fa-check text-green-400 ml-2"></i>خواندن از فرمت‌های مختلف</li>
                                <li>
                                    <i class="fas fa-check text-green-400 ml-2"></i>عملیات سریع روی داده‌ها</li>
                                <li>
                                    <i class="fas fa-check text-green-400 ml-2"></i>تمیزکاری و آماده‌سازی داده</li>
                                <li>
                                    <i class="fas fa-check text-green-400 ml-2"></i>تجمیع و گروه‌بندی</li>
                                <li>
                                    <i class="fas fa-check text-green-400 ml-2"></i>ادغام DataFrame ها</li>
                            </ul>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-database ml-2"></i>ساختارهای داده Pandas:
                            </h3>

                            <div class="space-y-4 mb-6">
                                <div class="glass-effect rounded-xl p-4">
                                    <h4 class="font-semibold text-blue-300 mb-2">
                                        <i class="fas fa-list-ol ml-2"></i>Series (سری)
                                    </h4>
                                    <p class="text-white/80 text-sm">آرایه یک‌بعدی با برچسب - مشابه ستون جدول</p>
                                </div>

                                <div class="glass-effect rounded-xl p-4">
                                    <h4 class="font-semibold text-purple-300 mb-2">
                                        <i class="fas fa-table ml-2"></i>DataFrame
                                    </h4>
                                    <p class="text-white/80 text-sm">ساختار دوبعدی با سطرها و ستون‌ها - مشابه جدول Excel</p>
                                </div>
                            </div>

                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-tools ml-2"></i>کاربردهای Pandas:
                            </h3>
                            <div class="grid grid-cols-2 gap-3">
                                <div class="method-card glass-effect rounded-lg p-3 text-center">
                                    <i class="fas fa-file-import text-blue-300 text-xl mb-2"></i>
                                    <div class="text-sm">خواندن داده</div>
                                </div>
                                <div class="method-card glass-effect rounded-lg p-3 text-center">
                                    <i class="fas fa-broom text-green-300 text-xl mb-2"></i>
                                    <div class="text-sm">تمیزکاری</div>
                                </div>
                                <div class="method-card glass-effect rounded-lg p-3 text-center">
                                    <i class="fas fa-chart-line text-purple-300 text-xl mb-2"></i>
                                    <div class="text-sm">تحلیل</div>
                                </div>
                                <div class="method-card glass-effect rounded-lg p-3 text-center">
                                    <i class="fas fa-save text-pink-300 text-xl mb-2"></i>
                                    <div class="text-sm">ذخیره</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-yellow-300 mb-2">
                                <i class="fas fa-link ml-2"></i>معماری Pandas:
                            </h4>
                            <p class="text-white/80 text-sm">Pandas بر پایه NumPy ساخته شده و از سرعت آن بهره می‌برد</p>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-indigo-300 mb-2">
                                <i class="fas fa-lightbulb ml-2"></i>نکته مهم:
                            </h4>
                            <p class="text-white/80 text-sm">نام Pandas از "Panel Data" گرفته شده که به داده‌های چندبعدی اشاره دارد</p>
                        </div>
                    </div>
                </div>

                <!-- Slide 3: -->
                <div class="slide" id="slide2" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">3/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">📦</div>
                        <h1 class="text-3xl font-bold mb-4">نصب و شروع کار</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-download ml-2"></i>نصب Pandas:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># نصب با pip
pip install pandas

# نصب با conda
conda install pandas

# نصب کامل با numpy
pip install pandas numpy

# در google colab (از قبل نصب است)
import pandas as pd</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-file-import ml-2"></i>Import کردن:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python">import pandas as pd
import numpy as np

# بررسی نسخه
print(pd.__version__)

# تنظیمات نمایش
pd.set_option('display.max_columns', 10)
pd.set_option('display.max_rows', 20)
pd.set_option('display.width', 1000)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-list-ol ml-2"></i>ایجاد Series:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># از لیست
data = [10, 20, 30, 40, 50]
series1 = pd.series(data)
print(series1)

# با index سفارشی
cities = ['تهران', 'اصفهان', 'شیراز', 'مشهد']
population = [9000000, 2000000, 1800000, 3200000]
series2 = pd.series(population, index=cities)
print(series2)

# از دیکشنری
scores = {'ریاضی': 18, 'فیزیک': 16, 'شیمی': 19}
series3 = pd.series(scores)
print(series3)

# دسترسی به عناصر
print(series2['تهران'])  # با نام
print(series2[0])         # با موقعیت</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-table ml-2"></i>ایجاد DataFrame:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># از دیکشنری
data = {
    'نام': ['علی', 'سارا', 'حسن', 'مریم'],
    'سن': [25, 30, 35, 28],
    'شهر': ['تهران', 'اصفهان', 'شیراز', 'مشهد'],
    'حقوق': [5000000, 6000000, 5500000, 4800000]
}

df = pd.dataframe(data)
print(df)

# اطلاعات کلی
print(df.info())
print(df.describe())

# شکل dataframe
print(f"شکل: {df.shape}")  # (سطر، ستون)
print(f"ستون‌ها: {list(df.columns)}")
print(f"نوع داده‌ها: {df.dtypes}")</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-eye ml-2"></i>مشاهده سریع داده:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># نمایش چند سطر اول
print(df.head())     # 5 سطر اول
print(df.head(3))    # 3 سطر اول

# نمایش چند سطر آخر
print(df.tail())     # 5 سطر آخر
print(df.tail(2))    # 2 سطر آخر

# نمونه تصادفی
print(df.sample())   # یک سطر تصادفی
print(df.sample(2))  # دو سطر تصادفی</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-yellow-300 mb-2">
                                <i class="fas fa-exclamation-triangle ml-2"></i>نکات مهم:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>همیشه pandas را با نام مستعار pd import کنید</li>
                                <li>DataFrame ها مشابه جداول Excel هستند</li>
                                <li>Series ها مشابه ستون‌های جدول هستند</li>
                                <li>Index ها برای دسترسی سریع استفاده می‌شوند</li>
                            </ul>
                        </div>
                    </div>

                </div>

                <!-- Slide 4: -->
                <div class="slide" id="slide3" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">4/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">📊</div>
                        <h1 class="text-3xl font-bold mb-4">Series - عمیق‌تر</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-list-ol ml-2"></i>ایجاد Series با روش‌های مختلف:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># از لیست ساده
s1 = pd.series([1, 2, 3, 4, 5])
print(s1)

# با نام و index
s2 = pd.series([100, 200, 300], 
                index=['الف', 'ب', 'ج'], 
                name='اعداد')
print(s2)

# از numpy array
import numpy as np
arr = np.array([10, 20, 30, 40])
s3 = pd.series(arr, index=['یک', 'دو', 'سه', 'چهار'])
print(s3)

# از دیکشنری
data = {'ایران': 85, 'ترکیه': 82, 'عربستان': 78}
s4 = pd.series(data, name='نمرات')
print(s4)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-search ml-2"></i>دسترسی به عناصر:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># با نام index
print(s2['الف'])

# با موقعیت
print(s2[0])

# چند عنصر
print(s2[['الف', 'ج']])

# برش
print(s2[1:3])

# شرطی
print(s2[s2 > 150])</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-calculator ml-2"></i>عملیات ریاضی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># عملیات پایه
s = pd.series([10, 20, 30, 40])
print(s + 5)     # اضافه کردن به همه
print(s * 2)     # ضرب در همه
print(s ** 2)    # توان
print(s / 10)    # تقسیم

# توابع numpy
print(np.sqrt(s))     # جذر
print(np.log(s))      # لگاریتم
print(np.exp(s))      # توان e

# آماری
print(s.sum())        # مجموع
print(s.mean())       # میانگین
print(s.std())        # انحراف معیار
print(s.max())        # بیشینه
print(s.min())        # کمینه</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-sort ml-2"></i>مرتب‌سازی و فیلتر:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># مرتب‌سازی مقادیر
print(s.sort_values())
print(s.sort_values(ascending=false))

# مرتب‌سازی index
print(s.sort_index())

# فیلتر با شرط
print(s[s > 25])
print(s[(s > 15) & (s < 35)])

# پیدا کردن موقعیت‌ها
print(s.idxmax())  # index بیشینه
print(s.idxmin())  # index کمینه</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-yellow-300 mb-2">
                                <i class="fas fa-lightbulb ml-2"></i>نکات مهم:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>Series یک‌بعدی است اما می‌تواند نام داشته باشد</li>
                                <li>Index می‌تواند عدد، رشته یا تاریخ باشد</li>
                                <li>عملیات روی Series به صورت عنصر به عنصر انجام می‌شود</li>
                                <li>Series پایه و اساس DataFrame است</li>
                            </ul>
                        </div>
                    </div>

                </div>

                <!-- Slide 5: -->
                <div class="slide" id="slide4" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">5/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">🗂️</div>
                        <h1 class="text-3xl font-bold mb-4">DataFrame - عمیق‌تر</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-plus ml-2"></i>ایجاد DataFrame با روش‌های مختلف:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># از لیست دیکشنری‌ها
data = [
    {'نام': 'علی', 'سن': 25, 'شهر': 'تهران'},
    {'نام': 'سارا', 'سن': 30, 'شهر': 'اصفهان'},
    {'نام': 'حسن', 'سن': 35, 'شهر': 'شیراز'}
]
df1 = pd.dataframe(data)

# از دیکشنری لیست‌ها
data2 = {
    'محصول': ['کامپیوتر', 'موبایل', 'تبلت'],
    'قیمت': [5000000, 3000000, 2000000],
    'موجودی': [10, 25, 15]
}
df2 = pd.dataframe(data2)

# از numpy array
import numpy as np
arr = np.random.rand(4, 3)
columns = ['a', 'b', 'c']
index = ['سطر1', 'سطر2', 'سطر3', 'سطر4']
df3 = pd.dataframe(arr, columns=columns, index=index)

# از series
s1 = pd.series([1, 2, 3], name='ستون1')
s2 = pd.series([4, 5, 6], name='ستون2')
df4 = pd.concat([s1, s2], axis=1)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-info-circle ml-2"></i>اطلاعات و ویژگی‌های DataFrame:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># اطلاعات کلی
df.info()

# آمار توصیفی
df.describe()

# شکل dataframe
print(df.shape)        # (سطرها، ستون‌ها)
print(len(df))         # تعداد سطرها
print(df.size)         # تعداد کل عناصر

# نام ستون‌ها و index
print(df.columns)      # نام ستون‌ها
print(df.index)        # نام سطرها
print(df.dtypes)       # نوع داده هر ستون

# حافظه مصرفی
print(df.memory_usage())</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-edit ml-2"></i>تغییر ساختار DataFrame:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># تغییر نام ستون‌ها
df.columns = ['نام_جدید1', 'نام_جدید2', 'نام_جدید3']
df.rename(columns={'نام': 'نام_کامل', 'سن': 'سن_سال'}, inplace=true)

# تغییر index
df.index = ['ردیف1', 'ردیف2', 'ردیف3']
df.set_index('نام', inplace=true)  # ستون به index

# افزودن ستون جدید
df['ستون_جدید'] = df['ستون1'] * 2
df['محاسبه'] = df.apply(lambda x: x['ستون1'] + x['ستون2'], axis=1)

# افزودن سطر جدید
new_row = {'ستون1': 100, 'ستون2': 200, 'ستون3': 300}
df.loc[len(df)] = new_row

# حذف ستون
df.drop('ستون_نام', axis=1, inplace=true)

# حذف سطر
df.drop(0, inplace=true)  # با index
df.drop(df.index[0], inplace=true)  # اولین سطر</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-sort-amount-down ml-2"></i>مرتب‌سازی DataFrame:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># مرتب‌سازی بر اساس ستون
df_sorted = df.sort_values('ستون')
df_sorted = df.sort_values('ستون', ascending=false)

# مرتب‌سازی بر اساس چند ستون
df_sorted = df.sort_values(['ستون1', 'ستون2'])

# مرتب‌سازی بر اساس index
df_sorted = df.sort_index()
df_sorted = df.sort_index(ascending=false)

# مرتب‌سازی و ذخیره تغییرات
df.sort_values('ستون', inplace=true)

# بازگرداندن index به حالت اولیه
df.reset_index(drop=true, inplace=true)</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-yellow-300 mb-2">
                                <i class="fas fa-exclamation-triangle ml-2"></i>هشدار:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>هنگام استفاده از inplace=True، DataFrame اصلی تغییر می‌کند</li>
                                <li>همیشه قبل از حذف داده‌ها، یک نسخه پشتیبان تهیه کنید</li>
                                <li>تغییر index می‌تواند دسترسی به داده‌ها را دشوار کند</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Slide 6: -->
                <div class="slide" id="slide5" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">6/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">📁</div>
                        <h1 class="text-3xl font-bold mb-4">خواندن و ذخیره داده</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-file-csv ml-2"></i>خواندن از CSV:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># خواندن ساده
df = pd.read_csv('data.csv')

# با تنظیمات پیشرفته
df = pd.read_csv(
    'data.csv',
    sep=',',                    # جداکننده
    header=0,                   # سطر هدر
    index_col=0,                # ستون index
    encoding='utf-8',           # کدگذاری
    na_values=['na', 'null'],   # مقادیر خالی
    skiprows=2,                 # پرش از سطرها
    nrows=100,                  # تعداد سطرها
    usecols=['a', 'b', 'c']     # ستون‌های مورد نظر
)

# خواندن از url
url = 'https://example.com/data.csv'
df = pd.read_csv(url)

# خواندن از متن
csv_data = """نام,سن,شهر
علی,25,تهران
سارا,30,اصفهان"""
from io import stringio
df = pd.read_csv(stringio(csv_data))</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-file-excel ml-2"></i>خواندن از Excel:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># نیاز به نصب openpyxl یا xlrd
# pip install openpyxl

# خواندن فایل excel
df = pd.read_excel('data.xlsx')

# خواندن sheet خاص
df = pd.read_excel('data.xlsx', sheet_name='sheet1')

# با تنظیمات پیشرفته
df = pd.read_excel(
    'data.xlsx',
    sheet_name=0,              # شماره یا نام sheet
    header=0,                   # سطر هدر
    index_col=0,                # ستون index
    usecols='a:c',             # محدوده ستون‌ها
    skiprows=1,                 # پرش از سطرها
    nrows=50                    # تعداد سطرها
)

# خواندن چند sheet
xls = pd.excelfile('data.xlsx')
df1 = pd.read_excel(xls, 'sheet1')
df2 = pd.read_excel(xls, 'sheet2')

# لیست sheet ها
print(xls.sheet_names)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-file-code ml-2"></i>خواندن از JSON:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># خواندن json ساده
df = pd.read_json('data.json')

# با تنظیمات پیشرفته
df = pd.read_json(
    'data.json',
    orient='records',          # فرمت: records, index, values, split
    lines=true,                # هر سطر یک json جداگانه
    encoding='utf-8',
    convert_dates=true,        # تبدیل تاریخ‌ها
    dtype={'ستون': 'int64'}    # نوع داده ستون‌ها
)

# خواندن json از api
import requests
response = requests.get('https://api.example.com/data')
data = response.json()
df = pd.dataframe(data)

# خواندن json nested
import json
with open('nested.json', 'r', encoding='utf-8') as f:
    data = json.load(f)
df = pd.json_normalize(data)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-database ml-2"></i>خواندن از پایگاه داده:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># نیاز به نصب کتابخانه پایگاه داده
# pip install sqlalchemy psycopg2-binary

# از sqlite
import sqlite3
conn = sqlite3.connect('database.db')
df = pd.read_sql('select * from table_name', conn)
conn.close()

# از postgresql
from sqlalchemy import create_engine
engine = create_engine('postgresql://user:password@localhost/dbname')
df = pd.read_sql('select * from table_name', engine)

# با پارامترها
query = "select * from users where age > %s and city = %s"
df = pd.read_sql(query, engine, params=[25, 'تهران'])

# خواندن جدول کامل
df = pd.read_sql_table('table_name', engine)

# خواندن با کوئری پیچیده
query = """
select u.name, o.order_date, o.amount 
from users u 
join orders o on u.id = o.user_id 
where u.status = 'active'
"""
df = pd.read_sql(query, engine)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-save ml-2"></i>ذخیره داده‌ها:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># ذخیره در csv
df.to_csv('output.csv', index=false, encoding='utf-8')

# ذخیره در excel
df.to_excel('output.xlsx', sheet_name='sheet1', index=false)

# ذخیره در json
df.to_json('output.json', orient='records', force_ascii=false, indent=2)

# ذخیره در html
df.to_html('output.html', index=false, escape=false)

# ذخیره در پایگاه داده
from sqlalchemy import create_engine
engine = create_engine('sqlite:///output.db')
df.to_sql('table_name', engine, if_exists='replace', index=false)

# ذخیره در چند فایل csv (برای داده‌های بزرگ)
for i, chunk in enumerate(pd.read_csv('large_file.csv', chunksize=10000)):
    chunk.to_csv(f'chunk_{i}.csv', index=false)</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-green-300 mb-2">
                                <i class="fas fa-lightbulb ml-2"></i>نکات کاربردی:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>برای فایل‌های بزرگ از chunksize استفاده کنید</li>
                                <li>همیشه encoding را مشخص کنید (utf-8 برای فارسی)</li>
                                <li>index=False برای ذخیره بدون index شماره‌ای</li>
                                <li>از na_values برای تشخیص مقادیر خالی استفاده کنید</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Slide 7: -->
                <div class="slide" id="slide6" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">7/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">🎯</div>
                        <h1 class="text-3xl font-bold mb-4">انتخاب داده‌ها</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-columns ml-2"></i>انتخاب ستون‌ها:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># انتخاب یک ستون
series = df['نام']
series = df.نام

# انتخاب چند ستون
df_subset = df[['نام', 'سن', 'شهر']]

# انتخاب با شرط نوع داده
numeric_cols = df.select_dtypes(include=['int64', 'float64'])
text_cols = df.select_dtypes(include=['object'])

# حذف ستون‌ها
df_dropped = df.drop(['ستون1', 'ستون2'], axis=1)
df_dropped = df.drop(columns=['ستون1', 'ستون2'])</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-rows ml-2"></i>انتخاب سطرها:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># انتخاب با موقعیت (iloc)
row = df.iloc[0]          # اولین سطر
rows = df.iloc[0:5]       # 5 سطر اول
rows = df.iloc[[0, 2, 4]] # سطرهای خاص

# انتخاب با برچسب (loc)
row = df.loc['ردیف1']     # با نام سطر
rows = df.loc['ردیف1':'ردیف5']  # محدوده سطرها

# انتخاب ترکیبی
cell = df.iloc[0, 1]      # سطر 0، ستون 1
cell = df.loc['ردیف1', 'ستون1']  # با نام‌ها

# انتخاب با شرط
filtered = df[df['سن'] > 25]
filtered = df[(df['سن'] > 25) & (df['شهر'] == 'تهران')]</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-filter ml-2"></i>فیلتر پیشرفته:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># فیلتر با چند شرط
filtered = df[
    (df['سن'] >= 18) & 
    (df['سن'] <= 65) & 
    (df['شهر'].isin(['تهران', 'اصفهان', 'مشهد']))
]

# فیلتر با رشته‌ها
filtered = df[df['نام'].str.startswith('ع')]
filtered = df[df['نام'].str.contains('لی')]
filtered = df[df['نام'].str.len() > 4]

# فیلتر با تاریخ
filtered = df[df['تاریخ'] >= '2023-01-01']
filtered = df[df['تاریخ'].dt.year == 2023]

# فیلتر با مقادیر خالی
filtered = df[df['ستون'].isna()]
filtered = df[df['ستون'].notna()]</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-random ml-2"></i>نمونه‌گیری و مرتب‌سازی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># نمونه‌گیری تصادفی
sample = df.sample()              # یک سطر تصادفی
sample = df.sample(5)             # 5 سطر تصادفی
sample = df.sample(frac=0.1)      # 10% داده‌ها

# نمونه‌گیری با تکرار
sample = df.sample(5, replace=true)

# نمونه‌گیری وزنی
weights = df['ستون'] / df['ستون'].sum()
sample = df.sample(5, weights=weights)

# مرتب‌سازی ساده
sorted_df = df.sort_values('ستون')
sorted_df = df.sort_values('ستون', ascending=false)

# مرتب‌سازی با چند ستون
sorted_df = df.sort_values(['ستون1', 'ستون2'])
sorted_df = df.sort_values(['ستون1', 'ستون2'], ascending=[true, false])</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-search ml-2"></i>جستجو و کوئری:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># جستجو با query
result = df.query('سن > 25 and شهر == "تهران"')
result = df.query('a > b and c < 100')

# جستجو با متغیرهای خارجی
age_limit = 30
city_filter = 'اصفهان'
result = df.query('سن > @age_limit and شهر == @city_filter')

# جستجوی رشته‌ها
result = df[df['نام'].str.contains('علی', case=false)]
result = df[df['توضیحات'].str.match(r'^\d+.*')]

# پیدا کردن مقادیر یکتا
unique_values = df['ستون'].unique()
value_counts = df['ستون'].value_counts()

# پیدا کردن مقادیر تکراری
duplicates = df[df.duplicated()]
duplicates = df[df.duplicated(subset=['ستون1', 'ستون2'])]</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-green-300 mb-2">
                                <i class="fas fa-lightbulb ml-2"></i>نکات مهم:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>loc برای برچسب‌ها و iloc برای موقعیت‌ها استفاده می‌شود</li>
                                <li>برای فیلترهای پیچیده از query استفاده کنید</li>
                                <li>همیشه از پرانتز برای ترکیب شرط‌ها استفاده کنید</li>
                                <li>sample برای تست و تحلیل‌های آماری مفید است</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Slide 8: -->
                <div class="slide" id="slide7" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">8/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">🔍</div>
                        <h1 class="text-3xl font-bold mb-4">فیلتر پیشرفته</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-code-branch ml-2"></i>فیلترهای شرطی پیچیده:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># فیلتر با چند شرط and
filtered = df[
    (df['سن'] >= 18) & 
    (df['سن'] <= 65) & 
    (df['شهر'] == 'تهران')
]

# فیلتر با شرط or
filtered = df[
    (df['شهر'] == 'تهران') | 
    (df['شهر'] == 'اصفهان')
]

# فیلتر با not
filtered = df[~df['شهر'].isin(['تهران', 'اصفهان'])]

# ترکیب and و or
filtered = df[
    (df['سن'] > 25) & 
    (
        (df['شهر'] == 'تهران') | 
        (df['شهر'] == 'اصفهان')
    )
]</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-text-width ml-2"></i>فیلتر رشته‌ها و متن:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># شروع با
filtered = df[df['نام'].str.startswith('ع')]
filtered = df[df['نام'].str.startswith(('ع', 'ح', 'م'))]

# پایان با
filtered = df[df['نام'].str.endswith('ی')]
filtered = df[df['نام'].str.endswith(('ی', 'ا'))]

# حاوی
filtered = df[df['نام'].str.contains('علی')]
filtered = df[df['نام'].str.contains('علی|حسن', regex=true)]

# تطبیق الگو
import re
filtered = df[df['نام'].str.match(r'^\w{3,}$')]
filtered = df[df['ایمیل'].str.match(r'^[a-za-z0-9._%+-]+@[a-za-z0-9.-]+\.[a-za-z]{2,}$')]

# طول رشته
filtered = df[df['نام'].str.len() > 4]
filtered = df[df['نام'].str.len().between(3, 6)]</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-calendar-alt ml-2"></i>فیلتر تاریخ و زمان:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># تبدیل به تاریخ
df['تاریخ'] = pd.to_datetime(df['تاریخ'])

# فیلتر محدوده تاریخ
start_date = '2023-01-01'
end_date = '2023-12-31'
filtered = df[df['تاریخ'].between(start_date, end_date)]

# فیلتر سال، ماه، روز
filtered = df[df['تاریخ'].dt.year == 2023]
filtered = df[df['تاریخ'].dt.month == 6]
filtered = df[df['تاریخ'].dt.day == 15]

# فیلتر روز هفته
filtered = df[df['تاریخ'].dt.dayofweek < 5]  # روزهای کاری
filtered = df[df['تاریخ'].dt.day_name() == 'monday']

# فیلتر ساعت
filtered = df[df['تاریخ'].dt.hour >= 9]
filtered = df[df['تاریخ'].dt.hour.between(9, 17)]  # ساعات کاری

# فیلتر تاریخ نسبی
from datetime import datetime, timedelta
today = datetime.now()
last_week = today - timedelta(days=7)
filtered = df[df['تاریخ'] >= last_week]</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-percentage ml-2"></i>فیلتر آماری و عددی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># فیلتر با صدک‌ها
filtered = df[df['درآمد'] > df['درآمد'].quantile(0.9)]  # 10% بالایی
filtered = df[df['درآمد'] < df['درآمد'].quantile(0.1)]  # 10% پایینی

# فیلتر با انحراف معیار
mean = df['امتیاز'].mean()
std = df['امتیاز'].std()
filtered = df[df['امتیاز'].between(mean - 2*std, mean + 2*std)]  # 95% داده‌ها

# فیلتر با رتبه
filtered = df[df['امتیاز'].rank(pct=true) > 0.8]  # 20% بالایی

# فیلتر با n بزرگترین
n_largest = df.nlargest(10, 'امتیاز')
n_smallest = df.nsmallest(10, 'امتیاز')

# فیلتر با محدوده مطلق
filtered = df[df['تفاوت'].abs() > 100]
filtered = df[df['تفاکت'].abs() < 50]</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-database ml-2"></i>فیلتر مقادیر خالی و تکراری:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># فیلتر مقادیر خالی
filtered = df[df['ستون'].isna()]
filtered = df[df['ستون'].isnull()]

# فیلتر مقادیر غیرخالی
filtered = df[df['ستون'].notna()]
filtered = df[df['ستون'].notnull()]

# فیلتر سطرهای با حداقل یک مقدار خالی
filtered = df[df.isna().any(axis=1)]

# فیلتر سطرهای بدون مقدار خالی
filtered = df[df.notna().all(axis=1)]

# فیلتر مقادیر تکراری
filtered = df[df.duplicated()]
filtered = df[df.duplicated(subset=['نام', 'شهر'])]

# حذف مقادیر تکراری
filtered = df.drop_duplicates()
filtered = df.drop_duplicates(subset=['نام', 'شهر'])

# نگه داشتن آخرین تکرار
filtered = df.drop_duplicates(keep='last')
filtered = df.drop_duplicates(keep=false)  # حذف همه تکرارها</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-yellow-300 mb-2">
                                <i class="fas fa-exclamation-triangle ml-2"></i>هشدار عملکرد:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>برای داده‌های بزرگ، از query به جای فیلترهای پیچیده استفاده کنید</li>
                                <li>استفاده از .str. روی ستون‌های غیرمتنی خطا ایجاد می‌کند</li>
                                <li>همیشه نوع داده ستون را قبل از فیلتر تاریخ بررسی کنید</li>
                                <li>فیلترهای پیچیده ممکن است عملکرد را کاهش دهند</li>
                            </ul>
                        </div>
                    </div>

                </div>

                <!-- Slide 9: -->
                <div class="slide" id="slide8" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">9/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">📊</div>
                        <h1 class="text-3xl font-bold mb-4">گروه‌بندی و تجمیع</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-layer-group ml-2"></i>گروه‌بندی پایه:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># گروه‌بندی با یک ستون
grouped = df.groupby('شهر')

# گروه‌بندی با چند ستون
grouped = df.groupby(['شهر', 'جنسیت'])

# مشاهده گروه‌ها
print(grouped.groups)
print(grouped.size())  # تعداد اعضای هر گروه

# دسترسی به گروه خاص
tehran_group = grouped.get_group('تهران')

# تکرار روی گروه‌ها
for name, group in grouped:
    print(f'گروه: {name}')
    print(group.head())</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-calculator ml-2"></i>توابع تجمیع:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># تجمیع با یک تابع
result = df.groupby('شهر')['درآمد'].mean()
result = df.groupby('شهر')['درآمد'].sum()
result = df.groupby('شهر')['درآمد'].count()

# تجمیع با چند تابع
result = df.groupby('شهر')['درآمد'].agg(['mean', 'sum', 'count', 'std'])

# تجمیع برای چند ستون
result = df.groupby('شهر').agg({
    'درآمد': 'mean',
    'سن': 'median',
    'نام': 'count'
})

# تجمیع با توابع مختلف برای ستون‌های مختلف
result = df.groupby('شهر').agg({
    'درآمد': ['mean', 'sum'],
    'سن': ['min', 'max', 'median'],
    'نام': 'count'
})</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-code ml-2"></i>توابع تجمیع سفارشی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># تعریف تابع سفارشی
def custom_agg(x):
    return x.max() - x.min()

# استفاده از تابع سفارشی
result = df.groupby('شهر')['درآمد'].agg(custom_agg)

# چند تابع سفارشی
def range_func(x):
    return x.max() - x.min()

def cv_func(x):  # ضریب تغییرات
    return x.std() / x.mean()

result = df.groupby('شهر')['درآمد'].agg([
    ('دامنه', range_func),
    ('ضریب_تغییرات', cv_func),
    ('میانگین', 'mean'),
    ('انحراف_معیار', 'std')
])

# توابع لامبدا
result = df.groupby('شهر')['درآمد'].agg([
    ('دامنه', lambda x: x.max() - x.min()),
    ('تعداد_منحصر_به_فرد', lambda x: x.nunique())
])</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-filter ml-2"></i>فیلتر گروه‌ها:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># فیلتر گروه‌ها بر اساس اندازه
filtered = df.groupby('شهر').filter(lambda x: len(x) >= 10)

# فیلتر بر اساس شرط در گروه
filtered = df.groupby('شهر').filter(lambda x: x['درآمد'].mean() > 50000)

# فیلتر با چند شرط
filtered = df.groupby('شهر').filter(
    lambda x: len(x) >= 5 and x['درآمد'].std() < 10000
)

# فیلتر بر اساس مقادیر یکتا
filtered = df.groupby('شهر').filter(lambda x: x['نام'].nunique() > 10)

# ترکیب با تجمیع
result = df.groupby('شهر').filter(
    lambda x: x['درآمد'].mean() > 40000
).groupby('شهر')['درآمد'].mean()</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-table ml-2"></i>جداول محوری (Pivot Tables):
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># جدول محوری ساده
pivot = df.pivot_table(
    values='درآمد',
    index='شهر',
    columns='جنسیت',
    aggfunc='mean'
)

# جدول محوری با چند تابع
pivot = df.pivot_table(
    values='درآمد',
    index='شهر',
    columns='جنسیت',
    aggfunc=['mean', 'count']
)

# جدول محوری با چند ستون
pivot = df.pivot_table(
    values=['درآمد', 'سن'],
    index='شهر',
    columns='جنسیت',
    aggfunc={'درآمد': 'mean', 'سن': 'median'}
)

# جدول محوری با حاشیه‌ها
pivot = df.pivot_table(
    values='درآمد',
    index='شهر',
    columns='جنسیت',
    aggfunc='mean',
    margins=true,
    margins_name='کل'
)

# جدول محوری با پر کردن مقادیر خالی
pivot = df.pivot_table(
    values='درآمد',
    index='شهر',
    columns='جنسیت',
    aggfunc='mean',
    fill_value=0
)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-clock ml-2"></i>گروه‌بندی زمانی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># تبدیل ستون تاریخ
df['تاریخ'] = pd.to_datetime(df['تاریخ'])
df = df.set_index('تاریخ')

# گروه‌بندی بر اساس سال
yearly = df.groupby(df.index.year)['درآمد'].sum()

# گروه‌بندی بر اساس ماه
monthly = df.groupby(df.index.to_period('m'))['درآمد'].mean()

# گروه‌بندی بر اساس هفته
weekly = df.groupby(df.index.to_period('w'))['درآمد'].sum()

# گروه‌بندی بر اساس روز هفته
weekday = df.groupby(df.index.day_name())['درآمد'].mean()

# گروه‌بندی بر اساس ساعت
hourly = df.groupby(df.index.hour)['درآمد'].mean()

# گروه‌بندی بر اساس فصل
def get_season(month):
    if month in [12, 1, 2]:
        return 'زمستان'
    elif month in [3, 4, 5]:
        return 'بهار'
    elif month in [6, 7, 8]:
        return 'تابستان'
    else:
        return 'پاییز'

seasonal = df.groupby(df.index.month.map(get_season))['درآمد'].sum()</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-green-300 mb-2">
                                <i class="fas fa-lightbulb ml-2"></i>نکات مهم:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>groupby برای تحلیل‌های آماری و گزارش‌گیری بسیار مفید است</li>
                                <li>از agg برای اعمال چند تابع تجمیع به صورت همزمان استفاده کنید</li>
                                <li>جداول محوری برای نمایش داده‌های چندبعدی عالی هستند</li>
                                <li>گروه‌بندی زمانی برای تحلیل‌های سری‌های زمانی ضروری است</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Slide 10: -->
                <div class="slide" id="slide9" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">10/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">🧹</div>
                        <h1 class="text-3xl font-bold mb-4">پاک‌سازی داده‌ها</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-search ml-2"></i>شناسایی مقادیر خالی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># بررسی مقادیر خالی
print(df.isna().sum())  # تعداد مقادیر خالی در هر ستون
print(df.isnull().sum())  # معادل isna

# بررسی سطرهای با مقادیر خالی
print(df[df.isna().any(axis=1)])  # سطرهای با حداقل یک مقدار خالی
print(df[df.isna().all(axis=1)])  # سطرهای با همه مقادیر خالی

# درصد مقادیر خالی
missing_percent = df.isna().mean() * 100
print(missing_percent)

# مصورسازی مقادیر خالی
import seaborn as sns
import matplotlib.pyplot as plt

plt.figure(figsize=(10, 6))
sns.heatmap(df.isna(), cbar=true, cmap='viridis')
plt.title('نقشه مقادیر خالی')
plt.show()</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-tools ml-2"></i>مدیریت مقادیر خالی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># حذف سطرهای با مقادیر خالی
df_cleaned = df.dropna()  # حذف همه سطرهای با مقادیر خالی
df_cleaned = df.dropna(how='all')  # حذف سطرهای با همه مقادیر خالی
df_cleaned = df.dropna(thresh=3)  # حذف سطرهای با کمتر از 3 مقدار غیرخالی

# حذف ستون‌های با مقادیر خالی
df_cleaned = df.dropna(axis=1)  # حذف ستون‌های با مقادیر خالی
df_cleaned = df.dropna(axis=1, thresh=0.7*len(df))  # حفظ ستون‌های با 70% داده

# پر کردن مقادیر خالی
df_filled = df.fillna(0)  # پر کردن با صفر
df_filled = df.fillna('مقدار_پیش‌فرض')  # پر کردن با متن پیش‌فرض

# پر کردن با میانگین، میانه، مد
df['ستون_عددی'] = df['ستون_عددی'].fillna(df['ستون_عددی'].mean())
df['ستون_عددی'] = df['ستون_عددی'].fillna(df['ستون_عددی'].median())
df['ستون_متنی'] = df['ستون_متنی'].fillna(df['ستون_متنی'].mode()[0])

# پر کردن با مقادیر قبلی یا بعدی
df_filled = df.fillna(method='ffill')  # پر کردن با مقدار قبلی
df_filled = df.fillna(method='bfill')  # پر کردن با مقدار بعدی

# پر کردن با اینترپولیشن
df['ستون_عددی'] = df['ستون_عددی'].interpolate()
df['ستون_عددی'] = df['ستون_عددی'].interpolate(method='linear')
df['ستون_عددی'] = df['ستون_عددی'].interpolate(method='polynomial', order=2)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-exclamation-triangle ml-2"></i>شناسایی و مدیریت داده‌های پرت:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># روش z-score
from scipy import stats

z_scores = stats.zscore(df['ستون_عددی'])
outliers = df[abs(z_scores) > 3]  # داده‌های با z-score > 3

# روش iqr (interquartile range)
q1 = df['ستون_عددی'].quantile(0.25)
q3 = df['ستون_عددی'].quantile(0.75)
iqr = q3 - q1
lower_bound = q1 - 1.5 * iqr
upper_bound = q3 + 1.5 * iqr
outliers = df[(df['ستون_عددی'] < lower_bound) | (df['ستون_عددی'] > upper_bound)]

# روش visual (boxplot)
import matplotlib.pyplot as plt
import seaborn as sns

plt.figure(figsize=(10, 6))
sns.boxplot(x=df['ستون_عددی'])
plt.title('نمودار جعبه‌ای برای شناسایی داده‌های پرت')
plt.show()

# مدیریت داده‌های پرت
# 1. حذف
df_cleaned = df[~((df['ستون_عددی'] < lower_bound) | (df['ستون_عددی'] > upper_bound))]

# 2. کپ کردن (winsorization)
from scipy.stats import mstats
df['ستون_عددی'] = mstats.winsorize(df['ستون_عددی'], limits=[0.05, 0.05])

# 3. تبدیل لگاریتمی
df['ستون_عددی_لاگ'] = np.log1p(df['ستون_عددی'])</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-sync-alt ml-2"></i>تبدیل انواع داده:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># تبدیل به انواع عددی
df['ستون'] = df['ستون'].astype(int)
df['ستون'] = df['ستون'].astype(float)
df['ستون'] = pd.to_numeric(df['ستون'], errors='coerce')  # تبدیل خطاها به nan

# تبدیل به رشته
df['ستون'] = df['ستون'].astype(str)
df['ستون'] = df['ستون'].astype('string')  # نوع رشته‌ای جدید در pandas

# تبدیل به دسته‌بندی (category)
df['ستون'] = df['ستون'].astype('category')
df['ستون'] = pd.categorical(df['ستون'], categories=['کوچک', 'متوسط', 'بزرگ'], ordered=true)

# تبدیل به تاریخ و زمان
df['تاریخ'] = pd.to_datetime(df['تاریخ'])
df['تاریخ'] = pd.to_datetime(df['تاریخ'], format='%y-%m-%d')
df['تاریخ'] = pd.to_datetime(df['تاریخ'], errors='coerce')  # تبدیل خطاها به nat

# تبدیل به بولین
df['ستون'] = df['ستون'].astype(bool)
df['ستون'] = df['ستون'].map({'بله': true, 'خیر': false})

# تبدیل با تابع سفارشی
def convert_age(age):
    if pd.isna(age):
        return np.nan
    try:
        return int(age)
    except:
        return np.nan

df['سن'] = df['سن'].apply(convert_age)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-font ml-2"></i>پاک‌سازی داده‌های متنی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># حذف فضاهای خالی
df['ستون'] = df['ستون'].str.strip()  # حذف فضاهای خالی ابتدا و انتها
df['ستون'] = df['ستون'].str.replace('\s+', ' ', regex=true)  # جایگزینی فضاهای خالی متعدد

# تبدیل به حروف کوچک یا بزرگ
df['ستون'] = df['ستون'].str.lower()
df['ستون'] = df['ستون'].str.upper()
df['ستون'] = df['ستون'].str.title()  # حرف اول هر کلمه بزرگ

# حذف کاراکترهای خاص
df['ستون'] = df['ستون'].str.replace('[^a-za-z0-9\s]', '', regex=true)
df['ستون'] = df['ستون'].str.replace('[^\w\s]', '', regex=true)  # حذف کاراکترهای غیرالفبایی

# استخراج اطلاعات از متن
df['کد_پستی'] = df['آدرس'].str.extract(r'(\d{10})')
df['شماره_تلفن'] = df['متن'].str.extract(r'(\d{11})')
df['ایمیل'] = df['متن'].str.extract(r'([\w\.-]+@[\w\.-]+\.[a-za-z]{2,})')

# جایگزینی مقادیر
df['ستون'] = df['ستون'].str.replace('تهران', 'tehran')
df['ستون'] = df['ستون'].str.replace(['مرد', 'زن'], ['male', 'female'])

# اعتبارسنجی داده‌ها
import re

def is_valid_email(email):
    pattern = r'^[a-za-z0-9._%+-]+@[a-za-z0-9.-]+\.[a-za-z]{2,}$'
    return bool(re.match(pattern, str(email)))

df['ایمیل_معتبر'] = df['ایمیل'].apply(is_valid_email)</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-yellow-300 mb-2">
                                <i class="fas fa-exclamation-triangle ml-2"></i>نکات مهم:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>همیشه قبل از پاک‌سازی، نسخه پشتیبان از داده‌ها تهیه کنید</li>
                                <li>برای داده‌های بزرگ، از روش‌های بهینه و حافظه‌محور استفاده کنید</li>
                                <li>پاک‌سازی داده‌ها ممکن است زمان‌بر باشد، صبور باشید</li>
                                <li>همیشه نتایج پاک‌سازی را بررسی و اعتبارسنجی کنید</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Slide 11: -->
                <div class="slide" id="slide10" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">11/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">🔄</div>
                        <h1 class="text-3xl font-bold mb-4">تغییر شکل داده‌ها</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-exchange-alt ml-2"></i>Pivot و Melt:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># pivot: تبدیل داده‌های طولانی به عریض
# داده‌های اصلی:
#   شهر  سال  جمعیت
#   تهران 2020 8700000
#   تهران 2021 8800000
#   اصفهان 2020 2000000
#   اصفهان 2021 2100000

pivot_df = df.pivot(
    index='شهر',
    columns='سال',
    values='جمعیت'
)

# نتیجه:
#   سال    2020      2021
#   شهر
#   اصفهان  2000000   2100000
#   تهران  8700000   8800000

# melt: تبدیل داده‌های عریض به طولانی
# داده‌های اصلی:
#   شهر  2020      2021
#   تهران 8700000   8800000
#   اصفهان 2000000   2100000

melted_df = df.melt(
    id_vars=['شهر'],
    var_name='سال',
    value_name='جمعیت'
)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-layer-group ml-2"></i>Stack و Unstack:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># stack: تبدیل ستون‌ها به سطرها
# داده‌های اصلی با multiindex:
#               فروش   هزینه
#   شهر  فصل
#   تهران بهار   1000    800
#         تابستان 1500    1200
#   اصفهان بهار  800     600
#         تابستان 1200    900

stacked = df.stack()
# نتیجه:
#   شهر  فصل
#   تهران بهار   فروش     1000
#               هزینه    800
#         تابستان فروش    1500
#               هزینه    1200
#   اصفهان بهار  فروش     800
#               هزینه    600
#         تابستان فروش    1200
#               هزینه    900

# unstack: تبدیل سطرها به ستون‌ها
unstacked = stacked.unstack()
# نتیجه به شکل اصلی برمی‌گردد

# unstack با سطح خاص
unstacked_level0 = stacked.unstack(level=0)
unstacked_level1 = stacked.unstack(level=1)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-link ml-2"></i>ادغام و پیوند داده‌ها:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># merge: ادغام بر اساس ستون‌های مشترک
df1 = pd.dataframe({'id': [1, 2, 3], 'name': ['علی', 'مریم', 'رضا']})
df2 = pd.dataframe({'id': [1, 2, 4], 'age': [25, 30, 35]})

# inner join (پیش‌فرض)
merged_inner = pd.merge(df1, df2, on='id')

# left join
merged_left = pd.merge(df1, df2, on='id', how='left')

# right join
merged_right = pd.merge(df1, df2, on='id', how='right')

# outer join
merged_outer = pd.merge(df1, df2, on='id', how='outer')

# merge با ستون‌های مختلف
merged = pd.merge(df1, df2, left_on='id', right_on='user_id')

# merge با چند ستون
merged = pd.merge(df1, df2, on=['id', 'date'])

# join: پیوند بر اساس index
df1 = pd.dataframe({'a': ['a0', 'a1']}, index=['k0', 'k1'])
df2 = pd.dataframe({'b': ['b0', 'b1']}, index=['k0', 'k2'])

joined = df1.join(df2)  # left join پیش‌فرض
joined_inner = df1.join(df2, how='inner')
joined_outer = df1.join(df2, how='outer')</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-copy ml-2"></i>الحاق داده‌ها (Concatenate):
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># concat: الحاق عمودی یا افقی
df1 = pd.dataframe({'a': [1, 2], 'b': [3, 4]})
df2 = pd.dataframe({'a': [5, 6], 'b': [7, 8]})

# الحاق عمودی (پیش‌فرض)
concat_vertical = pd.concat([df1, df2])

# الحاق با index جدید
concat_new_index = pd.concat([df1, df2], ignore_index=true)

# الحاق با کلید برای شناسایی منبع
concat_with_keys = pd.concat([df1, df2], keys=['df1', 'df2'])

# الحاق افقی
concat_horizontal = pd.concat([df1, df2], axis=1)

# الحاق با ستون‌های مختلف
df3 = pd.dataframe({'c': [9, 10], 'd': [11, 12]})
concat_diff_cols = pd.concat([df1, df3], axis=1)

# الحاق با مدیریت مقادیر خالی
concat_fill = pd.concat([df1, df2], axis=1, join='inner')  # فقط سطرهای مشترک
concat_fill_outer = pd.concat([df1, df2], axis=1, join='outer')  # همه سطرها</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-random ml-2"></i>تکنیک‌های پیشرفته تغییر شکل:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># cross tabulation (جدول متقاطع)
crosstab = pd.crosstab(
    df['شهر'],
    df['جنسیت'],
    values=df['درآمد'],
    aggfunc='mean'
)

# explode: باز کردن لیست‌ها به سطرهای جداگانه
df = pd.dataframe({'id': [1, 2], 'tags': [['a', 'b'], ['c']]})
exploded = df.explode('tags')

# نتیجه:
#    id tags
# 0  1    a
# 1  1    b
# 2  2    c

# pivot table با چند aggregate
pivot_multi = df.pivot_table(
    values='درآمد',
    index='شهر',
    columns='جنسیت',
    aggfunc=['mean', 'count', 'sum'],
    margins=true
)

# melt با چند value
melt_multi = df.melt(
    id_vars=['id', 'name'],
    value_vars=['score1', 'score2', 'score3'],
    var_name='test_type',
    value_name='score'
)

# resample برای داده‌های زمانی
df['تاریخ'] = pd.to_datetime(df['تاریخ'])
df = df.set_index('تاریخ')

# تغییر فرکانس داده‌ها
daily = df.resample('d').mean()  # روزانه
weekly = df.resample('w').sum()   # هفتگی
monthly = df.resample('m').last() # ماهانه (آخرین مقدار)</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-green-300 mb-2">
                                <i class="fas fa-lightbulb ml-2"></i>نکات مهم:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>Pivot برای تبدیل داده‌های طولانی به عریض مناسب است</li>
                                <li>Melt برای تبدیل داده‌های عریض به طولانی استفاده می‌شود</li>
                                <li>Stack و Unstack برای کار با MultiIndex بسیار مفید هستند</li>
                                <li>Merge و Join برای ترکیب داده‌های مختلف ضروری هستند</li>
                            </ul>
                        </div>
                    </div>

                </div>

                <!-- Slide 12: Summary -->
                <div class="slide" id="slide11" style="display: none;">
                    <div class="slide-header">
                        <div class="slide-number">12/12</div>
                    </div>
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">📊</div>
                        <h1 class="text-3xl font-bold mb-4">تحلیل‌های پیشرفته</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-chart-line ml-2"></i>تحلیل سری‌های زمانی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># ایجاد سری زمانی
import pandas as pd
import numpy as np

# ایجاد دیتافریم با تاریخ
dates = pd.date_range(start='2020-01-01', end='2020-12-31', freq='d')
values = np.random.randn(len(dates)).cumsum()
df = pd.dataframe({'date': dates, 'value': values})
df = df.set_index('date')

# تغییر فرکانس
daily = df.resample('d').mean()
weekly = df.resample('w').mean()
monthly = df.resample('m').mean()
quarterly = df.resample('q').mean()
annual = df.resample('y').mean()

# پنجره‌های متحرک
# میانگین متحرک
df['ma_7'] = df['value'].rolling(window=7).mean()
df['ma_30'] = df['value'].rolling(window=30).mean()

# انحراف معیار متحرک
df['std_7'] = df['value'].rolling(window=7).std()

# حداکثر و حداقل متحرک
df['max_7'] = df['value'].rolling(window=7).max()
df['min_7'] = df['value'].rolling(window=7).min()

# همبستگی متحرک
df['corr_7'] = df['value'].rolling(window=7).corr(df['value'].shift(1))</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-calculator ml-2"></i>تحلیل آماری پیشرفته:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># توصیف آماری پیشرفte
desc_stats = df.describe(percentiles=[0.1, 0.25, 0.5, 0.75, 0.9])

# چولگی (skewness)
skewness = df['ستون'].skew()
print(f"چولگی: {skewness}")

# کشیدگی (kurtosis)
kurtosis = df['ستون'].kurtosis()
print(f"کشیدگی: {kurtosis}")

# همبستگی بین ستون‌ها
correlation_matrix = df.corr()
print(correlation_matrix)

# همبستگی با روش‌های مختلف
pearson_corr = df.corr(method='pearson')
spearman_corr = df.corr(method='spearman')
kendall_corr = df.corr(method='kendall')

# کوواریانس
covariance_matrix = df.cov()
print(covariance_matrix)

# تست نرمال بودن داده‌ها
from scipy import stats

# shapiro-wilk test
stat, p_value = stats.shapiro(df['ستون'])
print(f"shapiro-wilk test: stat={stat}, p-value={p_value}")

# anderson-darling test
result = stats.anderson(df['ستon'])
print(f"anderson-darling test: {result}")</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-project-diagram ml-2"></i>تحلیل رگرسیون:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># رگرسیون خطی ساده
from sklearn.linear_model import linearregression
from sklearn.metrics import r2_score, mean_squared_error

# آماده‌سازی داده‌ها
x = df['ستون_مستقل'].values.reshape(-1, 1)
y = df['ستون_وابسته'].values

# ایجاد و آموزش مدل
model = linearregression()
model.fit(x, y)

# پیش‌بینی
y_pred = model.predict(x)

# ارزیابی مدل
r2 = r2_score(y, y_pred)
mse = mean_squared_error(y, y_pred)
rmse = np.sqrt(mse)

print(f"ضریب تعیین (r²): {r2}")
print(f"خطای مربع میانگین (mse): {mse}")
print(f"ریشه خطای مربع میانگین (rmse): {rmse}")
print(f"ضریب شیب: {model.coef_[0]}")
print(f"عرض از مبدا: {model.intercept_}")

# رگرسیون چند متغیره
x_multi = df[['ستون1', 'ستون2', 'ستون3']]
model_multi = linearregression()
model_multi.fit(x_multi, y)

# رگرسیون چندجمله‌ای
from sklearn.preprocessing import polynomialfeatures

poly_features = polynomialfeatures(degree=2)
x_poly = poly_features.fit_transform(x)

model_poly = linearregression()
model_poly.fit(x_poly, y)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-brain ml-2"></i>خوشه‌بندی (Clustering):
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># k-means خوشه‌بندی
from sklearn.cluster import kmeans
from sklearn.preprocessing import standardscaler

# آماده‌سازی داده‌ها
features = df[['ستون1', 'ستون2', 'ستون3']]
scaler = standardscaler()
features_scaled = scaler.fit_transform(features)

# پیدا کردن تعداد بهینه خوشه‌ها (روش elbow)
inertia = []
for k in range(1, 11):
    kmeans = kmeans(n_clusters=k, random_state=42)
    kmeans.fit(features_scaled)
    inertia.append(kmeans.inertia_)

# ایجاد مدل با تعداد بهینه خوشه‌ها
kmeans = kmeans(n_clusters=3, random_state=42)
df['cluster'] = kmeans.fit_predict(features_scaled)

# تحلیل خوشه‌ها
cluster_centers = scaler.inverse_transform(kmeans.cluster_centers_)
cluster_summary = df.groupby('cluster').agg({
    'ستون1': ['mean', 'std'],
    'ستون2': ['mean', 'std'],
    'ستون3': ['mean', 'std']
})

# خوشه‌بندی سلسله مراتبی
from sklearn.cluster import agglomerativeclustering
import scipy.cluster.hierarchy as sch

# رسم دندروگرام
plt.figure(figsize=(10, 6))
dendrogram = sch.dendrogram(sch.linkage(features_scaled, method='ward'))
plt.title('دندروگرام')
plt.xlabel('نمونه‌ها')
plt.ylabel('فاصله')
plt.show()

# خوشه‌بندی سلسله مراتبی
hc = agglomerativeclustering(n_clusters=3, affinity='euclidean', linkage='ward')
df['cluster_hc'] = hc.fit_predict(features_scaled)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-filter ml-2"></i>کاهش ابعاد داده‌ها:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># pca (principal component analysis)
from sklearn.decomposition import pca
from sklearn.preprocessing import standardscaler

# استانداردسازی داده‌ها
features = df.select_dtypes(include=[np.number])
scaler = standardscaler()
features_scaled = scaler.fit_transform(features)

# اعمال pca
pca = pca(n_components=2)  # کاهش به 2 بعد
principal_components = pca.fit_transform(features_scaled)

# ایجاد دیتافریم جدید با مولفه‌های اصلی
pca_df = pd.dataframe(
    data=principal_components,
    columns=['pc1', 'pc2']
)

# توضیح واریانس توسط هر مولفه
explained_variance = pca.explained_variance_ratio_
print(f"توضیح واریانس pc1: {explained_variance[0]:.2%}")
print(f"توضیح واریانس pc2: {explained_variance[1]:.2%}")
print(f"مجموع توضیح واریانس: {sum(explained_variance):.2%}")

# پیدا کردن تعداد بهینه مولفه‌ها
pca_full = pca()
pca_full.fit(features_scaled)

cumulative_variance = np.cumsum(pca_full.explained_variance_ratio_)

# رسم نمودار توضیح واریانس
plt.figure(figsize=(10, 6))
plt.plot(range(1, len(cumulative_variance) + 1), cumulative_variance, 'bo-')
plt.xlabel('تعداد مولفه‌ها')
plt.ylabel('توضیح واریانس تجمعی')
plt.title('نمودار توضیح واریانس')
plt.grid(true)
plt.show()

# t-sne برای مصورسازی
tsne = tsne(n_components=2, random_state=42)
tsne_results = tsne.fit_transform(features_scaled)</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-purple-300 mb-2">
                                <i class="fas fa-star ml-2"></i>نکات کلیدی:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>تحلیل‌های پیشرفته نیاز به درک عمیق آمار و ریاضیات دارند</li>
                                <li>همیشه داده‌ها را قبل از تحلیل‌های پیشرفته استانداردسازی کنید</li>
                                <li>از مصورسازی برای درک نتایج تحلیل‌ها استفاده کنید</li>
                                <li>نتایج تحلیل‌ها را در context实际问题 معتبرسازی کنید</li>
                            </ul>
                        </div>
                    </div>

                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">🎯</div>
                        <h1 class="text-3xl font-bold mb-4">بهترین شیوه‌ها و نتیجه‌گیری</h1>
                        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto"></div>
                    </div>

                    <div class="space-y-4 max-w-none">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-rocket ml-2"></i>بهترین شیوه‌های Pandas:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># 1. استفاده از vectorization به جای حلقه‌ها
# بد:
for i in range(len(df)):
    df.loc[i, 'new_col'] = df.loc[i, 'col1'] * 2

# خوب:
df['new_col'] = df['col1'] * 2

# 2. استفاده از متدهای داخلی pandas
# بد:
df['date'] = df['date_str'].apply(lambda x: pd.to_datetime(x))

# خوب:
df['date'] = pd.to_datetime(df['date_str'])

# 3. مدیریت حافظه بهینه
# استفاده از dtype مناسب
df['age'] = df['age'].astype('int8')  # برای اعداد کوچک
df['category'] = df['category'].astype('category')  # برای داده‌های دسته‌ای

# 4. استفاده از inplace با احتیاط
# بد:
df.drop('column', axis=1, inplace=true)

# خوب:
df = df.drop('column', axis=1)

# 5. زنجیره کردن متدها (method chaining)
result = (df
           .groupby('category')
           .agg({'price': 'mean', 'quantity': 'sum'})
           .reset_index()
           .sort_values('price', ascending=false))

# 6. استفاده از query برای فیلتر کردن
# بد:
df_filtered = df[(df['age'] > 25) & (df['salary'] > 50000)]

# خوب:
df_filtered = df.query('age > 25 and salary > 50000')</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-bug ml-2"></i>اشتباهات رایج و راه‌حل‌ها:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># 1. settingwithcopywarning
# مشکل:
df[df['age'] > 30]['salary'] = df[df['age'] > 30]['salary'] * 1.1

# راه‌حل 1: استفاده از loc
df.loc[df['age'] > 30, 'salary'] = df.loc[df['age'] > 30, 'salary'] * 1.1

# راه‌حل 2: استفاده از copy
df_filtered = df[df['age'] > 30].copy()
df_filtered['salary'] = df_filtered['salary'] * 1.1

# 2. فراموش کردن reset_index بعد از groupby
# مشکل:
grouped = df.groupby('category').sum()
# category می‌شود index

# راه‌حل:
grouped = df.groupby('category', as_index=false).sum()
# یا
grouped = df.groupby('category').sum().reset_index()

# 3. مدیریت مقادیر خالی نادرست
# مشکل:
df.fillna(0)  # پر کردن همه مقادیر خالی با صفر

# راه‌حل:
df['numeric_col'] = df['numeric_col'].fillna(df['numeric_col'].median())
df['categorical_col'] = df['categorical_col'].fillna(df['categorical_col'].mode()[0])

# 4. استفاده نادرست از merge
# مشکل:
merged = pd.merge(df1, df2)  # بدون مشخص کردن ستون مشترک

# راه‌حل:
merged = pd.merge(df1, df2, on='id', how='left')</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-tachometer-alt ml-2"></i>بهینه‌سازی عملکرد:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># 1. استفاده از dtypes بهینه
dtypes = {
    'id': 'int32',
    'age': 'int8',
    'salary': 'float32',
    'category': 'category',
    'name': 'string'
}
df = df.astype(dtypes)

# 2. استفاده از chunk برای داده‌های بزرگ
chunk_size = 10000
chunks = pd.read_csv('large_file.csv', chunksize=chunk_size)

result = []
for chunk in chunks:
    # پردازش هر chunk
    processed_chunk = chunk.groupby('category').sum()
    result.append(processed_chunk)

final_result = pd.concat(result)

# 3. استفاده از eval برای عملیات پیچیده
# بد:
df['result'] = df['col1'] * df['col2'] + df['col3'] / df['col4']

# خوب:
df['result'] = df.eval('col1 * col2 + col3 / col4')

# 4. استفاده از parallel processing
from multiprocessing import pool

def process_group(group):
    return group.groupby('subcategory').sum()

with pool(4) as p:
    results = p.map(process_group, [group for name, group in df.groupby('category')])

# 5. استفاده از numba برای محاسبات عددی
from numba import jit

@jit(nopython=true)
def calculate_complex_metric(values):
    # محاسبات پیچیده عددی
    result = 0
    for i in range(len(values)):
        result += values[i] ** 2
    return result

df['metric'] = df['values'].apply(calculate_complex_metric)</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-book ml-2"></i>منابع یادگیری بیشتر:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># مستندات رسمی
# https://pandas.pydata.org/docs/

# کتاب‌های مفید
# - python for data analysis by wes mckinney
# - pandas cookbook by theodore petrou
# - data analysis with python and pyspark by jonathan rioux

# دوره‌های آنلاین
# - datacamp: data manipulation with pandas
# - coursera: applied data science with python
# - udemy: python for data science and machine learning

# وبلاگ‌ها و منابع آنلاین
# - towards data science
# - real python
# - kaggle learn
# - stack overflow

# تمرین‌های عملی
# - kaggle competitions
# - uci machine learning repository
# - google dataset search

# جامعه و پشتیبانی
# - stack overflow
# - github
# - reddit r/datascience
# - discord/slack communities</code></pre>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <i class="fas fa-lightbulb ml-2"></i>نکات نهایی:
                            </h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                                <pre><code class="language-python"># 1. همیشه کد خود را مستند کنید
def clean_data(df):
    """
    پاک‌سازی داده‌های خام
    
    args:
        df (pd.dataframe): دیتافریم ورودی
    
    returns:
        pd.dataframe: دیتافریم پاک‌سازی شده
    """
    # کد پاک‌سازی
    return df_cleaned

# 2. از نسخه‌های پایدار استفاده کنید
import pandas as pd
print(f"pandas version: {pd.__version__}")

# 3. کد خود را تست کنید
import pytest

def test_data_cleaning():
    # داده‌های تست
    test_data = pd.dataframe({
        'name': ['ali', 'maryam', none],
        'age': [25, 30, 35]
    })
    
    # اجرای تابع
    result = clean_data(test_data)
    
    # بررسی نتایج
    assert result.isna().sum().sum() == 0
    assert len(result) == 2  # یک سطر حذف شده

# 4. از git برای مدیریت نسخه‌ها استفاده کنید
# git init
# git add .
# git commit -m "initial commit"

# 5. به یاد داشته باشید که تمرین کلید موفقیت است
# هر روز حداقل 30 دقیقه با pandas کار کنید
# روی پروژه‌های واقعی تمرین کنید
# از دیگران یاد بگیرید و به دیگران یاد دهید</code></pre>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-4">
                            <h4 class="font-semibold text-yellow-300 mb-2">
                                <i class="fas fa-trophy ml-2"></i>جمع‌بندی نهایی:
                            </h4>
                            <ul class="text-white/80 text-sm space-y-1">
                                <li>Pandas یک ابزار قدرتمند برای تحلیل داده‌ها در پایتون است</li>
                                <li>با تمرین و تجربه، تسلط بر pandas امکان‌پذیر است</li>
                                <li>همیشه بهترین شیوه‌ها را در کدنویسی رعایت کنید</li>
                                <li>از جامعه و منابع آنلاین برای یادگیری بیشتر استفاده کنید</li>
                                <li>موفقیت در علم داده نیازمند تمرین مستمر است</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Navigation Arrows -->
            <div class="nav-arrows" role="group" aria-label="ناوبری اسلایدها">
                <button
                    class="nav-arrow prev"
                    id="prevArrow"
                    aria-label="اسلاید قبلی"
                    title="اسلاید قبلی">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <button
                    class="nav-arrow next"
                    id="nextArrow"
                    aria-label="اسلاید بعدی"
                    title="اسلاید بعدی">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>
            <script src="main.js"></script>
        </body>
    </html>
