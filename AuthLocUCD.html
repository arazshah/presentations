<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use Case Diagram - Ø³ÛŒØ³ØªÙ… Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ù…Ú©Ø§Ù† Ù…Ø­ÙˆØ±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tahoma', 'Vazir', Arial, sans-serif;
            background: linear-gradient(135deg, #f0f8f0 0%, #e8f5e8 100%);
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c5530 0%, #4a7c59 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .diagram-container {
            padding: 40px;
            position: relative;
            background: #fafafa;
        }

        .system-boundary {
            border: 3px solid #2c5530;
            border-radius: 20px;
            position: relative;
            margin: 50px;
            padding: 40px;
            background: white;
            min-height: 800px;
        }

        .system-title {
            position: absolute;
            top: -15px;
            right: 20px;
            background: #2c5530;
            color: white;
            padding: 8px 20px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 1.1em;
        }

        /* Actors */
        .actor {
            position: absolute;
            text-align: center;
            width: 120px;
        }

        .actor-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .actor-name {
            font-weight: bold;
            color: #2c5530;
            font-size: 0.9em;
            line-height: 1.2;
        }

        /* Actor Colors */
        .admin .actor-icon { background: #e91e63; }
        .manager .actor-icon { background: #3f51b5; }
        .expert .actor-icon { background: #ff9800; }
        .citizen .actor-icon { background: #4caf50; }
        .system .actor-icon { background: #607d8b; }

        /* Actor Positions */
        .admin { top: 50px; right: -150px; }
        .manager { top: 200px; right: -150px; }
        .expert { top: 350px; right: -150px; }
        .citizen { top: 500px; right: -150px; }
        .system { top: 300px; left: -150px; }

        /* Use Cases */
        .usecase {
            position: absolute;
            background: #e8f5e8;
            border: 2px solid #4a7c59;
            border-radius: 50px;
            padding: 15px 25px;
            text-align: center;
            font-size: 0.85em;
            font-weight: bold;
            color: #2c5530;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .usecase:hover {
            background: #c8e6c9;
            transform: scale(1.05);
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .usecase.critical {
            background: #ffebee;
            border-color: #f44336;
            color: #d32f2f;
        }

        .usecase.important {
            background: #fff3e0;
            border-color: #ff9800;
            color: #f57c00;
        }

        /* Use Case Positions - Authentication Group */
        .uc-login { top: 80px; left: 150px; }
        .uc-register { top: 80px; left: 320px; }
        .uc-logout { top: 80px; left: 490px; }
        .uc-reset-password { top: 140px; left: 235px; }
        .uc-verify-otp { top: 140px; left: 405px; }

        /* Use Case Positions - User Management Group */
        .uc-manage-users { top: 220px; left: 150px; }
        .uc-assign-roles { top: 220px; left: 320px; }
        .uc-manage-permissions { top: 220px; left: 490px; }
        .uc-view-user-profile { top: 280px; left: 235px; }
        .uc-edit-profile { top: 280px; left: 405px; }

        /* Use Case Positions - Location Management Group */
        .uc-create-location { top: 360px; left: 150px; }
        .uc-edit-location { top: 360px; left: 320px; }
        .uc-delete-location { top: 360px; left: 490px; }
        .uc-view-locations { top: 420px; left: 235px; }
        .uc-search-locations { top: 420px; left: 405px; }

        /* Use Case Positions - GIS Group */
        .uc-view-map { top: 500px; left: 150px; }
        .uc-spatial-search { top: 500px; left: 320px; }
        .uc-upload-geojson { top: 500px; left: 490px; }
        .uc-export-map { top: 560px; left: 235px; }
        .uc-measure-distance { top: 560px; left: 405px; }

        /* Use Case Positions - Reports Group */
        .uc-view-audit-logs { top: 640px; left: 150px; }
        .uc-generate-reports { top: 640px; left: 320px; }
        .uc-export-data { top: 640px; left: 490px; }
        .uc-dashboard { top: 700px; left: 320px; }

        /* Connection Lines */
        .connection {
            position: absolute;
            height: 2px;
            background: #666;
            transform-origin: left center;
            opacity: 0.6;
        }

        .connection.dashed {
            background: repeating-linear-gradient(
                to right,
                #666,
                #666 5px,
                transparent 5px,
                transparent 10px
            );
        }

        /* Group Labels */
        .group-label {
            position: absolute;
            background: #4a7c59;
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .auth-group { top: 50px; left: 150px; }
        .user-group { top: 190px; left: 150px; }
        .location-group { top: 330px; left: 150px; }
        .gis-group { top: 470px; left: 150px; }
        .report-group { top: 610px; left: 150px; }

        /* Legend */
        .legend {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: white;
            border: 2px solid #4a7c59;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .legend-title {
            font-weight: bold;
            color: #2c5530;
            margin-bottom: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 5px 0;
            font-size: 0.85em;
        }

        .legend-color {
            width: 20px;
            height: 15px;
            border-radius: 3px;
            margin-left: 8px;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .diagram-container {
                padding: 20px;
            }
            
            .system-boundary {
                margin: 20px;
                padding: 20px;
                min-height: 600px;
            }
            
            .actor {
                width: 100px;
            }
            
            .actor-icon {
                width: 50px;
                height: 50px;
                font-size: 1.5em;
            }
            
            .usecase {
                font-size: 0.75em;
                padding: 10px 15px;
                min-width: 120px;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .header p {
                font-size: 1em;
            }
            
            .system-boundary {
                margin: 10px;
                padding: 15px;
                min-height: 500px;
            }
            
            .usecase {
                font-size: 0.7em;
                padding: 8px 12px;
                min-width: 100px;
            }
            
            .legend {
                font-size: 0.8em;
            }
        }

        /* Tooltip */
        .tooltip {
            position: absolute;
            background: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 0.8em;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
            max-width: 200px;
            text-align: center;
        }

        .tooltip.show {
            opacity: 1;
        }

        /* Animation for use cases */
        @keyframes pulse {
            0% { box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
            50% { box-shadow: 0 4px 20px rgba(76, 175, 80, 0.4); }
            100% { box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        }

        .usecase.highlight {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ›ï¸ Use Case Diagram</h1>
            <p>Ø³ÛŒØ³ØªÙ… Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ùˆ Ú©Ù†ØªØ±Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ú©Ø§Ù† Ù…Ø­ÙˆØ± - Ø´Ù‡Ø±Ø¯Ø§Ø±ÛŒ ØªÙ‡Ø±Ø§Ù†</p>
        </div>

        <div class="diagram-container">
            <div class="system-boundary">
                <div class="system-title">Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ú©Ø§Ù† Ù…Ø­ÙˆØ±</div>

                <!-- Actors -->
                <div class="actor admin">
                    <div class="actor-icon">ğŸ‘‘</div>
                    <div class="actor-name">Ù…Ø¯ÛŒØ± Ú©Ù„<br>(Ø´Ù‡Ø±Ø¯Ø§Ø±)</div>
                </div>

                <div class="actor manager">
                    <div class="actor-icon">ğŸ‘¨â€ğŸ’¼</div>
                    <div class="actor-name">Ù…Ø¯ÛŒØ± Ù…Ù†Ø·Ù‚Ù‡</div>
                </div>

                <div class="actor expert">
                    <div class="actor-icon">ğŸ‘¨â€ğŸ’»</div>
                    <div class="actor-name">Ú©Ø§Ø±Ø´Ù†Ø§Ø³</div>
                </div>

                <div class="actor citizen">
                    <div class="actor-icon">ğŸ‘¤</div>
                    <div class="actor-name">Ø´Ù‡Ø±ÙˆÙ†Ø¯</div>
                </div>

                <div class="actor system">
                    <div class="actor-icon">ğŸ–¥ï¸</div>
                    <div class="actor-name">Ø³ÛŒØ³ØªÙ… Ø®Ø§Ø±Ø¬ÛŒ</div>
                </div>

                <!-- Group Labels -->
                <div class="group-label auth-group">Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª</div>
                <div class="group-label user-group">Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</div>
                <div class="group-label location-group">Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§</div>
                <div class="group-label gis-group">Ø¹Ù…Ù„ÛŒØ§Øª GIS</div>
                <div class="group-label report-group">Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ</div>

                <!-- Authentication Use Cases -->
                <div class="usecase critical uc-login" data-tooltip="ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ/Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ÛŒØ§ OTP">
                    ğŸ” ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…
                </div>
                <div class="usecase uc-register" data-tooltip="Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ ØªØ£ÛŒÛŒØ¯ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„">
                    ğŸ“ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…
                </div>
                <div class="usecase uc-logout" data-tooltip="Ø®Ø±ÙˆØ¬ Ø§Ù…Ù† Ø§Ø² Ø³ÛŒØ³ØªÙ… Ùˆ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† session">
                    ğŸšª Ø®Ø±ÙˆØ¬ Ø§Ø² Ø³ÛŒØ³ØªÙ…
                </div>
                <div class="usecase uc-reset-password" data-tooltip="Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø² Ø·Ø±ÛŒÙ‚ SMS ÛŒØ§ Ø§ÛŒÙ…ÛŒÙ„">
                    ğŸ”„ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±
                </div>
                <div class="usecase uc-verify-otp" data-tooltip="ØªØ£ÛŒÛŒØ¯ Ú©Ø¯ ÛŒÚ©Ø¨Ø§Ø± Ù…ØµØ±Ù Ø¨Ø±Ø§ÛŒ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª">
                    ğŸ“± ØªØ£ÛŒÛŒØ¯ OTP
                </div>

                <!-- User Management Use Cases -->
                <div class="usecase critical uc-manage-users" data-tooltip="Ø§ÛŒØ¬Ø§Ø¯ØŒ ÙˆÛŒØ±Ø§ÛŒØ´ØŒ Ø­Ø°Ù Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†">
                    ğŸ‘¥ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
                </div>
                <div class="usecase important uc-assign-roles" data-tooltip="ØªØ®ØµÛŒØµ Ù†Ù‚Ø´â€ŒÙ‡Ø§ Ùˆ Ù…Ø¬ÙˆØ²Ù‡Ø§ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†">
                    ğŸ­ ØªØ®ØµÛŒØµ Ù†Ù‚Ø´â€ŒÙ‡Ø§
                </div>
                <div class="usecase critical uc-manage-permissions" data-tooltip="ØªØ¹Ø±ÛŒÙ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø·ÙˆØ­ Ø¯Ø³ØªØ±Ø³ÛŒ">
                    ğŸ›¡ï¸ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø¬ÙˆØ²Ù‡Ø§
                </div>
                <div class="usecase uc-view-user-profile" data-tooltip="Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±">
                    ğŸ‘¤Ø´ Ù¾Ø±ÙˆÙØ§ÛŒÙ„
                </div>

                <!-- Location Management Use Cases -->
                <div class="usecase important uc-create-location" data-tooltip="Ø§ÛŒØ¬Ø§Ø¯ Ù…Ú©Ø§Ù† Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ Ù…Ø®ØªØµØ§Øª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ">
                    ğŸ“ Ø§ÛŒØ¬Ø§Ø¯ Ù…Ú©Ø§Ù†
                </div>
                <div class="usecase important uc-edit-location" data-tooltip="ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ùˆ Ù…Ø®ØªØµØ§Øª Ù…Ú©Ø§Ù†">
                    ğŸ“ ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ú©Ø§Ù†
                </div>
                <div class="usecase uc-delete-location" data-tooltip="Ø­Ø°Ù Ù…Ú©Ø§Ù† Ø¨Ø§ Ø±Ø¹Ø§ÛŒØª Ù‚ÙˆØ§Ù†ÛŒÙ† Ø³Ù„Ø³Ù„Ù‡ Ù…Ø±Ø§ØªØ¨">
                    ğŸ—‘ï¸ Ø­Ø°Ù Ù…Ú©Ø§Ù†
                </div>
                <div class="usecase uc-view-locations" data-tooltip="Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„ÛŒØ³Øª Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø³ØªØ±Ø³ÛŒ">
                    ğŸ‘ï¸ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§
                </div>
                <div class="usecase uc-search-locations" data-tooltip="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¯Ø± Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§">
                    ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ú©Ø§Ù†
                </div>

                <!-- GIS Use Cases -->
                <div class="usecase important uc-view-map" data-tooltip="Ù†Ù…Ø§ÛŒØ´ Ù†Ù‚Ø´Ù‡ ØªØ¹Ø§Ù…Ù„ÛŒ Ø¨Ø§ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù">
                    ğŸ—ºï¸ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†Ù‚Ø´Ù‡
                </div>
                <div class="usecase uc-spatial-search" data-tooltip="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ú©Ø§Ù†ÛŒ Ø¯Ø± Ø´Ø¹Ø§Ø¹ ÛŒØ§ Ù†Ø§Ø­ÛŒÙ‡ Ù…Ø´Ø®Øµ">
                    ğŸ¯ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ú©Ø§Ù†ÛŒ
                </div>
                <div class="usecase uc-upload-geojson" data-tooltip="Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ GeoJSON Ø¨Ø±Ø§ÛŒ import Ø§Ù†Ø¨ÙˆÙ‡">
                    ğŸ“¤ Ø¢Ù¾Ù„ÙˆØ¯ GeoJSON
                </div>
                <div class="usecase uc-export-map" data-tooltip="Ø®Ø±ÙˆØ¬ÛŒ Ú¯Ø±ÙØªÙ† Ø§Ø² Ù†Ù‚Ø´Ù‡ Ø¯Ø± ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù">
                    ğŸ’¾ Ø®Ø±ÙˆØ¬ÛŒ Ù†Ù‚Ø´Ù‡
                </div>
                <div class="usecase uc-measure-distance" data-tooltip="Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ ÙØ§ØµÙ„Ù‡ Ùˆ Ù…Ø³Ø§Ø­Øª Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡">
                    ğŸ“ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ
                </div>

                <!-- Reports Use Cases -->
                <div class="usecase uc-view-audit-logs" data-tooltip="Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ audit Ùˆ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§">
                    ğŸ“‹ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Audit
                </div>
                <div class="usecase uc-generate-reports" data-tooltip="ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ø± Ø§Ø³Ø§Ø³ ÙÛŒÙ„ØªØ±">
                    ğŸ“Š ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´
                </div>
                <div class="usecase uc-export-data" data-tooltip="Ø®Ø±ÙˆØ¬ÛŒ Ú¯Ø±ÙØªÙ† Ø§Ø² Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¯Ø± ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù">
                    ğŸ“ Ø®Ø±ÙˆØ¬ÛŒ Ø¯Ø§Ø¯Ù‡
                </div>
                <div class="usecase uc-dashboard" data-tooltip="Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§Ø®ØªØµØ§ØµÛŒ Ù‡Ø± Ù†ÙˆØ¹ Ú©Ø§Ø±Ø¨Ø±">
                    ğŸ“ˆ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-title">Ø±Ø§Ù‡Ù†Ù…Ø§:</div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ffebee; border: 2px solid #f44336;"></div>
                    Ø¹Ù…Ù„ÛŒØ§Øª Ø­ÛŒØ§ØªÛŒ
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fff3e0; border: 2px solid #ff9800;"></div>
                    Ø¹Ù…Ù„ÛŒØ§Øª Ù…Ù‡Ù…
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #e8f5e8; border: 2px solid #4a7c59;"></div>
                    Ø¹Ù…Ù„ÛŒØ§Øª Ø¹Ø§Ø¯ÛŒ
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(45deg, #e91e63, #3f51b5);"></div>
                    Ø§Ù†ÙˆØ§Ø¹ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
                </div>
            </div>

            <!-- Tooltip -->
            <div class="tooltip" id="tooltip"></div>
        </div>
    </div>

    <script>
        // Tooltip functionality
        const tooltip = document.getElementById('tooltip');
        const usecases = document.querySelectorAll('.usecase');

        usecases.forEach(usecase => {
            usecase.addEventListener('mouseenter', function(e) {
                const tooltipText = this.getAttribute('data-tooltip');
                tooltip.textContent = tooltipText;
                tooltip.classList.add('show');
                
                // Position tooltip
                const rect = this.getBoundingClientRect();
                tooltip.style.left = (rect.left + rect.width / 2 - tooltip.offsetWidth / 2) + 'px';
                tooltip.style.top = (rect.top - tooltip.offsetHeight - 10) + 'px';
            });

            usecase.addEventListener('mouseleave', function() {
                tooltip.classList.remove('show');
            });

            // Add click functionality for highlighting
            usecase.addEventListener('click', function() {
                // Remove highlight from all use cases
                usecases.forEach(uc => uc.classList.remove('highlight'));
                
                // Add highlight to clicked use case
                this.classList.add('highlight');
                
                // Remove highlight after 3 seconds
                setTimeout(() => {
                    this.classList.remove('highlight');
                }, 3000);
            });
        });

        // Dynamic connection lines (simplified version)
        function drawConnections() {
            // This would be more complex in a real implementation
            // For now, we'll just add some visual connections via CSS
            console.log('Connections would be drawn here');
        }

        // Initialize
        drawConnections();

        // Add keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                // Remove all highlights
                usecases.forEach(uc => uc.classList.remove('highlight'));
            }
        });

        // Add search functionality
        function searchUseCases(query) {
            const searchTerm = query.toLowerCase();
            usecases.forEach(usecase => {
                const text = usecase.textContent.toLowerCase();
                const tooltip = usecase.getAttribute('data-tooltip').toLowerCase();
                
                if (text.includes(searchTerm) || tooltip.includes(searchTerm)) {
                    usecase.style.display = 'flex';
                    usecase.classList.add('highlight');
                } else {
                    usecase.style.display = 'none';
                    usecase.classList.remove('highlight');
                }
            });
        }

        // Add export functionality
        function exportDiagram() {
            // This would implement export to PNG/SVG
            console.log('Export functionality would be implemented here');
        }

        // Add zoom functionality
        let zoomLevel = 1;
        function zoomDiagram(delta) {
            zoomLevel += delta * 0.1;
            zoomLevel = Math.max(0.5, Math.min(2, zoomLevel));
            
            const systemBoundary = document.querySelector('.system-boundary');
            systemBoundary.style.transform = `scale(${zoomLevel})`;
        }

        // Mouse wheel zoom
        document.addEventListener('wheel', function(event) {
            if (event.ctrlKey) {
                event.preventDefault();
                zoomDiagram(-event.deltaY / 100);
            }
        });

        // Touch zoom for mobile
        let lastTouchDistance = 0;
        document.addEventListener('touchstart', function(event) {
            if (event.touches.length === 2) {
                const touch1 = event.touches[0];
                const touch2 = event.touches[1];
                lastTouchDistance = Math.hypot(
                    touch1.clientX - touch2.clientX,
                    touch1.clientY - touch2.clientY
                );
            }
        });

        document.addEventListener('touchmove', function(event) {
            if (event.touches.length === 2) {
                event.preventDefault();
                const touch1 = event.touches[0];
                const touch2 = event.touches[1];
                const currentDistance = Math.hypot(
                    touch1.clientX - touch2.clientX,
                    touch1.clientY - touch2.clientY
                );
                
                if (lastTouchDistance > 0) {
                    const delta = (currentDistance - lastTouchDistance) / 100;
                    zoomDiagram(delta);
                }
                
                lastTouchDistance = currentDistance;
            }
        });

        // Add animation on page load
        window.addEventListener('load', function() {
            usecases.forEach((usecase, index) => {
                setTimeout(() => {
                    usecase.style.opacity = '0';
                    usecase.style.transform = 'scale(0.8)';
                    usecase.style.transition = 'all 0.5s ease';
                    
                    setTimeout(() => {
                        usecase.style.opacity = '1';
                        usecase.style.transform = 'scale(1)';
                    }, 100);
                }, index * 50);
            });
        });
    </script>
</body>
</html>
