<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جلسه هفتم: NumPy و محاسبات عددی پیشرفته</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&display=swap');
        
        /* CSS Custom Properties (Variables) */
        :root {
            /* Color Palette */
            --color-primary: #8b5cf6;
            --color-primary-light: #a78bfa;
            --color-primary-dark: #7c3aed;
            --color-secondary: #3b82f6;
            --color-secondary-light: #60a5fa;
            --color-secondary-dark: #2563eb;
            --color-success: #10b981;
            --color-success-light: #34d399;
            --color-warning: #f59e0b;
            --color-warning-light: #fbbf24;
            --color-error: #ef4444;
            --color-error-light: #f87171;
            
            /* Background Colors */
            --bg-primary: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e1b4b 100%);
            --bg-secondary: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
            --bg-card: linear-gradient(135deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.03));
            --bg-code: rgba(30, 41, 59, 0.8);
            --bg-hover: rgba(255, 255, 255, 0.05);
            
            /* Text Colors */
            --text-primary: #e2e8f0;
            --text-secondary: rgba(226, 232, 240, 0.9);
            --text-muted: rgba(226, 232, 240, 0.7);
            --text-inverse: #1f2937;
            
            /* Border Colors */
            --border-primary: rgba(255, 255, 255, 0.1);
            --border-secondary: rgba(255, 255, 255, 0.05);
            --border-accent: rgba(139, 92, 246, 0.3);
            
            /* Shadows */
            --shadow-sm: 0 5px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 20px 40px -12px rgba(0, 0, 0, 0.25);
            --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-glow: 0 0 30px rgba(139, 92, 246, 0.4);
            
            /* Spacing Scale */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 0.75rem;
            --spacing-lg: 1rem;
            --spacing-xl: 1.25rem;
            --spacing-2xl: 1.5rem;
            --spacing-3xl: 2rem;
            --spacing-4xl: 3rem;
            
            /* Border Radius */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 20px;
            --radius-2xl: 25px;
            --radius-full: 9999px;
            
            /* Typography */
            --font-primary: 'Vazirmatn', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            --font-mono: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
            --font-size-xs: clamp(0.75rem, 1.2vw, 0.875rem);
            --font-size-sm: clamp(0.813rem, 1.5vw, 1rem);
            --font-size-base: clamp(0.875rem, 1.8vw, 1.125rem);
            --font-size-lg: clamp(1rem, 2vw, 1.25rem);
            --font-size-xl: clamp(1.125rem, 2.5vw, 1.5rem);
            --font-size-2xl: clamp(1.25rem, 3vw, 2rem);
            --font-size-3xl: clamp(1.5rem, 4vw, 2.5rem);
            --font-size-4xl: clamp(2rem, 5vw, 3.5rem);
            
            /* Line Heights */
            --leading-tight: 1.25;
            --leading-normal: 1.5;
            --leading-relaxed: 1.625;
            --leading-loose: 2;
            
            /* Transitions */
            --transition-fast: 0.2s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slower: 0.6s ease;
            
            /* Z-Index */
            --z-dropdown: 1000;
            --z-sticky: 1020;
            --z-fixed: 1030;
            --z-modal-backdrop: 1040;
            --z-modal: 1050;
            --z-popover: 1060;
            --z-tooltip: 1070;
        }
        
        /* Dark Mode Variables */
        [data-theme="dark"] {
            --bg-primary: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #0f0f23 100%);
            --bg-secondary: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.01));
            --bg-card: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
            --text-primary: #f1f5f9;
            --text-secondary: rgba(241, 245, 249, 0.9);
            --text-muted: rgba(241, 245, 249, 0.7);
        }
        
        /* Light Mode Variables */
        [data-theme="light"] {
            --bg-primary: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f8fafc 100%);
            --bg-secondary: linear-gradient(135deg, rgba(0, 0, 0, 0.02), rgba(0, 0, 0, 0.01));
            --bg-card: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.6));
            --text-primary: #1e293b;
            --text-secondary: rgba(30, 41, 59, 0.9);
            --text-muted: rgba(30, 41, 59, 0.7);
        }
        
        /* ==================== */
        /* RESET & BASE STYLES */
        /* ==================== */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: var(--font-primary);
            background: var(--bg-primary);
            color: var(--text-primary);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            line-height: var(--leading-relaxed);
            font-size: 16px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }
        
        /* ==================== */
        /* TYPOGRAPHY          */
        /* ==================== */
        
        h1 {
            font-size: var(--font-size-4xl);
            font-weight: 700;
            line-height: var(--leading-tight);
            margin-bottom: var(--spacing-lg);
            letter-spacing: -0.02em;
        }
        
        h2 {
            font-size: var(--font-size-3xl);
            font-weight: 600;
            line-height: 1.3;
            margin-bottom: var(--spacing-md);
            letter-spacing: -0.01em;
        }
        
        h3 {
            font-size: var(--font-size-2xl);
            font-weight: 600;
            line-height: var(--leading-normal);
            margin-bottom: var(--spacing-md);
            letter-spacing: -0.005em;
        }
        
        h4 {
            font-size: var(--font-size-xl);
            font-weight: 500;
            line-height: var(--leading-normal);
            margin-bottom: var(--spacing-md);
        }
        
        h5 {
            font-size: var(--font-size-lg);
            font-weight: 500;
            line-height: var(--leading-normal);
            margin-bottom: var(--spacing-md);
        }
        
        h6 {
            font-size: var(--font-size-sm);
            font-weight: 600;
            line-height: var(--leading-normal);
            margin-bottom: var(--spacing-md);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        p {
            font-size: var(--font-size-base);
            line-height: var(--leading-relaxed);
            margin-bottom: var(--spacing-lg);
            color: var(--text-secondary);
        }
        
        /* ==================== */
        /* LAYOUT COMPONENTS   */
        /* ==================== */
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-3xl);
        }
        
        .slide {
            display: none;
            background: var(--bg-secondary);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-2xl);
            padding: clamp(var(--spacing-3xl), 4vw, var(--spacing-4xl));
            margin: var(--spacing-xl);
            border: 2px solid var(--border-primary);
            box-shadow: var(--shadow-xl), 0 0 0 1px var(--border-secondary);
            position: relative;
            overflow: hidden;
            animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .content-card {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            padding: clamp(var(--spacing-2xl), 3vw, var(--spacing-3xl));
            margin-bottom: var(--spacing-2xl);
            border: 1px solid var(--border-primary);
            box-shadow: var(--shadow-lg), 0 0 0 1px var(--border-secondary), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all var(--transition-slow);
            position: relative;
            overflow: hidden;
        }
        
        /* Enhanced list styling */
        ul, ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }
        
        li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
            font-size: clamp(0.875rem, 1.8vw, 1.125rem);
        }
        
        ul li::marker {
            color: #8b5cf6;
        }
        
        ol li::marker {
            color: #3b82f6;
        }
        
        /* Enhanced code typography */
        code {
            font-family: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: clamp(0.813rem, 1.5vw, 1rem);
            background: rgba(59, 130, 246, 0.1);
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            color: #60a5fa;
            font-weight: 500;
        }
        
        pre {
            font-family: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: clamp(0.813rem, 1.5vw, 1rem);
            line-height: 1.6;
            background: rgba(30, 41, 59, 0.8);
            padding: 1.5rem;
            border-radius: 12px;
            overflow-x: auto;
            margin: 0;
            color: #e2e8f0;
        }
        
        /* Enhanced table styling */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
            font-size: clamp(0.875rem, 1.8vw, 1.125rem);
        }
        
        th, td {
            padding: 0.75rem 1rem;
            text-align: right;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        th {
            background: rgba(139, 92, 246, 0.1);
            font-weight: 600;
            color: #e2e8f0;
        }
        
        td {
            color: rgba(226, 232, 240, 0.9);
        }
        
        tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        /* Enhanced blockquote styling */
        blockquote {
            border-right: 4px solid #8b5cf6;
            padding-right: 1rem;
            margin: 1.5rem 0;
            font-style: italic;
            color: rgba(226, 232, 240, 0.8);
            font-size: clamp(1rem, 2vw, 1.25rem);
        }
        
        /* Enhanced spacing utilities */
        .mb-1 { margin-bottom: 0.25rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-3 { margin-bottom: 0.75rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-5 { margin-bottom: 1.25rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        
        .mt-1 { margin-top: 0.25rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-3 { margin-top: 0.75rem; }
        .mt-4 { margin-top: 1rem; }
        .mt-5 { margin-top: 1.25rem; }
        .mt-6 { margin-top: 1.5rem; }
        .mt-8 { margin-top: 2rem; }
        
        .p-2 { padding: 0.5rem; }
        .p-3 { padding: 0.75rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .p-8 { padding: 2rem; }
        
        /* Text utilities */
        .text-xs { font-size: clamp(0.75rem, 1.2vw, 0.875rem); }
        .text-sm { font-size: clamp(0.813rem, 1.5vw, 1rem); }
        .text-base { font-size: clamp(0.875rem, 1.8vw, 1.125rem); }
        .text-lg { font-size: clamp(1rem, 2vw, 1.25rem); }
        .text-xl { font-size: clamp(1.125rem, 2.5vw, 1.5rem); }
        .text-2xl { font-size: clamp(1.25rem, 3vw, 2rem); }
        .text-3xl { font-size: clamp(1.5rem, 4vw, 2.5rem); }
        .text-4xl { font-size: clamp(2rem, 5vw, 3.5rem); }
        
        .font-light { font-weight: 300; }
        .font-normal { font-weight: 400; }
        .font-medium { font-weight: 500; }
        .font-semibold { font-weight: 600; }
        .font-bold { font-weight: 700; }
        
        .leading-tight { line-height: 1.25; }
        .leading-normal { line-height: 1.5; }
        .leading-relaxed { line-height: 1.625; }
        .leading-loose { line-height: 2; }
        
        /* Enhanced readability */
        .readability-enhanced {
            max-width: 70ch;
            margin: 0 auto;
            text-align: justify;
            text-justify: inter-word;
            hyphens: auto;
        }
        
        .text-balance {
            text-wrap: balance;
        }
        
        .text-pretty {
            text-wrap: pretty;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }
        
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .animated-bg::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            animation: shimmer 15s infinite linear;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .slide {
            display: none;
            opacity: 0;
            transform: translateX(100px) scale(0.95);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.25),
                0 0 0 1px rgba(255, 255, 255, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin: 20px;
            padding: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: slideGlow 3s ease-in-out infinite;
        }
        
        @keyframes slideGlow {
            0%, 100% { opacity: 0; transform: translateX(-100%); }
            50% { opacity: 1; transform: translateX(100%); }
        }
        
        .slide.active {
            display: block;
            opacity: 1;
            transform: translateX(0) scale(1);
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.35),
                0 0 0 1px rgba(255, 255, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        .slide-enter {
            transform: translateX(-100px);
        }
        
        .slide-exit {
            transform: translateX(100px);
        }
        
        /* Enhanced Sidebar Navigation */
        .sidebar-nav {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: var(--z-sticky);
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            padding: 20px 15px;
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-primary);
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-normal);
            max-height: 80vh;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--color-primary) transparent;
        }
        
        .sidebar-nav::-webkit-scrollbar {
            width: 6px;
        }
        
        .sidebar-nav::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .sidebar-nav::-webkit-scrollbar-thumb {
            background: var(--color-primary);
            border-radius: var(--radius-full);
        }
        
        .sidebar-nav.collapsed {
            width: auto;
            padding: 15px 10px;
            gap: 8px;
        }
        
        .sidebar-nav.collapsed .nav-btn {
            width: 40px;
            height: 40px;
            font-size: 14px;
        }
        
        .sidebar-nav.collapsed .slide-tooltip {
            display: none;
        }
        
        .sidebar-nav.collapsed .sidebar-progress {
            display: none;
        }
        
        /* Sidebar Header */
        .sidebar-header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-secondary);
        }
        
        .sidebar-title {
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
        }
        
        .sidebar-subtitle {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
        }
        
        /* Sidebar Progress */
        .sidebar-progress {
            margin-bottom: 15px;
            padding: 10px;
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-secondary);
        }
        
        .progress-label {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: var(--bg-hover);
            border-radius: var(--radius-full);
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-primary-light));
            border-radius: var(--radius-full);
            transition: width var(--transition-normal);
            position: relative;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Enhanced Navigation Buttons */
        .nav-btn {
            width: 50px;
            height: 50px;
            border-radius: var(--radius-lg);
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 2px solid var(--border-secondary);
            font-size: var(--font-size-base);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        
        .nav-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: var(--radius-full);
            background: radial-gradient(circle, var(--color-primary), transparent);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }
        
        .nav-btn:hover::before {
            width: 100px;
            height: 100px;
        }
        
        .nav-btn:hover {
            background: var(--bg-hover);
            border-color: var(--color-primary);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 20px -5px rgba(139, 92, 246, 0.4);
        }
        
        .nav-btn:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 0 4px 12px -3px rgba(139, 92, 246, 0.3);
        }
        
        .nav-btn.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
            border-color: var(--color-primary);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.6);
        }
        
        .nav-btn.active::before {
            width: 120px;
            height: 120px;
        }
        
        /* Slide Tooltip */
        .slide-tooltip {
            position: absolute;
            left: 70px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--bg-card);
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: var(--radius-md);
            border: 1px solid var(--border-primary);
            box-shadow: var(--shadow-md);
            font-size: var(--font-size-xs);
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-normal);
            z-index: var(--z-dropdown);
            backdrop-filter: blur(10px);
            pointer-events: none;
        }
        
        .slide-tooltip::before {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background: var(--bg-card);
            border: 1px solid var(--border-primary);
            border-left: none;
            border-top: none;
            transform: translateY(-50%) rotate(45deg);
        }
        
        .nav-btn:hover .slide-tooltip {
            opacity: 1;
            visibility: visible;
            left: 65px;
        }
        
        /* Sidebar Toggle Button */
        .sidebar-toggle {
            position: absolute;
            right: -15px;
            top: 20px;
            width: 30px;
            height: 30px;
            border-radius: var(--radius-full);
            background: var(--bg-card);
            border: 1px solid var(--border-primary);
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-sm);
            backdrop-filter: blur(10px);
        }
        
        .sidebar-toggle:hover {
            background: var(--bg-hover);
            transform: scale(1.1);
            box-shadow: var(--shadow-md);
        }
        
        .sidebar-toggle:active {
            transform: scale(0.95);
        }
        
        .sidebar-nav.collapsed .sidebar-toggle {
            right: -12px;
        }
        
        /* Navigation Groups */
        .nav-group {
            margin-bottom: 15px;
        }
        
        .nav-group-title {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            margin-bottom: 8px;
            text-align: center;
            font-weight: 500;
        }
        
        .nav-group-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        /* Quick Actions */
        .quick-actions {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border-secondary);
        }
        
        .quick-action-btn {
            width: 100%;
            padding: 8px 12px;
            border-radius: var(--radius-md);
            background: var(--bg-secondary);
            border: 1px solid var(--border-secondary);
            color: var(--text-secondary);
            font-size: var(--font-size-xs);
            cursor: pointer;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .quick-action-btn:hover {
            background: var(--bg-hover);
            border-color: var(--color-primary);
            color: var(--text-primary);
            transform: translateY(-1px);
        }
        
        /* Keyboard Navigation Indicator */
        .keyboard-indicator {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-card);
            color: var(--text-primary);
            padding: 4px 8px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-primary);
            font-size: 10px;
            opacity: 0;
            transition: opacity var(--transition-normal);
            pointer-events: none;
        }
        
        .nav-btn:focus-visible .keyboard-indicator {
            opacity: 1;
        }
        
        .main-nav {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 50;
        }
        
        .slide-counter {
            position: fixed;
            top: 25px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(20px);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 16px;
            z-index: 100;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 10px 25px -5px rgba(0, 0, 0, 0.2),
                0 0 0 1px rgba(255, 255, 255, 0.05);
        }
        
        /* Responsive Design - Mobile First */
        @media (max-width: 768px) {
            .sidebar-nav {
                left: 10px;
                right: 10px;
                top: auto;
                bottom: 20px;
                transform: none;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                max-width: calc(100% - 20px);
                padding: 15px 10px;
                max-height: none;
                overflow-x: auto;
                overflow-y: hidden;
            }
            
            .sidebar-nav.collapsed {
                left: 10px;
                right: 10px;
                flex-direction: row;
                padding: 10px 8px;
            }
            
            .nav-btn {
                width: 40px;
                height: 40px;
                font-size: 14px;
                min-width: 40px;
                min-height: 40px;
            }
            
            .sidebar-nav.collapsed .nav-btn {
                width: 35px;
                height: 35px;
                font-size: 12px;
            }
            
            .sidebar-header {
                display: none;
            }
            
            .sidebar-progress {
                display: none;
            }
            
            .quick-actions {
                display: none;
            }
            
            .sidebar-toggle {
                display: none;
            }
            
            .nav-group {
                margin-bottom: 0;
                margin-right: 8px;
            }
            
            .nav-group-title {
                display: none;
            }
            
            .nav-group-buttons {
                flex-direction: row;
                gap: 6px;
            }
            
            .slide-tooltip {
                display: none;
            }
            
            .main-nav {
                bottom: 10px;
                gap: 15px;
            }
            
            .main-nav button {
                padding: 8px 16px;
                font-size: 14px;
            }
        }
            
            .main-nav {
                bottom: 20px;
                gap: 10px;
                flex-wrap: wrap;
                max-width: 90%;
                justify-content: center;
            }
            
            .main-nav button {
                padding: 10px 20px;
                font-size: 14px;
                gap: 6px;
            }
            
            .slide-counter {
                top: 15px;
                padding: 8px 16px;
                font-size: 14px;
            }
            
            .slide-content {
                padding: 40px 20px 30px;
            }
            
            .content-card {
                padding: 20px;
                margin-bottom: 15px;
            }
            
            .highlight-box, .gradient-box {
                padding: 20px;
                margin: 15px 0;
            }
            
            .slide {
                margin: 10px;
                padding: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .sidebar-nav {
                left: 5px;
                right: 5px;
                bottom: 15px;
                padding: 12px 8px;
                gap: 8px;
            }
            
            .nav-btn {
                width: 35px;
                height: 35px;
                font-size: 12px;
                min-width: 35px;
                min-height: 35px;
            }
            
            .nav-group-buttons {
                gap: 4px;
            }
            
            .main-nav {
                bottom: 5px;
                gap: 10px;
            }
            
            .main-nav button {
                padding: 6px 12px;
                font-size: 12px;
            }
        }
            
            .main-nav {
                bottom: 15px;
                gap: 8px;
            }
            
            .main-nav button {
                padding: 8px 16px;
                font-size: 12px;
            }
            
            .slide-counter {
                top: 10px;
                padding: 6px 12px;
                font-size: 12px;
            }
            
            .slide-content {
                padding: 30px 15px 20px;
            }
            
            .content-card {
                padding: 15px;
                margin-bottom: 10px;
            }
            
            .highlight-box, .gradient-box {
                padding: 15px;
                margin: 10px 0;
            }
            
            .slide {
                margin: 5px;
                padding: 15px;
            }
            
            .section-title {
                font-size: 1.1rem;
            }
            
            .method-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .performance-comparison {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }
        
        @media (max-width: 320px) {
            .sidebar-nav {
                left: 2px;
                right: 2px;
                bottom: 10px;
                padding: 10px 6px;
            }
            
            .nav-btn {
                width: 30px;
                height: 30px;
                font-size: 11px;
                min-width: 30px;
                min-height: 30px;
            }
            
            .nav-group-buttons {
                gap: 3px;
            }
        }
            
            .main-nav {
                bottom: 10px;
                gap: 5px;
            }
            
            .main-nav button {
                padding: 6px 12px;
                font-size: 11px;
            }
            
            .slide-counter {
                font-size: 11px;
                padding: 4px 8px;
            }
            
            .slide-content {
                padding: 20px 10px 15px;
            }
            
            .content-card, .highlight-box, .gradient-box {
                padding: 12px;
                margin-bottom: 8px;
            }
            
            .slide {
                margin: 3px;
                padding: 12px;
            }
        }
        
        /* Tablet and Desktop Enhancements */
        @media (min-width: 769px) and (max-width: 1024px) {
            .sidebar-nav {
                left: 15px;
                padding: 18px 12px;
            }
            
            .nav-btn {
                width: 45px;
                height: 45px;
                font-size: 15px;
            }
            
            .sidebar-nav.collapsed .nav-btn {
                width: 38px;
                height: 38px;
                font-size: 13px;
            }
        }
            
            .slide-content {
                padding: 50px 30px 35px;
            }
            
            .method-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }
        
        @media (min-width: 1025px) {
            .slide-content {
                padding: 60px 40px 40px;
            }
            
            .method-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }
        
        /* Landscape Mode Adjustments */
        @media (max-height: 600px) and (orientation: landscape) {
            .sidebar-nav {
                top: 20px;
                transform: none;
                flex-direction: row;
                left: 50%;
                transform: translateX(-50%);
                max-width: 90%;
                overflow-x: auto;
                overflow-y: hidden;
                padding: 15px 10px;
            }
            
            .sidebar-nav.collapsed {
                flex-direction: row;
                padding: 10px 8px;
            }
            
            .nav-group {
                margin-bottom: 0;
                margin-right: 10px;
            }
            
            .nav-group-buttons {
                flex-direction: row;
                gap: 6px;
            }
            
            .sidebar-header {
                display: none;
            }
            
            .sidebar-progress {
                display: none;
            }
            
            .quick-actions {
                display: none;
            }
            
            .slide-tooltip {
                display: none;
            }
            
            .sidebar-toggle {
                display: none;
            }
            
            .main-nav {
                bottom: 10px;
            }
            
            .slide-counter {
                top: 10px;
            }
            
            .slide-content {
                padding: 40px 20px 20px;
            }
        }
        
        /* High Resolution Displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .nav-btn, .main-nav button, .slide-counter {
                backdrop-filter: blur(30px);
            }
            
            .content-card, .highlight-box, .gradient-box {
                backdrop-filter: blur(30px);
            }
        }
        
        /* Touch Device Optimizations */
        @media (hover: none) and (pointer: coarse) {
            .nav-btn, .main-nav button {
                min-height: 44px; /* Minimum touch target size */
                min-width: 44px;
            }
            
            .copy-btn {
                min-height: 40px;
                min-width: 40px;
                padding: 8px 16px;
            }
        }
        
        /* Reduced Motion Preferences */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%);
            }
            
            .content-card {
                background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
                border-color: rgba(255, 255, 255, 0.1);
            }
        }
        
        .slide-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 40px 40px;
        }
        
        .slide-title {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 700;
            color: white;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .slide-subtitle {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            color: rgba(255, 255, 255, 0.9);
            font-weight: 400;
        }
        
        .slide {
            display: none;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 40px;
            margin: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.25),
                0 0 0 1px rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
            animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .slide.active {
            display: block;
        }
        
        .slide::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.1), transparent 70%);
            animation: pulse 4s ease-in-out infinite reverse;
        }
        
        /* Slide animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(50px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }
        
        @keyframes slideOut {
            from {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
            to {
                opacity: 0;
                transform: translateX(-50px) scale(0.95);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(-50px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }
        
        @keyframes slideOutLeft {
            from {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
            to {
                opacity: 0;
                transform: translateX(50px) scale(0.95);
            }
        }
        
        /* Slide transition classes */
        .slide.slide-in-right {
            animation: slideInRight 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .slide.slide-in-left {
            animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .slide.slide-out-right {
            animation: slideOut 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .slide.slide-out-left {
            animation: slideOutLeft 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Enhanced hover effects for interactive elements */
        .content-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .content-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }
        
        .content-card:hover::before {
            left: 100%;
        }
        
        .content-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 
                0 30px 60px -15px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.3);
        }
        
        .highlight-box, .gradient-box {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .highlight-box:hover, .gradient-box:hover {
            transform: translateY(-3px) scale(1.01);
            box-shadow: 
                0 20px 40px -10px rgba(0, 0, 0, 0.2),
                0 0 20px rgba(59, 130, 246, 0.15);
        }
        
        /* Method card animations */
        .method-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .method-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        
        .method-card:hover::before {
            transform: translateX(100%);
        }
        
        .method-card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 35px -5px rgba(0, 0, 0, 0.3);
        }
        
        /* Button ripple effect */
        .nav-btn, .main-nav button {
            position: relative;
            overflow: hidden;
        }
        
        .nav-btn::after, .main-nav button::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }
        
        .nav-btn:active::after, .main-nav button:active::after {
            width: 300px;
            height: 300px;
        }
        
        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Fade in animation for content */
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Staggered animation for lists and grids */
        .stagger-animation > * {
            opacity: 0;
            animation: staggerIn 0.6s ease-out forwards;
        }
        
        .stagger-animation > *:nth-child(1) { animation-delay: 0.1s; }
        .stagger-animation > *:nth-child(2) { animation-delay: 0.2s; }
        .stagger-animation > *:nth-child(3) { animation-delay: 0.3s; }
        .stagger-animation > *:nth-child(4) { animation-delay: 0.4s; }
        .stagger-animation > *:nth-child(5) { animation-delay: 0.5s; }
        .stagger-animation > *:nth-child(6) { animation-delay: 0.6s; }
        .stagger-animation > *:nth-child(7) { animation-delay: 0.7s; }
        .stagger-animation > *:nth-child(8) { animation-delay: 0.8s; }
        
        @keyframes staggerIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .content-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.03));
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 20px;
            padding: 30px;
            margin: 25px 0;
            box-shadow: 
                0 20px 40px -12px rgba(251, 191, 36, 0.2),
                0 0 0 1px rgba(251, 191, 36, 0.1),
                inset 0 1px 0 rgba(251, 191, 36, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .highlight-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(251, 191, 36, 0.1), transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(0.8); opacity: 0.5; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }
        
        .gradient-box {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.35), rgba(59, 130, 246, 0.15));
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 20px;
            padding: 30px;
            margin: 25px 0;
            box-shadow: 
                0 20px 40px -12px rgba(139, 92, 246, 0.2),
                0 0 0 1px rgba(139, 92, 246, 0.1),
                inset 0 1px 0 rgba(139, 92, 246, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .gradient-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.1), transparent 70%);
            animation: pulse 4s ease-in-out infinite reverse;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .method-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .performance-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .method-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .method-card h4 {
            color: #fbbf24;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .method-name {
            font-weight: bold;
            color: #60a5fa;
            font-size: 1.1em;
            margin-bottom: 8px;
        }
        
        .method-desc {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9em;
        }
        
        .array-visualization {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .performance-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .performance-card {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .python-card {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid rgba(239, 68, 68, 0.4);
        }
        
        .numpy-card {
            background: rgba(34, 197, 94, 0.2);
            border: 2px solid rgba(34, 197, 94, 0.4);
        }
        
        .math-formula {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-family: 'Times New Roman', serif;
            font-size: 1.1em;
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .learning-objectives {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .objectives-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #60a5fa;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .objectives-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .objective-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 10px;
            border-right: 4px solid #60a5fa;
            transition: transform 0.3s;
        }
        
        .objective-item:hover {
            transform: translateX(5px);
        }
        
        .operation-demo {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .array-box {
            display: inline-block;
            margin: 10px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid #60a5fa;
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
        }
        
        .broadcasting-demo {
            display: grid;
            grid-template-columns: 1fr;
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    <div class="slide-counter" id="slideCounter">1 / 12</div>
    
    <div class="animated-bg">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>
    
    <div class="sidebar-nav" id="sidebarNav">
        <!-- Navigation buttons will be generated by JavaScript -->
    </div>
    
    <div class="main-nav">
        <button id="prevBtn" onclick="changeSlide(-1)">
            <i class="fas fa-chevron-right ml-2"></i>
            قبلی
        </button>
        <button id="nextBtn" onclick="changeSlide(1)">
            بعدی
            <i class="fas fa-chevron-left mr-2"></i>
        </button>
    </div>
            <!-- اسلاید 1: معرفی NumPy -->
            <div class="slide active" id="slide1">
                <div class="slide-content">
                    <div class="slide-header">
                        <div class="slide-title">معرفی NumPy: قلب محاسبات علمی پایتون</div>
                        <div class="slide-subtitle">جلسه هفتم - محاسبات عددی پیشرفته</div>
                    </div>
                    <div class="content-card">
                        <div class="section-title">
                            <i class="fas fa-question-circle"></i>
                            NumPy چیست؟
                        </div>
                        <p class="text-white text-lg mb-6"><strong>NumPy</strong> (Numerical Python) کتابخانه‌ای قدرتمند برای محاسبات عددی در پایتون است که:</p>
                        
                        <div class="grid-2">
                            <div class="highlight-box">
                                <div class="text-2xl mb-2">⚡</div>
                                <h4 class="text-white font-bold text-lg mb-2">سرعت بالا</h4>
                                <p class="text-white/80">تا 100 برابر سریع‌تر از Python خالص</p>
                            </div>
                            <div class="highlight-box">
                                <div class="text-2xl mb-2">📊</div>
                                <h4 class="text-white font-bold text-lg mb-2">آرایه‌های چندبعدی</h4>
                                <p class="text-white/80">پشتیبانی از آرایه‌های N-بعدی</p>
                            </div>
                            <div class="highlight-box">
                                <div class="text-2xl mb-2">🧮</div>
                                <h4 class="text-white font-bold text-lg mb-2">توابع ریاضی</h4>
                                <p class="text-white/80">مجموعه کاملی از توابع ریاضی</p>
                            </div>
                            <div class="highlight-box">
                                <div class="text-2xl mb-2">🔗</div>
                                <h4 class="text-white font-bold text-lg mb-2">سازگاری</h4>
                                <p class="text-white/80">پایه کتابخانه‌های دیگر علم داده</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="content-card">
                        <div class="section-title">
                            <i class="fas fa-star"></i>
                            چرا NumPy مهم است؟
                        </div>
                        <div class="feature-list">
                            <div class="feature-item">
                                <span class="feature-icon">🚀</span>
                                <div>
                                    <strong>عملکرد:</strong> محاسبات سریع روی داده‌های بزرگ
                                </div>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">💾</span>
                                <div>
                                    <strong>حافظه:</strong> استفاده بهینه از حافظه
                                </div>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">🔧</span>
                                <div>
                                    <strong>ابزارها:</strong> پایه Pandas، Matplotlib، Scikit-learn
                                </div>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">🌐</span>
                                <div>
                                    <strong>استاندارد:</strong> استاندارد صنعتی برای محاسبات عددی
                                </div>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">📈</span>
                                <div>
                                    <strong>Broadcasting:</strong> عملیات روی آرایه‌های مختلف الشکل
                                </div>
                            </div>
                        </div>

                    </div>
                    
                    <div class="content-card">
                        <div class="section-title">
                            <i class="fas fa-download"></i>
                            نصب و وارد کردن
                        </div>
                        <div class="code-block">
                            <div class="code-block-header">
                                <div class="code-block-language">Python</div>
                                <button class="copy-btn" onclick="copyCode(this)">
                                    <i class="fas fa-copy"></i> کپی
                                </button>
                            </div>
                            <pre><span class="comment"># نصب NumPy</span>
pip install numpy

<span class="comment"># وارد کردن NumPy</span>
<span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="comment"># بررسی نسخه</span>
<span class="function">print</span>(<span class="string">f"NumPy version: {np.__version__}"</span>)

<span class="comment"># اطلاعات پیکربندی</span>
np.show_config()</pre>
                        </div>
                    </div>
                    
                    <div class="content-card">
                        <div class="section-title">
                            <i class="fas fa-tachometer-alt"></i>
                            مقایسه عملکرد
                        </div>
                        <div class="grid-2">
                            <div class="highlight-box bg-red-500/20 border-red-500/50">
                                <h4 class="text-white font-bold text-lg mb-2">🐍 Python خالص</h4>
                                <p class="text-white/80 mb-1">لیست‌های Python</p>
                                <p class="text-white/80 mb-1">سرعت: 1x</p>
                                <p class="text-white/80">حافظه: زیاد</p>
                            </div>
                            <div class="highlight-box bg-green-500/20 border-green-500/50">
                                <h4 class="text-white font-bold text-lg mb-2">⚡ NumPy</h4>
                                <p class="text-white/80 mb-1">آرایه‌های NumPy</p>
                                <p class="text-white/80 mb-1">سرعت: 10-100x</p>
                                <p class="text-white/80">حافظه: کم</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tip-box">
                        <div class="tip-icon">💡</div>
                        <div class="tip-content">
                            <strong>نکته مهم:</strong> NumPy در C نوشته شده و از vectorization استفاده می‌کند که آن را بسیار سریع می‌کند.
                        </div>
                    </div>
                </div>
            </div>

            <!-- اسلاید 2: آرایه‌های NumPy -->
            <div class="slide" id="slide2">
                <div class="slide-content">
                    <div class="slide-header">
                        <div class="slide-title">آرایه‌های NumPy (ndarray)</div>
                        <div class="slide-subtitle">ساختارهای داده چندبعدی</div>
                    </div>
                    <h3>🔢 ایجاد آرایه‌ها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="comment"># ایجاد آرایه از لیست</span>
arr1d = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])
<span class="function">print</span>(<span class="string">f"آرایه 1 بعدی: {arr1d}"</span>)
<span class="function">print</span>(<span class="string">f"نوع داده: {arr1d.dtype}"</span>)
<span class="function">print</span>(<span class="string">f"شکل: {arr1d.shape}"</span>)

<span class="comment"># آرایه 2 بعدی</span>
arr2d = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])
<span class="function">print</span>(<span class="string">f"\nآرایه 2 بعدی:\n{arr2d}"</span>)
<span class="function">print</span>(<span class="string">f"شکل: {arr2d.shape}"</span>)
<span class="function">print</span>(<span class="string">f"ابعاد: {arr2d.ndim}"</span>)

<span class="comment"># آرایه 3 بعدی</span>
arr3d = np.array([[[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]], [[<span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>]]])
<span class="function">print</span>(<span class="string">f"\nآرایه 3 بعدی:\n{arr3d}"</span>)
<span class="function">print</span>(<span class="string">f"شکل: {arr3d.shape}"</span>)

<span class="comment"># تعیین نوع داده</span>
float_arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=np.float64)
<span class="function">print</span>(<span class="string">f"\nآرایه اعشاری: {float_arr}"</span>)
<span class="function">print</span>(<span class="string">f"نوع داده: {float_arr.dtype}"</span>)
                    </div>

                    <h3>🏭 توابع ایجاد آرایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه پر از صفر</span>
zeros = np.zeros((<span class="number">3</span>, <span class="number">4</span>))
<span class="function">print</span>(<span class="string">f"آرایه صفر:\n{zeros}"</span>)

<span class="comment"># آرایه پر از یک</span>
ones = np.ones((<span class="number">2</span>, <span class="number">3</span>), dtype=np.int32)
<span class="function">print</span>(<span class="string">f"\nآرایه یک:\n{ones}"</span>)

<span class="comment"># آرایه پر از مقدار دلخواه</span>
full_arr = np.full((<span class="number">2</span>, <span class="number">2</span>), <span class="number">7</span>)
<span class="function">print</span>(<span class="string">f"\nآرایه پر از 7:\n{full_arr}"</span>)

<span class="comment"># آرایه خالی (مقادیر تصادفی)</span>
empty_arr = np.empty((<span class="number">2</span>, <span class="number">3</span>))
<span class="function">print</span>(<span class="string">f"\nآرایه خالی:\n{empty_arr}"</span>)

<span class="comment"># آرایه هویت (ماتریس واحد)</span>
identity = np.eye(<span class="number">3</span>)
<span class="function">print</span>(<span class="string">f"\nماتریس واحد:\n{identity}"</span>)

<span class="comment"># آرایه دیاگونال</span>
diag_arr = np.diag([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
<span class="function">print</span>(<span class="string">f"\nآرایه دیاگونال:\n{diag_arr}"</span>)
                    </div>

                    <h3>📐 آرایه‌های محدوده:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه محدوده (مانند range)</span>
range_arr = np.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">2</span>)
<span class="function">print</span>(<span class="string">f"محدوده: {range_arr}"</span>)

<span class="comment"># تقسیم خطی</span>
linear = np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>)
<span class="function">print</span>(<span class="string">f"تقسیم خطی: {linear}"</span>)

<span class="comment"># تقسیم لگاریتمی</span>
log_space = np.logspace(<span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>)  <span class="comment"># 10^0 تا 10^2</span>
<span class="function">print</span>(<span class="string">f"تقسیم لگاریتمی: {log_space}"</span>)

<span class="comment"># آرایه تصادفی</span>
np.random.seed(<span class="number">42</span>)  <span class="comment"># برای تکرارپذیری</span>
random_arr = np.random.random((<span class="number">3</span>, <span class="number">3</span>))
<span class="function">print</span>(<span class="string">f"\nآرایه تصادفی:\n{random_arr}"</span>)

<span class="comment"># اعداد تصادفی صحیح</span>
random_int = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, size=(<span class="number">2</span>, <span class="number">4</span>))
<span class="function">print</span>(<span class="string">f"\nاعداد تصادفی صحیح:\n{random_int}"</span>)

<span class="comment"># توزیع نرمال</span>
normal_arr = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (<span class="number">2</span>, <span class="number">3</span>))
<span class="function">print</span>(<span class="string">f"\nتوزیع نرمال:\n{normal_arr}"</span>)
                    </div>

                    <div class="array-visualization">
                        <h4>📊 نمایش بصری ابعاد آرایه:</h4>
                        <div class="array-1d">
                            <strong>1D:</strong> [1, 2, 3, 4]
                        </div>
                        <div class="array-2d">
                            <strong>2D:</strong><br>
                            [[1, 2],<br>
                             [3, 4]]
                        </div>
                        <div class="array-3d">
                            <strong>3D:</strong><br>
                            [[[1, 2], [3, 4]],<br>
                             [[5, 6], [7, 8]]]
                        </div>
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">np.array()</div>
                            <div class="method-desc">ایجاد آرایه از لیست</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.zeros()</div>
                            <div class="method-desc">آرایه پر از صفر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.arange()</div>
                            <div class="method-desc">آرایه محدوده</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.random</div>
                            <div class="method-desc">اعداد تصادفی</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- اسلاید 3: ویژگی‌های آرایه -->
            <div class="slide" id="slide3">
                <div class="slide-number">3/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🔍</div>
                <div class="slide-title">ویژگی‌ها و اطلاعات آرایه</div>
                <div class="slide-content">
                    <h3>📏 ویژگی‌های اساسی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># ایجاد آرایه نمونه</span>
arr = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, size=(<span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>))
<span class="function">print</span>(<span class="string">f"آرایه:\n{arr}"</span>)

<span class="comment"># ویژگی‌های اساسی</span>
<span class="function">print</span>(<span class="string">f"\n📊 اطلاعات آرایه:"</span>)
<span class="function">print</span>(<span class="string">f"شکل (shape): {arr.shape}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد ابعاد (ndim): {arr.ndim}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد عناصر (size): {arr.size}"</span>)
<span class="function">print</span>(<span class="string">f"نوع داده (dtype): {arr.dtype}"</span>)
<span class="function">print</span>(<span class="string">f"اندازه هر عنصر (itemsize): {arr.itemsize} بایت"</span>)
<span class="function">print</span>(<span class="string">f"کل حافظه (nbytes): {arr.nbytes} بایت"</span>)

<span class="comment"># اطلاعات بیشتر</span>
<span class="function">print</span>(<span class="string">f"\n🔍 جزئیات بیشتر:"</span>)
<span class="function">print</span>(<span class="string">f"آرایه پیوسته است؟ {arr.flags.c_contiguous}"</span>)
<span class="function">print</span>(<span class="string">f"قابل نوشتن است؟ {arr.flags.writeable}"</span>)
<span class="function">print</span>(<span class="string">f"مالک داده است؟ {arr.flags.owndata}"</span>)
                    </div>

                    <h3>🔄 تغییر شکل آرایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه اولیه</span>
original = np.arange(<span class="number">12</span>)
<span class="function">print</span>(<span class="string">f"آرایه اولیه: {original}"</span>)

<span class="comment"># تغییر شکل</span>
reshaped = original.reshape(<span class="number">3</span>, <span class="number">4</span>)
<span class="function">print</span>(<span class="string">f"\nتغییر شکل به 3x4:\n{reshaped}"</span>)

<span class="comment"># تغییر شکل با -1 (محاسبه خودکار)</span>
auto_reshape = original.reshape(<span class="number">4</span>, -<span class="number">1</span>)
<span class="function">print</span>(<span class="string">f"\nتغییر شکل خودکار:\n{auto_reshape}"</span>)

<span class="comment"># صاف کردن آرایه</span>
flattened = reshaped.flatten()
<span class="function">print</span>(<span class="string">f"\nصاف شده: {flattened}"</span>)

<span class="comment"># ravel (نسخه سریع‌تر flatten)</span>
raveled = reshaped.ravel()
<span class="function">print</span>(<span class="string">f"Ravel: {raveled}"</span>)

<span class="comment"># تغییر ابعاد</span>
expanded = np.expand_dims(original, axis=<span class="number">0</span>)
<span class="function">print</span>(<span class="string">f"\nاضافه کردن بعد:\n{expanded}"</span>)
<span class="function">print</span>(<span class="string">f"شکل جدید: {expanded.shape}"</span>)

<span class="comment"># حذف ابعاد اضافی</span>
squeezed = np.squeeze(expanded)
<span class="function">print</span>(<span class="string">f"\nحذف بعد اضافی: {squeezed}"</span>)
                    </div>

                    <h3>🔄 Transpose و Swapaxes:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># ماتریس 2D</span>
matrix = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])
<span class="function">print</span>(<span class="string">f"ماتریس اصلی:\n{matrix}"</span>)

<span class="comment"># Transpose</span>
transposed = matrix.T
<span class="function">print</span>(<span class="string">f"\nTranspose:\n{transposed}"</span>)

<span class="comment"># یا با متد transpose</span>
transposed2 = matrix.transpose()
<span class="function">print</span>(<span class="string">f"\nTranspose (متد):\n{transposed2}"</span>)

<span class="comment"># آرایه 3D</span>
arr3d = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))
<span class="function">print</span>(<span class="string">f"\nآرایه 3D شکل: {arr3d.shape}"</span>)

<span class="comment"># Transpose با ترتیب مشخص</span>
transposed3d = arr3d.transpose(<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>)
<span class="function">print</span>(<span class="string">f"بعد از transpose: {transposed3d.shape}"</span>)

<span class="comment"># تعویض محورها</span>
swapped = np.swapaxes(arr3d, <span class="number">0</span>, <span class="number">2</span>)
<span class="function">print</span>(<span class="string">f"بعد از swapaxes: {swapped.shape}"</span>)
                    </div>

                    <h3>📋 کپی کردن آرایه‌ها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه اصلی</span>
original = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
<span class="function">print</span>(<span class="string">f"اصلی: {original}"</span>)

<span class="comment"># View (مرجع)</span>
view = original.view()
view[<span class="number">0</span>] = <span class="number">999</span>
<span class="function">print</span>(<span class="string">f"بعد از تغییر view: {original}"</span>)

<span class="comment"># Copy (کپی مستقل)</span>
original = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])  <span class="comment"># بازنشانی</span>
copy_arr = original.copy()
copy_arr[<span class="number">0</span>] = <span class="number">999</span>
<span class="function">print</span>(<span class="string">f"اصلی بعد از تغییر copy: {original}"</span>)
<span class="function">print</span>(<span class="string">f"Copy: {copy_arr}"</span>)

<span class="comment"># بررسی مالکیت حافظه</span>
<span class="function">print</span>(<span class="string">f"\nآیا view مالک داده است؟ {view.flags.owndata}"</span>)
<span class="function">print</span>(<span class="string">f"آیا copy مالک داده است؟ {copy_arr.flags.owndata}"</span>)
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">.shape</div>
                            <div class="method-desc">شکل آرایه</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">.reshape()</div>
                            <div class="method-desc">تغییر شکل</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">.T</div>
                            <div class="method-desc">Transpose</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">.copy()</div>
                            <div class="method-desc">کپی مستقل</div>
                        </div>
                    </div>

                    <div class="warning-box">
                        <div class="warning-title">⚠️ هشدار مهم:</div>
                        تفاوت بین view و copy را جدی بگیرید. view تغییرات را روی آرایه اصلی اعمال می‌کند!
                    </div>
                </div>
            </div>

            <!-- اسلاید 4: انتخاب و برش -->
            <div class="slide" id="slide4">
                <div class="slide-number">4/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">✂️</div>
                <div class="slide-title">انتخاب و برش آرایه‌ها (Indexing & Slicing)</div>
                <div class="slide-content">
                    <h3>🔢 انتخاب عناصر:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه 1 بعدی</span>
arr1d = np.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>])
<span class="function">print</span>(<span class="string">f"آرایه: {arr1d}"</span>)

<span class="comment"># انتخاب عنصر</span>
<span class="function">print</span>(<span class="string">f"اولین عنصر: {arr1d[0]}"</span>)
<span class="function">print</span>(<span class="string">f"آخرین عنصر: {arr1d[-1]}"</span>)

<span class="comment"># برش</span>
<span class="function">print</span>(<span class="string">f"عناصر 1 تا 3: {arr1d[1:4]}"</span>)
<span class="function">print</span>(<span class="string">f"هر دومی: {arr1d[::2]}"</span>)
<span class="function">print</span>(<span class="string">f"معکوس: {arr1d[::-1]}"</span>)

<span class="comment"># آرایه 2 بعدی</span>
arr2d = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])
<span class="function">print</span>(<span class="string">f"\nآرایه 2D:\n{arr2d}"</span>)

<span class="comment"># انتخاب عنصر خاص</span>
<span class="function">print</span>(<span class="string">f"عنصر [1,2]: {arr2d[1, 2]}"</span>)

<span class="comment"># انتخاب سطر</span>
<span class="function">print</span>(<span class="string">f"سطر دوم: {arr2d[1, :]}"</span>)

<span class="comment"># انتخاب ستون</span>
<span class="function">print</span>(<span class="string">f"ستون سوم: {arr2d[:, 2]}"</span>)

<span class="comment"># برش 2 بعدی</span>
<span class="function">print</span>(<span class="string">f"زیرماتریس:\n{arr2d[0:2, 1:3]}"</span>)
                    </div>

                    <h3>🎯 انتخاب پیشرفته:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
arr = np.random.randint(<span class="number">1</span>, <span class="number">20</span>, <span class="number">10</span>)
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)

<span class="comment"># انتخاب شرطی (Boolean Indexing)</span>
mask = arr > <span class="number">10</span>
<span class="function">print</span>(<span class="string">f"ماسک (>10): {mask}"</span>)
<span class="function">print</span>(<span class="string">f"عناصر بزرگتر از 10: {arr[mask]}"</span>)

<span class="comment"># شروط چندگانه</span>
condition = (arr > <span class="number">5</span>) & (arr < <span class="number">15</span>)
<span class="function">print</span>(<span class="string">f"بین 5 تا 15: {arr[condition]}"</span>)

<span class="comment"># انتخاب با لیست ایندکس</span>
indices = [<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>]
<span class="function">print</span>(<span class="string">f"ایندکس‌های مشخص: {arr[indices]}"</span>)

<span class="comment"># Fancy Indexing</span>
arr2d = np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>, <span class="number">5</span>)
<span class="function">print</span>(<span class="string">f"\nآرایه 2D:\n{arr2d}"</span>)

<span class="comment"># انتخاب سطرهای خاص</span>
rows = [<span class="number">0</span>, <span class="number">2</span>]
cols = [<span class="number">1</span>, <span class="number">3</span>]
<span class="function">print</span>(<span class="string">f"سطرها {rows}, ستون‌های {cols}:\n{arr2d[np.ix_(rows, cols)]}"</span>)
                    </div>

                    <h3>🔄 تغییر مقادیر:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه قابل تغییر</span>
arr = np.arange(<span class="number">10</span>)
<span class="function">print</span>(<span class="string">f"آرایه اولیه: {arr}"</span>)

<span class="comment"># تغییر عنصر واحد</span>
arr[<span class="number">0</span>] = <span class="number">99</span>
<span class="function">print</span>(<span class="string">f"بعد از تغییر: {arr}"</span>)

<span class="comment"># تغییر چند عنصر</span>
arr[<span class="number">1</span>:<span class="number">4</span>] = <span class="number">-1</span>
<span class="function">print</span>(<span class="string">f"تغییر برش: {arr}"</span>)

<span class="comment"># تغییر شرطی</span>
arr[arr < <span class="number">0</span>] = <span class="number">0</span>
<span class="function">print</span>(<span class="string">f"تغییر شرطی: {arr}"</span>)

<span class="comment"># استفاده از where</span>
arr = np.array([<span class="number">1</span>, <span class="number">-2</span>, <span class="number">3</span>, <span class="number">-4</span>, <span class="number">5</span>])
result = np.where(arr < <span class="number">0</span>, <span class="number">0</span>, arr)
<span class="function">print</span>(<span class="string">f"where (منفی‌ها صفر): {result}"</span>)

<span class="comment"># where با شرط پیچیده</span>
result2 = np.where(arr > <span class="number">0</span>, arr * <span class="number">2</span>, arr)
<span class="function">print</span>(<span class="string">f"where (مثبت‌ها دوبرابر): {result2}"</span>)
                    </div>

                    <h3>🔍 جستجو در آرایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
arr = np.array([<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">6</span>])
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)

<span class="comment"># پیدا کردن ایندکس‌ها</span>
indices_of_1 = np.where(arr == <span class="number">1</span>)
<span class="function">print</span>(<span class="string">f"ایندکس‌های عدد 1: {indices_of_1[0]}"</span>)

<span class="comment"># پیدا کردن حداکثر و حداقل</span>
max_index = np.argmax(arr)
min_index = np.argmin(arr)
<span class="function">print</span>(<span class="string">f"ایندکس حداکثر: {max_index} (مقدار: {arr[max_index]})"</span>)
<span class="function">print</span>(<span class="string">f"ایندکس حداقل: {min_index} (مقدار: {arr[min_index]})"</span>)

<span class="comment"># جستجوی مرتب شده</span>
sorted_arr = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>])
position = np.searchsorted(sorted_arr, <span class="number">6</span>)
<span class="function">print</span>(<span class="string">f"موقعیت درج 6: {position}"</span>)

<span class="comment"># عناصر منحصربه‌فرد</span>
unique_values = np.unique(arr)
<span class="function">print</span>(<span class="string">f"مقادیر منحصربه‌فرد: {unique_values}"</span>)

<span class="comment"># شمارش تکرارها</span>
values, counts = np.unique(arr, return_counts=<span class="keyword">True</span>)
<span class="function">print</span>(<span class="string">f"مقادیر: {values}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد تکرار: {counts}"</span>)
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">arr[i]</div>
                            <div class="method-desc">انتخاب عنصر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">arr[mask]</div>
                            <div class="method-desc">انتخاب شرطی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.where()</div>
                            <div class="method-desc">جایگزینی شرطی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.argmax()</div>
                            <div class="method-desc">ایندکس حداکثر</div>
                        </div>
                    </div>

                    <div class="example-box">
                        <div class="example-title">💡 مثال کاربردی:</div>
                        انتخاب دانش‌آموزان با نمره بالای 15 از آرایه نمرات و محاسبه میانگین آن‌ها
                    </div>
                </div>
            </div>

            <!-- اسلاید 5: عملیات ریاضی -->
            <div class="slide" id="slide5">
                <div class="slide-number">5/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">➕</div>
                <div class="slide-title">عملیات ریاضی و Universal Functions</div>
                <div class="slide-content">
                    <h3>➕ عملیات پایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه‌های نمونه</span>
a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
b = np.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>])
<span class="function">print</span>(<span class="string">f"a: {a}"</span>)
<span class="function">print</span>(<span class="string">f"b: {b}"</span>)

<span class="comment"># عملیات اصلی</span>
<span class="function">print</span>(<span class="string">f"\nجمع: {a + b}"</span>)
<span class="function">print</span>(<span class="string">f"تفریق: {a - b}"</span>)
<span class="function">print</span>(<span class="string">f"ضرب: {a * b}"</span>)
<span class="function">print</span>(<span class="string">f"تقسیم: {b / a}"</span>)
<span class="function">print</span>(<span class="string">f"تقسیم صحیح: {b // a}"</span>)
<span class="function">print</span>(<span class="string">f"باقیمانده: {b % a}"</span>)
<span class="function">print</span>(<span class="string">f"توان: {a ** 2}"</span>)

<span class="comment"># عملیات با اسکالر</span>
<span class="function">print</span>(<span class="string">f"\nجمع با اسکالر: {a + 10}"</span>)
<span class="function">print</span>(<span class="string">f"ضرب در اسکالر: {a * 3}"</span>)

<span class="comment"># عملیات درجا</span>
c = a.copy()
c += <span class="number">5</span>
<span class="function">print</span>(<span class="string">f"جمع درجا: {c}"</span>)
                    </div>

                    <h3>🧮 توابع ریاضی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
arr = np.array([<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>])
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)

<span class="comment"># توابع ریاضی اساسی</span>
<span class="function">print</span>(<span class="string">f"جذر: {np.sqrt(arr)}"</span>)
<span class="function">print</span>(<span class="string">f"لگاریتم طبیعی: {np.log(arr)}"</span>)
<span class="function">print</span>(<span class="string">f"لگاریتم پایه 10: {np.log10(arr)}"</span>)
<span class="function">print</span>(<span class="string">f"نمایی: {np.exp(np.array([1, 2, 3]))}"</span>)

<span class="comment"># توابع مثلثاتی</span>
angles = np.array([<span class="number">0</span>, np.pi/<span class="number">6</span>, np.pi/<span class="number">4</span>, np.pi/<span class="number">3</span>, np.pi/<span class="number">2</span>])
<span class="function">print</span>(<span class="string">f"\nزاویه‌ها (رادیان): {angles}"</span>)
<span class="function">print</span>(<span class="string">f"سینوس: {np.sin(angles)}"</span>)
<span class="function">print</span>(<span class="string">f"کسینوس: {np.cos(angles)}"</span>)
<span class="function">print</span>(<span class="string">f"تانژانت: {np.tan(angles)}"</span>)

<span class="comment"># تبدیل درجه به رادیان</span>
degrees = np.array([<span class="number">0</span>, <span class="number">30</span>, <span class="number">45</span>, <span class="number">60</span>, <span class="number">90</span>])
radians = np.deg2rad(degrees)
<span class="function">print</span>(<span class="string">f"\nدرجه‌ها: {degrees}"</span>)
<span class="function">print</span>(<span class="string">f"رادیان‌ها: {radians}"</span>)

<span class="comment"># توابع گرد کردن</span>
float_arr = np.array([<span class="number">1.2</span>, <span class="number">2.7</span>, <span class="number">3.1</span>, <span class="number">4.9</span>])
<span class="function">print</span>(<span class="string">f"\nاعداد اعشاری: {float_arr}"</span>)
<span class="function">print</span>(<span class="string">f"گرد کردن: {np.round(float_arr)}"</span>)
<span class="function">print</span>(<span class="string">f"کف: {np.floor(float_arr)}"</span>)
<span class="function">print</span>(<span class="string">f"سقف: {np.ceil(float_arr)}"</span>)
                    </div>

                    <h3>📊 توابع آماری:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
data = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, <span class="number">20</span>)
<span class="function">print</span>(<span class="string">f"داده: {data}"</span>)

<span class="comment"># آمار اساسی</span>
<span class="function">print</span>(<span class="string">f"\nحداقل: {np.min(data)}"</span>)
<span class="function">print</span>(<span class="string">f"حداکثر: {np.max(data)}"</span>)
<span class="function">print</span>(<span class="string">f"میانگین: {np.mean(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"میانه: {np.median(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"انحراف معیار: {np.std(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"واریانس: {np.var(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"مجموع: {np.sum(data)}"</span>)
<span class="function">print</span>(<span class="string">f"حاصل‌ضرب: {np.prod(data[:5])}"</span>)  <span class="comment"># فقط 5 تا اول</span>

<span class="comment"># چندک‌ها</span>
percentiles = [<span class="number">25</span>, <span class="number">50</span>, <span class="number">75</span>, <span class="number">90</span>]
<span class="function">print</span>(<span class="string">f"\nچندک‌ها: {np.percentile(data, percentiles)}"</span>)

<span class="comment"># آرایه 2 بعدی</span>
matrix = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">3</span>, <span class="number">4</span>))
<span class="function">print</span>(<span class="string">f"\nماتریس:\n{matrix}"</span>)

<span class="comment"># آمار بر اساس محور</span>
<span class="function">print</span>(<span class="string">f"مجموع کل: {np.sum(matrix)}"</span>)
<span class="function">print</span>(<span class="string">f"مجموع ستون‌ها: {np.sum(matrix, axis=0)}"</span>)
<span class="function">print</span>(<span class="string">f"مجموع سطرها: {np.sum(matrix, axis=1)}"</span>)
<span class="function">print</span>(<span class="string">f"میانگین ستون‌ها: {np.mean(matrix, axis=0)}"</span>)
                    </div>

                    <h3>🔄 مقایسه و منطق:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه‌های نمونه</span>
a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])
b = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>])
<span class="function">print</span>(<span class="string">f"a: {a}"</span>)
<span class="function">print</span>(<span class="string">f"b: {b}"</span>)

<span class="comment"># مقایسه‌ها</span>
<span class="function">print</span>(<span class="string">f"\nمساوی: {a == b}"</span>)
<span class="function">print</span>(<span class="string">f"بزرگتر: {a > b}"</span>)
<span class="function">print</span>(<span class="string">f"کوچکتر مساوی: {a <= b}"</span>)

<span class="comment"># عملیات منطقی</span>
<span class="function">print</span>(<span class="string">f"و منطقی: {(a > 2) & (b < 5)}"</span>)
<span class="function">print</span>(<span class="string">f"یا منطقی: {(a > 4) | (b < 2)}"</span>)
<span class="function">print</span>(<span class="string">f"نقیض: {~(a > 3)}"</span>)

<span class="comment"># توابع منطقی</span>
<span class="function">print</span>(<span class="string">f"\nآیا همه مثبت؟ {np.all(a > 0)}"</span>)
<span class="function">print</span>(<span class="string">f"آیا حداقل یکی بزرگتر از 4؟ {np.any(a > 4)}"</span>)

<span class="comment"># پیدا کردن عناصر غیرصفر</span>
arr_with_zeros = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">5</span>])
nonzero_indices = np.nonzero(arr_with_zeros)
<span class="function">print</span>(<span class="string">f"ایندکس‌های غیرصفر: {nonzero_indices[0]}"</span>)
<span class="function">print</span>(<span class="string">f"مقادیر غیرصفر: {arr_with_zeros[nonzero_indices]}"</span>)
                    </div>

                    <div class="math-formula">
                        <strong>Universal Functions (ufuncs):</strong><br>
                        توابعی که روی تمام عناصر آرایه به صورت element-wise عمل می‌کنند
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">np.add()</div>
                            <div class="method-desc">جمع عناصر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.sqrt()</div>
                            <div class="method-desc">جذر گیری</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.mean()</div>
                            <div class="method-desc">میانگین</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.all()</div>
                            <div class="method-desc">بررسی همه</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">⚡ نکته عملکرد:</div>
                        استفاده از توابع NumPy به جای حلقه‌های Python تا 100 برابر سریع‌تر است!
                    </div>
                </div>
            </div>

            <!-- اسلاید 6: Broadcasting -->
            <div class="slide" id="slide6">
                <div class="slide-number">6/13</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">📡</div>
                <div class="slide-title">Broadcasting: عملیات روی آرایه‌های مختلف الشکل</div>
                <div class="slide-content">
                    <h3>🤔 Broadcasting چیست؟</h3>
                    <p>Broadcasting قابلیتی است که به NumPy اجازه می‌دهد عملیات ریاضی را روی آرایه‌های با شکل‌های متفاوت انجام دهد.</p>

                    <div class="broadcasting-demo">
                        <div class="broadcast-item">
                            <strong>آرایه A</strong><br>
                            شکل: (3, 1)<br>
                            [[1]<br> [2]<br> [3]]
                        </div>
                        <div class="broadcast-item">
                            <strong>+</strong><br>
                            <strong>آرایه B</strong><br>
                            شکل: (3,)<br>
                            [10, 20, 30]
                        </div>
                        <div class="broadcast-item">
                            <strong>=</strong><br>
                            <strong>نتیجه</strong><br>
                            شکل: (3, 3)<br>
                            [[11, 21, 31]<br> [12, 22, 32]<br> [13, 23, 33]]
                        </div>
                    </div>

                    <h3>📏 قوانین Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># مثال 1: اسکالر با آرایه</span>
arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
scalar = <span class="number">10</span>
result = arr + scalar
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)
<span class="function">print</span>(<span class="string">f"اسکالر: {scalar}"</span>)
<span class="function">print</span>(<span class="string">f"نتیجه: {result}"</span>)

<span class="comment"># مثال 2: آرایه 1D با آرایه 2D</span>
arr_1d = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])
arr_2d = np.array([[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>], [<span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>]])

<span class="function">print</span>(<span class="string">f"\nآرایه 1D شکل {arr_1d.shape}: {arr_1d}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه 2D شکل {arr_2d.shape}:\n{arr_2d}"</span>)

result = arr_2d + arr_1d
<span class="function">print</span>(<span class="string">f"نتیجه جمع:\n{result}"</span>)

<span class="comment"># مثال 3: Broadcasting با reshape</span>
a = np.arange(<span class="number">3</span>).reshape(<span class="number">3</span>, <span class="number">1</span>)  <span class="comment"># شکل (3, 1)</span>
b = np.arange(<span class="number">3</span>)                    <span class="comment"># شکل (3,)</span>

<span class="function">print</span>(<span class="string">f"\nآرایه a شکل {a.shape}:\n{a}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه b شکل {b.shape}: {b}"</span>)

result = a + b
<span class="function">print</span>(<span class="string">f"نتیجه broadcasting:\n{result}"</span>)
                    </div>

                    <h3>✅ مثال‌های معتبر Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># مثال 1: (4, 1) + (3,) = (4, 3)</span>
a = np.arange(<span class="number">4</span>).reshape(<span class="number">4</span>, <span class="number">1</span>)
b = np.arange(<span class="number">3</span>)
<span class="function">print</span>(<span class="string">f"a شکل {a.shape}:\n{a}"</span>)
<span class="function">print</span>(من جلسه هفتم دوره علم داده با پایتون را برای شما تولید می‌کنم:

```html
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جلسه هفتم: NumPy و محاسبات عددی پیشرفته</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .presentation-container {
            width: 95%;
            max-width: 1200px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        .slide {
            display: none;
            padding: 40px;
            min-height: 600px;
            position: relative;
            animation: slideIn 0.5s ease-in-out;
        }

        .slide.active {
            display: block;
        }

        .slide.expanded {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1000;
            background: white;
            overflow-y: auto;
            border-radius: 0;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .slide-number {
            position: absolute;
            top: 20px;
            left: 20px;
            background: #4f46e5;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }

        .expand-btn, .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #059669;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .close-btn {
            background: #dc2626;
            right: 80px;
            display: none;
        }

        .slide.expanded .close-btn {
            display: block;
        }

        .expand-btn:hover, .close-btn:hover {
            transform: scale(1.05);
        }

        .icon {
            font-size: 48px;
            text-align: center;
            margin-bottom: 20px;
        }

        .slide-title {
            font-size: 32px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 30px;
            color: #1f2937;
            line-height: 1.2;
        }

        .slide-content {
            font-size: 16px;
            line-height: 1.6;
            color: #374151;
        }

        .slide-content h3 {
            color: #4f46e5;
            font-size: 24px;
            margin: 30px 0 15px 0;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }

        .code-block {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            color: #e2e8f0;
            padding: 0;
            margin: 20px 0;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 
                0 10px 25px -5px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.05);
        }
        
        .code-block-header {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            padding: 12px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .code-block-language {
            color: #94a3b8;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .code-block-content {
            display: flex;
            position: relative;
        }
        
        .line-numbers {
            background: rgba(0, 0, 0, 0.3);
            color: #64748b;
            padding: 20px 12px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            text-align: right;
            user-select: none;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            min-width: 40px;
        }
        
        .code-block pre {
            margin: 0;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            color: #e2e8f0;
            overflow-x: auto;
            flex: 1;
        }
        
        .copy-btn {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .copy-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }
        
        .copy-btn:hover::before {
            left: 100%;
        }
        
        .copy-btn:hover {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .copy-btn.copied {
            background: linear-gradient(135deg, #10b981, #059669);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .copy-btn.copied::before {
            display: none;
        }
        
        /* Enhanced Syntax Highlighting */
        .keyword { 
            color: #f472b6; 
            font-weight: 600;
        }
        
        .string { 
            color: #86efac; 
            font-weight: 500;
        }
        
        .comment { 
            color: #64748b; 
            font-style: italic;
            opacity: 0.8;
        }
        
        .number { 
            color: #fbbf24; 
            font-weight: 600;
        }
        
        .function { 
            color: #60a5fa; 
            font-weight: 600;
        }
        
        .operator {
            color: #a78bfa;
            font-weight: 600;
        }
        
        .variable {
            color: #f97316;
            font-weight: 500;
        }
        
        .boolean {
            color: #ef4444;
            font-weight: 600;
        }
        
        .none {
            color: #8b5cf6;
            font-weight: 600;
        }
        
        .method {
            color: #06b6d4;
            font-weight: 600;
        }
        
        .class {
            color: #ec4899;
            font-weight: 600;
        }
        
        .decorator {
            color: #14b8a6;
            font-weight: 600;
        }
        
        /* Code block hover effects */
        .code-block:hover {
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 
                0 15px 35px -5px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(59, 130, 246, 0.2);
        }
        
        .code-block:hover .copy-btn {
            transform: translateY(-2px);
        }
        
        /* Line highlighting */
        .code-block pre::selection {
            background: rgba(59, 130, 246, 0.3);
        }
        
        /* Scrollbar styling */
        .code-block pre::-webkit-scrollbar {
            height: 8px;
        }
        
        .code-block pre::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }
        
        .code-block pre::-webkit-scrollbar-thumb {
            background: rgba(59, 130, 246, 0.5);
            border-radius: 4px;
        }
        
        .code-block pre::-webkit-scrollbar-thumb:hover {
            background: rgba(59, 130, 246, 0.7);
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .high-contrast-mode .content-card,
            .high-contrast-mode .slide,
            .high-contrast-mode .method-card,
            .high-contrast-mode .highlight-box,
            .high-contrast-mode .gradient-box {
                border: 2px solid white;
                background: rgba(0, 0, 0, 0.9);
                color: white;
            }
            
            .high-contrast-mode .nav-btn,
            .high-contrast-mode .copy-btn,
            .high-contrast-mode button {
                border: 2px solid white;
                background: black;
                color: white;
            }
            
            .high-contrast-mode .nav-btn:hover,
            .high-contrast-mode .copy-btn:hover,
            .high-contrast-mode button:hover {
                background: white;
                color: black;
            }
            
            .high-contrast-mode .code-block {
                border: 2px solid white;
                background: black;
                color: white;
            }
            
            .high-contrast-mode .code-block pre {
                background: transparent;
                color: white;
            }
            
            .high-contrast-mode .line-numbers {
                border-right: 2px solid white;
                color: white;
            }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            .reduced-motion *,
            .reduced-motion *::before,
            .reduced-motion *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
            
            .reduced-motion .slide {
                animation: none;
            }
            
            .reduced-motion .content-card:hover,
            .reduced-motion .method-card:hover,
            .reduced-motion .highlight-box:hover,
            .reduced-motion .gradient-box:hover {
                transform: none;
            }
            
            .reduced-motion .nav-btn::after,
            .reduced-motion button::after {
                transition: none;
            }
        }
        
        /* Focus indicators for better keyboard navigation */
        *:focus {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        *:focus:not(:focus-visible) {
            outline: none;
        }
        
        *:focus-visible {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        /* Enhanced keyboard navigation styles */
        .keyboard-focus {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        /* Skip link styles */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #1f2937;
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 0 0 8px 0;
            z-index: 10000;
            transition: top 0.3s ease;
        }
        
        .skip-link:focus {
            top: 0;
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        /* Screen reader only content */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Loading states for better user feedback */
        .loading-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 8px;
            color: #3b82f6;
        }
        
        .loading-indicator .loading {
            width: 16px;
            height: 16px;
            border-width: 2px;
        }
        
        /* Error states */
        .error-message {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
            padding: 12px 16px;
            border-radius: 8px;
            margin: 16px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .error-message::before {
            content: '⚠️';
            font-size: 18px;
        }
        
        /* Enhanced interactive elements and micro-interactions */
        
        /* Button micro-interactions */
        .nav-btn, .copy-btn, button {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateZ(0);
        }
        
        .nav-btn::before, .copy-btn::before, button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }
        
        .nav-btn:hover::before, .copy-btn:hover::before, button:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .nav-btn:hover, .copy-btn:hover, button:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
        }
        
        .nav-btn:active, .copy-btn:active, button:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 0 5px 15px -3px rgba(0, 0, 0, 0.2);
        }
        
        /* Enhanced card hover effects */
        .content-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .content-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(139, 92, 246, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
        }
        
        .content-card:hover {
            transform: translateY(-5px) scale(1.02) rotateX(2deg);
            box-shadow: 
                0 30px 60px -15px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.3);
        }
        
        .content-card:hover::after {
            opacity: 1;
        }
        
        /* Method card enhanced interactions */
        .method-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .method-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }
        
        .method-card:hover::before {
            left: 100%;
        }
        
        .method-card:hover {
            transform: translateY(-5px) scale(1.05) rotateY(5deg);
            box-shadow: 0 15px 35px -5px rgba(0, 0, 0, 0.3);
        }
        
        /* Interactive link effects */
        a {
            position: relative;
            color: #60a5fa;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            right: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #60a5fa, #8b5cf6);
            transition: width 0.3s ease;
        }
        
        a:hover {
            color: #8b5cf6;
        }
        
        a:hover::after {
            width: 100%;
        }
        
        /* Interactive list items */
        li {
            position: relative;
            transition: all 0.3s ease;
            padding-right: 0.5rem;
        }
        
        li::before {
            content: '';
            position: absolute;
            right: -1rem;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            background: #8b5cf6;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        li:hover {
            transform: translateX(5px);
            color: #e2e8f0;
        }
        
        li:hover::before {
            width: 8px;
            height: 8px;
            right: -1.5rem;
        }
        
        /* Interactive code blocks */
        .code-block {
            transition: all 0.3s ease;
            position: relative;
        }
        
        .code-block:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px -5px rgba(0, 0, 0, 0.2);
            border-color: rgba(59, 130, 246, 0.3);
        }
        
        .copy-btn {
            transition: all 0.3s ease;
        }
        
        .copy-btn:hover {
            background: rgba(59, 130, 246, 0.8);
            transform: scale(1.1);
        }
        
        .copy-btn:active {
            transform: scale(0.95);
        }
        
        /* Interactive table rows */
        tr {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        tr:hover {
            background: rgba(139, 92, 246, 0.1);
            transform: scale(1.01);
        }
        
        tr:active {
            transform: scale(0.99);
        }
        
        /* Pulse animation for important elements */
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.05);
                opacity: 0.8;
            }
        }
        
        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        
        /* Glow effect for important elements */
        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 5px rgba(139, 92, 246, 0.5);
            }
            50% {
                box-shadow: 0 0 20px rgba(139, 92, 246, 0.8), 0 0 30px rgba(139, 92, 246, 0.4);
            }
        }
        
        .glow {
            animation: glow 2s ease-in-out infinite;
        }
        
        /* Interactive navigation dots */
        .nav-btn {
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            background: rgba(139, 92, 246, 0.8);
            transform: scale(1.2);
        }
        
        .nav-btn.active {
            background: #8b5cf6;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.6);
        }
        
        /* Interactive progress bar */
        .progress-bar {
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .progress-bar:hover {
            filter: brightness(1.2);
        }
        
        /* Interactive sidebar */
        .sidebar {
            transition: all 0.3s ease;
        }
        
        .sidebar:hover {
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.3);
        }
        
        /* Micro-interaction for text selection */
        ::selection {
            background: rgba(139, 92, 246, 0.3);
            color: white;
        }
        
        /* Interactive scroll indicator */
        .scroll-indicator {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #8b5cf6, #3b82f6);
            transform-origin: left;
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        /* Interactive tooltips */
        .tooltip {
            position: relative;
            cursor: help;
        }
        
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(30, 41, 59, 0.95);
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.875rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tooltip:hover::after {
            opacity: 1;
        }
        
        /* Interactive badges */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .badge:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 5px 15px -3px rgba(0, 0, 0, 0.2);
        }
        
        .badge-primary {
            background: rgba(139, 92, 246, 0.2);
            color: #a78bfa;
            border: 1px solid rgba(139, 92, 246, 0.3);
        }
        
        .badge-secondary {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .badge-success {
            background: rgba(16, 185, 129, 0.2);
            color: #34d399;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .badge-warning {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }
        
        .badge-error {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .method-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .method-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
        }

        .method-card:hover {
            transform: translateY(-5px);
        }

        .method-name {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .method-desc {
            font-size: 14px;
            opacity: 0.9;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 40px;
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
        }

        .nav-btn {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #4338ca;
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .slide-counter {
            font-weight: bold;
            color: #64748b;
        }

        .progress-container {
            width: 100%;
            height: 4px;
            background: #e2e8f0;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            transition: width 0.3s ease;
        }

        .tip-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left: 4px solid #f59e0b;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .tip-title {
            font-weight: bold;
            color: #92400e;
            margin-bottom: 10px;
        }

        .warning-box {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border-left: 4px solid #ef4444;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .warning-title {
            font-weight: bold;
            color: #dc2626;
            margin-bottom: 10px;
        }

        .info-box {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-left: 4px solid #3b82f6;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .info-title {
            font-weight: bold;
            color: #1d4ed8;
            margin-bottom: 10px;
        }

        .example-box {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-left: 4px solid #10b981;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .example-title {
            font-weight: bold;
            color: #047857;
            margin-bottom: 10px;
        }

        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .performance-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .performance-number {
            font-size: 24px;
            font-weight: bold;
            color: #4f46e5;
            margin-bottom: 10px;
        }

        .performance-label {
            color: #64748b;
            font-size: 14px;
        }

        .array-visual {
            background: #f1f5f9;
            border: 2px dashed #94a3b8;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            font-family: monospace;
        }

        .operation-demo {
            display: flex;
            align-items: center;
            justify-content: space-around;
            margin: 20px 0;
            padding: 20px;
            background: #f8fafc;
            border-radius: 10px;
        }

        .array-box {
            background: white;
            border: 2px solid #4f46e5;
            border-radius: 8px;
            padding: 10px;
            margin: 5px;
            font-family: monospace;
        }

        .operator {
            font-size: 24px;
            font-weight: bold;
            color: #4f46e5;
        }

        .learning-objectives {
            background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .objectives-title {
            font-size: 20px;
            font-weight: bold;
            color: #7c2d12;
            margin-bottom: 15px;
            text-align: center;
        }

        .objectives-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .objective-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #8b5cf6;
        }

        .numpy-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .feature-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .feature-title {
            font-weight: bold;
            margin-bottom: 8px;
        }

        .feature-desc {
            font-size: 14px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="slides-container">
            <!-- اسلاید 1: معرفی -->
            <div class="slide active" id="slide1">
                <div class="slide-number">1/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🔢</div>
                <div class="slide-title">جلسه هفتم: NumPy و محاسبات عددی پیشرفته</div>
                <div class="slide-content">
                    <div class="learning-objectives">
                        <div class="objectives-title">🎯 اهداف یادگیری این جلسه</div>
                        <div class="objectives-list">
                            <div class="objective-item">
                                <strong>🔢 آشنایی با NumPy</strong>
                                <p>درک مفاهیم پایه و کاربردهای NumPy در علم داده</p>
                            </div>
                            <div class="objective-item">
                                <strong>📊 آرایه‌های چندبعدی</strong>
                                <p>ایجاد، دستکاری و کار با آرایه‌های N-بعدی</p>
                            </div>
                            <div class="objective-item">
                                <strong>⚡ محاسبات سریع</strong>
                                <p>استفاده از vectorization برای بهبود عملکرد</p>
                            </div>
                            <div class="objective-item">
                                <strong>🧮 عملیات ریاضی</strong>
                                <p>انجام محاسبات پیشرفته و تابع‌های ریاضی</p>
                            </div>
                            <div class="objective-item">
                                <strong>📈 تحلیل آماری</strong>
                                <p>محاسبه آمار و تحلیل داده‌های عددی</p>
                            </div>
                            <div class="objective-item">
                                <strong>🔄 Broadcasting</strong>
                                <p>درک و استفاده از قابلیت broadcasting</p>
                            </div>
                        </div>
                    </div>

                    <div class="numpy-features">
                        <div class="feature-card">
                            <div class="feature-icon">⚡</div>
                            <div class="feature-title">سرعت بالا</div>
                            <div class="feature-desc">تا 100 برابر سریع‌تر از لیست‌های پایتون</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🧮</div>
                            <div class="feature-title">محاسبات پیشرفته</div>
                            <div class="feature-desc">تابع‌های ریاضی و آماری گسترده</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🔗</div>
                            <div class="feature-title">یکپارچگی</div>
                            <div class="feature-desc">سازگاری کامل با Pandas و Matplotlib</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">💾</div>
                            <div class="feature-title">مدیریت حافظه</div>
                            <div class="feature-desc">استفاده بهینه از حافظه سیستم</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <div class="info-title">💡 چرا NumPy مهم است؟</div>
                        <ul>
                            <li><strong>پایه علم داده:</strong> اساس کتابخانه‌های Pandas, Scikit-learn, Matplotlib</li>
                            <li><strong>عملکرد بالا:</strong> پیاده‌سازی در C برای سرعت بیشتر</li>
                            <li><strong>استاندارد صنعت:</strong> استفاده گسترده در تحقیقات و صنعت</li>
                            <li><strong>انعطاف‌پذیری:</strong> پشتیبانی از انواع داده و ابعاد مختلف</li>
                        </ul>
                    </div>

                    <div class="example-box">
                        <div class="example-title">📋 برنامه جلسه امروز</div>
                        <ol>
                            <li>نصب و import کردن NumPy</li>
                            <li>ایجاد و دستکاری آرایه‌ها</li>
                            <li>عملیات ریاضی و آماری</li>
                            <li>Indexing و Slicing پیشرفته</li>
                            <li>Broadcasting و Vectorization</li>
                            <li>کاربردهای عملی در علم داده</li>
                        </ol>
                    </div>
                </div>
            </div>

            <!-- اسلاید 2: نصب و مقدمات -->
            <div class="slide" id="slide2">
                <div class="slide-number">2/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">⚙️</div>
                <div class="slide-title">نصب و مقدمات NumPy</div>
                <div class="slide-content">
                    <h3>📦 نصب NumPy:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># نصب NumPy</span>
<span class="comment"># در terminal یا command prompt:</span>
pip install numpy

<span class="comment"># یا با conda:</span>
conda install numpy

<span class="comment"># بررسی نسخه نصب شده</span>
pip show numpy
                    </div>

                    <h3>📚 Import کردن NumPy:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># Import استاندارد NumPy</span>
<span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="comment"># بررسی نسخه</span>
<span class="function">print</span>(<span class="string">f"نسخه NumPy: {np.__version__}"</span>)

<span class="comment"># اطلاعات سیستم</span>
<span class="function">print</span>(<span class="string">f"پیکربندی NumPy:"</span>)
np.show_config()
                    </div>

                    <h3>🔍 مقایسه لیست پایتون و NumPy Array:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="keyword">import</span> time

<span class="comment"># ایجاد لیست بزرگ</span>
python_list = list(range(<span class="number">1000000</span>))
numpy_array = np.arange(<span class="number">1000000</span>)

<span class="function">print</span>(<span class="string">f"اندازه لیست پایتون: {len(python_list):,} عنصر"</span>)
<span class="function">print</span>(<span class="string">f"اندازه NumPy Array: {numpy_array.size:,} عنصر"</span>)

<span class="comment"># مقایسه حافظه مصرفی</span>
<span class="keyword">import</span> sys
python_size = sys.getsizeof(python_list)
numpy_size = numpy_array.nbytes

<span class="function">print</span>(<span class="string">f"حافظه لیست پایتون: {python_size:,} بایت"</span>)
<span class="function">print</span>(<span class="string">f"حافظه NumPy Array: {numpy_size:,} بایت"</span>)
<span class="function">print</span>(<span class="string">f"صرفه‌جویی حافظه: {python_size/numpy_size:.1f} برابر"</span>)

<span class="comment"># مقایسه سرعت - جمع کردن عناصر</span>
<span class="comment"># روش پایتون</span>
start_time = time.time()
python_sum = sum(python_list)
python_time = time.time() - start_time

<span class="comment"># روش NumPy</span>
start_time = time.time()
numpy_sum = np.sum(numpy_array)
numpy_time = time.time() - start_time

<span class="function">print</span>(<span class="string">f"\nزمان محاسبه با لیست پایتون: {python_time:.4f} ثانیه"</span>)
<span class="function">print</span>(<span class="string">f"زمان محاسبه با NumPy: {numpy_time:.4f} ثانیه"</span>)
<span class="function">print</span>(<span class="string">f"NumPy سریع‌تر است: {python_time/numpy_time:.1f} برابر"</span>)
                    </div>

                    <h3>🎯 مفاهیم کلیدی NumPy:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># ایجاد آرایه ساده</span>
arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)
<span class="function">print</span>(<span class="string">f"نوع داده: {type(arr)}"</span>)
<span class="function">print</span>(<span class="string">f"شکل آرایه: {arr.shape}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد ابعاد: {arr.ndim}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد عناصر: {arr.size}"</span>)
<span class="function">print</span>(<span class="string">f"نوع داده عناصر: {arr.dtype}"</span>)

<span class="comment"># آرایه دوبعدی</span>
matrix = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])
<span class="function">print</span>(<span class="string">f"\nماتریس:\n{matrix}"</span>)
<span class="function">print</span>(<span class="string">f"شکل ماتریس: {matrix.shape}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد ابعاد: {matrix.ndim}"</span>)

<span class="comment"># آرایه سه‌بعدی</span>
tensor = np.array([[[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]], [[<span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>]]])
<span class="function">print</span>(<span class="string">f"\nتنسور:\n{tensor}"</span>)
<span class="function">print</span>(<span class="string">f"شکل تنسور: {tensor.shape}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد ابعاد: {tensor.ndim}"</span>)
                    </div>

                    <div class="performance-grid">
                        <div class="performance-card">
                            <div class="performance-number">100x</div>
                            <div class="performance-label">سریع‌تر از لیست پایتون</div>
                        </div>
                        <div class="performance-card">
                            <div class="performance-number">50%</div>
                            <div class="performance-label">کمتر حافظه مصرف می‌کند</div>
                        </div>
                        <div class="performance-card">
                            <div class="performance-number">C/C++</div>
                            <div class="performance-label">پیاده‌سازی در زبان‌های سریع</div>
                        </div>
                        <div class="performance-card">
                            <div class="performance-number">N-D</div>
                            <div class="performance-label">پشتیبانی از آرایه‌های چندبعدی</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکات مهم:</div>
                        <ul>
                            <li>همیشه NumPy را با نام مستعار <code>np</code> import کنید</li>
                            <li>آرایه‌های NumPy همگن هستند (تمام عناصر از یک نوع)</li>
                            <li>اندازه آرایه‌ها بعد از ایجاد ثابت است</li>
                            <li>NumPy از indexing صفر استفاده می‌کند</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 3: ایجاد آرایه‌ها -->
            <div class="slide" id="slide3">
                <div class="slide-number">3/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🏗️</div>
                <div class="slide-title">ایجاد آرایه‌ها در NumPy</div>
                <div class="slide-content">
                    <h3>📝 ایجاد آرایه از لیست:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># از لیست یک‌بعدی</span>
arr1d = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])
<span class="function">print</span>(<span class="string">f"آرایه یک‌بعدی: {arr1d}"</span>)

<span class="comment"># از لیست دوبعدی</span>
arr2d = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])
<span class="function">print</span>(<span class="string">f"آرایه دوبعدی:\n{arr2d}"</span>)

<span class="comment"># تعیین نوع داده</span>
arr_int = np.array([<span class="number">1.5</span>, <span class="number">2.7</span>, <span class="number">3.9</span>], dtype=int)
arr_float = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=float)
arr_complex = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=complex)

<span class="function">print</span>(<span class="string">f"آرایه صحیح: {arr_int}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه اعشاری: {arr_float}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه مختلط: {arr_complex}"</span>)

<span class="comment"># آرایه از رشته</span>
arr_str = np.array([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])
<span class="function">print</span>(<span class="string">f"آرایه رشته‌ای: {arr_str}"</span>)
                    </div>

                    <h3>🔢 ایجاد آرایه با تابع‌های خاص:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه صفر</span>
zeros = np.zeros((<span class="number">3</span>, <span class="number">4</span>))
<span class="function">print</span>(<span class="string">f"آرایه صفر:\n{zeros}"</span>)

<span class="comment"># آرایه یک</span>
ones = np.ones((<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>))
<span class="function">print</span>(<span class="string">f"آرایه یک (شکل: {ones.shape}):\n{ones}"</span>)

<span class="comment"># آرایه خالی (مقادیر تصادفی)</span>
empty = np.empty((<span class="number">2</span>, <span class="number">2</span>))
<span class="function">print</span>(<span class="string">f"آرایه خالی:\n{empty}"</span>)

<span class="comment"># آرایه با مقدار مشخص</span>
full = np.full((<span class="number">3</span>, <span class="number">3</span>), <span class="number">7</span>)
<span class="function">print</span>(<span class="string">f"آرایه پر شده با 7:\n{full}"</span>)

<span class="comment"># ماتریس واحد</span>
identity = np.eye(<span class="number">4</span>)
<span class="function">print</span>(<span class="string">f"ماتریس واحد:\n{identity}"</span>)

<span class="comment"># ماتریس قطری</span>
diagonal = np.diag([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
<span class="function">print</span>(<span class="string">f"ماتریس قطری:\n{diagonal}"</span>)
                    </div>

                    <h3>📊 ایجاد دنباله‌های عددی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># دنباله با گام مشخص</span>
arange1 = np.arange(<span class="number">10</span>)  <span class="comment"># 0 تا 9</span>
arange2 = np.arange(<span class="number">2</span>, <span class="number">10</span>)  <span class="comment"># 2 تا 9</span>
arange3 = np.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">2</span>)  <span class="comment"># 0 تا 8 با گام 2</span>
arange4 = np.arange(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0.1</span>)  <span class="comment"># اعشاری</span>

<span class="function">print</span>(<span class="string">f"arange(10): {arange1}"</span>)
<span class="function">print</span>(<span class="string">f"arange(2, 10): {arange2}"</span>)
<span class="function">print</span>(<span class="string">f"arange(0, 10, 2): {arange3}"</span>)
<span class="function">print</span>(<span class="string">f"arange(0, 1, 0.1): {arange4}"</span>)

<span class="comment"># تقسیم فاصله به قسمت‌های مساوی</span>
linspace1 = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">5</span>)  <span class="comment"># 5 نقطه بین 0 و 10</span>
linspace2 = np.linspace(<span class="number">0</span>, <span class="number">2</span>*np.pi, <span class="number">100</span>)  <span class="comment"># برای رسم نمودار</span>

<span class="function">print</span>(<span class="string">f"linspace(0, 10, 5): {linspace1}"</span>)
<span class="function">print</span>(<span class="string">f"linspace برای sin: {len(linspace2)} نقطه"</span>)

<span class="comment"># تقسیم لگاریتمی</span>
logspace = np.logspace(<span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>)  <span class="comment"># 10^0 تا 10^2</span>
<span class="function">print</span>(<span class="string">f"logspace(0, 2, 5): {logspace}"</span>)

<span class="comment"># دنباله هندسی</span>
geomspace = np.geomspace(<span class="number">1</span>, <span class="number">1000</span>, <span class="number">4</span>)
<span class="function">print</span>(<span class="string">f"geomspace(1, 1000, 4): {geomspace}"</span>)
                    </div>

                    <h3>🎲 ایجاد آرایه‌های تصادفی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># تنظیم seed برای تکرارپذیری</span>
np.random.seed(<span class="number">42</span>)

<span class="comment"># اعداد تصادفی بین 0 و 1</span>
random1 = np.random.random((<span class="number">2</span>, <span class="number">3</span>))
<span class="function">print</span>(<span class="string">f"اعداد تصادفی [0,1):\n{random1}"</span>)

<span class="comment"># اعداد تصادفی در بازه مشخص</span>
random2 = np.random.uniform(<span class="number">10</span>, <span class="number">20</span>, (<span class="number">3</span>, <span class="number">3</span>))
<span class="function">print</span>(<span class="string">f"اعداد تصادفی [10,20):\n{random2}"</span>)

<span class="comment"># اعداد صحیح تصادفی</span>
random_int = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">2</span>, <span class="number">4</span>))
<span class="function">print</span>(<span class="string">f"اعداد صحیح تصادفی [1,100):\n{random_int}"</span>)

<span class="comment"># توزیع نرمال</span>
normal = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (<span class="number">3</span>, <span class="number">3</span>))  <span class="comment"># میانگین=0, انحراف=1</span>
<span class="function">print</span>(<span class="string">f"توزیع نرمال:\n{normal}"</span>)

<span class="comment"># انتخاب تصادفی</span>
choices = np.random.choice([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>], (<span class="number">2</span>, <span class="number">3</span>))
<span class="function">print</span>(<span class="string">f"انتخاب تصادفی:\n{choices}"</span>)

<span class="comment"># بردار تصادفی با احتمال مشخص</span>
weighted_choice = np.random.choice([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], size=<span class="number">10</span>, p=[<span class="number">0.1</span>, <span class="number">0.3</span>, <span class="number">0.6</span>])
<span class="function">print</span>(<span class="string">f"انتخاب با وزن: {weighted_choice}"</span>)
                    </div>

                    <div class="array-visual">
                        <strong>مثال بصری ایجاد آرایه:</strong><br>
                        np.array([[1, 2, 3], [4, 5, 6]]) → 
                        <div style="margin: 10px 0;">
                        ┌─────────┐<br>
                        │ 1  2  3 │<br>
                        │ 4  5  6 │<br>
                        └─────────┘<br>
                        شکل: (2, 3)
                        </div>
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">np.array()</div>
                            <div class="method-desc">ایجاد از لیست</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.zeros()</div>
                            <div class="method-desc">آرایه صفر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.ones()</div>
                            <div class="method-desc">آرایه یک</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.arange()</div>
                            <div class="method-desc">دنباله عددی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.linspace()</div>
                            <div class="method-desc">تقسیم مساوی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.random</div>
                            <div class="method-desc">اعداد تصادفی</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- اسلاید 4: خصوصیات و اطلاعات آرایه -->
            <div class="slide" id="slide4">
                <div class="slide-number">4/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🔍</div>
                <div class="slide-title">خصوصیات و اطلاعات آرایه</div>
                <div class="slide-content">
                    <h3>📊 اطلاعات پایه آرایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># ایجاد آرایه نمونه</span>
arr = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>))
<span class="function">print</span>(<span class="string">f"آرایه نمونه (شکل: {arr.shape}):"</span>)
<span class="function">print</span>(arr)

<span class="function">print</span>(<span class="string">f"\n📊 اطلاعات کلی آرایه:"</span>)
<span class="function">print</span>(<span class="string">f"شکل (shape): {arr.shape}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد ابعاد (ndim): {arr.ndim}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد عناصر (size): {arr.size}"</span>)
<span class="function">print</span>(<span class="string">f"نوع داده (dtype): {arr.dtype}"</span>)
<span class="function">print</span>(<span class="string">f"اندازه هر عنصر (itemsize): {arr.itemsize} بایت"</span>)
<span class="function">print</span>(<span class="string">f"کل حافظه (nbytes): {arr.nbytes} بایت"</span>)

<span class="comment"># اطلاعات تفصیلی</span>
<span class="function">print</span>(<span class="string">f"\n🔍 اطلاعات تفصیلی:"</span>)
<span class="function">print</span>(<span class="string">f"آرایه پیوسته است: {arr.flags['C_CONTIGUOUS']}"</span>)
<span class="function">print</span>(<span class="string">f"قابل نوشتن است: {arr.flags['WRITEABLE']}"</span>)
<span class="function">print</span>(<span class="string">f"مالک داده است: {arr.flags['OWNDATA']}"</span>)
                    </div>

                    <h3>🔢 انواع داده در NumPy:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># انواع داده مختلف</span>
int8_arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=np.int8)
int32_arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=np.int32)
int64_arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=np.int64)

float32_arr = np.array([<span class="number">1.5</span>, <span class="number">2.7</span>, <span class="number">3.9</span>], dtype=np.float32)
float64_arr = np.array([<span class="number">1.5</span>, <span class="number">2.7</span>, <span class="number">3.9</span>], dtype=np.float64)

bool_arr = np.array([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>], dtype=bool)
str_arr = np.array([<span class="string">'hello'</span>, <span class="string">'world'</span>], dtype=<span class="string">'U10'</span>)

<span class="function">print</span>(<span class="string">"انواع داده و اندازه آنها:"</span>)
<span class="function">print</span>(<span class="string">f"int8: {int8_arr.dtype}, اندازه: {int8_arr.itemsize} بایت"</span>)
<span class="function">print</span>(<span class="string">f"int32: {int32_arr.dtype}, اندازه: {int32_arr.itemsize} بایت"</span>)
<span class="function">print</span>(<span class="string">f"int64: {int64_arr.dtype}, اندازه: {int64_arr.itemsize} بایت"</span>)
<span class="function">print</span>(<span class="string">f"float32: {float32_arr.dtype}, اندازه: {float32_arr.itemsize} بایت"</span>)
<span class="function">print</span>(<span class="string">f"float64: {float64_arr.dtype}, اندازه: {float64_arr.itemsize} بایت"</span>)
<span class="function">print</span>(<span class="string">f"bool: {bool_arr.dtype}, اندازه: {bool_arr.itemsize} بایت"</span>)
<span class="function">print</span>(<span class="string">f"string: {str_arr.dtype}, اندازه: {str_arr.itemsize} بایت"</span>)

<span class="comment"># تبدیل نوع داده</span>
original = np.array([<span class="number">1.7</span>, <span class="number">2.9</span>, <span class="number">3.1</span>])
<span class="function">print</span>(<span class="string">f"\nآرایه اصلی: {original} (نوع: {original.dtype})"</span>)

converted_int = original.astype(int)
converted_str = original.astype(str)
converted_bool = original.astype(bool)

<span class="function">print</span>(<span class="string">f"تبدیل به int: {converted_int}"</span>)
<span class="function">print</span>(<span class="string">f"تبدیل به str: {converted_str}"</span>)
<span class="function">print</span>(<span class="string">f"تبدیل به bool: {converted_bool}"</span>)
                    </div>

                    <h3>🔄 تغییر شکل آرایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه اولیه</span>
original = np.arange(<span class="number">12</span>)
<span class="function">print</span>(<span class="string">f"آرایه اصلی: {original}"</span>)
<span class="function">print</span>(<span class="string">f"شکل اصلی: {original.shape}"</span>)

<span class="comment"># تغییر شکل به ماتریس</span>
reshaped_2d = original.reshape(<span class="number">3</span>, <span class="number">4</span>)
<span class="function">print</span>(<span class="string">f"\nتبدیل به 3×4:\n{reshaped_2d}"</span>)

<span class="comment"># تغییر شکل به آرایه سه‌بعدی</span>
reshaped_3d = original.reshape(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)
<span class="function">print</span>(<span class="string">f"\nتبدیل به 2×2×3:\n{reshaped_3d}"</span>)

<span class="comment"># استفاده از -1 برای محاسبه خودکار</span>
auto_reshape = original.reshape(<span class="number">4</span>, -<span class="number">1</span>)  <span class="comment"># خودکار محاسبه می‌شود: 4×3</span>
<span class="function">print</span>(<span class="string">f"\nتبدیل خودکار به 4×؟:\n{auto_reshape}"</span>)

<span class="comment"># صاف کردن آرایه</span>
flattened = reshaped_3d.flatten()
<span class="function">print</span>(<span class="string">f"\nصاف شده: {flattened}"</span>)

<span class="comment"># ravel (مشابه flatten اما سریع‌تر)</span>
raveled = reshaped_3d.ravel()
<span class="function">print</span>(<span class="string">f"ravel شده: {raveled}"</span>)

<span class="comment"># اضافه کردن بعد جدید</span>
expanded = np.expand_dims(original, axis=<span class="number">0</span>)
<span class="function">print</span>(<span class="string">f"\nاضافه کردن بعد: شکل {expanded.shape}"</span>)

<span class="comment"># حذف بعدهای اضافی</span>
squeezed = np.squeeze(expanded)
<span class="function">print</span>(<span class="string">f"حذف بعد اضافی: شکل {squeezed.shape}"</span>)
                    </div>

                    <h3>🔄 عملیات بر روی شکل آرایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># ایجاد ماتریس نمونه</span>
matrix = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>, <span class="number">3</span>)
<span class="function">print</span>(<span class="string">f"ماتریس اصلی:\n{matrix}"</span>)

<span class="comment"># ترانهاده (transpose)</span>
transposed = matrix.T
<span class="function">print</span>(<span class="string">f"\nترانهاده:\n{transposed}"</span>)

<span class="comment"># یا استفاده از تابع</span>
transposed2 = np.transpose(matrix)
<span class="function">print</span>(<span class="string">f"ترانهاده با تابع:\n{transposed2}"</span>)

<span class="comment"># برای آرایه‌های چندبعدی</span>
arr_3d = np.arange(<span class="number">24</span>).reshape(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)
<span class="function">print</span>(<span class="string">f"\nآرایه سه‌بعدی (شکل: {arr_3d.shape}):"</span>)

<span class="comment"># تعویض محورها</span>
swapped = np.swapaxes(arr_3d, <span class="number">0</span>, <span class="number">2</span>)  <span class="comment"># تعویض محور 0 و 2</span>
<span class="function">print</span>(<span class="string">f"تعویض محورها: {arr_3d.shape} → {swapped.shape}"</span>)

<span class="comment"># چرخش محورها</span>
rolled = np.rollaxis(arr_3d, <span class="number">2</span>, <span class="number">0</span>)  <span class="comment"># محور 2 را به ابتدا ببر</span>
<span class="function">print</span>(<span class="string">f"چرخش محور: {arr_3d.shape} → {rolled.shape}"</span>)
                    </div>

                    <div class="operation-demo">
                        <div class="array-box">
                            [1, 2, 3, 4, 5, 6]<br>
                            شکل: (6,)
                        </div>
                        <div class="operator">reshape(2,3)</div>
                        <div class="array-box">
                            [[1, 2, 3],<br>
                             [4, 5, 6]]<br>
                            شکل: (2, 3)
                        </div>
                    </div>

                    <div class="info-box">
                        <div class="info-title">💡 نکات مهم تغییر شکل:</div>
                        <ul>
                            <li><strong>حفظ تعداد عناصر:</strong> تعداد کل عناصر باید ثابت بماند</li>
                            <li><strong>View vs Copy:</strong> reshape معمولاً view ایجاد می‌کند، flatten کپی</li>
                            <li><strong>-1 در reshape:</strong> برای محاسبه خودکار یک بعد</li>
                            <li><strong>C vs Fortran order:</strong> ترتیب ذخیره‌سازی در حافظه</li>
                        </ul>
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">.shape</div>
                            <div class="method-desc">شکل آرایه</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">.dtype</div>
                            <div class="method-desc">نوع داده</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">.reshape()</div>
                            <div class="method-desc">تغییر شکل</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">.T</div>
                            <div class="method-desc">ترانهاده</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- اسلاید 5: Indexing و Slicing -->
            <div class="slide" id="slide5">
                <div class="slide-number">5/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🎯</div>
                <div class="slide-title">Indexing و Slicing در NumPy</div>
                <div class="slide-content">
                    <h3>🎯 Indexing پایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه یک‌بعدی</span>
arr_1d = np.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>])
<span class="function">print</span>(<span class="string">f"آرایه: {arr_1d}"</span>)

<span class="comment"># دسترسی به عناصر</span>
<span class="function">print</span>(<span class="string">f"عنصر اول: {arr_1d[0]}"</span>)
<span class="function">print</span>(<span class="string">f"عنصر آخر: {arr_1d[-1]}"</span>)
<span class="function">print</span>(<span class="string">f"عنصر وسط: {arr_1d[len(arr_1d)//2]}"</span>)

<span class="comment"># تغییر مقدار</span>
arr_1d[<span class="number">0</span>] = <span class="number">100</span>
<span class="function">print</span>(<span class="string">f"بعد از تغییر: {arr_1d}"</span>)

<span class="comment"># آرایه دوبعدی</span>
arr_2d = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])
<span class="function">print</span>(<span class="string">f"\nماتریس:\n{arr_2d}"</span>)

<span class="comment"># دسترسی به عناصر ماتریس</span>
<span class="function">print</span>(<span class="string">f"عنصر [0,0]: {arr_2d[0, 0]}"</span>)
<span class="function">print</span>(<span class="string">f"عنصر [1,2]: {arr_2d[1, 2]}"</span>)
<span class="function">print</span>(<span class="string">f"عنصر [-1,-1]: {arr_2d[-1, -1]}"</span>)

<span class="comment"># دسترسی به سطر و ستون</span>
<span class="function">print</span>(<span class="string">f"سطر اول: {arr_2d[0, :]}"</span>)
<span class="function">print</span>(<span class="string">f"ستون دوم: {arr_2d[:, 1]}"</span>)

<span class="comment"># آرایه سه‌بعدی</span>
arr_3d = np.arange(<span class="number">24</span>).reshape(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)
<span class="function">print</span>(<span class="string">f"\nآرایه سه‌بعدی:\n{arr_3d}"</span>)
<span class="function">print</span>(<span class="string">f"عنصر [0,1,2]: {arr_3d[0, 1, 2]}"</span>)
                    </div>

                    <h3>✂️ Slicing پیشرفته:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
arr = np.arange(<span class="number">20</span>)
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)

<span class="comment"># slicing پایه</span>
<span class="function">print</span>(<span class="string">f"عناصر 2 تا 8: {arr[2:8]}"</span>)
<span class="function">print</span>(<span class="string">f"عناصر ابتدا تا 10: {arr[:10]}"</span>)
<span class="function">print</span>(<span class="string">f"عناصر 10 تا انتها: {arr[10:]}"</span>)
<span class="function">print</span>(<span class="string">f"همه عناصر: {arr[:]}"</span>)

<span class="comment"># slicing با گام</span>
<span class="function">print</span>(<span class="string">f"هر دو عنصر یکی: {arr[::2]}"</span>)
<span class="function">print</span>(<span class="string">f"عناصر زوج: {arr[1::2]}"</span>)
<span class="function">print</span>(<span class="string">f"معکوس: {arr[::-1]}"</span>)
<span class="function">print</span>(<span class="string">f"از 15 به عقب، هر 2 تا: {arr[15::-2]}"</span>)

<span class="comment"># slicing دوبعدی</span>
matrix = np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>, <span class="number">5</span>)
<span class="function">print</span>(<span class="string">f"\nماتریس:\n{matrix}"</span>)

<span class="comment"># انتخاب زیرماتریس</span>
<span class="function">print</span>(<span class="string">f"2 سطر اول، 3 ستون اول:\n{matrix[:2, :3]}"</span>)
<span class="function">print</span>(<span class="string">f"سطرهای زوج:\n{matrix[::2, :]}"</span>)
<span class="function">print</span>(<span class="string">f"ستون‌های آخر:\n{matrix[:, -2:]}"</span>)

<span class="comment"># slicing با شرط</span>
<span class="function">print</span>(<span class="string">f"عناصر بزرگتر از 10:\n{matrix[matrix > 10]}"</span>)
                    </div>

                    <h3>🔍 Boolean Indexing:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
data = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, <span class="number">20</span>)
<span class="function">print</span>(<span class="string">f"داده: {data}"</span>)

<span class="comment"># ایجاد ماسک boolean</span>
mask_greater_50 = data > <span class="number">50</span>
mask_even = (data % <span class="number">2</span>) == <span class="number">0</span>
mask_range = (data >= <span class="number">20</span>) & (data <= <span class="number">80</span>)

<span class="function">print</span>(<span class="string">f"ماسک > 50: {mask_greater_50}"</span>)
<span class="function">print</span>(<span class="string">f"اعداد > 50: {data[mask_greater_50]}"</span>)
<span class="function">print</span>(<span class="string">f"اعداد زوج: {data[mask_even]}"</span>)
<span class="function">print</span>(<span class="string">f"اعداد بین 20-80: {data[mask_range]}"</span>)

<span class="comment"># ترکیب شروط</span>
complex_mask = (data > <span class="number">30</span>) & (data < <span class="number">70</span>) & ((data % <span class="number">3</span>) == <span class="number">0</span>)
<span class="function">print</span>(<span class="string">f"اعداد 30-70 که بر 3 بخش‌پذیر: {data[complex_mask]}"</span>)

<span class="comment"># تغییر مقادیر با boolean indexing</span>
data_copy = data.copy()
data_copy[data_copy > <span class="number">80</span>] = <span class="number">80</span>  <span class="comment"># محدود کردن به 80</span>
<span class="function">print</span>(<span class="string">f"بعد از محدودسازی: {data_copy}"</span>)

<span class="comment"># استفاده در ماتریس</span>
matrix = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">4</span>, <span class="number">4</span>))
<span class="function">print</span>(<span class="string">f"\nماتریس:\n{matrix}"</span>)

<span class="comment"># جایگزینی مقادیر زوج با صفر</span>
matrix[matrix % <span class="number">2</span> == <span class="number">0</span>] = <span class="number">0</span>
<span class="function">print</span>(<span class="string">f"بعد از صفر کردن زوج‌ها:\n{matrix}"</span>)
                    </div>

                    <h3>📍 Fancy Indexing:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
arr = np.arange(<span class="number">10</span>) ** <span class="number">2</span>  <span class="comment"># مربعات اعداد</span>
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)

<span class="comment"># انتخاب با لیست index ها</span>
indices = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>]
selected = arr[indices]
<span class="function">print</span>(<span class="string">f"عناصر انتخاب شده: {selected}"</span>)

<span class="comment"># انتخاب با آرایه boolean</span>
bool_indices = np.array([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">False</span>])
bool_selected = arr[bool_indices]
<span class="function">print</span>(<span class="string">f"انتخاب با boolean: {bool_selected}"</span>)

<span class="comment"># fancy indexing دوبعدی</span>
matrix = np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>, <span class="number">5</span>)
<span class="function">print</span>(<span class="string">f"\nماتریس:\n{matrix}"</span>)

<span class="comment"># انتخاب سطرهای خاص</span>
row_indices = [<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>]
selected_rows = matrix[row_indices]
<span class="function">print</span>(<span class="string">f"سطرهای انتخابی:\n{selected_rows}"</span>)

<span class="comment"># انتخاب عناصر خاص</span>
row_idx = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]
col_idx = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>]
diagonal_like = matrix[row_idx, col_idx]
<span class="function">print</span>(<span class="string">f"عناصر انتخابی: {diagonal_like}"</span>)

<span class="comment"># ترکیب fancy indexing و slicing</span>
combined = matrix[np.array([<span class="number">0</span>, <span class="number">2</span>]), <span class="number">1</span>:<span class="number">4</span>]
<span class="function">print</span>(<span class="string">f"ترکیبی:\n{combined}"</span>)
                    </div>

                    <h3>🔧 تابع‌های کمکی Indexing:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
data = np.array([<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">6</span>])
<span class="function">print</span>(<span class="string">f"داده: {data}"</span>)

<span class="comment"># پیدا کردن index عناصر</span>
<span class="function">print</span>(<span class="string">f"Index حداکثر: {np.argmax(data)}"</span>)
<span class="function">print</span>(<span class="string">f"Index حداقل: {np.argmin(data)}"</span>)

<span class="comment"># پیدا کردن index های شرطی</span>
indices_greater_4 = np.where(data > <span class="number">4</span>)
<span class="function">print</span>(<span class="string">f"Index های > 4: {indices_greater_4[0]}"</span>)
<span class="function">print</span>(<span class="string">f"مقادیر > 4: {data[indices_greater_4]}"</span>)

<span class="comment"># استفاده از where برای جایگزینی شرطی</span>
result = np.where(data > <span class="number">4</span>, data, <span class="number">0</span>)  <span class="comment"># اگر >4 باشد خودش، وگرنه 0</span>
<span class="function">print</span>(<span class="string">f"جایگزینی شرطی: {result}"</span>)

<span class="comment"># پیدا کردن عناصر غیرصفر</span>
arr_with_zeros = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">0</span>])
nonzero_indices = np.nonzero(arr_with_zeros)
<span class="function">print</span>(<span class="string">f"Index های غیرصفر: {nonzero_indices[0]}"</span>)
<span class="function">print</span>(<span class="string">f"مقادیر غیرصفر: {arr_with_zeros[nonzero_indices]}"</span>)

<span class="comment"># مرتب‌سازی و index ها</span>
sorted_indices = np.argsort(data)
<span class="function">print</span>(<span class="string">f"Index های مرتب: {sorted_indices}"</span>)
<span class="function">print</span>(<span class="string">f"داده مرتب شده: {data[sorted_indices]}"</span>)
                    </div>

                    <div class="array-visual">
                        <strong>مثال بصری Indexing:</strong><br>
                        arr = [10, 20, 30, 40, 50]<br>
                        <div style="margin: 10px 0;">
                        Index:  0   1   2   3   4<br>
                        Value: 10  20  30  40  50<br>
                        arr[1:4] → [20, 30, 40]<br>
                        arr[::2] → [10, 30, 50]
                        </div>
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">arr[i]</div>
                            <div class="method-desc">انتخاب عنصر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">arr[start:end]</div>
                            <div class="method-desc">برش آرایه</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">arr[mask]</div>
                            <div class="method-desc">Boolean indexing</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.where()</div>
                            <div class="method-desc">انتخاب شرطی</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- اسلاید 6: عملیات ریاضی -->
            <div class="slide" id="slide6">
                <div class="slide-number">6/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🧮</div>
                <div class="slide-title">عملیات ریاضی و Universal Functions</div>
                <div class="slide-content">
                    <h3>➕ عملیات ریاضی پایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه‌های نمونه</span>
a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])
b = np.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>])
<span class="function">print</span>(<span class="string">f"a = {a}"</span>)
<span class="function">print</span>(<span class="string">f"b = {b}"</span>)

<span class="comment"># عملیات اصلی</span>
<span class="function">print</span>(<span class="string">f"\n➕ جمع: {a + b}"</span>)
<span class="function">print</span>(<span class="string">f"➖ تفریق: {b - a}"</span>)
<span class="function">print</span>(<span class="string">f"✖️ ضرب: {a * b}"</span>)
<span class="function">print</span>(<span class="string">f"➗ تقسیم: {b / a}"</span>)
<span class="function">print</span>(<span class="string">f"🔢 تقسیم صحیح: {b // a}"</span>)
<span class="function">print</span>(<span class="string">f"📐 باقیمانده: {b % a}"</span>)
<span class="function">print</span>(<span class="string">f"⚡ توان: {a ** 2}"</span>)

<span class="comment"># عملیات با اسکالر</span>
<span class="function">print</span>(<span class="string">f"\n🔢 عملیات با اسکالر:"</span>)
<span class="function">print</span>(<span class="string">f"a + 10 = {a + 10}"</span>)
<span class="function">print</span>(<span class="string">f"a * 3 = {a * 3}"</span>)
<span class="function">print</span>(<span class="string">f"a ** 0.5 = {a ** 0.5}"</span>)

<span class="comment"># عملیات درجا (in-place)</span>
c = a.copy()
c += <span class="number">100</span>
<span class="function">print</span>(<span class="string">f"بعد از c += 100: {c}"</span>)

c *= <span class="number">2</span>
<span class="function">print</span>(<span class="string">f"بعد از c *= 2: {c}"</span>)
                    </div>

                    <h3>📊 توابع ریاضی پیشرفته:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
arr = np.array([<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>])
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)

<span class="comment"># توابع جذر و توان</span>
<span class="function">print</span>(<span class="string">f"جذر: {np.sqrt(arr)}"</span>)
<span class="function">print</span>(<span class="string">f"جذر مکعبی: {np.cbrt(arr)}"</span>)
<span class="function">print</span>(<span class="string">f"توان 2: {np.power(arr, 2)}"</span>)
<span class="function">print</span>(<span class="string">f"توان 0.5: {np.power(arr, 0.5)}"</span>)

<span class="comment"># توابع نمایی و لگاریتمی</span>
small_arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])
<span class="function">print</span>(<span class="string">f"\nآرایه کوچک: {small_arr}"</span>)
<span class="function">print</span>(<span class="string">f"e^x: {np.exp(small_arr)}"</span>)
<span class="function">print</span>(<span class="string">f"2^x: {np.exp2(small_arr)}"</span>)
<span class="function">print</span>(<span class="string">f"log(x): {np.log(arr)}"</span>)
<span class="function">print</span>(<span class="string">f"log10(x): {np.log10(arr)}"</span>)
<span class="function">print</span>(<span class="string">f"log2(x): {np.log2(arr)}"</span>)

<span class="comment"># توابع مثلثاتی</span>
angles = np.array([<span class="number">0</span>, np.pi/<span class="number">6</span>, np.pi/<span class="number">4</span>, np.pi/<span class="number">3</span>, np.pi/<span class="number">2</span>])
<span class="function">print</span>(<span class="string">f"\nزاویه‌ها (رادیان): {angles}"</span>)
<span class="function">print</span>(<span class="string">f"sin: {np.sin(angles)}"</span>)
<span class="function">print</span>(<span class="string">f"cos: {np.cos(angles)}"</span>)
<span class="function">print</span>(<span class="string">f"tan: {np.tan(angles)}"</span>)

<span class="comment"># تبدیل درجه ↔ رادیان</span>
degrees = np.array([<span class="number">0</span>, <span class="number">30</span>, <span class="number">45</span>, <span class="number">60</span>, <span class="number">90</span>])
<span class="function">print</span>(<span class="string">f"\nدرجه: {degrees}"</span>)
<span class="function">print</span>(<span class="string">f"رادیان: {np.deg2rad(degrees)}"</span>)
<span class="function">print</span>(<span class="string">f"برگشت به درجه: {np.rad2deg(np.deg2rad(degrees))}"</span>)

<span class="comment"># توابع هذلولوی</span>
<span class="function">print</span>(<span class="string">f"\nsinh(1): {np.sinh(1)}"</span>)
<span class="function">print</span>(<span class="string">f"cosh(1): {np.cosh(1)}"</span>)
<span class="function">print</span>(<span class="string">f"tanh(1): {np.tanh(1)}"</span>)
                    </div>

                    <h3>🔄 توابع گرد کردن و مقایسه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># اعداد اعشاری</span>
float_arr = np.array([<span class="number">1.2</span>, <span class="number">2.7</span>, <span class="number">3.1</span>, <span class="number">4.9</span>, <span class="number">-2.3</span>, <span class="number">-1.8</span>])
<span class="function">print</span>(<span class="string">f"اعداد اعشاری: {float_arr}"</span>)

<span class="comment"># توابع گرد کردن</span>
<span class="function">print</span>(<span class="string">f"round: {np.round(float_arr)}"</span>)
<span class="function">print</span>(<span class="string">f"floor (کف): {np.floor(float_arr)}"</span>)
<span class="function">print</span>(<span class="string">f"ceil (سقف): {np.ceil(float_arr)}"</span>)
<span class="function">print</span>(<span class="string">f"trunc (حذف اعشار): {np.trunc(float_arr)}"</span>)

<span class="comment"># گرد کردن با دقت مشخص</span>
precise_arr = np.array([<span class="number">3.14159</span>, <span class="number">2.71828</span>, <span class="number">1.41421</span>])
<span class="function">print</span>(<span class="string">f"\nاعداد دقیق: {precise_arr}"</span>)
<span class="function">print</span>(<span class="string">f"2 رقم اعشار: {np.round(precise_arr, 2)}"</span>)
<span class="function">print</span>(<span class="string">f"3 رقم اعشار: {np.round(precise_arr, 3)}"</span>)

<span class="comment"># توابع علامت و مقدار مطلق</span>
mixed_arr = np.array([<span class="number">-5</span>, <span class="number">-2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">7</span>])
<span class="function">print</span>(<span class="string">f"\nآرایه مختلط: {mixed_arr}"</span>)
<span class="function">print</span>(<span class="string">f"مقدار مطلق: {np.abs(mixed_arr)}"</span>)
<span class="function">print</span>(<span class="string">f"علامت: {np.sign(mixed_arr)}"</span>)

<span class="comment"># توابع مقایسه</span>
arr1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])
arr2 = np.array([<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>])
<span class="function">print</span>(<span class="string">f"\nآرایه 1: {arr1}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه 2: {arr2}"</span>)
<span class="function">print</span>(<span class="string">f"حداکثر: {np.maximum(arr1, arr2)}"</span>)
<span class="function">print</span>(<span class="string">f"حداقل: {np.minimum(arr1, arr2)}"</span>)
                    </div>

                    <h3>📈 توابع آماری:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># ایجاد داده نمونه</span>
np.random.seed(<span class="number">42</span>)
data = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, <span class="number">20</span>)
<span class="function">print</span>(<span class="string">f"داده (20 عدد): {data}"</span>)

<span class="comment"># آمار اساسی</span>
<span class="function">print</span>(<span class="string">f"\n📊 آمار اساسی:"</span>)
<span class="function">print</span>(<span class="string">f"حداقل: {np.min(data)}"</span>)
<span class="function">print</span>(<span class="string">f"حداکثر: {np.max(data)}"</span>)
<span class="function">print</span>(<span class="string">f"دامنه: {np.ptp(data)}"</span>)  <span class="comment"># peak to peak</span>
<span class="function">print</span>(<span class="string">f"میانگین: {np.mean(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"میانه: {np.median(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"مجموع: {np.sum(data)}"</span>)
<span class="function">print</span>(<span class="string">f"حاصل‌ضرب: {np.prod(data[:5])}"</span>)  <span class="comment"># فقط 5 تا اول</span>

<span class="comment"># پراکندگی</span>
<span class="function">print</span>(<span class="string">f"\n📈 پراکندگی:"</span>)
<span class="function">print</span>(<span class="string">f"انحراف معیار: {np.std(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"واریانس: {np.var(data):.2f}"</span>)

<span class="comment"># چندک‌ها</span>
percentiles = [<span class="number">25</span>, <span class="number">50</span>, <span class="number">75</span>, <span class="number">90</span>, <span class="number">95</span>]
<span class="function">print</span>(<span class="string">f"\n📊 چندک‌ها:"</span>)
<span class="keyword">for</span> p <span class="keyword">in</span> percentiles:
    <span class="function">print</span>(<span class="string">f"چندک {p}%: {np.percentile(data, p):.1f}"</span>)

<span class="comment"># آرایه دوبعدی</span>
matrix = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">4</span>, <span class="number">5</span>))
<span class="function">print</span>(<span class="string">f"\nماتریس 4×5:\n{matrix}"</span>)

<span class="comment"># آمار بر اساس محور</span>
<span class="function">print</span>(<span class="string">f"مجموع کل: {np.sum(matrix)}"</span>)
<span class="function">print</span>(<span class="string">f"مجموع هر ستون: {np.sum(matrix, axis=0)}"</span>)
<span class="function">print</span>(<span class="string">f"مجموع هر سطر: {np.sum(matrix, axis=1)}"</span>)
<span class="function">print</span>(<span class="string">f"میانگین هر ستون: {np.mean(matrix, axis=0):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"حداکثر هر ستون: {np.max(matrix, axis=0)}"</span>)
                    </div>

                    <h3>🔍 توابع منطقی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه‌های boolean</span>
bool1 = np.array([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">False</span>])
bool2 = np.array([<span class="keyword">True</span>, <span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">False</span>])
<span class="function">print</span>(<span class="string">f"bool1: {bool1}"</span>)
<span class="function">print</span>(<span class="string">f"bool2: {bool2}"</span>)

<span class="comment"># عملیات منطقی</span>
<span class="function">print</span>(<span class="string">f"AND: {np.logical_and(bool1, bool2)}"</span>)
<span class="function">print</span>(<span class="string">f"OR: {np.logical_or(bool1, bool2)}"</span>)
<span class="function">print</span>(<span class="string">f"XOR: {np.logical_xor(bool1, bool2)}"</span>)
<span class="function">print</span>(<span class="string">f"NOT: {np.logical_not(bool1)}"</span>)

<span class="comment"># تست شرایط</span>
numbers = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">5</span>, <span class="number">0</span>])
<span class="function">print</span>(<span class="string">f"\nاعداد: {numbers}"</span>)
<span class="function">print</span>(<span class="string">f"آیا همه مثبت؟ {np.all(numbers > 0)}"</span>)
<span class="function">print</span>(<span class="string">f"آیا حداقل یکی مثبت؟ {np.any(numbers > 0)}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد مثبت‌ها: {np.sum(numbers > 0)}"</span>)

<span class="comment"># مقایسه آرایه‌ها</span>
arr1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
arr2 = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>])
<span class="function">print</span>(<span class="string">f"\nآرایه 1: {arr1}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه 2: {arr2}"</span>)
<span class="function">print</span>(<span class="string">f"مساوی: {np.equal(arr1, arr2)}"</span>)
<span class="function">print</span>(<span class="string">f"بزرگتر: {np.greater(arr1, arr2)}"</span>)
<span class="function">print</span>(<span class="string">f"کوچکتر مساوی: {np.less_equal(arr1, arr2)}"</span>)

<span class="comment"># آیا آرایه‌ها کاملاً برابرند؟</span>
<span class="function">print</span>(<span class="string">f"آرایه‌ها برابرند؟ {np.array_equal(arr1, arr2)}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه با خودش برابر؟ {np.array_equal(arr1, arr1)}"</span>)
                    </div>

                    <div class="operation-demo">
                        <div class="array-box">
                            [1, 2, 3, 4]
                        </div>
                        <div class="operator">+</div>
                        <div class="array-box">
                            [10, 20, 30, 40]
                        </div>
                        <div class="operator">=</div>
                        <div class="array-box">
                            [11, 22, 33, 44]
                        </div>
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">np.add()</div>
                            <div class="method-desc">جمع عناصر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.sqrt()</div>
                            <div class="method-desc">جذر گیری</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.sin()</div>
                            <div class="method-desc">سینوس</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.mean()</div>
                            <div class="method-desc">میانگین</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.max()</div>
                            <div class="method-desc">حداکثر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.all()</div>
                            <div class="method-desc">بررسی همه</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">⚡ Universal Functions (ufuncs):</div>
                        توابعی که روی تمام عناصر آرایه به صورت vectorized عمل می‌کنند و بسیار سریع هستند.
                    </div>
                </div>
            </div>

            <!-- اسلاید 7: Broadcasting -->
            <div class="slide" id="slide7">
                <div class="slide-number">7/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">📡</div>
                <div class="slide-title">Broadcasting: عملیات روی آرایه‌های مختلف الشکل</div>
                <div class="slide-content">
                    <h3>🤔 Broadcasting چیست؟</h3>
                    <p>Broadcasting قابلیتی است که به NumPy اجازه می‌دهد عملیات ریاضی را روی آرایه‌های با شکل‌های مختلف انجام دهد بدون اینکه نیاز به کپی کردن داده‌ها باشد.</p>

                    <div class="operation-demo">
                        <div class="array-box">
                            آرایه A<br>
                            شکل: (3, 1)<br>
                            [[1]<br>[2]<br>[3]]
                        </div>
                        <div class="operator">+</div>
                        <div class="array-box">
                            آرایه B<br>
                            شکل: (3,)<br>
                            [10, 20, 30]
                        </div>
                        <div class="operator">=</div>
                        <div class="array-box">
                            نتیجه<br>
                            شکل: (3, 3)<br>
                            [[11, 21, 31]<br>[12, 22, 32]<br>[13, 23, 33]]
                        </div>
                    </div>

                    <h3>📏 قوانین Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># قانون 1: اسکالر با آرایه</span>
arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
scalar = <span class="number">5</span>
result = arr + scalar
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)
<span class="function">print</span>(<span class="string">f"اسکالر: {scalar}"</span>)
<span class="function">print</span>(<span class="string">f"نتیجه: {result}"</span>)

<span class="comment"># قانون 2: آرایه 1D با آرایه 2D</span>
arr_1d = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])  <span class="comment"># شکل: (3,)</span>
arr_2d = np.array([[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>], 
                   [<span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>]])  <span class="comment"># شکل: (2, 3)</span>

<span class="function">print</span>(<span class="string">f"\nآرایه 1D (شکل {arr_1d.shape}): {arr_1d}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه 2D (شکل {arr_2d.shape}):\n{arr_2d}"</span>)

result_2d = arr_2d + arr_1d
<span class="function">print</span>(<span class="string">f"نتیجه جمع:\n{result_2d}"</span>)

<span class="comment"># قانون 3: شکل‌های سازگار</span>
a = np.arange(<span class="number">3</span>).reshape(<span class="number">3</span>, <span class="number">1</span>)  <span class="comment"># (3, 1)</span>
b = np.arange(<span class="number">3</span>)                    <span class="comment"># (3,)</span>

<span class="function">print</span>(<span class="string">f"\nآرایه a (شکل {a.shape}):\n{a}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه b (شکل {b.shape}): {b}"</span>)

result_broadcast = a + b
<span class="function">print</span>(<span class="string">f"نتیجه broadcasting:\n{result_broadcast}"</span>)
<span class="function">print</span>(<span class="string">f"شکل نتیجه: {result_broadcast.shape}"</span>)
                    </div>

                    <h3>✅ مثال‌های معتبر Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># مثال 1: (4, 1) + (3,) → (4, 3)</span>
a = np.arange(<span class="number">4</span>).reshape(<span class="number">4</span>, <span class="number">1</span>)
b = np.arange(<span class="number">3</span>)
<span class="function">print</span>(<span class="string">f"a (شکل {a.shape}):\n{a}"</span>)
<span class="function">print</span>(<span class="string">f"b (شکل {b.shape}): {b}"</span>)
result = a * b
<span class="function">print</span>(<span class="string">f"نتیجه (شکل {result.shape}):\n{result}"</span>)

<span class="comment"># مثال 2: (2, 1, 3) + (1, 4, 1) → (2, 4, 3)</span>
x = np.random.randint(<span class="number">1</span>, <span class="number">5</span>, (<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>))
y = np.random.randint(<span class="number">1</span>, <span class="number">5</span>, (<span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>))
<span class="function">print</span>(<span class="string">f"\nx (شکل {x.shape}):\n{x}"</span>)
<span class="function">print</span>(<span class="string">f"y (شکل {y.shape}):\n{y}"</span>)
result_3d = x + y
<span class="function">print</span>(<span class="string">f"نتیجه (شکل {result_3d.shape}): موفق!"</span>)

<span class="comment"># مثال 3: عملیات با ماتریس</span>
matrix = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>)
row_vector = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
col_vector = np.array([[<span class="number">10</span>], [<span class="number">20</span>], [<span class="number">30</span>]])

<span class="function">print</span>(<span class="string">f"\nماتریس (شکل {matrix.shape}):\n{matrix}"</span>)
<span class="function">print</span>(<span class="string">f"بردار سطری (شکل {row_vector.shape}): {row_vector}"</span>)
<span class="function">print</span>(<span class="string">f"بردار ستونی (شکل {col_vector.shape}):\n{col_vector}"</span>)

<span class="function">print</span>(<span class="string">f"ماتریس + بردار سطری:\n{matrix + row_vector}"</span>)
<span class="function">print</span>(<span class="string">f"ماتریس + بردار ستونی:\n{matrix + col_vector}"</span>)
                    </div>

                    <h3>❌ مثال‌های نامعتبر Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># مثال نامعتبر: شکل‌های ناسازگار</span>
<span class="keyword">try</span>:
    a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>, <span class="number">3</span>)  <span class="comment"># (2, 3)</span>
    b = np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>, <span class="number">4</span>)  <span class="comment"># (2, 4)</span>
    <span class="function">print</span>(<span class="string">f"a (شکل {a.shape}):\n{a}"</span>)
    <span class="function">print</span>(<span class="string">f"b (شکل {b.shape}):\n{b}"</span>)
    result = a + b  <span class="comment"># این خطا خواهد داد</span>
<span class="keyword">except</span> ValueError <span class="keyword">as</span> e:
    <span class="function">print</span>(<span class="string">f"خطا: {e}"</span>)

<span class="comment"># راه حل: تغییر شکل</span>
<span class="function">print</span>(<span class="string">f"\n🔧 راه حل:"</span>)
a_reshaped = a.reshape(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>)  <span class="comment"># (2, 3, 1)</span>
b_reshaped = b.reshape(<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>)  <span class="comment"># (2, 1, 4)</span>
result_fixed = a_reshaped + b_reshaped  <span class="comment"># (2, 3, 4)</span>
<span class="function">print</span>(<span class="string">f"بعد از تغییر شکل: {result_fixed.shape}"</span>)

<span class="comment"># بررسی سازگاری broadcasting</span>
<span class="keyword">def</span> <span class="function">can_broadcast</span>(shape1, shape2):
    <span class="comment">"""بررسی اینکه آیا دو شکل قابل broadcast هستند"""</span>
    <span class="comment"># پد کردن شکل کوتاه‌تر با 1</span>
    max_len = max(len(shape1), len(shape2))
    shape1 = (<span class="number">1</span>,) * (max_len - len(shape1)) + shape1
    shape2 = (<span class="number">1</span>,) * (max_len - len(shape2)) + shape2
    
    <span class="keyword">for</span> s1, s2 <span class="keyword">in</span> zip(shape1, shape2):
        <span class="keyword">if</span> s1 != <span class="number">1</span> <span class="keyword">and</span> s2 != <span class="number">1</span> <span class="keyword">and</span> s1 != s2:
            <span class="keyword">return</span> <span class="keyword">False</span>
    <span class="keyword">return</span> <span class="keyword">True</span>

<span class="comment"># تست تابع</span>
test_cases = [
    ((<span class="number">3</span>, <span class="number">4</span>), (<span class="number">4</span>,)),      <span class="comment"># ✅ معتبر</span>
    ((<span class="number">3</span>, <span class="number">1</span>), (<span class="number">3</span>,)),      <span class="comment"># ✅ معتبر</span>
    ((<span class="number">3</span>, <span class="number">4</span>), (<span class="number">3</span>, <span class="number">5</span>)),   <span class="comment"># ❌ نامعتبر</span>
    ((<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>), (<span class="number">3</span>, <span class="number">1</span>)), <span class="comment"># ✅ معتبر</span>
]

<span class="function">print</span>(<span class="string">f"\n🧪 تست‌های broadcasting:"</span>)
<span class="keyword">for</span> i, (s1, s2) <span class="keyword">in</span> enumerate(test_cases):
    result = can_broadcast(s1, s2)
    status = <span class="string">"✅"</span> <span class="keyword">if</span> result <span class="keyword">else</span> <span class="string">"❌"</span>
    <span class="function">print</span>(<span class="string">f"{status} {s1} + {s2}: {result}"</span>)
                    </div>

                    <h3>🎯 کاربردهای عملی Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># مثال 1: نرمال‌سازی داده‌ها</span>
data = np.random.randint(<span class="number">50</span>, <span class="number">100</span>, (<span class="number">5</span>, <span class="number">3</span>))  <span class="comment"># 5 نمونه، 3 ویژگی</span>
<span class="function">print</span>(<span class="string">f"داده اصلی:\n{data}"</span>)

<span class="comment"># محاسبه میانگین و انحراف معیار هر ستون</span>
mean = np.mean(data, axis=<span class="number">0</span>)  <span class="comment"># شکل: (3,)</span>
std = np.std(data, axis=<span class="number">0</span>)   <span class="comment"># شکل: (3,)</span>
<span class="function">print</span>(<span class="string">f"میانگین هر ستون: {mean}"</span>)
<span class="function">print</span>(<span class="string">f"انحراف معیار هر ستون: {std}"</span>)

<span class="comment"># نرمال‌سازی با broadcasting</span>
normalized = (data - mean) / std  <span class="comment"># (5,3) - (3,) / (3,)</span>
<span class="function">print</span>(<span class="string">f"داده نرمال شده:\n{normalized}"</span>)

<span class="comment"># بررسی: میانگین جدید باید ~0 باشد</span>
<span class="function">print</span>(<span class="string">f"میانگین جدید: {np.mean(normalized, axis=0)}"</span>)

<span class="comment"># مثال 2: محاسبه فاصله اقلیدسی</span>
points = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]])  <span class="comment"># 3 نقطه 2بعدی</span>
center = np.array([<span class="number">3</span>, <span class="number">3</span>])  <span class="comment"># مرکز</span>

<span class="function">print</span>(<span class="string">f"\nنقاط:\n{points}"</span>)
<span class="function">print</span>(<span class="string">f"مرکز: {center}"</span>)

<span class="comment"># محاسبه فاصله با broadcasting</span>
distances = np.sqrt(np.sum((points - center)**<span class="number">2</span>, axis=<span class="number">1</span>))
<span class="function">print</span>(<span class="string">f"فاصله‌ها از مرکز: {distances}"</span>)

<span class="comment"># مثال 3: اعمال تابع روی ماتریس</span>
matrix = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>)
weights = np.array([<span classادامه جلسه هفتم:

```html
                        Index:  0   1   2   3   4<br>
                        Value: 10  20  30  40  50<br>
                        arr[1:4] → [20, 30, 40]
                        </div>
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">arr[i]</div>
                            <div class="method-desc">انتخاب عنصر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">arr[start:end]</div>
                            <div class="method-desc">برش آرایه</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">arr[mask]</div>
                            <div class="method-desc">انتخاب شرطی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.where()</div>
                            <div class="method-desc">جستجو شرطی</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- اسلاید 6: عملیات ریاضی -->
            <div class="slide" id="slide6">
                <div class="slide-number">6/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🧮</div>
                <div class="slide-title">عملیات ریاضی و Universal Functions</div>
                <div class="slide-content">
                    <h3>➕ عملیات پایه ریاضی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه‌های نمونه</span>
a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])
b = np.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>])
<span class="function">print</span>(<span class="string">f"a = {a}"</span>)
<span class="function">print</span>(<span class="string">f"b = {b}"</span>)

<span class="comment"># عملیات اصلی</span>
<span class="function">print</span>(<span class="string">f"\n➕ جمع: {a + b}"</span>)
<span class="function">print</span>(<span class="string">f"➖ تفریق: {b - a}"</span>)
<span class="function">print</span>(<span class="string">f"✖️ ضرب: {a * b}"</span>)
<span class="function">print</span>(<span class="string">f"➗ تقسیم: {b / a}"</span>)
<span class="function">print</span>(<span class="string">f"🔢 تقسیم صحیح: {b // a}"</span>)
<span class="function">print</span>(<span class="string">f"📐 باقیمانده: {b % a}"</span>)
<span class="function">print</span>(<span class="string">f"⚡ توان: {a ** 2}"</span>)

<span class="comment"># عملیات با اسکالر</span>
<span class="function">print</span>(<span class="string">f"\n🔢 عملیات با اسکالر:"</span>)
<span class="function">print</span>(<span class="string">f"a + 10 = {a + 10}"</span>)
<span class="function">print</span>(<span class="string">f"a * 3 = {a * 3}"</span>)
<span class="function">print</span>(<span class="string">f"a ** 0.5 = {a ** 0.5}"</span>)

<span class="comment"># عملیات درجا (in-place)</span>
c = a.copy()
c += <span class="number">100</span>
<span class="function">print</span>(<span class="string">f"عملیات درجا: {c}"</span>)

<span class="comment"># مقایسه سرعت با لیست پایتون</span>
<span class="keyword">import</span> time

python_list = list(range(<span class="number">100000</span>))
numpy_array = np.arange(<span class="number">100000</span>)

<span class="comment"># ضرب در 2 با لیست پایتون</span>
start = time.time()
python_result = [x * <span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> python_list]
python_time = time.time() - start

<span class="comment"># ضرب در 2 با NumPy</span>
start = time.time()
numpy_result = numpy_array * <span class="number">2</span>
numpy_time = time.time() - start

<span class="function">print</span>(<span class="string">f"\n⏱️ مقایسه سرعت:"</span>)
<span class="function">print</span>(<span class="string">f"لیست پایتون: {python_time:.4f} ثانیه"</span>)
<span class="function">print</span>(<span class="string">f"NumPy: {numpy_time:.4f} ثانیه"</span>)
<span class="function">print</span>(<span class="string">f"NumPy سریع‌تر: {python_time/numpy_time:.1f}x"</span>)
                    </div>

                    <h3>📐 توابع ریاضی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
x = np.array([<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>])
<span class="function">print</span>(<span class="string">f"x = {x}"</span>)

<span class="comment"># توابع ریشه و توان</span>
<span class="function">print</span>(<span class="string">f"جذر: {np.sqrt(x)}"</span>)
<span class="function">print</span>(<span class="string">f"جذر مکعبی: {np.cbrt(x)}"</span>)
<span class="function">print</span>(<span class="string">f"توان 2: {np.power(x, 2)}"</span>)
<span class="function">print</span>(<span class="string">f"مربع: {np.square(x)}"</span>)

<span class="comment"># توابع نمایی و لگاریتمی</span>
y = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])
<span class="function">print</span>(<span class="string">f"\ny = {y}"</span>)
<span class="function">print</span>(<span class="string">f"e^y: {np.exp(y)}"</span>)
<span class="function">print</span>(<span class="string">f"2^y: {np.exp2(y)}"</span>)
<span class="function">print</span>(<span class="string">f"log(x): {np.log(x)}"</span>)
<span class="function">print</span>(<span class="string">f"log10(x): {np.log10(x)}"</span>)
<span class="function">print</span>(<span class="string">f"log2(x): {np.log2(x)}"</span>)

<span class="comment"># توابع مثلثاتی</span>
angles = np.array([<span class="number">0</span>, np.pi/<span class="number">6</span>, np.pi/<span class="number">4</span>, np.pi/<span class="number">3</span>, np.pi/<span class="number">2</span>])
<span class="function">print</span>(<span class="string">f"\nزاویه‌ها: {angles}"</span>)
<span class="function">print</span>(<span class="string">f"sin: {np.sin(angles)}"</span>)
<span class="function">print</span>(<span class="string">f"cos: {np.cos(angles)}"</span>)
<span class="function">print</span>(<span class="string">f"tan: {np.tan(angles)}"</span>)

<span class="comment"># تبدیل درجه و رادیان</span>
degrees = np.array([<span class="number">0</span>, <span class="number">30</span>, <span class="number">45</span>, <span class="number">60</span>, <span class="number">90</span>])
radians = np.deg2rad(degrees)
<span class="function">print</span>(<span class="string">f"\nدرجه: {degrees}"</span>)
<span class="function">print</span>(<span class="string">f"رادیان: {radians}"</span>)
<span class="function">print</span>(<span class="string">f"برگشت به درجه: {np.rad2deg(radians)}"</span>)

<span class="comment"># توابع هذلولوی</span>
<span class="function">print</span>(<span class="string">f"sinh: {np.sinh(y)}"</span>)
<span class="function">print</span>(<span class="string">f"cosh: {np.cosh(y)}"</span>)
<span class="function">print</span>(<span class="string">f"tanh: {np.tanh(y)}"</span>)
                    </div>

                    <h3>🔢 توابع گرد کردن و مقدار مطلق:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># اعداد اعشاری</span>
decimals = np.array([<span class="number">-2.7</span>, <span class="number">-1.3</span>, <span class="number">0.5</span>, <span class="number">1.8</span>, <span class="number">3.2</span>, <span class="number">4.9</span>])
<span class="function">print</span>(<span class="string">f"اعداد اصلی: {decimals}"</span>)

<span class="comment"># انواع گرد کردن</span>
<span class="function">print</span>(<span class="string">f"round: {np.round(decimals)}"</span>)
<span class="function">print</span>(<span class="string">f"floor (کف): {np.floor(decimals)}"</span>)
<span class="function">print</span>(<span class="string">f"ceil (سقف): {np.ceil(decimals)}"</span>)
<span class="function">print</span>(<span class="string">f"trunc (حذف اعشار): {np.trunc(decimals)}"</span>)

<span class="comment"># گرد کردن با دقت مشخص</span>
pi_values = np.array([np.pi, <span class="number">2</span>*np.pi, np.e])
<span class="function">print</span>(<span class="string">f"\nمقادیر اصلی: {pi_values}"</span>)
<span class="function">print</span>(<span class="string">f"2 رقم اعشار: {np.round(pi_values, 2)}"</span>)
<span class="function">print</span>(<span class="string">f"4 رقم اعشار: {np.round(pi_values, 4)}"</span>)

<span class="comment"># مقدار مطلق</span>
negatives = np.array([<span class="number">-5</span>, <span class="number">-3.2</span>, <span class="number">0</span>, <span class="number">2.1</span>, <span class="number">-7.8</span>])
<span class="function">print</span>(<span class="string">f"اعداد: {negatives}"</span>)
<span class="function">print</span>(<span class="string">f"مقدار مطلق: {np.abs(negatives)}"</span>)
<span class="function">print</span>(<span class="string">f"یا np.absolute: {np.absolute(negatives)}"</span>)

<span class="comment"># علامت اعداد</span>
<span class="function">print</span>(<span class="string">f"علامت: {np.sign(negatives)}"</span>)

<span class="comment"># اعداد مختلط</span>
complex_nums = np.array([<span class="number">3</span>+<span class="number">4</span>j, <span class="number">-2</span>+<span class="number">3</span>j, <span class="number">1</span>-<span class="number">2</span>j])
<span class="function">print</span>(<span class="string">f"\nاعداد مختلط: {complex_nums}"</span>)
<span class="function">print</span>(<span class="string">f"مقدار مطلق: {np.abs(complex_nums)}"</span>)
<span class="function">print</span>(<span class="string">f"قسمت حقیقی: {np.real(complex_nums)}"</span>)
<span class="function">print</span>(<span class="string">f"قسمت موهومی: {np.imag(complex_nums)}"</span>)
<span class="function">print</span>(<span class="string">f"مزدوج: {np.conj(complex_nums)}"</span>)
                    </div>

                    <h3>📊 عملیات مقایسه‌ای:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه‌های نمونه</span>
a = np.array([<span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">2</span>])
b = np.array([<span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">6</span>])
<span class="function">print</span>(<span class="string">f"a = {a}"</span>)
<span class="function">print</span>(<span class="string">f"b = {b}"</span>)

<span class="comment"># مقایسه‌های element-wise</span>
<span class="function">print</span>(<span class="string">f"\na == b: {a == b}"</span>)
<span class="function">print</span>(<span class="string">f"a != b: {a != b}"</span>)
<span class="function">print</span>(<span class="string">f"a < b: {a < b}"</span>)
<span class="function">print</span>(<span class="string">f"a <= b: {a <= b}"</span>)
<span class="function">print</span>(<span class="string">f"a > b: {a > b}"</span>)
<span class="function">print</span>(<span class="string">f"a >= b: {a >= b}"</span>)

<span class="comment"># عملیات منطقی</span>
condition1 = a > <span class="number">3</span>
condition2 = b < <span class="number">6</span>
<span class="function">print</span>(<span class="string">f"\na > 3: {condition1}"</span>)
<span class="function">print</span>(<span class="string">f"b < 6: {condition2}"</span>)
<span class="function">print</span>(<span class="string">f"AND: {condition1 & condition2}"</span>)
<span class="function">print</span>(<span class="string">f"OR: {condition1 | condition2}"</span>)
<span class="function">print</span>(<span class="string">f"NOT: {~condition1}"</span>)

<span class="comment"># توابع مقایسه‌ای</span>
<span class="function">print</span>(<span class="string">f"\nnp.greater: {np.greater(a, b)}"</span>)
<span class="function">print</span>(<span class="string">f"np.equal: {np.equal(a, b)}"</span>)
<span class="function">print</span>(<span class="string">f"np.not_equal: {np.not_equal(a, b)}"</span>)

<span class="comment"># تست‌های منطقی</span>
<span class="function">print</span>(<span class="string">f"\nآیا همه a > 0؟ {np.all(a > 0)}"</span>)
<span class="function">print</span>(<span class="string">f"آیا حداقل یکی a > 5؟ {np.any(a > 5)}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد عناصر a > 3: {np.sum(a > 3)}"</span>)

<span class="comment"># حداقل و حداکثر element-wise</span>
<span class="function">print</span>(<span class="string">f"حداقل element-wise: {np.minimum(a, b)}"</span>)
<span class="function">print</span>(<span class="string">f"حداکثر element-wise: {np.maximum(a, b)}"</span>)
                    </div>

                    <div class="operation-demo">
                        <div class="array-box">
                            [1, 2, 3]
                        </div>
                        <div class="operator">+</div>
                        <div class="array-box">
                            [10, 20, 30]
                        </div>
                        <div class="operator">=</div>
                        <div class="array-box">
                            [11, 22, 33]
                        </div>
                    </div>

                    <div class="info-box">
                        <div class="info-title">⚡ Universal Functions (ufuncs):</div>
                        <ul>
                            <li><strong>Element-wise:</strong> روی تک تک عناصر عمل می‌کنند</li>
                            <li><strong>Vectorized:</strong> بدون نیاز به حلقه، سریع اجرا می‌شوند</li>
                            <li><strong>Broadcasting:</strong> با آرایه‌های مختلف الشکل کار می‌کنند</li>
                            <li><strong>Type flexible:</strong> با انواع داده مختلف سازگار هستند</li>
                        </ul>
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">np.add()</div>
                            <div class="method-desc">جمع</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.sin()</div>
                            <div class="method-desc">سینوس</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.sqrt()</div>
                            <div class="method-desc">جذر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.exp()</div>
                            <div class="method-desc">نمایی</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.round()</div>
                            <div class="method-desc">گرد کردن</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.maximum()</div>
                            <div class="method-desc">حداکثر</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- اسلاید 7: تحلیل آماری -->
            <div class="slide" id="slide7">
                <div class="slide-number">7/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">📈</div>
                <div class="slide-title">تحلیل آماری با NumPy</div>
                <div class="slide-content">
                    <h3>📊 آمار توصیفی پایه:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># ایجاد داده نمونه</span>
np.random.seed(<span class="number">42</span>)
data = np.random.normal(<span class="number">50</span>, <span class="number">15</span>, <span class="number">1000</span>)  <span class="comment"># میانگین=50, انحراف=15</span>
<span class="function">print</span>(<span class="string">f"تعداد نمونه‌ها: {len(data)}"</span>)
<span class="function">print</span>(<span class="string">f"نمونه از داده: {data[:10]}"</span>)

<span class="comment"># آمار مرکزی</span>
<span class="function">print</span>(<span class="string">f"\n📊 آمار مرکزی:"</span>)
<span class="function">print</span>(<span class="string">f"میانگین: {np.mean(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"میانه: {np.median(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"مد تقریبی: {np.round(np.mean(data))}"</span>)

<span class="comment"># آمار پراکندگی</span>
<span class="function">print</span>(<span class="string">f"\n📏 آمار پراکندگی:"</span>)
<span class="function">print</span>(<span class="string">f"انحراف معیار: {np.std(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"واریانس: {np.var(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"دامنه: {np.ptp(data):.2f}"</span>)  <span class="comment"># peak to peak</span>

<span class="comment"># آمار موقعیت</span>
<span class="function">print</span>(<span class="string">f"\n🎯 آمار موقعیت:"</span>)
<span class="function">print</span>(<span class="string">f"حداقل: {np.min(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"حداکثر: {np.max(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"چارک اول (Q1): {np.percentile(data, 25):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"چارک سوم (Q3): {np.percentile(data, 75):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"دامنه میان‌چارکی (IQR): {np.percentile(data, 75) - np.percentile(data, 25):.2f}"</span>)

<span class="comment"># آمار کل</span>
<span class="function">print</span>(<span class="string">f"\n🔢 آمار کل:"</span>)
<span class="function">print</span>(<span class="string">f"مجموع: {np.sum(data):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"حاصل‌ضرب (اول 5): {np.prod(data[:5]):.2e}"</span>)
<span class="function">print</span>(<span class="string">f"میانگین هندسی (اول 10): {np.exp(np.mean(np.log(np.abs(data[:10])))):.2f}"</span>)
                    </div>

                    <h3>📈 چندک‌ها و درصدک‌ها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># محاسبه چندک‌های مختلف</span>
percentiles = [<span class="number">5</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="number">50</span>, <span class="number">75</span>, <span class="number">90</span>, <span class="number">95</span>]
values = np.percentile(data, percentiles)

<span class="function">print</span>(<span class="string">"📊 چندک‌ها:"</span>)
<span class="keyword">for</span> p, v <span class="keyword">in</span> zip(percentiles, values):
    <span class="function">print</span>(<span class="string">f"P{p}: {v:.2f}"</span>)

<span class="comment"># quantile (معادل percentile/100)</span>
quantiles = [<span class="number">0.1</span>, <span class="number">0.5</span>, <span class="number">0.9</span>]
q_values = np.quantile(data, quantiles)
<span class="function">print</span>(<span class="string">f"\nکوانتایل‌ها: {dict(zip(quantiles, q_values))}"</span>)

<span class="comment"># تحلیل پنج عددی</span>
<span class="function">print</span>(<span class="string">f"\n🔍 خلاصه پنج عددی:"</span>)
five_num = [np.min(data), np.percentile(data, <span class="number">25</span>), 
           np.median(data), np.percentile(data, <span class="number">75</span>), np.max(data)]
labels = [<span class="string">'حداقل'</span>, <span class="string">'Q1'</span>, <span class="string">'میانه'</span>, <span class="string">'Q3'</span>, <span class="string">'حداکثر'</span>]
<span class="keyword">for</span> label, value <span class="keyword">in</span> zip(labels, five_num):
    <span class="function">print</span>(<span class="string">f"{label}: {value:.2f}"</span>)
                    </div>

                    <h3>📊 آماره‌های پیشرفته:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># کشیدگی و چولگی (نیاز به scipy دارد، اما می‌توان تقریب زد)</span>
<span class="keyword">def</span> <span class="function">skewness</span>(data):
    <span class="string">"""محاسبه چولگی"""</span>
    mean = np.mean(data)
    std = np.std(data)
    <span class="keyword">return</span> np.mean(((data - mean) / std) ** <span class="number">3</span>)

<span class="keyword">def</span> <span class="function">kurtosis</span>(data):
    <span class="string">"""محاسبه کشیدگی"""</span>
    mean = np.mean(data)
    std = np.std(data)
    <span class="keyword">return</span> np.mean(((data - mean) / std) ** <span class="number">4</span>) - <span class="number">3</span>

<span class="function">print</span>(<span class="string">f"چولگی: {skewness(data):.3f}"</span>)
<span class="function">print</span>(<span class="string">f"کشیدگی: {kurtosis(data):.3f}"</span>)

<span class="comment"># ضریب تنوع</span>
cv = (np.std(data) / np.mean(data)) * <span class="number">100</span>
<span class="function">print</span>(<span class="string">f"ضریب تنوع: {cv:.2f}%"</span>)

<span class="comment"># انحراف میانگین مطلق</span>
mad = np.mean(np.abs(data - np.mean(data)))
<span class="function">print</span>(<span class="string">f"انحراف میانگین مطلق: {mad:.2f}"</span>)

<span class="comment"># انحراف میانه مطلق</span>
med_abs_dev = np.median(np.abs(data - np.median(data)))
<span class="function">print</span>(<span class="string">f"انحراف میانه مطلق: {med_abs_dev:.2f}"</span>)
                    </div>

                    <h3>📊 آمار برای آرایه‌های چندبعدی:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># ماتریس نمونه</span>
matrix = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">4</span>, <span class="number">5</span>))
<span class="function">print</span>(<span class="string">f"ماتریس نمونه:\n{matrix}"</span>)

<span class="comment"># آمار کل ماتریس</span>
<span class="function">print</span>(<span class="string">f"\n📊 آمار کل:"</span>)
<span class="function">print</span>(<span class="string">f"میانگین کل: {np.mean(matrix):.2f}"</span>)
<span class="function">print</span>(<span class="string">f"مجموع کل: {np.sum(matrix)}"</span>)
<span class="function">print</span>(<span class="string">f"حداکثر کل: {np.max(matrix)}"</span>)
<span class="function">print</span>(<span class="string">f"حداقل کل: {np.min(matrix)}"</span>)

<span class="comment"># آمار بر اساس محور (axis)</span>
<span class="function">print</span>(<span class="string">f"\n📈 آمار محورها:"</span>)
<span class="function">print</span>(<span class="string">f"میانگین ستون‌ها (axis=0): {np.mean(matrix, axis=0)}"</span>)
<span class="function">print</span>(<span class="string">f"میانگین سطرها (axis=1): {np.mean(matrix, axis=1)}"</span>)
<span class="function">print</span>(<span class="string">f"مجموع ستون‌ها: {np.sum(matrix, axis=0)}"</span>)
<span class="function">print</span>(<span class="string">f"مجموع سطرها: {np.sum(matrix, axis=1)}"</span>)

<span class="comment"># انحراف معیار محورها</span>
<span class="function">print</span>(<span class="string">f"انحراف معیار ستون‌ها: {np.std(matrix, axis=0)}"</span>)
<span class="function">print</span>(<span class="string">f"انحراف معیار سطرها: {np.std(matrix, axis=1)}"</span>)

<span class="comment"># ایندکس حداکثر و حداقل</span>
<span class="function">print</span>(<span class="string">f"\n🎯 ایندکس‌ها:"</span>)
<span class="function">print</span>(<span class="string">f"ایندکس حداکثر کل: {np.argmax(matrix)}"</span>)
<span class="function">print</span>(<span class="string">f"ایندکس حداکثر در هر ستون: {np.argmax(matrix, axis=0)}"</span>)
<span class="function">print</span>(<span class="string">f"ایندکس حداکثر در هر سطر: {np.argmax(matrix, axis=1)}"</span>)

<span class="comment"># تبدیل ایندکس یک‌بعدی به چندبعدی</span>
flat_idx = np.argmax(matrix)
row, col = np.unravel_index(flat_idx, matrix.shape)
<span class="function">print</span>(<span class="string">f"موقعیت حداکثر: ({row}, {col})"</span>)
<span class="function">print</span>(<span class="string">f"مقدار حداکثر: {matrix[row, col]}"</span>)
                    </div>

                    <h3>🔍 تابع‌های جستجو و شمارش:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نمونه</span>
arr = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">3</span>])
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)

<span class="comment"># مقادیر منحصربه‌فرد</span>
unique_values = np.unique(arr)
<span class="function">print</span>(<span class="string">f"مقادیر منحصربه‌فرد: {unique_values}"</span>)

<span class="comment"># شمارش تکرارها</span>
values, counts = np.unique(arr, return_counts=<span class="keyword">True</span>)
<span class="function">print</span>(<span class="string">f"مقادیر: {values}"</span>)
<span class="function">print</span>(<span class="string">f"تعداد تکرار: {counts}"</span>)

<span class="comment"># ایندکس اولین ظاهر شدن</span>
_, indices = np.unique(arr, return_index=<span class="keyword">True</span>)
<span class="function">print</span>(<span class="string">f"ایندکس اولین ظهور: {indices}"</span>)

<span class="comment"># معکوس ایندکس‌ها</span>
_, inverse = np.unique(arr, return_inverse=<span class="keyword">True</span>)
<span class="function">print</span>(<span class="string">f"ایندکس‌های معکوس: {inverse}"</span>)

<span class="comment"># جستجو در آرایه مرتب</span>
sorted_arr = np.sort(arr)
<span class="function">print</span>(<span class="string">f"آرایه مرتب: {sorted_arr}"</span>)
<span class="function">print</span>(<span class="string">f"جایگاه درج 4: {np.searchsorted(sorted_arr, 4)}"</span>)
<span class="function">print</span>(<span class="string">f"جایگاه درج [2, 6, 8]: {np.searchsorted(sorted_arr, [2, 6, 8])}"</span>)

<span class="comment"># تست عضویت</span>
test_values = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>]
membership = np.isin(test_values, arr)
<span class="function">print</span>(<span class="string">f"آیا {test_values} در آرایه هست؟ {membership}"</span>)

<span class="comment"># عناصر مشترک</span>
arr2 = np.array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">8</span>])
common = np.intersect1d(arr, arr2)
<span class="function">print</span>(<span class="string">f"عناصر مشترک: {common}"</span>)

<span class="comment"># اجتماع</span>
union = np.union1d(arr, arr2)
<span class="function">print</span>(<span class="string">f"اجتماع: {union}"</span>)

<span class="comment"># تفاضل</span>
diff = np.setdiff1d(arr, arr2)
<span class="function">print</span>(<span class="string">f"تفاضل (arr - arr2): {diff}"</span>)
                    </div>

                    <div class="method-grid">
                        <div class="method-card">
                            <div class="method-name">np.mean()</div>
                            <div class="method-desc">میانگین</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.std()</div>
                            <div class="method-desc">انحراف معیار</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.percentile()</div>
                            <div class="method-desc">چندک</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.unique()</div>
                            <div class="method-desc">مقادیر منحصربه‌فرد</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.argmax()</div>
                            <div class="method-desc">ایندکس حداکثر</div>
                        </div>
                        <div class="method-card">
                            <div class="method-name">np.sum()</div>
                            <div class="method-desc">مجموع</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <div class="tip-title">💡 نکات مهم آماری:</div>
                        <ul>
                            <li><strong>axis=0:</strong> عملیات روی ستون‌ها (عمودی)</li>
                            <li><strong>axis=1:</strong> عملیات روی سطرها (افقی)</li>
                            <li><strong>ddof:</strong> درجات آزادی برای انحراف معیار</li>
                            <li><strong>keepdims:</strong> حفظ ابعاد در نتیجه</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 8: Broadcasting -->
            <div class="slide" id="slide8">
                <div class="slide-number">8/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">📡</div>
                <div class="slide-title">Broadcasting: عملیات روی آرایه‌های مختلف الشکل</div>
                <div class="slide-content">
                    <h3>🤔 Broadcasting چیست؟</h3>
                    <p>Broadcasting قابلیتی در NumPy است که اجازه انجام عملیات ریاضی روی آرایه‌های با شکل‌های متفاوت را می‌دهد.</p>

                    <div class="operation-demo">
                        <div class="array-box">
                            آرایه A: (3, 1)<br>
                            [[1]<br> [2]<br> [3]]
                        </div>
                        <div class="operator">+</div>
                        <div class="array-box">
                            آرایه B: (3,)<br>
                            [10, 20, 30]
                        </div>
                        <div class="operator">=</div>
                        <div class="array-box">
                            نتیجه: (3, 3)<br>
                            [[11, 21, 31]<br> [12, 22, 32]<br> [13, 23, 33]]
                        </div>
                    </div>

                    <h3>📏 قوانین Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># قانون 1: اسکالر با آرایه</span>
arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
scalar = <span class="number">10</span>
result = arr + scalar
<span class="function">print</span>(<span class="string">f"آرایه: {arr}"</span>)
<span class="function">print</span>(<span class="string">f"اسکالر: {scalar}"</span>)
<span class="function">print</span>(<span class="string">f"نتیجه: {result}"</span>)

<span class="comment"># قانون 2: آرایه‌های همسایز</span>
a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])
b = np.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>])
result = a * b
<span class="function">print</span>(<span class="string">f"\na: {a}"</span>)
<span class="function">print</span>(<span class="string">f"b: {b}"</span>)
<span class="function">print</span>(<span class="string">f"a * b: {result}"</span>)

<span class="comment"># قانون 3: ابعاد 1 قابل گسترش</span>
matrix = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])
vector = np.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>])
result = matrix + vector
<span class="function">print</span>(<span class="string">f"\nماتریس (2,3):\n{matrix}"</span>)
<span class="function">print</span>(<span class="string">f"بردار (3,): {vector}"</span>)
<span class="function">print</span>(<span class="string">f"نتیجه:\n{result}"</span>)
                    </div>

                    <h3>📊 مثال‌های پیشرفته Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># broadcasting دوطرفه</span>
a = np.arange(<span class="number">3</span>).reshape(<span class="number">3</span>, <span class="number">1</span>)  <span class="comment"># (3, 1)</span>
b = np.arange(<span class="number">3</span>)                    <span class="comment"># (3,)</span>

<span class="function">print</span>(<span class="string">f"a شکل {a.shape}:\n{a}"</span>)
<span class="function">print</span>(<span class="string">f"b شکل {b.shape}: {b}"</span>)

result = a + b
<span class="function">print</span>(<span class="string">f"نتیجه شکل {result.shape}:\n{result}"</span>)

<span class="comment"># broadcasting سه‌بعدی</span>
arr_3d = np.ones((<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))
arr_2d = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>)

<span class="function">print</span>(<span class="string">f"\nآرایه 3D شکل: {arr_3d.shape}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه 2D شکل: {arr_2d.shape}"</span>)

result_3d = arr_3d + arr_2d
<span class="function">print</span>(<span class="string">f"نتیجه شکل: {result_3d.shape}"</span>)

<span class="comment"># نمایش یک slice از نتیجه</span>
<span class="function">print</span>(<span class="string">f"اولین slice نتیجه:\n{result_3d[0]}"</span>)
                    </div>

                    <h3>✅ مثال‌های معتبر Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># مثال 1: (4, 1) + (3,) → (4, 3)</span>
a = np.arange(<span class="number">4</span>).reshape(<span class="number">4</span>, <span class="number">1</span>)
b = np.arange(<span class="number">3</span>)
<span class="function">print</span>(<span class="string">f"a شکل {a.shape}:\n{a}"</span>)
<span class="function">print</span>(<span class="string">f"b شکل {b.shape}: {b}"</span>)
result = a + b
<span class="function">print</span>(<span class="string">f"نتیجه شکل {result.shape}:\n{result}"</span>)

<span class="comment"># مثال 2: (3, 1, 2) + (1, 4, 1) → (3, 4, 2)</span>
x = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>))
y = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>))
<span class="function">print</span>(<span class="string">f"\nx شکل {x.shape}"</span>)
<span class="function">print</span>(<span class="string">f"y شکل {y.shape}"</span>)
result = x * y
<span class="function">print</span>(<span class="string">f"نتیجه شکل: {result.shape}"</span>)

<span class="comment"># مثال 3: استفاده در محاسبات ماتریسی</span>
matrix = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">3</span>, <span class="number">4</span>))
row_means = np.mean(matrix, axis=<span class="number">1</span>, keepdims=<span class="keyword">True</span>)

<span class="function">print</span>(<span class="string">f"\nماتریس:\n{matrix}"</span>)
<span class="function">print</span>(<span class="string">f"میانگین سطرها:\n{row_means}"</span>)

<span class="comment"># تفریق میانگین از هر سطر (center کردن)</span>
centered = matrix - row_means
<span class="function">print</span>(<span class="string">f"ماتریس متمرکز:\n{centered}"</span>)
                    </div>

                    <h3>❌ مثال‌های نامعتبر Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># مثال نامعتبر 1: (3,) + (4,) - ابعاد مختلف</span>
<span class="keyword">try</span>:
    a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])      <span class="comment"># (3,)</span>
    b = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])  <span class="comment"># (4,)</span>
    result = a + b
<span class="keyword">except</span> ValueError <span class="keyword">as</span> e:
    <span class="function">print</span>(<span class="string">f"خطا: {e}"</span>)

<span class="comment"># مثال نامعتبر 2: (2, 3) + (3, 2) - ابعاد ناسازگار</span>
<span class="keyword">try</span>:
    a = np.ones((<span class="number">2</span>, <span class="number">3</span>))
    b = np.ones((<span class="number">3</span>, <span class="number">2</span>))
    result = a + b
<span class="keyword">except</span> ValueError <span class="keyword">as</span> e:
    <span class="function">print</span>(<span class="string">f"خطا: {e}"</span>)

<span class="comment"># راه حل: استفاده از reshape یا transpose</span>
a = np.ones((<span class="number">2</span>, <span class="number">3</span>))
b = np.ones((<span class="number">3</span>, <span class="number">2</span>))

<span class="comment"># راه حل 1: transpose</span>
result1 = a + b.T
<span class="function">print</span>(<span class="string">f"با transpose: شکل {result1.shape}"</span>)

<span class="comment"># راه حل 2: reshape</span>
b_reshaped = b.reshape(<span class="number">2</span>, <span class="number">3</span>)
result2 = a + b_reshaped
<span class="function">print</span>(<span class="string">f"با reshape: شکل {result2.shape}"</span>)
                    </div>

                    <h3>🛠️ ابزارهای کمکی Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># بررسی امکان broadcasting</span>
<span class="keyword">def</span> <span class="function">can_broadcast</span>(shape1, shape2):
    <span class="string">"""بررسی امکان broadcasting دو شکل"""</span>
    <span class="comment"># پد کردن شکل‌های کوتاه‌تر</span>
    ndim = max(len(shape1), len(shape2))
    shape1 = (<span class="number">1</span>,) * (ndim - len(shape1)) + shape1
    shape2 = (<span class="number">1</span>,) * (ndim - len(shape2)) + shape2
    
    <span class="keyword">for</span> s1, s2 <span class="keyword">in</span> zip(shape1, shape2):
        <span class="keyword">if</span> s1 != <span class="number">1</span> <span class="keyword">and</span> s2 != <span class="number">1</span> <span class="keyword">and</span> s1 != s2:
            <span class="keyword">return</span> <span class="keyword">False</span>
    <span class="keyword">return</span> <span class="keyword">True</span>

<span class="comment"># تست تابع</span>
<span class="function">print</span>(<span class="string">f"(3,) + (4,): {can_broadcast((3,), (4,))}"</span>)
<span class="function">print</span>(<span class="string">f"(3, 1) + (4,): {can_broadcast((3, 1), (4,))}"</span>)
<span class="function">print</span>(<span class="string">f"(3, 4) + (4,): {can_broadcast((3, 4), (4,))}"</span>)

<span class="comment"># استفاده از broadcast_arrays</span>
a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])
b = np.array([[<span class="number">10</span>], [<span class="number">20</span>]])

broadcasted = np.broadcast_arrays(a, b)
<span class="function">print</span>(<span class="string">f"\nاشکال اصلی: {a.shape}, {b.shape}"</span>)
<span class="function">print</span>(<span class="string">f"اشکال broadcast شده: {broadcasted[0].shape}, {broadcasted[1].shape}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه اول:\n{broadcasted[0]}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه دوم:\n{broadcasted[1]}"</span>)

<span class="comment"># محاسبه شکل نهایی</span>
result_shape = np.broadcast_shapes(a.shape, b.shape)
<span class="function">print</span>(<span class="string">f"شکل نهایی: {result_shape}"</span>)
                    </div>

                    <h3>🎯 کاربردهای عملی Broadcasting:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># کاربرد 1: نرمال‌سازی داده‌ها</span>
data = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">5</span>, <span class="number">4</span>))
<span class="function">print</span>(<span class="string">f"داده خام:\n{data}"</span>)

<span class="comment"># نرمال‌سازی Z-score (هر ستون جداگانه)</span>
mean = np.mean(data, axis=<span class="number">0</span>)
std = np.std(data, axis=<span class="number">0</span>)

normalized = (data - mean) / std
<span class="function">print</span>(<span class="string">f"\nمیانگین ستون‌ها: {mean}"</span>)
<span class="function">print</span>(<span class="string">f"انحراف معیار ستون‌ها: {std}"</span>)
<span class="function">print</span>(<span class="string">f"داده نرمال شده:\n{normalized}"</span>)

<span class="comment"># کاربرد 2: محاسبه فاصله اقلیدسی</span>
points = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]])
query_point = np.array([<span class="number">2</span>, <span class="number">3</span>])

<span class="comment"># فاصله از نقطه مرجع</span>
distances = np.sqrt(np.sum((points - query_point)**<span class="number">2</span>, axis=<span class="number">1</span>))
<span class="function">print</span>(<span class="string">f"\nنقاط: {points}"</span>)
<span class="function">print</span>(<span class="string">f"نقطه مرجع: {query_point}"</span>)
<span class="function">print</span>(<span class="string">f"فاصله‌ها: {distances}"</span>)

<span class="comment"># کاربرد 3: ایجاد mesh grid برای نمودار</span>
x = np.linspace(-<span class="number">2</span>, <span class="number">2</span>, <span class="number">5</span>)
y = np.linspace(-<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)

X, Y = np.meshgrid(x, y)
Z = X**<span class="number">2</span> + Y**<span class="number">2</span>  <span class="comment"># تابع دوبعدی</span>

<span class="function">print</span>(<span class="string">f"\nX:\n{X}"</span>)
<span class="function">print</span>(<span class="string">f"Y:\n{Y}"</span>)
<span class="function">print</span>(<span class="string">f"Z = X² + Y²:\n{Z}"</span>)
                    </div>

                    <div class="info-box">
                        <div class="info-title">📋 قوانین Broadcasting:</div>
                        <ol>
                            <li><strong>هم‌اندازه:</strong> ابعاد مساوی یا یکی از آنها 1 باشد</li>
                            <li><strong>از راست شروع:</strong> مقایسه ابعاد از سمت راست</li>
                            <li><strong>گسترش:</strong> ابعاد 1 به اندازه مورد نیاز گسترش می‌یابد</li>
                            <li><strong>شکل نهایی:</strong> بیشترین اندازه در هر بعد</li>
                        </ol>
                    </div>

                    <div class="warning-box">
                        <div class="warning-title">⚠️ نکات مهم:</div>
                        <ul>
                            <li>Broadcasting view ایجاد می‌کند، کپی نه</li>
                            <li>مراقب استفاده حافظه در آرایه‌های بزرگ باشید</li>
                            <li>همیشه اشکال آرایه‌ها را بررسی کنید</li>
                            <li>از keepdims=True برای حفظ ابعاد استفاده کنید</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- اسلاید 9: عملیات آرایه‌ای -->
            <div class="slide" id="slide9">
                <div class="slide-number">9/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">🔧</div>
                <div class="slide-title">عملیات پیشرفته آرایه‌ای</div>
                <div class="slide-content">
                    <h3>🔗 اتصال و تقسیم آرایه‌ها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه‌های نمونه</span>
a = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])
b = np.array([[<span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>]])
<span class="function">print</span>(<span class="string">f"آرایه a:\n{a}"</span>)
<span class="function">print</span>(<span class="string">f"آرایه b:\n{b}"</span>)

<span class="comment"># اتصال عمودی (روی هم)</span>
vertical_concat = np.vstack((a, b))
<span class="function">print</span>(<span class="string">f"\nاتصال عمودی (vstack):\n{vertical_concat}"</span>)

<span class="comment"># اتصال افقی (کنار هم)</span>
horizontal_concat = np.hstack((a, b))
<span class="function">print</span>(<span class="string">f"\nاتصال افقی (hstack):\n{horizontal_concat}"</span>)

<span class="comment"># اتصال با concatenate</span>
concat_axis0 = np.concatenate((a, b), axis=<span class="number">0</span>)  <span class="comment"># مثل vstack</span>
concat_axis1 = np.concatenate((a, b), axis=<span class="number">1</span>)  <span class="comment"># مثل hstack</span>
<span class="function">print</span>(<span class="string">f"\nconcatenate axis=0:\n{concat_axis0}"</span>)
<span class="function">print</span>(<span class="string">f"\nconcatenate axis=1:\n{concat_axis1}"</span>)

<span class="comment"># اتصال آرایه‌های یک‌بعدی</span>
arr1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])
arr2 = np.array([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])
combined = np.concatenate((arr1, arr2))
<span class="function">print</span>(<span class="string">f"\nاتصال 1D: {combined}"</span>)

<span class="comment"># اتصال سه‌بعدی</span>
cube1 = np.ones((<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))
cube2 = np.zeros((<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))
stacked_3d = np.stack((cube1, cube2), axis=<span class="number">0</span>)
<span class="function">print</span>(<span class="string">f"\nشکل stack شده: {stacked_3d.shape}"</span>)
                    </div>

                    <h3>✂️ تقسیم آرایه‌ها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه بزرگ نمونه</span>
large_array = np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>, <span class="number">5</span>)
<span class="function">print</span>(<span class="string">f"آرایه اصلی:\n{large_array}"</span>)

<span class="comment"># تقسیم افقی</span>
h_splits = np.hsplit(large_array, <span class="number">5</span>)  <span class="comment"># تقسیم به 5 قسمت</span>
<span class="function">print</span>(<span class="string">f"\nتعداد قسمت‌های افقی: {len(h_splits)}"</span>)
<span class="function">print</span>(<span class="string">f"قسمت اول:\n{h_splits[0]}"</span>)

<span class="comment"># تقسیم عمودی</span>
v_splits = np.vsplit(large_array, <span class="number">2</span>)  <span class="comment"># تقسیم به 2 قسمت</span>
<span class="function">print</span>(<span class="string">f"\nتعداد قسمت‌های عمودی: {len(v_splits)}"</span>)
<span class="function">print</span>(<span class="string">f"قسمت اول:\n{v_splits[0]}"</span>)

<span class="comment"># تقسیم با ایندکس‌های مشخص</span>
split_indices = [<span class="number">2</span>, <span class="number">3</span>]
parts = np.split(large_array, split_indices, axis=<span class="number">0</span>)
<span class="function">print</span>(<span class="string">f"\nتقسیم در ایندکس‌های {split_indices}:"</span>)
<span class="keyword">for</span> i, part <span class="keyword">in</span> <span class="function">enumerate</span>(parts):
    <span class="function">print</span>(<span class="string">f"قسمت {i}:\n{part}"</span>)

<span class="comment"># تقسیم آرایه یک‌بعدی</span>
arr_1d = np.arange(<span class="number">12</span>)
chunks = np.array_split(arr_1d, <span class="number">5</span>)  <span class="comment"># تقسیم نابرابر مجاز</span>
<span class="function">print</span>(<span class="string">f"\nآرایه 1D: {arr_1d}"</span>)
<span class="function">print</span>(<span class="string">f"تقسیم به 5 قسمت:"</span>)
<span class="keyword">for</span> i, chunk <span class="keyword">in</span> <span class="function">enumerate</span>(chunks):
    <span class="function">print</span>(<span class="string">f"  قسمت {i}: {chunk}"</span>)
                    </div>

                    <h3>🔄 مرتب‌سازی آرایه‌ها:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
<span class="comment"># آرایه نامرتب</span>
unsorted = np.array([<span class="number">64</span>, <span class="number">34</span>, <span class="number">25</span>, <span class="number">12</span>, <span class="number">22</span>, <span class="number">11</span>, <span class="number">90</span>])
<span class="function">print</span>(<span class="string">f"آرایه نامرتب: {unsorted}"</span>)

<span class="comment"># مرتب‌سازی ساده</span>
sorted_array = np.sort(unsorted)
<span class="function">print</span>(<span class="string">f"مرتب شده: {sorted_array}"</span>)

<span class="comment"># مرتب‌سازی نزولی</span>
sorted_desc = np.sort(unsorted)[::-<span class="number">1</span>]
<span class="function">print</span>(<span class="string">f"نزولی: {sorted_desc}"</span>)

<span class="comment"># ایندکس‌های مرتب‌سازی</span>
sort_indices = np.argsort(unsorted)
<span class="function">print</span>(<span class="string">f"ایندکس‌های مرتب: {sort_indices}"</span>)
<span class="function">print</span>(<span class="string">f"مرتب با ایندکس: {unsorted[sort_indices]}"</span>)

<span class="comment"># مرتب‌سازی ماتریس</span>
matrix = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">3</span>, <span class="number">4</span>))
<span class="function">print</span>(<span class="string">f"\nماتریس اصلی:\n{matrix}"</span>)

<span class="comment"># مرتب‌سازی هر سطر</span>
sorted_rows = np.sort(matrix, axis=<span class="number">1</span>)
<span class="function">print</span>(<span class="string">f"سطرها مرتب:\n{sorted_rows}"</span>)

<span class="comment"># مرتب‌سازی هر ستون</span>
sorted_cols = np.sort(matrix, axis=<span class="number">0</span>)
<span class="function">print</span>(<span class="string">f"ستون‌ها مرتب:\n{sorted_cols}"</span>)

<span class="comment"># مرتب‌سازی پیچیده (lexsort)</span>
names = np.array([<span class="string">'Alice'</span>, <span class="string">'Bob'</span>, <span class="string">'Charlie'</span>, <span class="string">'Alice'</span>])
ages = np.array([<span class="number">25</span>, <span class="number">30</span>, <span class="number">35</span>, <span class="number">22</span>])
scores = np.array([<span class="number">85</span>, <span class="number">92</span>, <span class="number">78</span>, <span class="number">95</span>])

<span class="comment"># مرتب‌سازی ابتدا بر اساس نام، سپس سن</span>
sorted_indices = np.lexsort((ages, names))
<span class="function">print</span>(<span class="string">f"\nداده‌های مرتب:"</span>)
<span class="keyword">for</span> i <span class="keyword">in</span> sorted_indices:
    <span class="function">print</span>(<span class="string">f"{names[i]}, {ages[i]} سال, نمره {scores[i]}"</span>)
                    </div>

                    <h3>🔍 جستجوی پیشرفته:</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># آرایه مرتب برای جستجو</span>
                        sorted_arr = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">15</span>])
                        <span class="function">print</span>(<span class="string">f"آرایه مرتب: {sorted_arr}"</span>)
                        
                        <span class="comment"># جستجوی باینری</span>
                        search_values = [<span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>]
                        positions = np.searchsorted(sorted_arr, search_values)
                        <span class="function">print</span>(<span class="string">f"موقعیت درج {search_values}: {positions}"</span>)
                        
                        <span class="comment"># جستجوی سمت چپ و راست</span>
                        duplicates = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>])
                        left_pos = np.searchsorted(duplicates, <span class="number">2</span>, side=<span class="string">'left'</span>)
                        right_pos = np.searchsorted(duplicates, <span class="number">2</span>, side=<span class="string">'right'</span>)
                        <span class="function">print</span>(<span class="string">f"\nآرایه با تکرار: {duplicates}"</span>)
                        <span class="function">print</span>(<span class="string">f"موقعیت چپ عدد 2: {left_pos}"</span>)
                        <span class="function">print</span>(<span class="string">f"موقعیت راست عدد 2: {right_pos}"</span>)
                        
                        <span class="comment"># پیدا کردن عناصر نزدیک</span>
                        data = np.array([<span class="number">1.1</span>, <span class="number">2.3</span>, <span class="number">3.7</span>, <span class="number">4.2</span>, <span class="number">5.8</span>])
                        target = <span class="number">3.5</span>
                        closest_idx = np.argmin(np.abs(data - target))
                        <span class="function">print</span>(<span class="string">f"\nداده: {data}"</span>)
                        <span class="function">print</span>(<span class="string">f"هدف: {target}"</span>)
                        <span class="function">print</span>(<span class="string">f"نزدیک‌ترین: {data[closest_idx]} در ایندکس {closest_idx}"</span>)
                        
                        <span class="comment"># جستجوی شرطی پیشرفته</span>
                        matrix = np.random.randint(<span class="number">1</span>, <span class="number">20</span>, (<span class="number">4</span>, <span class="number">5</span>))
                        <span class="function">print</span>(<span class="string">f"\nماتریس:\n{matrix}"</span>)
                        
                        <span class="comment"># پیدا کردن موقعیت عناصر بزرگتر از 10</span>
                        condition = matrix > <span class="number">10</span>
                        positions = np.where(condition)
                        <span class="function">print</span>(<span class="string">f"عناصر > 10 در موقعیت‌های:"</span>)
                        <span class="keyword">for</span> row, col <span class="keyword">in</span> zip(positions[<span class="number">0</span>], positions[<span class="number">1</span>]):
                            <span class="function">print</span>(<span class="string">f"  ({row}, {col}): {matrix[row, col]}"</span>)
                        
                        <span class="comment"># استفاده از nonzero</span>
                        nonzero_positions = np.nonzero(condition)
                        <span class="function">print</span>(<span class="string">f"موقعیت‌های غیرصفر: {nonzero_positions}"</span>)
                                            </div>
                        
                                            <h3>🎭 ماسک‌گذاری پیشرفته:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># آرایه داده نمونه</span>
                        data = np.array([<span class="number">-2</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])
                        <span class="function">print</span>(<span class="string">f"داده اصلی: {data}"</span>)
                        
                        <span class="comment"># ماسک ساده</span>
                        positive_mask = data > <span class="number">0</span>
                        positive_values = data[positive_mask]
                        <span class="function">print</span>(<span class="string">f"ماسک مثبت: {positive_mask}"</span>)
                        <span class="function">print</span>(<span class="string">f"مقادیر مثبت: {positive_values}"</span>)
                        
                        <span class="comment"># ماسک ترکیبی</span>
                        range_mask = (data >= <span class="number">1</span>) & (data <= <span class="number">4</span>)
                        range_values = data[range_mask]
                        <span class="function">print</span>(<span class="string">f"ماسک محدوده [1,4]: {range_mask}"</span>)
                        <span class="function">print</span>(<span class="string">f"مقادیر در محدوده: {range_values}"</span>)
                        
                        <span class="comment"># تغییر مقادیر با ماسک</span>
                        data_copy = data.copy()
                        data_copy[data_copy < <span class="number">0</span>] = <span class="number">0</span>  <span class="comment"># منفی‌ها را صفر کن</span>
                        <span class="function">print</span>(<span class="string">f"بعد از تغییر منفی‌ها: {data_copy}"</span>)
                        
                        <span class="comment"># استفاده از where برای تغییر شرطی</span>
                        result = np.where(data < <span class="number">0</span>, <span class="number">0</span>, data)  <span class="comment"># منفی‌ها → 0</span>
                        <span class="function">print</span>(<span class="string">f"با np.where: {result}"</span>)
                        
                        <span class="comment"># ماسک‌گذاری ماتریس</span>
                        matrix = np.random.randint(-<span class="number">5</span>, <span class="number">10</span>, (<span class="number">3</span>, <span class="number">4</span>))
                        <span class="function">print</span>(<span class="string">f"\nماتریس اصلی:\n{matrix}"</span>)
                        
                        <span class="comment"># جایگزینی مقادیر منفی با NaN</span>
                        matrix_float = matrix.astype(float)
                        matrix_float[matrix_float < <span class="number">0</span>] = np.nan
                        <span class="function">print</span>(<span class="string">f"منفی‌ها → NaN:\n{matrix_float}"</span>)
                        
                        <span class="comment"># شمارش عناصر با شرط</span>
                        count_positive = np.sum(matrix > <span class="number">0</span>)
                        count_negative = np.sum(matrix < <span class="number">0</span>)
                        count_zero = np.sum(matrix == <span class="number">0</span>)
                        <span class="function">print</span>(<span class="string">f"\nمثبت: {count_positive}, منفی: {count_negative}, صفر: {count_zero}"</span>)
                                            </div>
                        
                                            <h3>🔄 تبدیل نوع داده:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># آرایه اعشاری</span>
                        float_arr = np.array([<span class="number">1.7</span>, <span class="number">2.3</span>, <span class="number">3.9</span>, <span class="number">4.1</span>])
                        <span class="function">print</span>(<span class="string">f"آرایه اعشاری: {float_arr}"</span>)
                        <span class="function">print</span>(<span class="string">f"نوع داده: {float_arr.dtype}"</span>)
                        
                        <span class="comment"># تبدیل به صحیح</span>
                        int_arr = float_arr.astype(int)
                        <span class="function">print</span>(<span class="string">f"تبدیل به int: {int_arr}"</span>)
                        <span class="function">print</span>(<span class="string">f"نوع داده: {int_arr.dtype}"</span>)
                        
                        <span class="comment"># تبدیل به رشته</span>
                        str_arr = float_arr.astype(str)
                        <span class="function">print</span>(<span class="string">f"تبدیل به str: {str_arr}"</span>)
                        <span class="function">print</span>(<span class="string">f"نوع داده: {str_arr.dtype}"</span>)
                        
                        <span class="comment"># تبدیل boolean</span>
                        bool_arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">5</span>, <span class="number">0</span>])
                        bool_result = bool_arr.astype(bool)
                        <span class="function">print</span>(<span class="string">f"\nآرایه عددی: {bool_arr}"</span>)
                        <span class="function">print</span>(<span class="string">f"تبدیل به bool: {bool_result}"</span>)
                        
                        <span class="comment"># تبدیل با دقت مشخص</span>
                        precise_arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=np.float32)
                        double_arr = precise_arr.astype(np.float64)
                        <span class="function">print</span>(<span class="string">f"float32: {precise_arr.dtype}"</span>)
                        <span class="function">print</span>(<span class="string">f"float64: {double_arr.dtype}"</span>)
                        
                        <span class="comment"># تبدیل ایمن</span>
                        large_numbers = np.array([<span class="number">300</span>, <span class="number">400</span>, <span class="number">500</span>])
                        <span class="keyword">try</span>:
                            small_int = large_numbers.astype(np.int8)  <span class="comment"># ممکن است overflow شود</span>
                            <span class="function">print</span>(<span class="string">f"تبدیل به int8: {small_int}"</span>)
                        <span class="keyword">except</span>:
                            <span class="function">print</span>(<span class="string">"خطا در تبدیل"</span>)
                        
                        <span class="comment"># بررسی امکان تبدیل</span>
                        <span class="function">print</span>(<span class="string">f"آیا می‌توان به int8 تبدیل کرد؟ {np.can_cast(large_numbers.dtype, np.int8)}"</span>)
                        <span class="function">print</span>(<span class="string">f"آیا می‌توان به int32 تبدیل کرد؟ {np.can_cast(large_numbers.dtype, np.int32)}"</span>)
                                            </div>
                        
                                            <h3>📊 عملیات مجموعه‌ای:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># آرایه‌های نمونه</span>
                        set1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])
                        set2 = np.array([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])
                        <span class="function">print</span>(<span class="string">f"مجموعه 1: {set1}"</span>)
                        <span class="function">print</span>(<span class="string">f"مجموعه 2: {set2}"</span>)
                        
                        <span class="comment"># اشتراک (intersection)</span>
                        intersection = np.intersect1d(set1, set2)
                        <span class="function">print</span>(<span class="string">f"اشتراک: {intersection}"</span>)
                        
                        <span class="comment"># اجتماع (union)</span>
                        union = np.union1d(set1, set2)
                        <span class="function">print</span>(<span class="string">f"اجتماع: {union}"</span>)
                        
                        <span class="comment"># تفاضل (difference)</span>
                        diff1 = np.setdiff1d(set1, set2)  <span class="comment"># در set1 اما نه در set2</span>
                        diff2 = np.setdiff1d(set2, set1)  <span class="comment"># در set2 اما نه در set1</span>
                        <span class="function">print</span>(<span class="string">f"set1 - set2: {diff1}"</span>)
                        <span class="function">print</span>(<span class="string">f"set2 - set1: {diff2}"</span>)
                        
                        <span class="comment"># تفاضل متقارن (symmetric difference)</span>
                        sym_diff = np.setxor1d(set1, set2)
                        <span class="function">print</span>(<span class="string">f"تفاضل متقارن: {sym_diff}"</span>)
                        
                        <span class="comment"># بررسی عضویت</span>
                        test_elements = [<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>]
                        in_set1 = np.isin(test_elements, set1)
                        in_set2 = np.isin(test_elements, set2)
                        <span class="function">print</span>(<span class="string">f"\n{test_elements} در set1: {in_set1}"</span>)
                        <span class="function">print</span>(<span class="string">f"{test_elements} در set2: {in_set2}"</span>)
                        
                        <span class="comment"># عملیات با آرایه‌های دوبعدی</span>
                        matrix1 = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])
                        matrix2 = np.array([[<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]])
                        
                        <span class="comment"># تبدیل به یک‌بعدی برای عملیات مجموعه‌ای</span>
                        flat1 = matrix1.flatten()
                        flat2 = matrix2.flatten()
                        common_elements = np.intersect1d(flat1, flat2)
                        <span class="function">print</span>(<span class="string">f"\nعناصر مشترک ماتریس‌ها: {common_elements}"</span>)
                                            </div>
                        
                                            <div class="method-grid">
                                                <div class="method-card">
                                                    <div class="method-name">np.concatenate()</div>
                                                    <div class="method-desc">اتصال آرایه‌ها</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.split()</div>
                                                    <div class="method-desc">تقسیم آرایه</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.sort()</div>
                                                    <div class="method-desc">مرتب‌سازی</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.where()</div>
                                                    <div class="method-desc">انتخاب شرطی</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.unique()</div>
                                                    <div class="method-desc">عناصر منحصربه‌فرد</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.intersect1d()</div>
                                                    <div class="method-desc">اشتراک مجموعه‌ها</div>
                                                </div>
                                            </div>
                        
                                            <div class="tip-box">
                                                <div class="tip-title">🎯 نکات عملیاتی:</div>
                                                <ul>
                                                    <li><strong>Memory efficiency:</strong> از view استفاده کنید تا copy نه</li>
                                                    <li><strong>Axis parameter:</strong> محور عملیات را مشخص کنید</li>
                                                    <li><strong>In-place operations:</strong> برای صرفه‌جویی حافظه</li>
                                                    <li><strong>Vectorization:</strong> از حلقه‌های Python اجتناب کنید</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                        
                                    <!-- اسلاید 10: ورودی و خروجی -->
                                    <div class="slide" id="slide10">
                                        <div class="slide-number">10/12</div>
                                        <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                                        <button class="close-btn" onclick="closeSlide(this)">×</button>
                                        <div class="icon">💾</div>
                                        <div class="slide-title">ورودی و خروجی داده‌ها</div>
                                        <div class="slide-content">
                                            <h3>📁 ذخیره و بارگذاری فایل‌های NumPy:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># ایجاد آرایه نمونه</span>
                        data = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">5</span>, <span class="number">4</span>))
                        <span class="function">print</span>(<span class="string">f"داده اصلی:\n{data}"</span>)
                        
                        <span class="comment"># ذخیره در فرمت باینری NumPy (.npy)</span>
                        np.save(<span class="string">'data.npy'</span>, data)
                        <span class="function">print</span>(<span class="string">"داده در data.npy ذخیره شد"</span>)
                        
                        <span class="comment"># بارگذاری از فایل .npy</span>
                        loaded_data = np.load(<span class="string">'data.npy'</span>)
                        <span class="function">print</span>(<span class="string">f"داده بارگذاری شده:\n{loaded_data}"</span>)
                        
                        <span class="comment"># بررسی برابری</span>
                        <span class="function">print</span>(<span class="string">f"آیا داده‌ها برابرند؟ {np.array_equal(data, loaded_data)}"</span>)
                        
                        <span class="comment"># ذخیره چندین آرایه در یک فایل (.npz)</span>
                        arr1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])
                        arr2 = np.array([[<span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>, <span class="number">7</span>]])
                        arr3 = np.random.random((<span class="number">3</span>, <span class="number">3</span>))
                        
                        np.savez(<span class="string">'multiple_arrays.npz'</span>, 
                                 first=arr1, 
                                 second=arr2, 
                                 third=arr3)
                        <span class="function">print</span>(<span class="string">"چندین آرایه در multiple_arrays.npz ذخیره شد"</span>)
                        
                        <span class="comment"># بارگذاری فایل .npz</span>
                        loaded_arrays = np.load(<span class="string">'multiple_arrays.npz'</span>)
                        <span class="function">print</span>(<span class="string">f"کلیدهای فایل: {list(loaded_arrays.keys())}"</span>)
                        <span class="function">print</span>(<span class="string">f"آرایه اول: {loaded_arrays['first']}"</span>)
                        <span class="function">print</span>(<span class="string">f"آرایه دوم:\n{loaded_arrays['second']}"</span>)
                        
                        <span class="comment"># ذخیره فشرده</span>
                        large_data = np.random.random((<span class="number">1000</span>, <span class="number">1000</span>))
                        np.savez_compressed(<span class="string">'compressed_data.npz'</span>, data=large_data)
                        <span class="function">print</span>(<span class="string">"داده بزرگ به صورت فشرده ذخیره شد"</span>)
                        
                        <span class="comment"># مقایسه اندازه فایل‌ها</span>
                        <span class="keyword">import</span> os
                        normal_size = os.path.getsize(<span class="string">'multiple_arrays.npz'</span>)
                        compressed_size = os.path.getsize(<span class="string">'compressed_data.npz'</span>)
                        <span class="function">print</span>(<span class="string">f"اندازه فایل معمولی: {normal_size} بایت"</span>)
                        <span class="function">print</span>(<span class="string">f"اندازه فایل فشرده: {compressed_size} بایت"</span>)
                                            </div>
                        
                                            <h3>📄 کار با فایل‌های متنی:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># ایجاد داده نمونه</span>
                        matrix = np.array([[<span class="number">1.5</span>, <span class="number">2.3</span>, <span class="number">3.7</span>],
                                           [<span class="number">4.1</span>, <span class="number">5.9</span>, <span class="number">6.2</span>],
                                           [<span class="number">7.8</span>, <span class="number">8.4</span>, <span class="number">9.6</span>]])
                        
                        <span class="comment"># ذخیره در فرمت متنی</span>
                        np.savetxt(<span class="string">'data.txt'</span>, matrix, fmt=<span class="string">'%.2f'</span>, delimiter=<span class="string">','</span>)
                        <span class="function">print</span>(<span class="string">"داده در data.txt ذخیره شد"</span>)
                        
                        <span class="comment"># خواندن فایل متنی</span>
                        loaded_matrix = np.loadtxt(<span class="string">'data.txt'</span>, delimiter=<span class="string">','</span>)
                        <span class="function">print</span>(<span class="string">f"داده بارگذاری شده:\n{loaded_matrix}"</span>)
                        
                        <span class="comment"># ذخیره با header</span>
                        np.savetxt(<span class="string">'data_with_header.csv'</span>, matrix, 
                                   fmt=<span class="string">'%.3f'</span>, 
                                   delimiter=<span class="string">','</span>,
                                   header=<span class="string">'col1,col2,col3'</span>,
                                   comments=<span class="string">''</span>)
                        
                        <span class="comment"># خواندن فایل CSV</span>
                        csv_data = np.loadtxt(<span class="string">'data_with_header.csv'</span>, 
                                              delimiter=<span class="string">','</span>, 
                                              skiprows=<span class="number">1</span>)  <span class="comment"># رد کردن header</span>
                        <span class="function">print</span>(<span class="string">f"داده CSV:\n{csv_data}"</span>)
                        
                        <span class="comment"># کار با داده‌های ناقص</span>
                        incomplete_data = <span class="string">"""1.0,2.0,3.0
                        4.0,,6.0
                        7.0,8.0,9.0"""</span>
                        
                        <span class="keyword">with</span> <span class="function">open</span>(<span class="string">'incomplete.csv'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> f:
                            f.write(incomplete_data)
                        
                        <span class="comment"># خواندن با genfromtxt برای مدیریت داده‌های ناقص</span>
                        incomplete_loaded = np.genfromtxt(<span class="string">'incomplete.csv'</span>, 
                                                          delimiter=<span class="string">','</span>,
                                                          filling_values=<span class="number">0</span>)  <span class="comment"># جایگزین کردن مقادیر خالی با 0</span>
                        <span class="function">print</span>(<span class="string">f"داده ناقص:\n{incomplete_loaded}"</span>)
                        
                        <span class="comment"># استفاده از NaN برای مقادیر ناقص</span>
                        incomplete_nan = np.genfromtxt(<span class="string">'incomplete.csv'</span>, 
                                                       delimiter=<span class="string">','</span>)
                        <span class="function">print</span>(<span class="string">f"با NaN:\n{incomplete_nan}"</span>)
                        <span class="function">print</span>(<span class="string">f"آیا NaN دارد؟ {np.isnan(incomplete_nan).any()}"</span>)
                                            </div>
                        
                                            <h3>🔢 کار با انواع داده مختلف:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># داده‌های مختلط (عدد و متن)</span>
                        mixed_data = np.array([(<span class="string">'Alice'</span>, <span class="number">25</span>, <span class="number">85.5</span>),
                                               (<span class="string">'Bob'</span>, <span class="number">30</span>, <span class="number">92.3</span>),
                                               (<span class="string">'Charlie'</span>, <span class="number">35</span>, <span class="number">78.9</span>)],
                                              dtype=[(<span class="string">'name'</span>, <span class="string">'U10'</span>), (<span class="string">'age'</span>, <span class="string">'i4'</span>), (<span class="string">'score'</span>, <span class="string">'f8'</span>)])
                        
                        <span class="function">print</span>(<span class="string">f"داده مختلط:\n{mixed_data}"</span>)
                        <span class="function">print</span>(<span class="string">f"نوع داده: {mixed_data.dtype}"</span>)
                        
                        <span class="comment"># دسترسی به فیلدها</span>
                        <span class="function">print</span>(<span class="string">f"نام‌ها: {mixed_data['name']}"</span>)
                        <span class="function">print</span>(<span class="string">f"سن‌ها: {mixed_data['age']}"</span>)
                        <span class="function">print</span>(<span class="string">f"نمرات: {mixed_data['score']}"</span>)
                        
                        <span class="comment"># ذخیره داده مختلط</span>
                        np.save(<span class="string">'mixed_data.npy'</span>, mixed_data)
                        
                        <span class="comment"># ذخیره در فرمت متنی با فرمت مخصوص</span>
                        np.savetxt(<span class="string">'mixed_data.txt'</span>, mixed_data, 
                                   fmt=<span class="string">'%s %d %.1f'</span>, 
                                   delimiter=<span class="string">' '</span>)
                        
                        <span class="comment"># خواندن داده مختلط از فایل متنی</span>
                        loaded_mixed = np.loadtxt(<span class="string">'mixed_data.txt'</span>, 
                                                  dtype=[(<span class="string">'name'</span>, <span class="string">'U10'</span>), (<span class="string">'age'</span>, <span class="string">'i4'</span>), (<span class="string">'score'</span>, <span class="string">'f8'</span>)])
                        <span class="function">print</span>(<span class="string">f"داده مختلط بارگذاری شده:\n{loaded_mixed}"</span>)
                        
                        <span class="comment"># کار با فایل‌های بزرگ (خواندن قسمتی)</span>
                        big_data = np.random.random((<span class="number">10000</span>, <span class="number">5</span>))
                        np.save(<span class="string">'big_data.npy'</span>, big_data)
                        
                        <span class="comment"># استفاده از memory mapping برای فایل‌های بزرگ</span>
                        mmap_data = np.load(<span class="string">'big_data.npy'</span>, mmap_mode=<span class="string">'r'</span>)
                        <span class="function">print</span>(<span class="string">f"شکل داده بزرگ: {mmap_data.shape}"</span>)
                        <span class="function">print</span>(<span class="string">f"نوع memory map: {type(mmap_data)}"</span>)
                        
                        <span class="comment"># خواندن قسمتی از داده</span>
                        subset = mmap_data[:<span class="number">5</span>, :<span class="number">3</span>]  <span class="comment"># فقط 5 سطر اول و 3 ستون اول</span>
                        <span class="function">print</span>(<span class="string">f"زیرمجموعه:\n{subset}"</span>)
                                            </div>
                        
                                            <h3>🌐 تبدیل به فرمت‌های دیگر:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># تبدیل به لیست Python</span>
                        numpy_array = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])
                        python_list = numpy_array.tolist()
                        <span class="function">print</span>(<span class="string">f"آرایه NumPy:\n{numpy_array}"</span>)
                        <span class="function">print</span>(<span class="string">f"لیست Python: {python_list}"</span>)
                        <span class="function">print</span>(<span class="string">f"نوع: {type(python_list)}"</span>)
                        
                        <span class="comment"># تبدیل به bytes</span>
                        byte_data = numpy_array.tobytes()
                        <span class="function">print</span>(<span class="string">f"اندازه bytes: {len(byte_data)} بایت"</span>)
                        
                        <span class="comment"># بازسازی از bytes</span>
                        restored_array = np.frombuffer(byte_data, dtype=numpy_array.dtype).reshape(numpy_array.shape)
                        <span class="function">print</span>(<span class="string">f"بازسازی شده:\n{restored_array}"</span>)
                        
                        <span class="comment"># تبدیل به string</span>
                        str_representation = np.array2string(numpy_array, separator=<span class="string">','</span>)
                        <span class="function">print</span>(<span class="string">f"نمایش رشته‌ای: {str_representation}"</span>)
                        
                        <span class="comment"># ذخیره در فرمت JSON (غیرمستقیم)</span>
                        <span class="keyword">import</span> json
                        json_data = {
                            <span class="string">'array'</span>: numpy_array.tolist(),
                            <span class="string">'shape'</span>: numpy_array.shape,
                            <span class="string">'dtype'</span>: str(numpy_array.dtype)
                        }
                        
                        <span class="keyword">with</span> <span class="function">open</span>(<span class="string">'data.json'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> f:
                            json.dump(json_data, f)
                        
                        <span class="comment"># خواندن از JSON</span>
                        <span class="keyword">with</span> <span class="function">open</span>(<span class="string">'data.json'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:
                            loaded_json = json.load(f)
                        
                        restored_from_json = np.array(loaded_json[<span class="string">'array'</span>], dtype=loaded_json[<span class="string">'dtype'</span>])
                        <span class="function">print</span>(<span class="string">f"بازسازی از JSON:\n{restored_from_json}"</span>)
                                            </div>
                        
                                            <h3>⚡ بهینه‌سازی عملیات I/O:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="keyword">import</span> time
                        
                        <span class="comment"># ایجاد داده بزرگ برای تست</span>
                        large_array = np.random.random((<span class="number">1000</span>, <span class="number">1000</span>))
                        
                        <span class="comment"># مقایسه سرعت فرمت‌های مختلف</span>
                        formats = {
                            <span class="string">'npy'</span>: (<span class="keyword">lambda</span> arr, name: np.save(name + <span class="string">'.npy'</span>, arr),
                                     <span class="keyword">lambda</span> name: np.load(name + <span class="string">'.npy'</span>)),
                            <span class="string">'npz'</span>: (<span class="keyword">lambda</span> arr, name: np.savez(name + <span class="string">'.npz'</span>, data=arr),
                                     <span class="keyword">lambda</span> name: np.load(name + <span class="string">'.npz'</span>)[<span class="string">'data'</span>]),
                            <span class="string">'txt'</span>: (<span class="keyword">lambda</span> arr, name: np.savetxt(name + <span class="string">'.txt'</span>, arr),
                                     <span class="keyword">lambda</span> name: np.loadtxt(name + <span class="string">'.txt'</span>))
                        }
                        
                        results = {}
                        <span class="keyword">for</span> fmt_name, (save_func, load_func) <span class="keyword">in</span> formats.items():
                            <span class="comment"># تست ذخیره</span>
                            start_time = time.time()
                            save_func(large_array, <span class="string">f'test_{fmt_name}'</span>)
                            save_time = time.time() - start_time
                            
                            <span class="comment"># تست بارگذاری</span>
                            start_time = time.time()
                            loaded = load_func(<span class="string">f'test_{fmt_name}'</span>)
                            load_time = time.time() - start_time
                            
                            <span class="comment"># اندازه فایل</span>
                            file_size = os.path.getsize(<span class="string">f'test_{fmt_name}.{fmt_name}'</span>)
                            
                            results[fmt_name] = {
                                <span class="string">'save_time'</span>: save_time,
                                <span class="string">'load_time'</span>: load_time,
                                <span class="string">'file_size'</span>: file_size
                            }
                        
                        <span class="function">print</span>(<span class="string">"🚀 مقایسه عملکرد فرمت‌ها:"</span>)
                        <span class="keyword">for</span> fmt, stats <span class="keyword">in</span> results.items():
                            <span class="function">print</span>(<span class="string">f"{fmt.upper()}:"</span>)
                            <span class="function">print</span>(<span class="string">f"  ذخیره: {stats['save_time']:.3f}s"</span>)
                            <span class="function">print</span>(<span class="string">f"  بارگذاری: {stats['load_time']:.3f}s"</span>)
                            <span class="function">print</span>(<span class="string">f"  اندازه: {stats['file_size']/1024/1024:.1f}MB"</span>)
                        
                        <span class="comment"># پاک کردن فایل‌های تست</span>
                        <span class="keyword">import</span> glob
                        test_files = glob.glob(<span class="string">'test_*'</span>) + glob.glob(<span class="string">'*.npy'</span>) + glob.glob(<span class="string">'*.npz'</span>) + glob.glob(<span class="string">'*.txt'</span>) + glob.glob(<span class="string">'*.csv'</span>) + glob.glob(<span class="string">'*.json'</span>)
                        <span class="keyword">for</span> file <span class="keyword">in</span> test_files:
                            <span class="keyword">try</span>:
                                os.remove(file)
                            <span class="keyword">except</span>:
                                <span class="keyword">pass</span>
                        <span class="function">print</span>(<span class="string">"\n🧹 فایل‌های تست پاک شدند"</span>)
                                            </div>
                        
                                            <div class="method-grid">
                                                <div class="method-card">
                                                    <div class="method-name">np.save()</div>
                                                    <div class="method-desc">ذخیره باینری</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.load()</div>
                                                    <div class="method-desc">بارگذاری</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.savetxt()</div>
                                                    <div class="method-desc">ذخیره متنی</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.loadtxt()</div>
                                                    <div class="method-desc">خواندن متنی</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.savez()</div>
                                                    <div class="method-desc">ذخیره چندگانه</div>
                                                </div>
                                                <div class="method-card">
                                                    <div class="method-name">np.genfromtxt()</div>
                                                    <div class="method-desc">خواندن پیشرفته</div>
                                                </div>
                                            </div>
                        
                                            <div class="info-box">
                                                <div class="info-title">💡 توصیه‌های فرمت:</div>
                                                <ul>
                                                    <li><strong>.npy:</strong> سریع‌ترین برای آرایه تکی</li>
                                                    <li><strong>.npz:</strong> برای چندین آرایه</li>
                                                    <li><strong>.txt/.csv:</strong> برای تبادل با نرم‌افزارهای دیگر</li>
                                                    <li><strong>Memory mapping:</strong> برای فایل‌های خیلی بزرگ</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                        
                                    <!-- اسلاید 11: کاربردهای عملی -->
                                    <div class="slide" id="slide11">
                                        <div class="slide-number">11/12</div>
                                        <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                                        <button class="close-btn" onclick="closeSlide(this)">×</button>
                                        <div class="icon">🎯</div>
                                        <div class="slide-title">کاربردهای عملی NumPy</div>
                                        <div class="slide-content">
                                            <h3>📊 تحلیل داده‌های آماری:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># شبیه‌سازی داده‌های فروش</span>
                        np.random.seed(<span class="number">42</span>)
                        
                        <span class="comment"># داده‌های فروش ماهانه (12 ماه، 5 محصول)</span>
                        products = [<span class="string">'محصول A'</span>, <span class="string">'محصول B'</span>, <span class="string">'محصول C'</span>, <span class="string">'محصول D'</span>, <span class="string">'محصول E'</span>]
                        months = [<span class="string">'فروردین'</span>, <span class="string">'اردیبهشت'</span>, <span class="string">'خرداد'</span>, <span class="string">'تیر'</span>, <span class="string">'مرداد'</span>, <span class="string">'شهریور'</span>,
                                  <span class="string">'مهر'</span>, <span class="string">'آبان'</span>, <span class="string">'آذر'</span>, <span class="string">'دی'</span>, <span class="string">'بهمن'</span>, <span class="string">'اسفند'</span>]
                        
                        <span class="comment"># تولید داده‌های فروش (میلیون تومان)</span>
                        sales_data = np.random.normal(<span class="number">50</span>, <span class="number">15</span>, (<span class="number">12</span>, <span class="number">5</span>))  <span class="comment"># 12 ماه، 5 محصول</span>
                        sales_data = np.maximum(sales_data, <span class="number">0</span>)  <span class="comment"># حذف مقادیر منفی</span>
                        
                        <span class="function">print</span>(<span class="string">"📈 داده‌های فروش (میلیون تومان):"</span>)
                        <span class="function">print</span>(<span class="string">f"شکل داده: {sales_data.shape}"</span>)
                        <span class="function">print</span>(<span class="string">f"نمونه داده:\n{sales_data[:3, :3]}"</span>)
                        
                        <span class="comment"># تحلیل آماری کلی</span>
                        <span class="function">print</span>(<span class="string">f"\n📊 آمار کلی:"</span>)
                        <span class="function">print</span>(<span class="string">f"کل فروش سال: {np.sum(sales_data):.1f} میلیون تومان"</span>)
                        <span class="function">print</span>(<span class="string">f"میانگین ماهانه: {np.mean(sales_data):.1f} میلیون تومان"</span>)
                        <span class="function">print</span>(<span class="string">f"بهترین ماه: {months[np.argmax(np.sum(sales_data, axis=1))]}"</span>)
                        <span class="function">print</span>(<span class="string">f"بهترین محصول: {products[np.argmax(np.sum(sales_data, axis=0))]}"</span>)
                        
                        <span class="comment"># تحلیل روند ماهانه</span>
                        monthly_totals = np.sum(sales_data, axis=<span class="number">1</span>)
                        <span class="function">print</span>(<span class="string">f"\n📅 فروش ماهانه:"</span>)
                        <span class="keyword">for</span> i, (month, total) <span class="keyword">in</span> <span class="function">enumerate</span>(zip(months, monthly_totals)):
                            <span class="function">print</span>(<span class="string">f"{month}: {total:.1f} میلیون تومان"</span>)
                        
                        <span class="comment"># تحلیل عملکرد محصولات</span>
                        product_totals = np.sum(sales_data, axis=<span class="number">0</span>)
                        product_performance = product_totals / np.sum(product_totals) * <span class="number">100</span>
                        
                        <span class="function">print</span>(<span class="string">f"\n🏆 سهم بازار محصولات:"</span>)
                        <span class="keyword">for</span> product, share <span class="keyword">in</span> zip(products, product_performance):
                            <span class="function">print</span>(<span class="string">f"{product}: {share:.1f}%"</span>)
                        
                        <span class="comment"># شناسایی الگوهای فصلی</span>
                        spring_sales = np.mean(sales_data[<span class="number">0</span>:<span class="number">3</span>])  <span class="comment"># فروردین تا خرداد</span>
                        summer_sales = np.mean(sales_data[<span class="number">3</span>:<span class="number">6</span>])  <span class="comment"># تیر تا شهریور</span>
                        autumn_sales = np.mean(sales_data[<span class="number">6</span>:<span class="number">9</span>])  <span class="comment"># مهر تا آذر</span>
                        winter_sales = np.mean(sales_data[<span class="number">9</span>:<span class="number">12</span>]) <span class="comment"># دی تا اسفند</span>
                        
                        seasons = [<span class="string">'بهار'</span>, <span class="string">'تابستان'</span>, <span class="string">'پاییز'</span>, <span class="string">'زمستان'</span>]
                        seasonal_avg = [spring_sales, summer_sales, autumn_sales, winter_sales]
                        
                        <span class="function">print</span>(<span class="string">f"\n🌸 میانگین فروش فصلی:"</span>)
                        <span class="keyword">for</span> season, avg <span class="keyword">in</span> zip(seasons, seasonal_avg):
                            <span class="function">print</span>(<span class="string">f"{season}: {avg:.1f} میلیون تومان"</span>)
                                            </div>
                        
                                            <h3>🧮 محاسبات ریاضی پیشرفته:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># حل سیستم معادلات خطی: Ax = b</span>
                        <span class="comment"># مثال: 3x + 2y = 7, x - y = 1</span>
                        A = np.array([[<span class="number">3</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">-1</span>]])
                        b = np.array([<span class="number">7</span>, <span class="number">1</span>])
                        
                        <span class="function">print</span>(<span class="string">"🔢 حل سیستم معادلات خطی:"</span>)
                        <span class="function">print</span>(<span class="string">f"ماتریس A:\n{A}"</span>)
                        <span class="function">print</span>(<span class="string">f"بردار b: {b}"</span>)
                        
                        solution = np.linalg.solve(A, b)
                        <span class="function">print</span>(<span class="string">f"جواب: x = {solution[0]:.2f}, y = {solution[1]:.2f}"</span>)
                        
                        <span class="comment"># بررسی صحت جواب</span>
                        verification = np.dot(A, solution)
                        <span class="function">print</span>(<span class="string">f"بررسی: A × x = {verification}"</span>)
                        <span class="function">print</span>(<span class="string">f"آیا صحیح است؟ {np.allclose(verification, b)}"</span>)
                        
                        <span class="comment"># محاسبه مقادیر ویژه و بردارهای ویژه</span>
                        matrix = np.array([[<span class="number">4</span>, <span class="number">-2</span>], [<span class="number">1</span>, <span class="number">1</span>]])
                        eigenvalues, eigenvectors = np.linalg.eig(matrix)
                        
                        <span class="function">print</span>(<span class="string">f"\n🎯 تحلیل مقادیر ویژه:"</span>)
                        <span class="function">print</span>(<span class="string">f"ماتریس:\n{matrix}"</span>)
                        <span class="function">print</span>(<span class="string">f"مقادیر ویژه: {eigenvalues}"</span>)
                        <span class="function">print</span>(<span class="string">f"بردارهای ویژه:\n{eigenvectors}"</span>)
                        
                        <span class="comment"># تجزیه SVD</span>
                        data_matrix = np.random.randn(<span class="number">4</span>, <span class="number">3</span>)
                        U, s, Vt = np.linalg.svd(data_matrix)
                        
                        <span class="function">print</span>(<span class="string">f"\n📐 تجزیه SVD:"</span>)
                        <span class="function">print</span>(<span class="string">f"شکل اصلی: {data_matrix.shape}"</span>)
                        <span class="function">print</span>(<span class="string">f"U: {U.shape}, s: {s.shape}, Vt: {Vt.shape}"</span>)
                        <span class="function">print</span>(<span class="string">f"مقادیر تکین: {s}"</span>)
                        
                        <span class="comment"># محاسبه فاصله اقلیدسی بین نقاط</span>
                        points = np.random.rand(<span class="number">5</span>, <span class="number">2</span>) * <span class="number">10</span>  <span class="comment"># 5 نقطه دوبعدی</span>
                        <span class="function">print</span>(<span class="string">f"\n📍 نقاط:\n{points}"</span>)
                        
                        <span class="comment"># محاسبه ماتریس فاصله</span>
                        distances = np.sqrt(np.sum((points[:, np.newaxis] - points[np.newaxis, :]) ** <span class="number">2</span>, axis=<span class="number">2</span>))
                        <span class="function">print</span>(<span class="string">f"ماتریس فاصله:\n{distances}"</span>)
                        
                        <span class="comment"># پیدا کردن نزدیک‌ترین جفت نقاط</span>
                        np.fill_diagonal(distances, np.inf)  <span class="comment"># حذف فاصله صفر نقاط با خودشان</span>
                        min_distance_idx = np.unravel_index(np.argmin(distances), distances.shape)
                        <span class="function">print</span>(<span class="string">f"نزدیک‌ترین نقاط: {min_distance_idx[0]} و {min_distance_idx[1]}"</span>)
                        <span class="function">print</span>(<span class="string">f"فاصله: {distances[min_distance_idx]:.2f}"</span>)
                                            </div>
                        
                                            <h3>🎲 شبیه‌سازی و مونت کارلو:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># شبیه‌سازی پرتاب سکه</span>
                        n_flips = <span class="number">10000</span>
                        coin_flips = np.random.choice([<span class="string">'شیر'</span>, <span class="string">'خط'</span>], n_flips)
                        heads_count = np.sum(coin_flips == <span class="string">'شیر'</span>)
                        heads_probability = heads_count / n_flips
                        
                        <span class="function">print</span>(<span class="string">f"🎲 شبیه‌سازی پرتاب سکه ({n_flips} بار):"</span>)
                        <span class="function">print</span>(<span class="string">f"تعداد شیر: {heads_count}"</span>)
                        <span class="function">print</span>(<span class="string">f"احتمال شیر: {heads_probability:.3f}"</span>)
                        
                        <span class="comment"># محاسبه π با روش مونت کارلو</span>
                        n_points = <span class="number">100000</span>
                        <span class="comment"># تولید نقاط تصادفی در مربع [-1, 1] × [-1, 1]</span>
                        x = np.random.uniform(-<span class="number">1</span>, <span class="number">1</span>, n_points)
                        y = np.random.uniform(-<span class="number">1</span>, <span class="number">1</span>, n_points)
                        
                        <span class="comment"># بررسی نقاطی که در دایره واحد هستند</span>
                        inside_circle = (x**<span class="number">2</span> + y**<span class="number">2</span>) <= <span class="number">1</span>
                        pi_estimate = <span class="number">4</span> * np.sum(inside_circle) / n_points
                        
                        <span class="function">print</span>(<span class="string">f"\n🔴 محاسبه π با مونت کارلو ({n_points} نقطه):"</span>)
                        <span class="function">print</span>(<span class="string">f"تخمین π: {pi_estimate:.4f}"</span>)
                        <span class="function">print</span>(<span class="string">f"مقدار واقعی π: {np.pi:.4f}"</span>)
                        <span class="function">print</span>(<span class="string">f"خطا: {abs(pi_estimate - np.pi):.4f}"</span>)
                        
                        <span class="comment"># شبیه‌سازی قدم تصادفی (Random Walk)</span>
                        n_steps = <span class="number">1000</span>
                        steps = np.random.choice([-<span class="number">1</span>, <span class="number">1</span>], n_steps)
                        position = np.cumsum(steps)
                        
                        <span class="function">print</span>(<span class="string">f"\n🚶 قدم تصادفی ({n_steps} قدم):"</span>)
                        <span class="function">print</span>(<span class="string">f"موقعیت نهایی: {position[-1]}"</span>)
                        <span class="function">print</span>(<span class="string">f"حداکثر فاصله از مبدا: {np.max(np.abs(position))}"</span>)
                        <span class="function">print</span>(<span class="string">f"میانگین موقعیت: {np.mean(position):.2f}"</span>)
                        
                        <span class="comment"># شبیه‌سازی چندین قدم تصادفی</span>
                        n_walks = <span class="number">100</span>
                        n_steps = <span class="number">500</span>
                        walks = np.random.choice([-<span class="number">1</span>, <span class="number">1</span>], (n_walks, n_steps))
                        all_positions = np.cumsum(walks, axis=<span class="number">1</span>)
                        
                        <span class="comment"># آمار کلی</span>
                        final_positions = all_positions[:, -<span class="number">1</span>]
                        <span class="function">print</span>(<span class="string">f"\n👥 {n_walks} قدم تصادفی موازی:"</span>)
                        <span class="function">print</span>(<span class="string">f"میانگین موقعیت نهایی: {np.mean(final_positions):.2f}"</span>)
                        <span class="function">print</span>(<span class="string">f"انحراف معیار: {np.std(final_positions):.2f}"</span>)
                        <span class="function">print</span>(<span class="string">f"دامنه موقعیت‌ها: [{np.min(final_positions)}, {np.max(final_positions)}]"</span>)
                                            </div>
                        
                                            <h3>🖼️ پردازش تصویر ساده:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># ایجاد تصویر مصنوعی (gradient)</span>
                        height, width = <span class="number">100</span>, <span class="number">150</span>
                        <span class="comment"># تصویر gradient افقی</span>
                        image = np.linspace(<span class="number">0</span>, <span class="number">255</span>, width).reshape(<span class="number">1</span>, width)
                        image = np.repeat(image, height, axis=<span class="number">0</span>).astype(np.uint8)
                        
                        <span class="function">print</span>(<span class="string">f"🖼️ تصویر gradient:"</span>)
                        <span class="function">print</span>(<span class="string">f"شکل تصویر: {image.shape}"</span>)
                        <span class="function">print</span>(<span class="string">f"نوع داده: {image.dtype}"</span>)
                        <span class="function">print</span>(<span class="string">f"دامنه مقادیر: [{np.min(image)}, {np.max(image)}]"</span>)
                        
                        <span class="comment"># اعمال فیلترهای ساده</span>
                        <span class="comment"># فیلتر blur ساده (میانگین‌گیری)</span>
                        kernel_size = <span class="number">5</span>
                        blurred = np.zeros_like(image, dtype=np.float32)
                        
                        <span class="keyword">for</span> i <span class="keyword">in</span> range(kernel_size//<span class="number">2</span>, height - kernel_size//<span class="number">2</span>):
                            <span class="keyword">for</span> j <span class="keyword">in</span> range(kernel_size//<span class="number">2</span>, width - kernel_size//<span class="number">2</span>):
                                window = image[i-kernel_size//<span class="number">2</span>:i+kernel_size//<span class="number">2</span>+<span class="number">1</span>, 
                                              j-kernel_size//<span class="number">2</span>:j+kernel_size//<span class="number">2</span>+<span class="number">1</span>]
                                blurred[i, j] = np.mean(window)
                        
                        blurred = blurred.astype(np.uint8)
                        <span class="function">print</span>(<span class="string">f"تصویر blur شده: {blurred.shape}"</span>)
                        
                        <span class="comment"># تشخیص لبه‌ها (Sobel ساده)</span>
                        sobel_x = np.array([[-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>], [-<span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>], [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]])
                        sobel_y = np.array([[-<span class="number">1</span>, -<span class="number">2</span>, -<span class="number">1</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>]])
                        
                        <span class="comment"># اعمال فیلتر Sobel (نسخه ساده)</span>
                        edges = np.zeros_like(image, dtype=np.float32)
                        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, height - <span class="number">1</span>):
                            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, width - <span class="number">1</span>):
                                window = image[i-<span class="number">1</span>:i+<span class="number">2</span>, j-<span class="number">1</span>:j+<span class="number">2</span>].astype(np.float32)
                                gx = np.sum(window * sobel_x)
                                gy = np.sum(window * sobel_y)
                                edges[i, j] = np.sqrt(gx**<span class="number">2</span> + gy**<span class="number">2</span>)
                        
                        edges = np.clip(edges, <span class="number">0</span>, <span class="number">255</span>).astype(np.uint8)
                        <span class="function">print</span>(<span class="string">f"تصویر لبه‌ها: {edges.shape}"</span>)
                        
                        <span class="comment"># آمار تصویر</span>
                        <span class="function">print</span>(<span class="string">f"\n📊 آمار تصویر اصلی:"</span>)
                        <span class="function">print</span>(<span class="string">f"میانگین روشنایی: {np.mean(image):.1f}"</span>)
                        <span class="function">print</span>(<span class="string">f"انحراف معیار: {np.std(image):.1f}"</span>)
                        <span class="function">print</span>(<span class="string">f"تعداد پیکسل‌های روشن (>128): {np.sum(image > 128)}"</span>)
                        
                        <span class="comment"># هیستوگرام ساده</span>
                        hist, bins = np.histogram(image.flatten(), bins=<span class="number">10</span>, range=(<span class="number">0</span>, <span class="number">256</span>))
                        <span class="function">print</span>(<span class="string">f"\nهیستوگرام (10 bin):"</span>)
                        <span class="keyword">for</span> i, (count, bin_edge) <span class="keyword">in</span> <span class="function">enumerate</span>(zip(hist, bins[:-<span class="number">1</span>])):
                            <span class="function">print</span>(<span class="string">f"  {bin_edge:.0f}-{bins[i+1]:.0f}: {count} پیکسل"</span>)
                                            </div>
                        
                                            <h3>📈 تحلیل سری زمانی:</h3>
                                            <div class="code-block">
                                                <button class="copy-btn" onclick="copyCode(this)">کپی</button>
                        <span class="comment"># تولید داده‌های سری زمانی مصنوعی</span>
                        n_days = <span class="number">365</span>
                        time = np.arange(n_days)
                        
                        <span class="comment"># ترکیب روند، فصلی بودن و نویز</span>
                        trend = <span class="number">0.1</span> * time  <span class="comment"># روند صعودی</span>
                        seasonal = <span class="number">10</span> * np.sin(<span class="number">2</span> * np.pi * time / <span class="number">365</span>)  <span class="comment"># چرخه سالانه</span>
                        weekly = <span class="number">3</span> * np.sin(<span class="number">2</span> * np.pi * time / <span class="number">7</span>)   <span class="comment"># چرخه هفتگی</span>
                        noise = np.random.normal(<span class="number">0</span>, <span class="number">2</span>, n_days)      <span class="comment"># نویز تصادفی</span>
                        
                        time_series = <span class="number">50</span> + trend + seasonal + weekly + noise
                        
                        <span class="function">print</span>(<span class="string">f"📈 تحلیل سری زمانی ({n_days} روز):"</span>)
                        <span class="function">print</span>(<span class="string">f"میانگین: {np.mean(time_series):.2f}"</span>)
                        <span class="function">print</span>(<span class="string">f"انحراف معیار: {np.std(time_series):.2f}"</span>)
                        <span class="function">print</span>(<span class="string">f"حداقل: {np.min(time_series):.2f}"</span>)
                        <span class="function">print</span>(<span class="string">f"حداکثر: {np.max(time_series):.2f}"</span>)
                        
                        <span class="comment"># محاسبه میانگین متحرک</span>
                        window_size = <span class="number">30</span>  <span class="comment"># میانگین 30 روزه</span>
                        moving_average = np.convolve(time_series, np.ones(window_size)/window_size, mode=<span class="string">'valid'</span>)
                        
                        <span class="function">print</span>(<span class="string">f"\n📊 میانگین متحرک {window_size} روزه:"</span>)
                        <span class="function">print</span>(<span class="string">f"طول سری اصلی: {len(time_series)}"</span>)
                        <span class="function">print</span>(<span class="string">f"طول میانگین متحرک: {len(moving_average)}"</span>)
                        
                        <span class="comment"># تشخیص نقاط پرت (outliers)</span>
                        z_scores = np.abs((time_series - np.mean(time_series)) / np.std(time_series))
                        outliers = time_series[z_scores > <span class="number">2.5</span>]  <span class="comment"># نقاط با z-score > 2.5</span>
                        outlier_indices = np.where(z_scores > <span class="number">2.5</span>)[<span class="number">0</span>]
                        
                        <span class="function">print</span>(<span class="string">f"\n🎯 نقاط پرت:"</span>)
                        <span class="function">print</span>(<span class="string">f"تعداد نقاط پرت: {len(outliers)}"</span>)
                        <span class="keyword">if</span> len(outliers) > <span class="number">0</span>:
                            <span class="function">print</span>(<span class="string">f"اولین نقطه پرت: روز {outlier_indices[0]}, مقدار {outliers[0]:.2f}"</span>)
                        
                        <span class="comment"># محاسبه همبستگی با تأخیر (autocorrelation)</span>
                        <span class="keyword">def</span> <span class="function">autocorrelation</span>(data, max_lag=<span class="number">50</span>):
                            <span class="string">"""محاسبه autocorrelation تا max_lag"""</span>
                            n = len(data)
                            data = data - np.mean(data)
                            autocorr = np.correlate(data, data, mode=<span class="string">'full'</span>)
                            autocorr = autocorr[n-<span class="number">1</span>:]
                            autocorr = autocorr / autocorr[<span class="number">0</span>]  <span class="comment"># نرمال‌سازی</span>
                            <span class="keyword">return</span> autocorr[:max_lag+<span class="number">1</span>]
                        
                        autocorr = autocorrelation(time_series)
                        <span class="function">print</span>(<span class="string">f"\n🔄 Autocorrelation:"</span>)
                        <span class="function">print</span>(<span class="string">f"تأخیر 1 روز: {autocorr[1]:.3f}"</span>)
                        <span class="function">print</span>(<span class="string">f"تأخیر 7 روز: {autocorr[7]:.3f}"</span>)
                        <span class="function">print</span>(<span class="string">f"تأخیر 30 روز: {autocorr[30]:.3f}"</span>)
                        
                        <span class="comment"># پیش‌بینی ساده با میانگین متحرک</span>
                        last_30_days = time_series[-<span class="number">30</span>:]
                        prediction = np.mean(last_30_days)
                        <span class="function">print</span>(<span class="string">f"\n🔮 پیش‌بینی روز بعد: {prediction:.2f}"</span>)
                                            </div>
                        
                                            <div class="info-box">
                                                <div class="info-title">🎯 کاربردهای NumPy:</div>
                                                <ul>
                                                    <li><strong>علم داده:</strong> تحلیل و پردازش داده‌های بزرگ</li>
                                                    <li><strong>یادگیری ماشین:</strong> پایه محاسبات ML</li>
                                                    <li><strong>پردازش تصویر:</strong> فیلتر و تبدیل تصاویر</li>
                                                    <li><strong>محاسبات علمی:</strong> شبیه‌سازی و مدل‌سازی</li>
                                                    <li><strong>تحلیل مالی:</strong> محاسبه ریسک و بازده</li>
                                                </ul>
                                            </div>
                        
                                            <div class="tip-box">
                                                <div class="tip-title">⚡ نکات بهینه‌سازی:</div>
                                                <ul>
                                                    <li>از vectorization استفاده کنید</li>
                                                    <li>حلقه‌های Python را کم کنید</li>
                                                    <li>از view به جای copy استفاده کنید</li>
                                                    <li>نوع داده مناسب انتخاب کنید</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                        
                                    <!-- اسلاید 12: جمع‌بندی و منابع -->
            <div class="slide" id="slide12">
                <div class="slide-number">12/12</div>
                <button class="expand-btn" onclick="expandSlide(this)">🔍 بزرگنمایی</button>
                <button class="close-btn" onclick="closeSlide(this)">×</button>
                <div class="icon">📚</div>
                <div class="slide-title">جمع‌بندی جلسه هفتم و منابع یادگیری</div>
                <div class="slide-content">
                    <h3>📝 مروری بر مطالب این جلسه:</h3>
                    <ul style="line-height:1.8; font-size:1.1em;">
                        <li>🔹 معرفی NumPy و اهمیت آن در علم داده</li>
                        <li>🔹 ایجاد و دستکاری آرایه‌ها با انواع روش‌ها</li>
                        <li>🔹 ویژگی‌ها، خصوصیات و تغییر شکل آرایه‌ها</li>
                        <li>🔹 Indexing، Slicing و انتخاب داده‌ها</li>
                        <li>🔹 عملیات ریاضی، آماری و منطقی بر روی آرایه‌ها</li>
                        <li>🔹 مفهوم و قوانین Broadcasting</li>
                        <li>🔹 عملیات پیشرفته آرایه‌ای: اتصال، تقسیم و مرتب‌سازی</li>
                        <li>🔹 ورودی و خروجی داده‌ها، ذخیره و بارگذاری</li>
                        <li>🔹 کاربردهای عملی در تحلیل داده، شبیه‌سازی و پردازش تصویر</li>
                    </ul>

                    <h3>📌 نکات کلیدی یادگیری:</h3>
                    <div class="tip-box">
                        <div class="tip-title">🔑 توصیه‌ها:</div>
                        <ul>
                            <li>تسلط بر NumPy پایه قوی برای یادگیری Pandas و کتابخانه‌های ML ایجاد می‌کند.</li>
                            <li>همیشه عملیات را به صورت برداری (Vectorized) انجام دهید.</li>
                            <li>با داده‌های واقعی تمرین کنید تا مهارت عملی کسب کنید.</li>
                        </ul>
                    </div>

                    <h3>📚 منابع پیشنهادی برای مطالعه بیشتر:</h3>
                    <div class="resources-grid" style="display:grid;gap:20px;grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                        <div class="resource-card" style="background:#f1f5f9;padding:15px;border-radius:10px;">
                            <h4>کتاب‌ها:</h4>
                            <ul>
                                <li>Python for Data Analysis - Wes McKinney</li>
                                <li>Numerical Python - Robert Johansson</li>
                                <li>Elegant SciPy - Juan Nunez-Iglesias</li>
                            </ul>
                        </div>
                        <div class="resource-card" style="background:#f1f5f9;padding:15px;border-radius:10px;">
                            <h4>وب‌سایت‌ها:</h4>
                            <ul>
                                <li><a href="https://numpy.org/doc/stable/" target="_blank">مستندات رسمی NumPy</a></li>
                                <li><a href="https://realpython.com/numpy-tutorial/" target="_blank">آموزش NumPy در Real Python</a></li>
                                <li><a href="https://www.datacamp.com/courses/intro-to-python-for-data-science" target="_blank">دوره Datacamp</a></li>
                            </ul>
                        </div>
                        <div class="resource-card" style="background:#f1f5f9;padding:15px;border-radius:10px;">
                            <h4>ویدئوها:</h4>
                            <ul>
                                <li>NumPy Tutorial - Corey Schafer (YouTube)</li>
                                <li>Python NumPy Full Course - freeCodeCamp</li>
                            </ul>
                        </div>
                    </div>

                    <h3>🎯 تمرین پیشنهادی:</h3>
                    <div class="example-box">
                        <div class="example-title">پروژه تمرینی</div>
                        <p><strong>موضوع:</strong> تحلیل داده فروش یک فروشگاه آنلاین با استفاده از NumPy</p>
                        <p>مراحل:</p>
                        <ol>
                            <li>تولید داده مصنوعی برای فروش روزانه 1 سال (365 روز و 5 محصول)</li>
                            <li>تحلیل آماری ماهانه و سالانه</li>
                            <li>شناسایی محصول پرفروش</li>
                            <li>شناسایی روزهای اوج فروش</li>
                            <li>محاسبه میانگین متحرک 7 و 30 روزه</li>
                            <li>ذخیره نتایج در فایل CSV</li>
                        </ol>
                        <p><strong>زمان انجام:</strong> 3-5 ساعت</p>
                    </div>

                    <h3>🚀 پیش‌نیاز جلسه بعدی:</h3>
                    <div class="note-box">
                        <div class="note-title">جلسه هفتم → جلسه هشتم</div>
                        <p>جلسه بعد به <strong>کتابخانه Pandas</strong> برای تحلیل داده‌های جدولی و کار با DataFrame‌ها می‌پردازد. پیشنهاد می‌شود قبل از جلسه بعد، کار با انواع داده و Indexing در NumPy را مرور کنید.</p>
                    </div>

                    <div class="final-message" style="margin-top:30px;text-align:center;">
                        <h2>🎉 تبریک!</h2>
                        <p>شما جلسه هفتم را با موفقیت به پایان رساندید. حالا مهارت کامل کار با NumPy را دارید و آماده‌اید برای کار با داده‌های واقعی.</p>
                        <p style="margin-top:15px;font-size:1.1em;">📧 برای ارسال تمرین‌ها: <strong>datasciencecourse@example.com</strong></p>
                    </div>
                </div>
            </div>
        </div>


    <script>
        let currentSlide = 1;
        const totalSlides = 12;

        // Enhanced Sidebar Navigation System
        class SidebarNavigation {
            constructor() {
                this.slideTitles = [
                    'معرفی NumPy',
                    'آرایه‌های NumPy',
                    'عملیات پایه',
                    'ایندکسینگ و slicing',
                    'عملیات ریاضی',
                    'توابع آماری',
                    'ماتریس‌ها',
                    'جبر خطی',
                    'تصادفی و احتمالات',
                    'کار با فایل‌ها',
                    'بهینه‌سازی عملکرد',
                    'مثال‌های کاربردی'
                ];
                
                this.slideDescriptions = [
                    'آشنایی با کتابخانه NumPy و کاربردهای آن',
                    'ساخت و مدیریت آرایه‌های چندبعدی',
                    'عملیات پایه روی آرایه‌ها',
                    'دسترسی به عناصر و برش آرایه‌ها',
                    'محاسبات ریاضی پیشرفته',
                    'توابع آماری و تحلیل داده',
                    'کار با ماتریس‌ها و عملیات ماتریسی',
                    'مفاهیم جبر خطی با NumPy',
                    'تولید اعداد تصادفی و توزیع‌ها',
                    'خواندن و نوشتن فایل‌های داده',
                    'بهینه‌سازی و افزایش سرعت',
                    'مثال‌های عملی و پروژه‌ها'
                ];
                
                this.isCollapsed = false;
                this.init();
            }
            
            init() {
                this.createSidebarStructure();
                this.createNavigationButtons();
                this.createProgressIndicator();
                this.createQuickActions();
                this.createToggle();
                this.updateProgress();
                this.addKeyboardNavigation();
            }
            
            createSidebarStructure() {
                const sidebarNav = document.getElementById('sidebarNav');
                sidebarNav.innerHTML = '';
                
                // Create sidebar header
                const header = document.createElement('div');
                header.className = 'sidebar-header';
                header.innerHTML = `
                    <div class="sidebar-title">ناوبری اسلایدها</div>
                    <div class="sidebar-subtitle">جلسه هفتم - NumPy</div>
                `;
                sidebarNav.appendChild(header);
                
                // Create progress section
                const progress = document.createElement('div');
                progress.className = 'sidebar-progress';
                progress.innerHTML = `
                    <div class="progress-label">
                        <span>پیشرفت</span>
                        <span id="progress-text">1/12</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 8.33%"></div>
                    </div>
                `;
                sidebarNav.appendChild(progress);
                
                // Create navigation groups container
                const navContainer = document.createElement('div');
                navContainer.id = 'nav-container';
                sidebarNav.appendChild(navContainer);
                
                // Create quick actions container
                const quickActions = document.createElement('div');
                quickActions.className = 'quick-actions';
                quickActions.id = 'quick-actions';
                sidebarNav.appendChild(quickActions);
            }
            
            createNavigationButtons() {
                const navContainer = document.getElementById('nav-container');
                
                // Create main navigation group
                const mainGroup = document.createElement('div');
                mainGroup.className = 'nav-group';
                
                const groupTitle = document.createElement('div');
                groupTitle.className = 'nav-group-title';
                groupTitle.textContent = 'اسلایدها';
                mainGroup.appendChild(groupTitle);
                
                const groupButtons = document.createElement('div');
                groupButtons.className = 'nav-group-buttons';
                
                for (let i = 1; i <= totalSlides; i++) {
                    const btn = this.createNavigationButton(i);
                    groupButtons.appendChild(btn);
                }
                
                mainGroup.appendChild(groupButtons);
                navContainer.appendChild(mainGroup);
            }
            
            createNavigationButton(slideNumber) {
                const btn = document.createElement('button');
                btn.className = 'nav-btn';
                btn.textContent = slideNumber;
                btn.setAttribute('data-slide', slideNumber);
                btn.setAttribute('aria-label', `برو به اسلاید ${slideNumber}: ${this.slideTitles[slideNumber - 1]}`);
                btn.setAttribute('tabindex', '0');
                btn.setAttribute('role', 'button');
                
                if (slideNumber === 1) btn.classList.add('active');
                
                // Add keyboard indicator
                const keyboardIndicator = document.createElement('div');
                keyboardIndicator.className = 'keyboard-indicator';
                keyboardIndicator.textContent = `${slideNumber}`;
                btn.appendChild(keyboardIndicator);
                
                // Add tooltip
                const tooltip = document.createElement('div');
                tooltip.className = 'slide-tooltip';
                tooltip.innerHTML = `
                    <div style="font-weight: 600; margin-bottom: 2px;">${this.slideTitles[slideNumber - 1]}</div>
                    <div style="font-size: 11px; opacity: 0.8;">${this.slideDescriptions[slideNumber - 1]}</div>
                `;
                btn.appendChild(tooltip);
                
                // Add event listeners
                btn.addEventListener('click', () => this.goToSlide(slideNumber));
                btn.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        this.goToSlide(slideNumber);
                    }
                });
                
                return btn;
            }
            
            createProgressIndicator() {
                // Progress indicator is already created in createSidebarStructure
                this.updateProgress();
            }
            
            createQuickActions() {
                const quickActions = document.getElementById('quick-actions');
                
                // First slide button
                const firstBtn = document.createElement('button');
                firstBtn.className = 'quick-action-btn';
                firstBtn.innerHTML = '<i class="fas fa-angle-double-right"></i> اولین اسلاید';
                firstBtn.addEventListener('click', () => this.goToSlide(1));
                quickActions.appendChild(firstBtn);
                
                // Last slide button
                const lastBtn = document.createElement('button');
                lastBtn.className = 'quick-action-btn';
                lastBtn.innerHTML = '<i class="fas fa-angle-double-left"></i> آخرین اسلاید';
                lastBtn.addEventListener('click', () => this.goToSlide(totalSlides));
                quickActions.appendChild(lastBtn);
                
                // Overview button
                const overviewBtn = document.createElement('button');
                overviewBtn.className = 'quick-action-btn';
                overviewBtn.innerHTML = '<i class="fas fa-th"></i> نمای کلی';
                overviewBtn.addEventListener('click', () => this.showOverview());
                quickActions.appendChild(overviewBtn);
            }
            
            createToggle() {
                const sidebarNav = document.getElementById('sidebarNav');
                
                const toggle = document.createElement('button');
                toggle.className = 'sidebar-toggle';
                toggle.innerHTML = '<i class="fas fa-chevron-left"></i>';
                toggle.setAttribute('aria-label', 'تغییر حالت ناوبری کناری');
                toggle.setAttribute('tabindex', '0');
                
                toggle.addEventListener('click', () => this.toggle());
                toggle.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        this.toggle();
                    }
                });
                
                sidebarNav.appendChild(toggle);
            }
            
            toggle() {
                const sidebarNav = document.getElementById('sidebarNav');
                this.isCollapsed = !this.isCollapsed;
                
                if (this.isCollapsed) {
                    sidebarNav.classList.add('collapsed');
                    sidebarNav.querySelector('.sidebar-toggle i').className = 'fas fa-chevron-right';
                } else {
                    sidebarNav.classList.remove('collapsed');
                    sidebarNav.querySelector('.sidebar-toggle i').className = 'fas fa-chevron-left';
                }
                
                // Save preference to localStorage
                localStorage.setItem('sidebar-collapsed', this.isCollapsed);
            }
            
            goToSlide(slideNumber) {
                return loadingManager.withLoading('slide-navigation', async () => {
                    await new Promise(resolve => setTimeout(resolve, 100));
                    goToSlide(slideNumber);
                }, 'در حال رفتن به اسلاید...');
            }
            
            updateProgress() {
                const progressText = document.getElementById('progress-text');
                const progressFill = document.getElementById('progress-fill');
                
                if (progressText && progressFill) {
                    const progress = (currentSlide / totalSlides) * 100;
                    progressText.textContent = `${currentSlide}/${totalSlides}`;
                    progressFill.style.width = `${progress}%`;
                }
            }
            
            updateActiveButton() {
                const navBtns = document.querySelectorAll('.nav-btn');
                navBtns.forEach(btn => {
                    btn.classList.remove('active');
                    if (parseInt(btn.getAttribute('data-slide')) === currentSlide) {
                        btn.classList.add('active');
                    }
                });
            }
            
            showOverview() {
                // Create a modal with slide overview
                const modal = document.createElement('div');
                modal.className = 'slide-overview-modal';
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.8);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10000;
                    backdrop-filter: blur(10px);
                `;
                
                const content = document.createElement('div');
                content.style.cssText = `
                    background: var(--bg-card);
                    border-radius: var(--radius-xl);
                    padding: 30px;
                    max-width: 600px;
                    max-height: 80vh;
                    overflow-y: auto;
                    border: 1px solid var(--border-primary);
                    box-shadow: var(--shadow-xl);
                `;
                
                const header = document.createElement('div');
                header.innerHTML = `
                    <h2 style="color: var(--text-primary); margin-bottom: 20px; text-align: center;">نمای کلی اسلایدها</h2>
                    <button onclick="this.closest('.slide-overview-modal').remove()" 
                            style="position: absolute; top: 15px; right: 15px; background: none; border: none; color: var(--text-primary); font-size: 24px; cursor: pointer;">×</button>
                `;
                content.appendChild(header);
                
                const slidesGrid = document.createElement('div');
                slidesGrid.style.cssText = `
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 15px;
                `;
                
                for (let i = 1; i <= totalSlides; i++) {
                    const slideCard = document.createElement('div');
                    slideCard.style.cssText = `
                        background: var(--bg-secondary);
                        border: 1px solid var(--border-secondary);
                        border-radius: var(--radius-md);
                        padding: 15px;
                        cursor: pointer;
                        transition: all var(--transition-normal);
                    `;
                    
                    if (i === currentSlide) {
                        slideCard.style.background = 'var(--color-primary)';
                        slideCard.style.borderColor = 'var(--color-primary)';
                    }
                    
                    slideCard.innerHTML = `
                        <div style="font-weight: 600; margin-bottom: 5px;">اسلاید ${i}: ${this.slideTitles[i - 1]}</div>
                        <div style="font-size: 12px; opacity: 0.8;">${this.slideDescriptions[i - 1]}</div>
                    `;
                    
                    slideCard.addEventListener('click', () => {
                        this.goToSlide(i);
                        modal.remove();
                    });
                    
                    slideCard.addEventListener('mouseenter', () => {
                        if (i !== currentSlide) {
                            slideCard.style.background = 'var(--bg-hover)';
                            slideCard.style.borderColor = 'var(--color-primary)';
                        }
                    });
                    
                    slideCard.addEventListener('mouseleave', () => {
                        if (i !== currentSlide) {
                            slideCard.style.background = 'var(--bg-secondary)';
                            slideCard.style.borderColor = 'var(--border-secondary)';
                        }
                    });
                    
                    slidesGrid.appendChild(slideCard);
                }
                
                content.appendChild(slidesGrid);
                modal.appendChild(content);
                document.body.appendChild(modal);
                
                // Close modal when clicking outside
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.remove();
                    }
                });
            }
            
            addKeyboardNavigation() {
                document.addEventListener('keydown', (e) => {
                    // Number keys 1-9 for quick navigation
                    if (e.key >= '1' && e.key <= '9') {
                        const slideNumber = parseInt(e.key);
                        if (slideNumber <= totalSlides) {
                            this.goToSlide(slideNumber);
                        }
                    }
                    
                    // 0 for last slide
                    if (e.key === '0') {
                        this.goToSlide(totalSlides);
                    }
                    
                    // Home for first slide
                    if (e.key === 'Home') {
                        this.goToSlide(1);
                    }
                    
                    // End for last slide
                    if (e.key === 'End') {
                        this.goToSlide(totalSlides);
                    }
                    
                    // Toggle sidebar with 'S' key
                    if (e.key === 's' || e.key === 'S') {
                        this.toggle();
                    }
                    
                    // Show overview with 'O' key
                    if (e.key === 'o' || e.key === 'O') {
                        this.showOverview();
                    }
                });
            }
        }
        
        // Initialize enhanced sidebar navigation
        const sidebarNav = new SidebarNavigation();
        
        // Update sidebar when slide changes
        function updateSidebarNavigation() {
            sidebarNav.updateProgress();
            sidebarNav.updateActiveButton();
        }
        
        // Load sidebar state from localStorage
        function loadSidebarState() {
            const isCollapsed = localStorage.getItem('sidebar-collapsed') === 'true';
            if (isCollapsed) {
                sidebarNav.toggle();
            }
        }

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            const navBtns = document.querySelectorAll('.nav-btn');
            const previousSlide = currentSlide;
            
            // Update current slide
            currentSlide = n;
            
            // Handle bounds
            if (currentSlide > totalSlides) currentSlide = 1;
            if (currentSlide < 1) currentSlide = totalSlides;
            
            // Remove active class from all slides and nav buttons
            slides.forEach(slide => {
                slide.classList.remove('active');
                slide.classList.remove('slide-in-left', 'slide-in-right', 'slide-out-left', 'slide-out-right');
            });
            
            navBtns.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Determine animation direction
            const direction = currentSlide > previousSlide ? 'right' : 'left';
            
            // Add animation classes
            if (slides[currentSlide - 1]) {
                slides[currentSlide - 1].classList.add('active');
                slides[currentSlide - 1].classList.add(direction === 'right' ? 'slide-in-right' : 'slide-in-left');
                
                // Add stagger animation to content cards within the slide
                const contentCards = slides[currentSlide - 1].querySelectorAll('.content-card');
                contentCards.forEach((card, index) => {
                    card.style.animationDelay = `${index * 0.1}s`;
                    card.classList.add('fade-in');
                });
                
                // Add stagger animation to method cards
                const methodCards = slides[currentSlide - 1].querySelectorAll('.method-card');
                methodCards.forEach((card, index) => {
                    card.style.animationDelay = `${index * 0.1 + 0.2}s`;
                    card.classList.add('fade-in');
                });
            }
            
            if (navBtns[currentSlide - 1]) {
                navBtns[currentSlide - 1].classList.add('active');
            }
            
            // Update sidebar navigation
            updateSidebarNavigation();
            
            // Update URL hash
            window.location.hash = `slide-${currentSlide}`;
            
            // Announce slide change to screen readers
            const announcement = document.createElement('div');
            announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.className = 'sr-only';
            announcement.textContent = `اسلاید ${currentSlide} نمایش داده شد`;
            document.body.appendChild(announcement);
            setTimeout(() => announcement.remove(), 1000);
        }

        function changeSlide(n) {
            const slides = document.querySelectorAll('.slide');
            const currentSlideElement = slides[currentSlide - 1];
            
            // Add exit animation to current slide
            if (currentSlideElement) {
                currentSlideElement.classList.add(n > 0 ? 'slide-out-left' : 'slide-out-right');
            }
            
            setTimeout(() => {
                showSlide(currentSlide + n);
            }, 300);
        }

        function goToSlide(n) {
            showSlide(n);
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize sidebar navigation
            loadSidebarState();
            
            // Initialize line numbers
            addLineNumbers();
            
            // Initialize accessibility
            enhanceAccessibility();
            
            // Initialize keyboard navigation
            handleKeyboardNavigation();
            
            // Add skip navigation
            addSkipNavigation();
            
            // Check URL hash for initial slide
            const hash = window.location.hash;
            if (hash && hash.startsWith('#slide-')) {
                const slideNumber = parseInt(hash.replace('#slide-', ''));
                if (slideNumber >= 1 && slideNumber <= totalSlides) {
                    currentSlide = slideNumber;
                }
            }
            
            // Show initial slide
            showSlide(currentSlide);
        });

        function goToSlide(n) {
            const slides = document.querySelectorAll('.slide');
            const currentSlideElement = slides[currentSlide - 1];
            
            if (currentSlideElement && n !== currentSlide) {
                // Add exit animation
                const exitDirection = n > currentSlide ? 'slide-out-left' : 'slide-out-right';
                currentSlideElement.classList.add(exitDirection);
                
                // Wait for exit animation to complete
                setTimeout(() => {
                    showSlide(n);
                }, 400);
            } else {
                showSlide(n);
            }
        }

        // Enhanced keyboard navigation
        function handleKeyboardNavigation(event) {
            switch(event.key) {
                case 'ArrowRight':
                case 'PageDown':
                    event.preventDefault();
                    changeSlide(1);
                    break;
                case 'ArrowLeft':
                case 'PageUp':
                    event.preventDefault();
                    changeSlide(-1);
                    break;
                case 'Home':
                    event.preventDefault();
                    goToSlide(1);
                    break;
                case 'End':
                    event.preventDefault();
                    goToSlide(totalSlides);
                    break;
                case ' ':
                    event.preventDefault();
                    togglePresentationMode();
                    break;
                case 'f':
                case 'F':
                    event.preventDefault();
                    toggleFullscreen();
                    break;
                case 'Escape':
                    event.preventDefault();
                    if (document.fullscreenElement) {
                        document.exitFullscreen();
                    }
                    break;
            }
        }

        // Add keyboard event listeners
        document.addEventListener('keydown', handleKeyboardNavigation);
        
        // Add ARIA attributes for better accessibility
        function enhanceAccessibility() {
            const slides = document.querySelectorAll('.slide');
            const navBtns = document.querySelectorAll('.nav-btn');
            
            slides.forEach((slide, index) => {
                slide.setAttribute('role', 'region');
                slide.setAttribute('aria-label', `اسلاید ${index + 1}`);
                slide.setAttribute('tabindex', '0');
                
                // Add keyboard navigation for individual slides
                slide.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        goToSlide(index + 1);
                    }
                });
            });
            
            navBtns.forEach((btn, index) => {
                btn.setAttribute('aria-label', `رفتن به اسلاید ${index + 1}`);
                btn.setAttribute('role', 'button');
                btn.setAttribute('tabindex', '0');
            });
            
            // Enhance navigation buttons
            const prevBtn = document.querySelector('.prev-btn');
            const nextBtn = document.querySelector('.next-btn');
            
            if (prevBtn) {
                prevBtn.setAttribute('aria-label', 'اسلاید قبلی');
                prevBtn.setAttribute('role', 'button');
            }
            
            if (nextBtn) {
                nextBtn.setAttribute('aria-label', 'اسلاید بعدی');
                nextBtn.setAttribute('role', 'button');
            }
        }
        
        // Initialize accessibility enhancements
        document.addEventListener('DOMContentLoaded', enhanceAccessibility);
        
        // Focus management for better accessibility
        function manageFocus(element) {
            if (element) {
                element.focus({
                    preventScroll: true
                });
                
                // Announce slide change to screen readers
                announceSlideChange();
            }
        }
        
        // Screen reader announcements
        function announceSlideChange() {
            const announcement = document.createElement('div');
            announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.style.position = 'absolute';
            announcement.style.left = '-10000px';
            announcement.style.width = '1px';
            announcement.style.height = '1px';
            announcement.style.overflow = 'hidden';
            announcement.textContent = `اسلاید ${currentSlide} از ${totalSlides}`;
            
            document.body.appendChild(announcement);
            
            // Remove announcement after it's been read
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }
        
        // Enhanced skip navigation link
        function addSkipNavigation() {
            const skipLink = document.createElement('a');
            skipLink.href = '#main-content';
            skipLink.textContent = 'پرش به محتوای اصلی';
            skipLink.className = 'skip-link';
            skipLink.setAttribute('aria-label', 'پرش به محتوای اصلی');
            
            const style = document.createElement('style');
            style.textContent = `
                .skip-link {
                    position: absolute;
                    top: -40px;
                    left: 0;
                    background: #1f2937;
                    color: white;
                    padding: 8px 16px;
                    text-decoration: none;
                    border-radius: 0 0 8px 0;
                    z-index: 10000;
                    transition: top 0.3s ease;
                }
                .skip-link:focus {
                    top: 0;
                    outline: 2px solid #3b82f6;
                    outline-offset: 2px;
                }
            `;
            
            document.head.appendChild(style);
            document.body.insertBefore(skipLink, document.body.firstChild);
        }
        
        // Add landmark roles and structure
        function addLandmarkRoles() {
            const container = document.querySelector('.container');
            if (container) {
                container.setAttribute('role', 'main');
                container.setAttribute('aria-label', 'محتوای اصلی ارائه');
            }
            
            const sidebar = document.querySelector('.sidebar');
            if (sidebar) {
                sidebar.setAttribute('role', 'complementary');
                sidebar.setAttribute('aria-label', 'ناوبری اسلایدها');
            }
            
            const progressBar = document.querySelector('.progress-bar');
            if (progressBar) {
                progressBar.setAttribute('role', 'progressbar');
                progressBar.setAttribute('aria-valuenow', currentSlide);
                progressBar.setAttribute('aria-valuemin', '1');
                progressBar.setAttribute('aria-valuemax', totalSlides);
                progressBar.setAttribute('aria-label', 'پیشرفت ارائه');
            }
        }
        
        // Enhanced form and interactive element accessibility
        function enhanceInteractiveElements() {
            // Enhanced button accessibility
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                if (!button.getAttribute('aria-label')) {
                    const buttonText = button.textContent.trim();
                    if (buttonText) {
                        button.setAttribute('aria-label', buttonText);
                    }
                }
                button.setAttribute('role', 'button');
            });
            
            // Enhanced link accessibility
            const links = document.querySelectorAll('a');
            links.forEach(link => {
                if (!link.getAttribute('aria-label')) {
                    const linkText = link.textContent.trim();
                    if (linkText) {
                        link.setAttribute('aria-label', linkText);
                    }
                }
            });
            
            // Enhanced code block accessibility
            const codeBlocks = document.querySelectorAll('.code-block');
            codeBlocks.forEach((block, index) => {
                block.setAttribute('role', 'region');
                block.setAttribute('aria-label', `بلوک کد ${index + 1}`);
                block.setAttribute('tabindex', '0');
                
                const copyBtn = block.querySelector('.copy-btn');
                if (copyBtn) {
                    copyBtn.setAttribute('aria-label', 'کپی کردن کد');
                    copyBtn.setAttribute('title', 'کپی کردن کد (Ctrl+C)');
                }
            });
        }
        
        // High contrast mode support
        function checkHighContrastMode() {
            const prefersHighContrast = window.matchMedia('(prefers-contrast: high)').matches;
            if (prefersHighContrast) {
                document.body.classList.add('high-contrast-mode');
            }
        }
        
        // Reduced motion support
        function checkReducedMotion() {
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            if (prefersReducedMotion) {
                document.body.classList.add('reduced-motion');
            }
        }
        
        // Initialize all accessibility features
        function initializeAccessibility() {
            addSkipNavigation();
            addLandmarkRoles();
            enhanceInteractiveElements();
            checkHighContrastMode();
            checkReducedMotion();
            
            // Listen for preference changes
            window.matchMedia('(prefers-contrast: high)').addEventListener('change', checkHighContrastMode);
            window.matchMedia('(prefers-reduced-motion: reduce)').addEventListener('change', checkReducedMotion);
        }
        
        // Initialize accessibility on DOM load
        document.addEventListener('DOMContentLoaded', initializeAccessibility);

        function updateProgressBar() {
            const progressBar = document.getElementById('progressBar');
            if (progressBar) {
                const progress = (currentSlide / totalSlides) * 100;
                progressBar.style.width = progress + '%';
            }
        }

        function updateSlideCounter() {
            const slideCounter = document.getElementById('slideCounter');
            if (slideCounter) {
                slideCounter.textContent = `${currentSlide} / ${totalSlides}`;
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            if (prevBtn) {
                prevBtn.disabled = currentSlide === 1;
            }
            if (nextBtn) {
                nextBtn.disabled = currentSlide === totalSlides;
            }
        }

        function copyCode(button) {
            const codeBlock = button.closest('.code-block');
            const codeContent = codeBlock.querySelector('pre');
            const code = codeContent.textContent;
            
            // Remove line numbers if they exist
            const cleanCode = code.replace(/^\s*\d+\s*/gm, '');
            
            navigator.clipboard.writeText(cleanCode).then(() => {
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> کپی شد!';
                button.classList.add('copied');
                
                // Create a temporary notification
                const notification = document.createElement('div');
                notification.className = 'copy-notification';
                notification.innerHTML = '<i class="fas fa-check-circle"></i> کد با موفقیت کپی شد';
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #10b981, #059669);
                    color: white;
                    padding: 12px 20px;
                    border-radius: 8px;
                    font-weight: 600;
                    z-index: 10000;
                    box-shadow: 0 10px 25px -5px rgba(16, 185, 129, 0.3);
                    animation: slideInRight 0.3s ease-out;
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.classList.remove('copied');
                    
                    // Remove notification with animation
                    notification.style.animation = 'slideOutRight 0.3s ease-in';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy code:', err);
                
                // Show error notification
                const errorNotification = document.createElement('div');
                errorNotification.className = 'copy-notification error';
                errorNotification.innerHTML = '<i class="fas fa-exclamation-circle"></i> خطا در کپی کردن کد';
                errorNotification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #ef4444, #dc2626);
                    color: white;
                    padding: 12px 20px;
                    border-radius: 8px;
                    font-weight: 600;
                    z-index: 10000;
                    box-shadow: 0 10px 25px -5px rgba(239, 68, 68, 0.3);
                    animation: slideInRight 0.3s ease-out;
                `;
                
                document.body.appendChild(errorNotification);
                
                setTimeout(() => {
                    errorNotification.style.animation = 'slideOutRight 0.3s ease-in';
                    setTimeout(() => {
                        if (errorNotification.parentNode) {
                            errorNotification.parentNode.removeChild(errorNotification);
                        }
                    }, 300);
                }, 3000);
            });
        }
        
        // Loading and Error Handling System
        class LoadingManager {
            constructor() {
                this.loadingStates = new Map();
                this.errorStates = new Map();
                this.init();
            }
            
            init() {
                // Create global loading overlay
                this.createLoadingOverlay();
                // Create global error container
                this.createErrorContainer();
                // Add global error handlers
                this.addGlobalErrorHandlers();
            }
            
            createLoadingOverlay() {
                const overlay = document.createElement('div');
                overlay.id = 'global-loading-overlay';
                overlay.className = 'loading-overlay';
                overlay.innerHTML = `
                    <div class="loading-spinner"></div>
                    <div class="loading-text">در حال بارگذاری...</div>
                `;
                overlay.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.8);
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    z-index: 9999;
                    opacity: 0;
                    visibility: hidden;
                    transition: all 0.3s ease;
                `;
                document.body.appendChild(overlay);
            }
            
            createErrorContainer() {
                const container = document.createElement('div');
                container.id = 'global-error-container';
                container.className = 'error-container';
                container.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    z-index: 9998;
                    max-width: 400px;
                `;
                document.body.appendChild(container);
            }
            
            addGlobalErrorHandlers() {
                // Handle JavaScript errors
                window.addEventListener('error', (event) => {
                    this.showError('خطای جاوا اسکریپت', event.message);
                    console.error('JavaScript Error:', event.error);
                });
                
                // Handle unhandled promise rejections
                window.addEventListener('unhandledrejection', (event) => {
                    this.showError('خطای Promise', event.reason);
                    console.error('Unhandled Promise Rejection:', event.reason);
                });
                
                // Handle resource loading errors
                window.addEventListener('load', () => {
                    const images = document.querySelectorAll('img');
                    images.forEach(img => {
                        img.addEventListener('error', () => {
                            this.handleImageError(img);
                        });
                    });
                });
            }
            
            showLoading(context = 'global', message = 'در حال بارگذاری...') {
                const overlay = document.getElementById('global-loading-overlay');
                if (overlay) {
                    overlay.querySelector('.loading-text').textContent = message;
                    overlay.style.opacity = '1';
                    overlay.style.visibility = 'visible';
                }
                
                this.loadingStates.set(context, true);
                this.updateLoadingIndicators(context, true);
            }
            
            hideLoading(context = 'global') {
                const overlay = document.getElementById('global-loading-overlay');
                if (overlay) {
                    overlay.style.opacity = '0';
                    overlay.style.visibility = 'hidden';
                }
                
                this.loadingStates.delete(context);
                this.updateLoadingIndicators(context, false);
            }
            
            updateLoadingIndicators(context, isLoading) {
                // Update all loading indicators for this context
                const indicators = document.querySelectorAll(`[data-loading-context="${context}"]`);
                indicators.forEach(indicator => {
                    if (isLoading) {
                        indicator.classList.add('loading-active');
                        indicator.style.opacity = '1';
                        indicator.style.pointerEvents = 'auto';
                    } else {
                        indicator.classList.remove('loading-active');
                        indicator.style.opacity = '0';
                        indicator.style.pointerEvents = 'none';
                    }
                });
            }
            
            showError(title, message, type = 'error', duration = 5000) {
                const container = document.getElementById('global-error-container');
                if (!container) return;
                
                const errorElement = document.createElement('div');
                errorElement.className = `error-message ${type}-message`;
                errorElement.innerHTML = `
                    <div class="error-icon">
                        ${type === 'error' ? '⚠️' : type === 'warning' ? '⚡' : 'ℹ️'}
                    </div>
                    <div class="error-content">
                        <div class="error-title">${title}</div>
                        <div class="error-message-text">${message}</div>
                    </div>
                    <button class="error-close" onclick="this.parentElement.remove()">×</button>
                `;
                
                // Add styles for error message
                errorElement.style.cssText = `
                    background: ${type === 'error' ? 'rgba(239, 68, 68, 0.1)' : 
                               type === 'warning' ? 'rgba(251, 191, 36, 0.1)' : 
                               'rgba(59, 130, 246, 0.1)'};
                    border: 1px solid ${type === 'error' ? 'rgba(239, 68, 68, 0.3)' : 
                                   type === 'warning' ? 'rgba(251, 191, 36, 0.3)' : 
                                   'rgba(59, 130, 246, 0.3)'};
                    color: ${type === 'error' ? '#ef4444' : 
                           type === 'warning' ? '#f59e0b' : 
                           '#3b82f6'};
                    padding: 16px;
                    border-radius: 8px;
                    margin-bottom: 12px;
                    display: flex;
                    align-items: flex-start;
                    gap: 12px;
                    animation: slideInRight 0.3s ease;
                    backdrop-filter: blur(10px);
                `;
                
                container.appendChild(errorElement);
                
                // Auto-remove after duration
                setTimeout(() => {
                    if (errorElement.parentElement) {
                        errorElement.style.animation = 'slideOutRight 0.3s ease';
                        setTimeout(() => errorElement.remove(), 300);
                    }
                }, duration);
            }
            
            showSuccess(title, message, duration = 3000) {
                this.showError(title, message, 'success', duration);
            }
            
            showWarning(title, message, duration = 4000) {
                this.showError(title, message, 'warning', duration);
            }
            
            showInfo(title, message, duration = 4000) {
                this.showError(title, message, 'info', duration);
            }
            
            handleImageError(img) {
                // Set a fallback image or placeholder
                img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzVDMTE0LjM1MCA3NSAxMjUgODUuNjUgMTI1IDEwMEMxMjUgMTE0LjM1IDExNC4zNSAxMjUgMTAwIDEyNUM4NS42NSAxMjUgNzUgMTE0LjM1IDc1IDEwMEM3NSA4NS42NSA4NS42NSA3NSAxMDAgNzVaIiBmaWxsPSIjOTRBNEZGIi8+CjxwYXRoIGQ9Ik0xMDAgMTI1QzExMS4wNDYgMTI1IDEyMCAxMTYuMDQ2IDEyMCAxMDVDMTIwIDkzLjk1NDMgMTExLjA0NiA4NSAxMDAgODVDODguOTU0MyA4NSA4MCA5My45NTQzIDgwIDEwNUM4MCAxMTYuMDQ2IDg4Ljk1NDMgMTI1IDEwMCAxMjVaIiBmaWxsPSIjOUE0NEY5Ii8+CjxwYXRoIGQ9Ik03NSAxNDBIMTI1VjE1MEg3NVYxNDBaIiBmaWxsPSIjOUE0NEY5Ii8+Cjwvc3ZnPgo=';
                img.alt = 'تصویر در دسترس نیست';
                img.style.opacity = '0.5';
                
                this.showWarning('خطای تصویر', 'تصویر مورد نظر بارگذاری نشد');
            }
            
            // Utility method for async operations with loading states
            async withLoading(context, asyncOperation, loadingMessage = 'در حال بارگذاری...') {
                try {
                    this.showLoading(context, loadingMessage);
                    const result = await asyncOperation();
                    this.hideLoading(context);
                    return result;
                } catch (error) {
                    this.hideLoading(context);
                    this.showError('خطای عملیات', error.message || 'خطایی رخ داد');
                    throw error;
                }
            }
        }
        
        // Initialize loading manager
        const loadingManager = new LoadingManager();
        
        // Enhanced error handling for existing functions
        function safeExecute(fn, context = 'general', errorMessage = 'خطایی در اجرای عملیات رخ داد') {
            return function(...args) {
                try {
                    return fn.apply(this, args);
                } catch (error) {
                    loadingManager.showError(context, errorMessage);
                    console.error(`Error in ${context}:`, error);
                    return null;
                }
            };
        }
        
        // Wrap existing functions with error handling
        const safeShowSlide = safeExecute(showSlide, 'نمایش اسلاید', 'خطا در نمایش اسلاید');
        const safeChangeSlide = safeExecute(changeSlide, 'تغییر اسلاید', 'خطا در تغییر اسلاید');
        const safeGoToSlide = safeExecute(goToSlide, 'رفتن به اسلاید', 'خطا در رفتن به اسلاید');
        const safeCopyCode = safeExecute(copyCode, 'کپی کد', 'خطا در کپی کردن کد');
        
        // Enhanced copy code function with better error handling
        function enhancedCopyCode(button) {
            return loadingManager.withLoading('copy-code', async () => {
                const codeBlock = button.closest('.code-block');
                if (!codeBlock) {
                    throw new Error('بلوک کد یافت نشد');
                }
                
                const codeContent = codeBlock.querySelector('pre');
                if (!codeContent) {
                    throw new Error('محتوای کد یافت نشد');
                }
                
                let code = codeContent.textContent;
                
                // Remove line numbers if they exist
                const cleanCode = code.replace(/^\s*\d+\s*/gm, '');
                
                // Try to copy to clipboard
                try {
                    await navigator.clipboard.writeText(cleanCode);
                    
                    // Update button with success feedback
                    const originalHTML = button.innerHTML;
                    button.innerHTML = '<i class="fas fa-check"></i> کپی شد!';
                    button.classList.add('copied');
                    
                    setTimeout(() => {
                        button.innerHTML = originalHTML;
                        button.classList.remove('copied');
                    }, 2000);
                    
                    loadingManager.showSuccess('موفقیت', 'کد با موفقیت کپی شد', 2000);
                    
                } catch (clipboardError) {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = cleanCode;
                    textArea.style.position = 'fixed';
                    textArea.style.left = '-999999px';
                    textArea.style.top = '-999999px';
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    
                    try {
                        document.execCommand('copy');
                        loadingManager.showSuccess('موفقیت', 'کد با موفقیت کپی شد', 2000);
                    } catch (execError) {
                        throw new Error('مرورگر شما از کپی کردن پشتیبانی نمی‌کند');
                    } finally {
                        document.body.removeChild(textArea);
                    }
                }
            }, 'در حال کپی کردن کد...');
        }
        
        // Enhanced slide navigation with loading states
        function enhancedChangeSlide(direction) {
            return loadingManager.withLoading('slide-navigation', async () => {
                await new Promise(resolve => setTimeout(resolve, 100)); // Small delay for visual feedback
                changeSlide(direction);
            }, 'در حال تغییر اسلاید...');
        }
        
        // Enhanced go to slide function with loading states
        function enhancedGoToSlide(slideNumber) {
            return loadingManager.withLoading('slide-navigation', async () => {
                await new Promise(resolve => setTimeout(resolve, 100)); // Small delay for visual feedback
                goToSlide(slideNumber);
            }, 'در حال رفتن به اسلاید...');
        }
        
        // Add loading states to code blocks
        document.addEventListener('DOMContentLoaded', () => {
            // Add loading indicators to all code blocks
            const codeBlocks = document.querySelectorAll('.code-block');
            codeBlocks.forEach((block, index) => {
                const loadingIndicator = document.createElement('div');
                loadingIndicator.className = 'code-loading-indicator';
                loadingIndicator.setAttribute('data-loading-context', `code-${index}`);
                loadingIndicator.innerHTML = '<div class="loading-spinner-small"></div>';
                loadingIndicator.style.cssText = `
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    width: 20px;
                    height: 20px;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                    pointer-events: none;
                `;
                block.appendChild(loadingIndicator);
            });
            
            // Add loading spinner styles
            const style = document.createElement('style');
            style.textContent = `
                .loading-spinner {
                    width: 40px;
                    height: 40px;
                    border: 4px solid rgba(255, 255, 255, 0.1);
                    border-top: 4px solid #8b5cf6;
                    border-radius: 50%;
                    animation: spin 1s linear infinite;
                }
                
                .loading-spinner-small {
                    width: 16px;
                    height: 16px;
                    border: 2px solid rgba(255, 255, 255, 0.1);
                    border-top: 2px solid #8b5cf6;
                    border-radius: 50%;
                    animation: spin 1s linear infinite;
                }
                
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                
                .error-close {
                    background: none;
                    border: none;
                    color: inherit;
                    font-size: 18px;
                    cursor: pointer;
                    padding: 0;
                    margin-left: auto;
                    opacity: 0.7;
                    transition: opacity 0.2s ease;
                }
                
                .error-close:hover {
                    opacity: 1;
                }
                
                .error-icon {
                    font-size: 20px;
                    flex-shrink: 0;
                }
                
                .error-content {
                    flex: 1;
                }
                
                .error-title {
                    font-weight: 600;
                    margin-bottom: 4px;
                }
                
                .error-message-text {
                    font-size: 14px;
                    opacity: 0.9;
                }
            `;
            document.head.appendChild(style);
        });
        
        // Add line numbers to code blocks
        function addLineNumbers() {
            const codeBlocks = document.querySelectorAll('.code-block');
            
            codeBlocks.forEach(block => {
                const pre = block.querySelector('pre');
                if (!pre) return;
                
                const code = pre.textContent;
                const lines = code.split('\n');
                
                // Create line numbers container
                const lineNumbersContainer = document.createElement('div');
                lineNumbersContainer.className = 'line-numbers';
                
                // Add line numbers
                for (let i = 1; i <= lines.length; i++) {
                    const lineNumber = document.createElement('div');
                    lineNumber.textContent = i;
                    lineNumbersContainer.appendChild(lineNumber);
                }
                
                // Create content wrapper
                const contentWrapper = document.createElement('div');
                contentWrapper.className = 'code-block-content';
                
                // Move existing elements
                const header = block.querySelector('.code-block-header');
                if (header) {
                    contentWrapper.appendChild(header);
                }
                
                // Add line numbers and code content
                contentWrapper.appendChild(lineNumbersContainer);
                contentWrapper.appendChild(pre);
                
                // Clear and rebuild block
                block.innerHTML = '';
                block.appendChild(contentWrapper);
            });
        }
        
        // Initialize line numbers when DOM is loaded
        document.addEventListener('DOMContentLoaded', addLineNumbers);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                changeSlide(1);
            } else if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeSidebar();
            showSlide(currentSlide);
        });
    </script>
</body>
</html>
