<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¢Ù…ÙˆØ²Ø´ Ø¬Ø§Ù…Ø¹ MapLibre GL - Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ ÙˆØ¨</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Highlight.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    
    <style>
        :root {
            --primary: #4264fb;
            --primary-light: #5a7bfc;
            --primary-dark: #2d4fd6;
            --secondary: #28a745;
            --accent: #ff6b6b;
            --purple: #8b5cf6;
            --cyan: #06b6d4;
            --orange: #f59e0b;
            --bg-dark: #0a0e17;
            --bg-card: #111827;
            --bg-code: #1a1f2e;
            --text-primary: #f3f4f6;
            --text-secondary: #9ca3af;
            --border-color: #1f2937;
            --gradient-start: #4264fb;
            --gradient-end: #06b6d4;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Vazirmatn', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.8;
            font-size: 16px;
        }
        
        /* Scroll Progress */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--cyan));
            z-index: 9999;
            transition: width 0.1s;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #0a0e17 0%, #111827 50%, #1a1f2e 100%);
            padding: 80px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border-bottom: 3px solid var(--primary);
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(66, 100, 251, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(6, 182, 212, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .header-content {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .logo {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, var(--primary), var(--cyan));
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            box-shadow: 0 20px 60px rgba(66, 100, 251, 0.3);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .header h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--primary-light), var(--cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header .subtitle {
            font-size: 1.4rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }
        
        .header-badges {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .badge {
            background: rgba(66, 100, 251, 0.15);
            border: 1px solid var(--primary);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .badge:hover {
            background: rgba(66, 100, 251, 0.25);
            transform: translateY(-2px);
        }
        
        .badge.open-source {
            background: rgba(40, 167, 69, 0.15);
            border-color: var(--secondary);
        }
        
        .badge.webgl {
            background: rgba(139, 92, 246, 0.15);
            border-color: var(--purple);
        }
        
        .badge.vector {
            background: rgba(6, 182, 212, 0.15);
            border-color: var(--cyan);
        }
        
        /* Navigation */
        .nav {
            background: rgba(17, 24, 39, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
        }
        
        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary);
        }
        
        .nav-brand-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary), var(--cyan));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .nav-links {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 0.85rem;
            transition: all 0.3s;
        }
        
        .nav-link:hover, .nav-link.active {
            background: rgba(66, 100, 251, 0.15);
            color: var(--primary);
        }
        
        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        /* Table of Contents */
        .toc {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 50px;
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }
        
        .toc::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--cyan));
        }
        
        .toc h2 {
            font-size: 1.6rem;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--text-primary);
        }
        
        .toc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }
        
        .toc-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 18px;
            background: rgba(66, 100, 251, 0.05);
            border-radius: 12px;
            text-decoration: none;
            color: var(--text-primary);
            transition: all 0.3s;
            border: 1px solid transparent;
        }
        
        .toc-item:hover {
            background: rgba(66, 100, 251, 0.12);
            border-color: var(--primary);
            transform: translateX(-5px);
        }
        
        .toc-number {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--primary), var(--cyan));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.95rem;
            flex-shrink: 0;
        }
        
        .toc-text {
            flex: 1;
        }
        
        .toc-title {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 2px;
        }
        
        .toc-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* Sections */
        .section {
            margin-bottom: 60px;
            padding: 40px;
            background: var(--bg-card);
            border-radius: 20px;
            border: 1px solid var(--border-color);
            position: relative;
        }
        
        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, var(--primary), var(--cyan));
            border-radius: 20px 0 0 20px;
        }
        
        .section-header {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 2px solid var(--border-color);
        }
        
        .section-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--primary), var(--cyan));
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            flex-shrink: 0;
            box-shadow: 0 10px 30px rgba(66, 100, 251, 0.2);
        }
        
        .section-number {
            font-size: 0.85rem;
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .section-subtitle {
            color: var(--text-secondary);
            font-size: 1.05rem;
        }
        
        /* Headings */
        h3 {
            font-size: 1.4rem;
            color: var(--primary-light);
            margin: 40px 0 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        h4 {
            font-size: 1.15rem;
            color: var(--text-primary);
            margin: 30px 0 15px;
        }
        
        /* Paragraphs */
        p {
            margin-bottom: 16px;
            color: var(--text-secondary);
            line-height: 1.9;
        }
        
        /* Lists */
        ul, ol {
            margin: 15px 0;
            padding-right: 25px;
        }
        
        li {
            margin-bottom: 10px;
            color: var(--text-secondary);
        }
        
        li strong {
            color: var(--text-primary);
        }
        
        /* Info Boxes */
        .info-box {
            padding: 22px 28px;
            border-radius: 14px;
            margin: 28px 0;
            border-right: 5px solid;
            position: relative;
        }
        
        .info-box.info {
            background: rgba(66, 100, 251, 0.08);
            border-color: var(--primary);
        }
        
        .info-box.success {
            background: rgba(40, 167, 69, 0.08);
            border-color: var(--secondary);
        }
        
        .info-box.warning {
            background: rgba(245, 158, 11, 0.08);
            border-color: var(--orange);
        }
        
        .info-box.danger {
            background: rgba(255, 107, 107, 0.08);
            border-color: var(--accent);
        }
        
        .info-box.purple {
            background: rgba(139, 92, 246, 0.08);
            border-color: var(--purple);
        }
        
        .info-box-title {
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-primary);
            font-size: 1.05rem;
        }
        
        .info-box-content {
            color: var(--text-secondary);
        }
        
        .info-box-content ul {
            margin: 12px 0 0;
        }
        
        /* Code Blocks */
        .code-block {
            margin: 28px 0;
            border-radius: 14px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            background: var(--bg-code);
        }
        
        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 20px;
            background: rgba(0, 0, 0, 0.4);
            border-bottom: 1px solid var(--border-color);
        }
        
        .code-lang {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .code-lang-icon {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
        }
        
        .code-lang-icon.js {
            background: #f7df1e;
            color: #000;
        }
        
        .code-lang-icon.html {
            background: #e34f26;
            color: #fff;
        }
        
        .code-lang-icon.css {
            background: #1572b6;
            color: #fff;
        }
        
        .code-lang-icon.bash {
            background: #4eaa25;
            color: #fff;
        }
        
        .code-lang-icon.json {
            background: #292929;
            color: #fff;
        }
        
        .code-lang-icon.ts {
            background: #3178c6;
            color: #fff;
        }
        
        .code-actions {
            display: flex;
            gap: 8px;
        }
        
        .code-btn {
            background: rgba(66, 100, 251, 0.2);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 6px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            font-family: 'Vazirmatn', sans-serif;
        }
        
        .code-btn:hover {
            background: var(--primary);
            color: white;
        }
        
        .code-body {
        direction: ltr;
            padding: 0;
            overflow-x: auto;
        }
        
        .code-body pre {
            margin: 0;
            padding: 22px;
            background: transparent !important;
        }
        
        .code-body code {
            font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            direction: ltr;
            text-align: left;
        }
        
        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: 28px 0;
            border-radius: 14px;
            border: 1px solid var(--border-color);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        
        th, td {
            padding: 16px 20px;
            text-align: right;
            border-bottom: 1px solid var(--border-color);
        }
        
        th {
            background: rgba(66, 100, 251, 0.12);
            font-weight: 600;
            color: var(--primary-light);
        }
        
        tr:hover {
            background: rgba(66, 100, 251, 0.05);
        }
        
        td code {
            background: rgba(66, 100, 251, 0.15);
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.85rem;
            direction: ltr;
        }
        
        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 22px;
            margin: 28px 0;
        }
        
        .feature-card {
            background: rgba(66, 100, 251, 0.05);
            border-radius: 16px;
            padding: 28px;
            border: 1px solid var(--border-color);
            transition: all 0.3s;
            text-decoration: none;
            color: inherit;
        }
        
        .feature-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(66, 100, 251, 0.15);
        }
        
        .feature-icon {
            font-size: 2.8rem;
            margin-bottom: 18px;
        }
        
        .feature-title {
            font-size: 1.15rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-primary);
        }
        
        .feature-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.7;
        }
        
        /* Comparison Grid */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 22px;
            margin: 28px 0;
        }
        
        .comparison-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 16px;
            padding: 28px;
            border: 1px solid var(--border-color);
        }
        
        .comparison-card.highlight {
            border-color: var(--primary);
            background: rgba(66, 100, 251, 0.05);
        }
        
        .comparison-card h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 0;
            color: var(--primary-light);
        }
        
        /* Demo Box */
        .demo-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            padding: 25px;
            margin: 28px 0;
            border: 1px solid var(--border-color);
        }
        
        .demo-title {
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--cyan);
        }
        
        .demo-preview {
            background: #1a1f2e;
            border-radius: 12px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
            border: 1px dashed var(--border-color);
        }
        
        /* API Reference */
        .api-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid var(--border-color);
        }
        
        .api-name {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            color: var(--cyan);
            margin-bottom: 8px;
            direction: ltr;
            text-align: left;
        }
        
        .api-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* Layer Type Cards */
        .layer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 18px;
            margin: 28px 0;
        }
        
        .layer-card {
            background: linear-gradient(135deg, rgba(66, 100, 251, 0.1), rgba(6, 182, 212, 0.05));
            border-radius: 14px;
            padding: 22px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s;
        }
        
        .layer-card:hover {
            border-color: var(--primary);
            transform: scale(1.02);
        }
        
        .layer-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
        }
        
        .layer-name {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 6px;
        }
        
        .layer-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* Footer */
        .footer {
            background: var(--bg-card);
            padding: 60px 20px;
            margin-top: 60px;
            border-top: 1px solid var(--border-color);
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }
        
        .footer-section h4 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.1rem;
        }
        
        .footer-section ul {
            list-style: none;
            padding: 0;
        }
        
        .footer-section li {
            margin-bottom: 12px;
        }
        
        .footer-section a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-section a:hover {
            color: var(--primary);
        }
        
        .footer-bottom {
            max-width: 1200px;
            margin: 50px auto 0;
            padding-top: 30px;
            border-top: 1px solid var(--border-color);
            text-align: center;
            color: var(--text-secondary);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .section {
                padding: 25px;
            }
            
            .section-header {
                flex-direction: column;
                text-align: center;
            }
            
            .section::before {
                width: 100%;
                height: 4px;
                border-radius: 20px 20px 0 0;
            }
            
            .nav-links {
                display: none;
            }
            
            .logo {
                width: 80px;
                height: 80px;
                font-size: 40px;
            }
        }
        
        /* Print */
        @media print {
            .nav, .scroll-progress {
                display: none;
            }
            
            .section {
                break-inside: avoid;
            }
        }
        
        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .section {
            animation: fadeInUp 0.6s ease-out;
        }
        
        /* Inline Code */
        code:not([class*="language-"]) {
            background: rgba(66, 100, 251, 0.15);
            padding: 3px 10px;
            border-radius: 6px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.88em;
            direction: ltr;
            display: inline-block;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-light);
        }
    </style>
</head>
<body>
    <!-- Scroll Progress -->
    <div class="scroll-progress" id="scrollProgress"></div>
    
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-container">
                <div class="logo">ğŸ—ºï¸</div>
            </div>
            <h1>MapLibre GL</h1>
            <p class="subtitle">
                Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ù…ØªÙ†â€ŒØ¨Ø§Ø² Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ Ùˆ Ø²ÛŒØ¨Ø§ Ø¨Ø§ WebGL
            </p>
            <div class="header-badges">
                <span class="badge open-source">
                    <span>ğŸ†“</span> Ù…ØªÙ†â€ŒØ¨Ø§Ø²
                </span>
                <span class="badge webgl">
                    <span>ğŸ®</span> WebGL
                </span>
                <span class="badge vector">
                    <span>ğŸ“</span> Vector Tiles
                </span>
                <span class="badge">
                    <span>âš¡</span> Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§Ù„Ø§
                </span>
            </div>
        </div>
    </header>
    
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <div class="nav-brand">
                <div class="nav-brand-icon">ğŸ—ºï¸</div>
                <span>MapLibre GL</span>
            </div>
            <div class="nav-links">
                <a href="#intro" class="nav-link">Ù…Ø¹Ø±ÙÛŒ</a>
                <a href="#installation" class="nav-link">Ù†ØµØ¨</a>
                <a href="#basics" class="nav-link">Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡</a>
                <a href="#styles" class="nav-link">Ø§Ø³ØªØ§ÛŒÙ„</a>
                <a href="#layers" class="nav-link">Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§</a>
                <a href="#sources" class="nav-link">Ù…Ù†Ø§Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡</a>
                <a href="#interactions" class="nav-link">ØªØ¹Ø§Ù…Ù„Ø§Øª</a>
                <a href="#controls" class="nav-link">Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§</a>
                <a href="#markers" class="nav-link">Ù†Ø´Ø§Ù†Ú¯Ø±Ù‡Ø§</a>
                <a href="#3d" class="nav-link">Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</a>
                <a href="#advanced" class="nav-link">Ù¾ÛŒØ´Ø±ÙØªÙ‡</a>
                <a href="#projects" class="nav-link">Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§</a>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <div class="container">
        <!-- Table of Contents -->
        <div class="toc">
            <h2>ğŸ“š ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨</h2>
            <div class="toc-grid">
                <a href="#intro" class="toc-item">
                    <div class="toc-number">1</div>
                    <div class="toc-text">
                        <div class="toc-title">Ù…Ø¹Ø±ÙÛŒ MapLibre GL</div>
                        <div class="toc-desc">Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ùˆ ØªØ§Ø±ÛŒØ®Ú†Ù‡</div>
                    </div>
                </a>
                <a href="#installation" class="toc-item">
                    <div class="toc-number">2</div>
                    <div class="toc-text">
                        <div class="toc-title">Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ</div>
                        <div class="toc-desc">CDN, npm, Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ÙˆÙ„ÛŒÙ‡</div>
                    </div>
                </a>
                <a href="#basics" class="toc-item">
                    <div class="toc-number">3</div>
                    <div class="toc-text">
                        <div class="toc-title">Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡</div>
                        <div class="toc-desc">Map, View, Coordinates</div>
                    </div>
                </a>
                <a href="#styles" class="toc-item">
                    <div class="toc-number">4</div>
                    <div class="toc-text">
                        <div class="toc-title">Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ùˆ ØªÙ…â€ŒÙ‡Ø§</div>
                        <div class="toc-desc">Style Specification</div>
                    </div>
                </a>
                <a href="#layers" class="toc-item">
                    <div class="toc-number">5</div>
                    <div class="toc-text">
                        <div class="toc-title">Ø§Ù†ÙˆØ§Ø¹ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§</div>
                        <div class="toc-desc">Fill, Line, Symbol, Circle</div>
                    </div>
                </a>
                <a href="#sources" class="toc-item">
                    <div class="toc-number">6</div>
                    <div class="toc-text">
                        <div class="toc-title">Ù…Ù†Ø§Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡</div>
                        <div class="toc-desc">GeoJSON, Vector, Raster</div>
                    </div>
                </a>
                <a href="#interactions" class="toc-item">
                    <div class="toc-number">7</div>
                    <div class="toc-text">
                        <div class="toc-title">ØªØ¹Ø§Ù…Ù„Ø§Øª Ùˆ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§</div>
                        <div class="toc-desc">Click, Hover, Drag</div>
                    </div>
                </a>
                <a href="#controls" class="toc-item">
                    <div class="toc-number">8</div>
                    <div class="toc-text">
                        <div class="toc-title">Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§</div>
                        <div class="toc-desc">Navigation, Scale, Geolocation</div>
                    </div>
                </a>
                <a href="#markers" class="toc-item">
                    <div class="toc-number">9</div>
                    <div class="toc-text">
                        <div class="toc-title">Ù†Ø´Ø§Ù†Ú¯Ø±Ù‡Ø§ Ùˆ Popup</div>
                        <div class="toc-desc">Marker, Popup, Custom Icons</div>
                    </div>
                </a>
                <a href="#3d" class="toc-item">
                    <div class="toc-number">10</div>
                    <div class="toc-text">
                        <div class="toc-title">Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</div>
                        <div class="toc-desc">3D Buildings, Terrain, Sky</div>
                    </div>
                </a>
                <a href="#advanced" class="toc-item">
                    <div class="toc-number">11</div>
                    <div class="toc-text">
                        <div class="toc-title">Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</div>
                        <div class="toc-desc">Expressions, Custom Layers</div>
                    </div>
                </a>
                <a href="#projects" class="toc-item">
                    <div class="toc-number">12</div>
                    <div class="toc-text">
                        <div class="toc-title">Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒ</div>
                        <div class="toc-desc">Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ</div>
                    </div>
                </a>
            </div>
        </div>

        <!-- Section 1: Introduction -->
        <section class="section" id="intro">
            <div class="section-header">
                <div class="section-icon">ğŸ—ºï¸</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø§ÙˆÙ„</div>
                    <h2 class="section-title">Ù…Ø¹Ø±ÙÛŒ MapLibre GL</h2>
                    <p class="section-subtitle">Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ù…ØªÙ†â€ŒØ¨Ø§Ø² Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ ÙˆØ¨</p>
                </div>
            </div>

            <div class="info-box info">
                <div class="info-box-title">
                    <span>ğŸ—ºï¸</span>
                    MapLibre GL Ú†ÛŒØ³ØªØŸ
                </div>
                <div class="info-box-content">
                    <strong>MapLibre GL JS</strong> ÛŒÚ© Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ù…ØªÙ†â€ŒØ¨Ø§Ø² JavaScript Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ 
                    Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² WebGL Ø§Ø³Øª. Ø§ÛŒÙ† Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø§Ø² Vector Tiles Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø§Ù…Ú©Ø§Ù† 
                    Ø³Ø§Ø®Øª Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ¹ØŒ Ø²ÛŒØ¨Ø§ Ùˆ Ù‚Ø§Ø¨Ù„ Ø³ÙØ§Ø±Ø´ÛŒâ€ŒØ³Ø§Ø²ÛŒ Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </div>
            </div>

            <h3>ğŸ“œ ØªØ§Ø±ÛŒØ®Ú†Ù‡</h3>
            <p>
                MapLibre GL JS Ø¯Ø± Ø³Ø§Ù„ 2020 Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© fork Ø§Ø² Mapbox GL JS (Ù†Ø³Ø®Ù‡ 1.13) Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯ØŒ 
                Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Mapbox Ù„Ø§ÛŒØ³Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² BSD Ø¨Ù‡ ÛŒÚ© Ù„Ø§ÛŒØ³Ù†Ø³ Ø§Ø®ØªØµØ§ØµÛŒ ØªØºÛŒÛŒØ± Ø¯Ø§Ø¯. 
                Ø¬Ø§Ù…Ø¹Ù‡ Ù…ØªÙ†â€ŒØ¨Ø§Ø² Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ø§ Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ø§Ø¯ Ùˆ Ø§Ú©Ù†ÙˆÙ† ØªÙˆØ³Ø· MapLibre Organization Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
            </p>

            <h3>ğŸ¯ Ú†Ø±Ø§ MapLibre GLØŸ</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ†“</div>
                    <div class="feature-title">Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±Ø§ÛŒÚ¯Ø§Ù†</div>
                    <div class="feature-desc">
                        Ù…ØªÙ†â€ŒØ¨Ø§Ø² Ø¨Ø§ Ù„Ø§ÛŒØ³Ù†Ø³ BSD - Ø¨Ø¯ÙˆÙ† Ù‡Ø²ÛŒÙ†Ù‡ 
                        Ùˆ Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø§Ø³ØªÙØ§Ø¯Ù‡
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <div class="feature-title">Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§Ù„Ø§</div>
                    <div class="feature-desc">
                        Ø±Ù†Ø¯Ø± Ø¨Ø§ WebGL Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ 
                        Ø±ÙˆØ§Ù† Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ù†Ù‚Ø·Ù‡
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">ğŸ¨</div>
                    <div class="feature-title">Ù‚Ø§Ø¨Ù„ Ø³ÙØ§Ø±Ø´ÛŒâ€ŒØ³Ø§Ø²ÛŒ</div>
                    <div class="feature-desc">
                        Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ø§Ù…Ù„ Ù†Ù‚Ø´Ù‡ Ø¨Ø§ JSON 
                        Ùˆ Ø§Ù…Ú©Ø§Ù† Ø·Ø±Ø§Ø­ÛŒ ØªÙ… Ø§Ø®ØªØµØ§ØµÛŒ
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“±</div>
                    <div class="feature-title">Ú†Ù†Ø¯ Ù¾Ù„ØªÙØ±Ù…ÛŒ</div>
                    <div class="feature-desc">
                        Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ÙˆØ¨ØŒ iOSØŒ Android 
                        Ùˆ React Native
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">ğŸŒ</div>
                    <div class="feature-title">Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯</div>
                    <div class="feature-desc">
                        Ø³Ø§Ø²Ú¯Ø§Ø± Ø¨Ø§ MVT Ùˆ 
                        Mapbox Style Specification
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”ï¸</div>
                    <div class="feature-title">Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</div>
                    <div class="feature-desc">
                        Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² TerrainØŒ 
                        Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ 3D Ùˆ Sky
                    </div>
                </div>
            </div>

            <h3>ğŸ“Š Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø±</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>ÙˆÛŒÚ˜Ú¯ÛŒ</th>
                            <th>MapLibre GL</th>
                            <th>Leaflet</th>
                            <th>OpenLayers</th>
                            <th>Mapbox GL</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Ù„Ø§ÛŒØ³Ù†Ø³</td>
                            <td>âœ… BSD (Ø±Ø§ÛŒÚ¯Ø§Ù†)</td>
                            <td>âœ… BSD</td>
                            <td>âœ… BSD</td>
                            <td>âš ï¸ Ø§Ø®ØªØµØ§ØµÛŒ</td>
                        </tr>
                        <tr>
                            <td>Ø±Ù†Ø¯Ø±</td>
                            <td>WebGL</td>
                            <td>Canvas/SVG</td>
                            <td>Canvas/WebGL</td>
                            <td>WebGL</td>
                        </tr>
                        <tr>
                            <td>Vector Tiles</td>
                            <td>âœ… Ø¨Ù„Ù‡</td>
                            <td>âš ï¸ Ø¨Ø§ Ù¾Ù„Ø§Ú¯ÛŒÙ†</td>
                            <td>âœ… Ø¨Ù„Ù‡</td>
                            <td>âœ… Ø¨Ù„Ù‡</td>
                        </tr>
                        <tr>
                            <td>3D Terrain</td>
                            <td>âœ… Ø¨Ù„Ù‡</td>
                            <td>âŒ Ø®ÛŒØ±</td>
                            <td>âš ï¸ Ù…Ø­Ø¯ÙˆØ¯</td>
                            <td>âœ… Ø¨Ù„Ù‡</td>
                        </tr>
                        <tr>
                            <td>Ø­Ø¬Ù… (gzip)</td>
                            <td>~220 KB</td>
                            <td>~40 KB</td>
                            <td>~180 KB</td>
                            <td>~220 KB</td>
                        </tr>
                        <tr>
                            <td>ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ</td>
                            <td>Ù…ØªÙˆØ³Ø·</td>
                            <td>Ø¢Ø³Ø§Ù†</td>
                            <td>Ø¯Ø´ÙˆØ§Ø±</td>
                            <td>Ù…ØªÙˆØ³Ø·</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>ğŸŒ Ø§Ø±Ø§Ø¦Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ù†Ù‚Ø´Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù†</h3>
            <div class="comparison-grid">
                <div class="comparison-card highlight">
                    <h4>ğŸ—ºï¸ OpenStreetMap</h4>
                    <ul>
                        <li>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù† Ùˆ Ù…ØªÙ†â€ŒØ¨Ø§Ø²</li>
                        <li>Ù¾ÙˆØ´Ø´ Ø¬Ù‡Ø§Ù†ÛŒ</li>
                        <li>Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙˆØ³Ø· Ø¬Ø§Ù…Ø¹Ù‡</li>
                        <li>Ú†Ù†Ø¯ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ ØªØ§ÛŒÙ„</li>
                    </ul>
                </div>
                
                <div class="comparison-card">
                    <h4>ğŸ¨ MapTiler</h4>
                    <ul>
                        <li>ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§ Ú©ÛŒÙÛŒØª</li>
                        <li>Ù¾Ù„Ù† Ø±Ø§ÛŒÚ¯Ø§Ù† Ù…ÙˆØ¬ÙˆØ¯</li>
                        <li>Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†ÙˆØ¹</li>
                        <li>Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§</li>
                    </ul>
                </div>
                
                <div class="comparison-card">
                    <h4>ğŸŒ Stadia Maps</h4>
                    <ul>
                        <li>Ù¾Ù„Ù† Ø±Ø§ÛŒÚ¯Ø§Ù† Ø³Ø®Ø§ÙˆØªÙ…Ù†Ø¯</li>
                        <li>Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ¨Ø§</li>
                        <li>Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú©Ø§Ø±Øª Ø§Ø¹ØªØ¨Ø§Ø±ÛŒ</li>
                        <li>API Ø³Ø§Ø¯Ù‡</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 2: Installation -->
        <section class="section" id="installation">
            <div class="section-header">
                <div class="section-icon">ğŸ“¦</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø¯ÙˆÙ…</div>
                    <h2 class="section-title">Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ</h2>
                    <p class="section-subtitle">Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ù†ØµØ¨ MapLibre GL</p>
                </div>
            </div>

            <h3>ğŸŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² CDN</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon html">H</div>
                        <span>index.html</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="fa" dir="rtl"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Ù†Ù‚Ø´Ù‡ MapLibre&lt;/title&gt;
    
    &lt;!-- MapLibre GL CSS --&gt;
    &lt;link href="https://unpkg.com/maplibre-gl@4.1.0/dist/maplibre-gl.css" rel="stylesheet"&gt;
    
    &lt;style&gt;
        body { margin: 0; padding: 0; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="map"&gt;&lt;/div&gt;
    
    &lt;!-- MapLibre GL JS --&gt;
    &lt;script src="https://unpkg.com/maplibre-gl@4.1.0/dist/maplibre-gl.js"&gt;&lt;/script&gt;
    
    &lt;script&gt;
        const map = new maplibregl.Map({
            container: 'map',
            style: 'https://demotiles.maplibre.org/style.json',
            center: [51.3890, 35.6892], // ØªÙ‡Ø±Ø§Ù†
            zoom: 10
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                </div>
            </div>

            <h3>ğŸ“¦ Ù†ØµØ¨ Ø¨Ø§ npm</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon bash">$</div>
                        <span>Terminal</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-bash"># Ù†ØµØ¨ Ø¨Ø§ npm
npm install maplibre-gl

# Ù†ØµØ¨ Ø¨Ø§ yarn
yarn add maplibre-gl

# Ù†ØµØ¨ Ø¨Ø§ pnpm
pnpm add maplibre-gl</code></pre>
                </div>
            </div>

            <h3>âš›ï¸ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± React</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon bash">$</div>
                        <span>Terminal</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-bash"># Ù†ØµØ¨ MapLibre Ùˆ react-map-gl
npm install maplibre-gl react-map-gl</code></pre>
                </div>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>MapComponent.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState } from 'react';
import Map, { Marker, Popup, NavigationControl } from 'react-map-gl/maplibre';
import 'maplibre-gl/dist/maplibre-gl.css';

function MapComponent() {
    const [viewState, setViewState] = useState({
        longitude: 51.3890,
        latitude: 35.6892,
        zoom: 10
    });
    
    const [showPopup, setShowPopup] = useState(true);
    
    return (
        &lt;Map
            {...viewState}
            onMove={evt => setViewState(evt.viewState)}
            style={{ width: '100%', height: '100vh' }}
            mapStyle="https://demotiles.maplibre.org/style.json"
        &gt;
            {/* Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ */}
            &lt;NavigationControl position="top-right" /&gt;
            
            {/* Ù†Ø´Ø§Ù†Ú¯Ø± */}
            &lt;Marker
                longitude={51.3890}
                latitude={35.6892}
                anchor="bottom"
                onClick={() => setShowPopup(true)}
            &gt;
                &lt;div style={{ fontSize: '30px' }}&gt;ğŸ“&lt;/div&gt;
            &lt;/Marker&gt;
            
            {/* Ù¾Ø§Ù¾â€ŒØ¢Ù¾ */}
            {showPopup && (
                &lt;Popup
                    longitude={51.3890}
                    latitude={35.6892}
                    anchor="top"
                    onClose={() => setShowPopup(false)}
                &gt;
                    &lt;div&gt;ØªÙ‡Ø±Ø§Ù†ØŒ Ø§ÛŒØ±Ø§Ù†&lt;/div&gt;
                &lt;/Popup&gt;
            )}
        &lt;/Map&gt;
    );
}

export default MapComponent;</code></pre>
                </div>
            </div>

            <h3>ğŸ’š Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Vue.js</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon bash">$</div>
                        <span>Terminal</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-bash"># Ù†ØµØ¨ MapLibre Ùˆ vue-maplibre-gl
npm install maplibre-gl @maplibre/maplibre-gl-vue</code></pre>
                </div>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">Vue</div>
                        <span>MapComponent.vue</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-html">&lt;template&gt;
    &lt;MglMap
        :mapStyle="mapStyle"
        :center="center"
        :zoom="zoom"
        @load="onMapLoad"
    &gt;
        &lt;MglNavigationControl position="top-right" /&gt;
        
        &lt;MglMarker :coordinates="center"&gt;
            &lt;template #default&gt;
                &lt;div class="marker"&gt;ğŸ“&lt;/div&gt;
            &lt;/template&gt;
        &lt;/MglMarker&gt;
    &lt;/MglMap&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';
import { 
    MglMap, 
    MglMarker, 
    MglNavigationControl 
} from '@maplibre/maplibre-gl-vue';
import 'maplibre-gl/dist/maplibre-gl.css';

const mapStyle = ref('https://demotiles.maplibre.org/style.json');
const center = ref([51.3890, 35.6892]);
const zoom = ref(10);

const onMapLoad = (event) => {
    console.log('Map loaded!', event);
};
&lt;/script&gt;

&lt;style scoped&gt;
.marker {
    font-size: 30px;
    cursor: pointer;
}
&lt;/style&gt;</code></pre>
                </div>
            </div>

            <h3>ğŸ…°ï¸ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Angular</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon ts">TS</div>
                        <span>map.component.ts</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-typescript">import { Component, OnInit, OnDestroy, ElementRef, ViewChild } from '@angular/core';
import maplibregl from 'maplibre-gl';

@Component({
    selector: 'app-map',
    template: '&lt;div #mapContainer class="map-container"&gt;&lt;/div&gt;',
    styles: [`
        .map-container {
            width: 100%;
            height: 100vh;
        }
    `]
})
export class MapComponent implements OnInit, OnDestroy {
    @ViewChild('mapContainer', { static: true }) mapContainer!: ElementRef;
    
    private map!: maplibregl.Map;
    
    ngOnInit(): void {
        this.map = new maplibregl.Map({
            container: this.mapContainer.nativeElement,
            style: 'https://demotiles.maplibre.org/style.json',
            center: [51.3890, 35.6892],
            zoom: 10
        });
        
        // Ø§ÙØ²ÙˆØ¯Ù† Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§
        this.map.addControl(new maplibregl.NavigationControl(), 'top-right');
        
        // Ø§ÙØ²ÙˆØ¯Ù† Ù†Ø´Ø§Ù†Ú¯Ø±
        new maplibregl.Marker()
            .setLngLat([51.3890, 35.6892])
            .setPopup(new maplibregl.Popup().setHTML('&lt;h3&gt;ØªÙ‡Ø±Ø§Ù†&lt;/h3&gt;'))
            .addTo(this.map);
    }
    
    ngOnDestroy(): void {
        this.map?.remove();
    }
}</code></pre>
                </div>
            </div>

            <h3>ğŸ¨ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù†</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Ø§Ø±Ø§Ø¦Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡</th>
                            <th>URL Ø§Ø³ØªØ§ÛŒÙ„</th>
                            <th>ØªÙˆØ¶ÛŒØ­</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>MapLibre Demo</td>
                            <td><code>https://demotiles.maplibre.org/style.json</code></td>
                            <td>Ø§Ø³ØªØ§ÛŒÙ„ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ MapLibre</td>
                        </tr>
                        <tr>
                            <td>OpenStreetMap</td>
                            <td><code>https://tiles.openfreemap.org/styles/liberty</code></td>
                            <td>Ø§Ø³ØªØ§ÛŒÙ„ Liberty</td>
                        </tr>
                        <tr>
                            <td>MapTiler</td>
                            <td><code>https://api.maptiler.com/maps/streets/style.json?key=YOUR_KEY</code></td>
                            <td>Ù†ÛŒØ§Ø² Ø¨Ù‡ API Key Ø±Ø§ÛŒÚ¯Ø§Ù†</td>
                        </tr>
                        <tr>
                            <td>Stadia Maps</td>
                            <td><code>https://tiles.stadiamaps.com/styles/alidade_smooth.json</code></td>
                            <td>Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†ÙˆØ¹</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Section 3: Basics -->
        <section class="section" id="basics">
            <div class="section-header">
                <div class="section-icon">ğŸ“</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø³ÙˆÙ…</div>
                    <h2 class="section-title">Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡</h2>
                    <p class="section-subtitle">Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ù…ÙØ§Ù‡ÛŒÙ… Ø§Ø³Ø§Ø³ÛŒ MapLibre GL</p>
                </div>
            </div>

            <h3>ğŸ—ºï¸ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù‚Ø´Ù‡</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>create-map.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù‚Ø´Ù‡ Ù¾Ø§ÛŒÙ‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const map = new maplibregl.Map({
    // Ø§Ù„Ù…Ø§Ù† HTML Ú©Ù‡ Ù†Ù‚Ø´Ù‡ Ø¯Ø± Ø¢Ù† Ø±Ù†Ø¯Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯
    container: 'map',
    
    // URL Ø§Ø³ØªØ§ÛŒÙ„ Ù†Ù‚Ø´Ù‡
    style: 'https://demotiles.maplibre.org/style.json',
    
    // Ù…Ø±Ú©Ø² Ù†Ù‚Ø´Ù‡ [longitude, latitude]
    center: [51.3890, 35.6892],
    
    // Ø³Ø·Ø­ Ø²ÙˆÙ… (0-24)
    zoom: 12,
    
    // Ø²Ø§ÙˆÛŒÙ‡ Ú†Ø±Ø®Ø´ (Ø¯Ø±Ø¬Ù‡)
    bearing: 0,
    
    // Ø²Ø§ÙˆÛŒÙ‡ Ø´ÛŒØ¨ (0-85 Ø¯Ø±Ø¬Ù‡)
    pitch: 0,
    
    // Ø­Ø¯Ø§Ù‚Ù„ Ùˆ Ø­Ø¯Ø§Ú©Ø«Ø± Ø²ÙˆÙ…
    minZoom: 0,
    maxZoom: 22,
    
    // Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ù†Ù…Ø§ÛŒØ´
    maxBounds: [
        [44.0, 25.0],  // Ø¬Ù†ÙˆØ¨ ØºØ±Ø¨ÛŒ
        [63.0, 40.0]   // Ø´Ù…Ø§Ù„ Ø´Ø±Ù‚ÛŒ
    ],
    
    // ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªØ¹Ø§Ù…Ù„ÛŒ
    interactive: true,
    scrollZoom: true,
    boxZoom: true,
    dragRotate: true,
    dragPan: true,
    keyboard: true,
    doubleClickZoom: true,
    touchZoomRotate: true,
    
    // Ù†Ù…Ø§ÛŒØ´ Ù„ÙˆÚ¯Ùˆ Ùˆ attribution
    attributionControl: true,
    logoPosition: 'bottom-left',
    
    // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ù†Ø¯Ø±
    antialias: true,
    preserveDrawingBuffer: false,
    fadeDuration: 300,
    
    // Hash Ø¯Ø± URL Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª
    hash: true,
    
    // RTL Ø¨Ø±Ø§ÛŒ Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø±Ø§Ø³Øª Ø¨Ù‡ Ú†Ù¾
    localIdeographFontFamily: 'Vazirmatn, sans-serif'
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ù‚Ø´Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('load', () => {
    console.log('Ù†Ù‚Ø´Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯!');
    
    // Ø§Ú©Ù†ÙˆÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ Ùˆ Ù…Ù†Ø§Ø¨Ø¹ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…ØªØ¯Ù‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ù†Ù…Ø§ÛŒ Ù†Ù‚Ø´Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ù¾Ø±Ø´ Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬Ø¯ÛŒØ¯
map.jumpTo({
    center: [51.3890, 35.6892],
    zoom: 14,
    bearing: 45,
    pitch: 60
});

// Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬Ø¯ÛŒØ¯
map.flyTo({
    center: [51.4215, 35.7295],
    zoom: 15,
    bearing: 0,
    pitch: 45,
    duration: 2000,  // Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
    essential: true  // Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ¾Ø°ÛŒØ±ÛŒ
});

// Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø³Ø§Ø¯Ù‡â€ŒØªØ±
map.easeTo({
    center: [51.3890, 35.6892],
    zoom: 12,
    duration: 1000
});

// ÙÛŒØª Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ù…Ø­Ø¯ÙˆØ¯Ù‡
map.fitBounds([
    [51.2, 35.5],  // Ø¬Ù†ÙˆØ¨ ØºØ±Ø¨ÛŒ
    [51.6, 35.9]   // Ø´Ù…Ø§Ù„ Ø´Ø±Ù‚ÛŒ
], {
    padding: 50,
    maxZoom: 15
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†Ù‚Ø´Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ù…Ø±Ú©Ø² ÙØ¹Ù„ÛŒ
const center = map.getCenter();
console.log(`Center: ${center.lng}, ${center.lat}`);

// Ø³Ø·Ø­ Ø²ÙˆÙ…
const zoom = map.getZoom();
console.log(`Zoom: ${zoom}`);

// Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ù†Ù…Ø§ÛŒØ´
const bounds = map.getBounds();
console.log(`Bounds: ${bounds.toString()}`);

// Ø²Ø§ÙˆÛŒÙ‡ Ú†Ø±Ø®Ø´ Ùˆ Ø´ÛŒØ¨
const bearing = map.getBearing();
const pitch = map.getPitch();

// Canvas element
const canvas = map.getCanvas();
const container = map.getContainer();</code></pre>
                </div>
            </div>

            <h3>ğŸ“ Ø³ÛŒØ³ØªÙ… Ù…Ø®ØªØµØ§Øª</h3>
            <div class="info-box info">
                <div class="info-box-title">
                    <span>ğŸŒ</span>
                    Ù…Ø®ØªØµØ§Øª Ø¯Ø± MapLibre
                </div>
                <div class="info-box-content">
                    MapLibre Ø§Ø² Ø³ÛŒØ³ØªÙ… Ù…Ø®ØªØµØ§Øª <strong>WGS84 (EPSG:4326)</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:
                    <ul>
                        <li><strong>Longitude (Ø·ÙˆÙ„ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ):</strong> -180 ØªØ§ 180</li>
                        <li><strong>Latitude (Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ):</strong> -90 ØªØ§ 90</li>
                        <li>ØªØ±ØªÛŒØ¨: <code>[longitude, latitude]</code> (Ø¨Ø±Ø¹Ú©Ø³ Google Maps)</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>coordinates.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ú©Ø§Ø± Ø¨Ø§ Ù…Ø®ØªØµØ§Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø§ÛŒØ¬Ø§Ø¯ LngLat
const tehran = new maplibregl.LngLat(51.3890, 35.6892);
const isfahan = new maplibregl.LngLat(51.6680, 32.6546);

// Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ (Ù…ØªØ±)
const distance = tehran.distanceTo(isfahan);
console.log(`ÙØ§ØµÙ„Ù‡: ${(distance / 1000).toFixed(2)} Ú©ÛŒÙ„ÙˆÙ…ØªØ±`);

// ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø¢Ø±Ø§ÛŒÙ‡
const array = tehran.toArray(); // [51.3890, 35.6892]

// Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø² Ø¢Ø±Ø§ÛŒÙ‡
const point = maplibregl.LngLat.convert([51.3890, 35.6892]);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØ¨Ø¯ÛŒÙ„ Ù…Ø®ØªØµØ§Øª ØµÙØ­Ù‡ Ø¨Ù‡ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ØªØ¨Ø¯ÛŒÙ„ Ù¾ÛŒÚ©Ø³Ù„ Ø¨Ù‡ LngLat
map.on('click', (e) => {
    const lngLat = e.lngLat;
    console.log(`Clicked at: ${lngLat.lng}, ${lngLat.lat}`);
    
    // Ù…Ø®ØªØµØ§Øª Ù¾ÛŒÚ©Ø³Ù„ÛŒ
    const point = e.point;
    console.log(`Pixel: ${point.x}, ${point.y}`);
});

// ØªØ¨Ø¯ÛŒÙ„ Ø¯Ø³ØªÛŒ
const pixelPoint = new maplibregl.Point(400, 300);
const geoPoint = map.unproject(pixelPoint);

// ØªØ¨Ø¯ÛŒÙ„ Ù…Ø¹Ú©ÙˆØ³
const screenPoint = map.project([51.3890, 35.6892]);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LngLatBounds - Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­Ø¯ÙˆØ¯Ù‡
const bounds = new maplibregl.LngLatBounds(
    [51.2, 35.5],  // Ø¬Ù†ÙˆØ¨ ØºØ±Ø¨ÛŒ
    [51.6, 35.9]   // Ø´Ù…Ø§Ù„ Ø´Ø±Ù‚ÛŒ
);

// Ú¯Ø³ØªØ±Ø´ Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø¨Ø§ Ù†Ù‚Ø·Ù‡ Ø¬Ø¯ÛŒØ¯
bounds.extend([51.7, 36.0]);

// Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ù‚Ø·Ù‡ Ø¯Ø± Ù…Ø­Ø¯ÙˆØ¯Ù‡
const contains = bounds.contains([51.4, 35.7]); // true

// Ø¯Ø±ÛŒØ§ÙØª Ù…Ø±Ú©Ø²
const boundsCenter = bounds.getCenter();

// Ø¯Ø±ÛŒØ§ÙØª Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§
const sw = bounds.getSouthWest();
const ne = bounds.getNorthEast();
const nw = bounds.getNorthWest();
const se = bounds.getSouthEast();

// Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø² Ø¢Ø±Ø§ÛŒÙ‡ Ù†Ù‚Ø§Ø·
const points = [
    [51.3, 35.6],
    [51.4, 35.7],
    [51.5, 35.8]
];
const boundsFromPoints = points.reduce(
    (bounds, coord) => bounds.extend(coord),
    new maplibregl.LngLatBounds(points[0], points[0])
);</code></pre>
                </div>
            </div>

            <h3>ğŸ›ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù†Ù‚Ø´Ù‡</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>map-settings.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªÙ†Ø¸ÛŒÙ… Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø²ÙˆÙ…
map.setMinZoom(5);
map.setMaxZoom(18);

// Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† pitch
map.setMinPitch(0);
map.setMaxPitch(60);

// Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ù†Ù…Ø§ÛŒØ´ (Ø§ÛŒØ±Ø§Ù†)
map.setMaxBounds([
    [44.0, 25.0],  // Ø¬Ù†ÙˆØ¨ ØºØ±Ø¨ÛŒ
    [63.5, 40.0]   // Ø´Ù…Ø§Ù„ Ø´Ø±Ù‚ÛŒ
]);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ØªØ¹Ø§Ù…Ù„Ø§Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø§Ø³Ú©Ø±ÙˆÙ„ Ø²ÙˆÙ…
map.scrollZoom.disable();
map.scrollZoom.enable();

// ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ø±Ú¯
map.dragPan.disable();
map.dragRotate.disable();

// ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ø§Ø¨Ù„ Ú©Ù„ÛŒÚ© Ø²ÙˆÙ…
map.doubleClickZoom.disable();

// ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ú©ÛŒØ¨ÙˆØ±Ø¯
map.keyboard.disable();

// ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ØªØ§Ú†
map.touchZoomRotate.disable();
map.touchPitch.disable();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØºÛŒÛŒØ± Ø§Ø³ØªØ§ÛŒÙ„
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ØªØºÛŒÛŒØ± Ú©Ø§Ù…Ù„ Ø§Ø³ØªØ§ÛŒÙ„
map.setStyle('https://demotiles.maplibre.org/style.json');

// Ø¯Ø±ÛŒØ§ÙØª Ø§Ø³ØªØ§ÛŒÙ„ ÙØ¹Ù„ÛŒ
const style = map.getStyle();

// ØªØºÛŒÛŒØ± Ø¨Ø§ Ø­ÙØ¸ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ÛŒ
map.setStyle(newStyle, { diff: true });

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Resize Ùˆ Ø§Ù†Ø¯Ø§Ø²Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù¾Ø³ Ø§Ø² ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡ container
map.resize();

// Ø¯Ø±ÛŒØ§ÙØª Ø§Ù†Ø¯Ø§Ø²Ù‡ canvas
const { width, height } = map.getCanvas();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù†Ù‚Ø´Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø­Ø°Ù Ù†Ù‚Ø´Ù‡ Ùˆ Ø¢Ø²Ø§Ø¯Ø³Ø§Ø²ÛŒ Ù…Ù†Ø§Ø¨Ø¹
map.remove();</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 4: Styles -->
        <section class="section" id="styles">
            <div class="section-header">
                <div class="section-icon">ğŸ¨</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ú†Ù‡Ø§Ø±Ù…</div>
                    <h2 class="section-title">Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ùˆ ØªÙ…â€ŒÙ‡Ø§</h2>
                    <p class="section-subtitle">Style Specification Ùˆ Ø³ÙØ§Ø±Ø´ÛŒâ€ŒØ³Ø§Ø²ÛŒ Ù†Ù‚Ø´Ù‡</p>
                </div>
            </div>

            <h3>ğŸ“‹ Ø³Ø§Ø®ØªØ§Ø± Style</h3>
            <div class="info-box info">
                <div class="info-box-title">
                    <span>ğŸ“„</span>
                    Style Specification
                </div>
                <div class="info-box-content">
                    Ø§Ø³ØªØ§ÛŒÙ„ MapLibre ÛŒÚ© ÙØ§ÛŒÙ„ JSON Ø§Ø³Øª Ú©Ù‡ Ø´Ø§Ù…Ù„:
                    <ul>
                        <li><strong>version:</strong> Ù†Ø³Ø®Ù‡ specification (Ù‡Ù…ÛŒØ´Ù‡ 8)</li>
                        <li><strong>sources:</strong> Ù…Ù†Ø§Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡</li>
                        <li><strong>layers:</strong> Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ÛŒ</li>
                        <li><strong>sprite:</strong> Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ Ùˆ Ù†Ù…Ø§Ø¯Ù‡Ø§</li>
                        <li><strong>glyphs:</strong> ÙÙˆÙ†Øªâ€ŒÙ‡Ø§</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon json">{}</div>
                        <span>style.json</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-json">{
    "version": 8,
    "name": "My Custom Style",
    
    "sources": {
        "osm": {
            "type": "vector",
            "url": "https://tiles.example.com/tiles.json"
        },
        "satellite": {
            "type": "raster",
            "tiles": ["https://tiles.example.com/satellite/{z}/{x}/{y}.png"],
            "tileSize": 256
        }
    },
    
    "sprite": "https://example.com/sprites/sprite",
    "glyphs": "https://example.com/fonts/{fontstack}/{range}.pbf",
    
    "layers": [
        {
            "id": "background",
            "type": "background",
            "paint": {
                "background-color": "#f8f4f0"
            }
        },
        {
            "id": "water",
            "type": "fill",
            "source": "osm",
            "source-layer": "water",
            "paint": {
                "fill-color": "#a0c8f0"
            }
        },
        {
            "id": "roads",
            "type": "line",
            "source": "osm",
            "source-layer": "transportation",
            "paint": {
                "line-color": "#ffffff",
                "line-width": 2
            }
        }
    ],
    
    "metadata": {
        "author": "Your Name",
        "license": "MIT"
    }
}</code></pre>
                </div>
            </div>

            <h3>ğŸ¨ Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø³ÙØ§Ø±Ø´ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>custom-style.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ù‡ ØµÙˆØ±Øª Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const customStyle = {
    version: 8,
    name: 'Dark Theme',
    
    sources: {
        'openmaptiles': {
            type: 'vector',
            url: 'https://api.maptiler.com/tiles/v3/tiles.json?key=YOUR_KEY'
        }
    },
    
    sprite: 'https://api.maptiler.com/maps/streets/sprite',
    glyphs: 'https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=YOUR_KEY',
    
    layers: [
        // Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ ØªÛŒØ±Ù‡
        {
            id: 'background',
            type: 'background',
            paint: {
                'background-color': '#1a1a2e'
            }
        },
        
        // Ø¢Ø¨
        {
            id: 'water',
            type: 'fill',
            source: 'openmaptiles',
            'source-layer': 'water',
            paint: {
                'fill-color': '#16213e',
                'fill-opacity': 0.8
            }
        },
        
        // Ø²Ù…ÛŒÙ†
        {
            id: 'landuse',
            type: 'fill',
            source: 'openmaptiles',
            'source-layer': 'landuse',
            paint: {
                'fill-color': [
                    'match',
                    ['get', 'class'],
                    'park', '#0f3460',
                    'forest', '#0f3460',
                    'residential', '#1a1a2e',
                    'commercial', '#1a1a2e',
                    '#1a1a2e'
                ],
                'fill-opacity': 0.5
            }
        },
        
        // Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§
        {
            id: 'buildings',
            type: 'fill',
            source: 'openmaptiles',
            'source-layer': 'building',
            minzoom: 13,
            paint: {
                'fill-color': '#2d2d44',
                'fill-opacity': 0.8
            }
        },
        
        // Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ±Ø¹ÛŒ
        {
            id: 'roads-minor',
            type: 'line',
            source: 'openmaptiles',
            'source-layer': 'transportation',
            filter: ['==', ['get', 'class'], 'minor'],
            paint: {
                'line-color': '#3d3d5c',
                'line-width': 1
            }
        },
        
        // Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ
        {
            id: 'roads-major',
            type: 'line',
            source: 'openmaptiles',
            'source-layer': 'transportation',
            filter: ['in', ['get', 'class'], ['literal', ['primary', 'secondary', 'tertiary']]],
            paint: {
                'line-color': '#e94560',
                'line-width': [
                    'interpolate', ['linear'], ['zoom'],
                    10, 1,
                    14, 3,
                    18, 8
                ]
            }
        },
        
        // Ø¨Ø²Ø±Ú¯Ø±Ø§Ù‡â€ŒÙ‡Ø§
        {
            id: 'highways',
            type: 'line',
            source: 'openmaptiles',
            'source-layer': 'transportation',
            filter: ['==', ['get', 'class'], 'motorway'],
            paint: {
                'line-color': '#ff6b6b',
                'line-width': [
                    'interpolate', ['linear'], ['zoom'],
                    8, 1,
                    12, 3,
                    16, 8
                ]
            }
        },
        
        // Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§
        {
            id: 'place-labels',
            type: 'symbol',
            source: 'openmaptiles',
            'source-layer': 'place',
            layout: {
                'text-field': ['get', 'name:fa'],
                'text-font': ['Noto Sans Regular'],
                'text-size': [
                    'interpolate', ['linear'], ['zoom'],
                    10, 12,
                    14, 16
                ]
            },
            paint: {
                'text-color': '#ffffff',
                'text-halo-color': '#1a1a2e',
                'text-halo-width': 2
            }
        }
    ]
};

// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ø³ØªØ§ÛŒÙ„
const map = new maplibregl.Map({
    container: 'map',
    style: customStyle,
    center: [51.3890, 35.6892],
    zoom: 12
});</code></pre>
                </div>
            </div>

            <h3>ğŸ”„ ØªØºÛŒÛŒØ± Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ø± Ø²Ù…Ø§Ù† Ø§Ø¬Ø±Ø§</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>runtime-styling.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØºÛŒÛŒØ± Ø±Ù†Ú¯ Ù„Ø§ÛŒÙ‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('load', () => {
    // ØªØºÛŒÛŒØ± Ø±Ù†Ú¯ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
    map.setPaintProperty('background', 'background-color', '#1a1a2e');
    
    // ØªØºÛŒÛŒØ± Ø±Ù†Ú¯ Ø¢Ø¨
    map.setPaintProperty('water', 'fill-color', '#16213e');
    
    // ØªØºÛŒÛŒØ± Ø¹Ø±Ø¶ Ø®Ø· Ø¬Ø§Ø¯Ù‡
    map.setPaintProperty('roads', 'line-width', 3);
    
    // ØªØºÛŒÛŒØ± opacity
    map.setPaintProperty('buildings', 'fill-opacity', 0.5);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØºÛŒÛŒØ± layout properties
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ù†Ù…Ø§ÛŒØ´/Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù„Ø§ÛŒÙ‡
map.setLayoutProperty('labels', 'visibility', 'none');
map.setLayoutProperty('labels', 'visibility', 'visible');

// ØªØºÛŒÛŒØ± ÙÙˆÙ†Øª
map.setLayoutProperty('place-labels', 'text-font', ['Noto Sans Bold']);

// ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù…ØªÙ†
map.setLayoutProperty('place-labels', 'text-size', 16);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø±ÛŒØ§ÙØª Ù…Ù‚Ø§Ø¯ÛŒØ± ÙØ¹Ù„ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const waterColor = map.getPaintProperty('water', 'fill-color');
const visibility = map.getLayoutProperty('labels', 'visibility');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØºÛŒÛŒØ± ÙÛŒÙ„ØªØ± Ù„Ø§ÛŒÙ‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ÙÙ‚Ø· Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ
map.setFilter('roads', ['==', ['get', 'class'], 'primary']);

// ØªØ±Ú©ÛŒØ¨ ÙÛŒÙ„ØªØ±Ù‡Ø§
map.setFilter('roads', [
    'all',
    ['==', ['get', 'class'], 'primary'],
    ['>=', ['get', 'lanes'], 2]
]);

// Ø­Ø°Ù ÙÛŒÙ„ØªØ±
map.setFilter('roads', null);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªÙ… Ø±ÙˆØ´Ù†/ØªØ§Ø±ÛŒÚ©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const themes = {
    light: {
        background: '#f8f4f0',
        water: '#a0c8f0',
        roads: '#ffffff',
        labels: '#333333'
    },
    dark: {
        background: '#1a1a2e',
        water: '#16213e',
        roads: '#e94560',
        labels: '#ffffff'
    }
};

function setTheme(themeName) {
    const theme = themes[themeName];
    
    map.setPaintProperty('background', 'background-color', theme.background);
    map.setPaintProperty('water', 'fill-color', theme.water);
    map.setPaintProperty('roads', 'line-color', theme.roads);
    map.setPaintProperty('place-labels', 'text-color', theme.labels);
}

// ØªØºÛŒÛŒØ± ØªÙ… Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ±Ø¬ÛŒØ­ Ø³ÛŒØ³ØªÙ…
if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    setTheme('dark');
} else {
    setTheme('light');
}

// Ú¯ÙˆØ´ Ø¯Ø§Ø¯Ù† Ø¨Ù‡ ØªØºÛŒÛŒØ± ØªÙ… Ø³ÛŒØ³ØªÙ…
window.matchMedia('(prefers-color-scheme: dark)')
    .addEventListener('change', (e) => {
        setTheme(e.matches ? 'dark' : 'light');
    });</code></pre>
                </div>
            </div>

            <h3>ğŸŒˆ Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ…Ø­ÙˆØ±</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>data-driven-styling.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ù‚Ø¯Ø§Ø±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'population-density',
    type: 'fill',
    source: 'regions',
    paint: {
        'fill-color': [
            'interpolate',
            ['linear'],
            ['get', 'density'],
            0, '#f7fbff',
            100, '#c6dbef',
            500, '#6baed6',
            1000, '#2171b5',
            5000, '#08306b'
        ],
        'fill-opacity': 0.7
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ§ÛŒ (Categorical)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'land-use',
    type: 'fill',
    source: 'land',
    paint: {
        'fill-color': [
            'match',
            ['get', 'type'],
            'residential', '#fed976',
            'commercial', '#feb24c',
            'industrial', '#fd8d3c',
            'park', '#74c476',
            'water', '#6baed6',
            '#cccccc'  // Ù¾ÛŒØ´â€ŒÙØ±Ø¶
        ]
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø²ÙˆÙ…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'points',
    type: 'circle',
    source: 'points',
    paint: {
        'circle-radius': [
            'interpolate',
            ['exponential', 2],
            ['zoom'],
            10, 2,
            15, 10,
            20, 40
        ],
        'circle-color': [
            'interpolate',
            ['linear'],
            ['get', 'value'],
            0, '#2ecc71',
            50, '#f1c40f',
            100, '#e74c3c'
        ]
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø´Ø±Ø·ÛŒ (Conditional)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'status-points',
    type: 'circle',
    source: 'status',
    paint: {
        'circle-color': [
            'case',
            ['==', ['get', 'status'], 'active'], '#2ecc71',
            ['==', ['get', 'status'], 'pending'], '#f1c40f',
            ['==', ['get', 'status'], 'inactive'], '#e74c3c',
            '#95a5a6'  // Ù¾ÛŒØ´â€ŒÙØ±Ø¶
        ],
        'circle-radius': [
            'case',
            ['get', 'important'], 12,
            8
        ]
    }
});</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 5: Layers -->
        <section class="section" id="layers">
            <div class="section-header">
                <div class="section-icon">ğŸ“š</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ù¾Ù†Ø¬Ù…</div>
                    <h2 class="section-title">Ø§Ù†ÙˆØ§Ø¹ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§</h2>
                    <p class="section-subtitle">Fill, Line, Symbol, Circle Ùˆ ...</p>
                </div>
            </div>

            <h3>ğŸ¯ Ø§Ù†ÙˆØ§Ø¹ Ù„Ø§ÛŒÙ‡</h3>
            <div class="layer-grid">
                <div class="layer-card">
                    <div class="layer-icon">â¬›</div>
                    <div class="layer-name">Fill</div>
                    <div class="layer-desc">Ù¾Ø± Ú©Ø±Ø¯Ù† Ù¾Ù„ÛŒâ€ŒÚ¯ÙˆÙ†â€ŒÙ‡Ø§</div>
                </div>
                <div class="layer-card">
                    <div class="layer-icon">ğŸ“</div>
                    <div class="layer-name">Line</div>
                    <div class="layer-desc">Ø®Ø·ÙˆØ· Ùˆ Ù…Ø³ÛŒØ±Ù‡Ø§</div>
                </div>
                <div class="layer-card">
                    <div class="layer-icon">ğŸ”µ</div>
                    <div class="layer-name">Circle</div>
                    <div class="layer-desc">Ù†Ù‚Ø§Ø· Ø¯Ø§ÛŒØ±Ù‡â€ŒØ§ÛŒ</div>
                </div>
                <div class="layer-card">
                    <div class="layer-icon">ğŸ·ï¸</div>
                    <div class="layer-name">Symbol</div>
                    <div class="layer-desc">Ø¢ÛŒÚ©ÙˆÙ† Ùˆ Ù…ØªÙ†</div>
                </div>
                <div class="layer-card">
                    <div class="layer-icon">ğŸ–¼ï¸</div>
                    <div class="layer-name">Raster</div>
                    <div class="layer-desc">ØªØµØ§ÙˆÛŒØ± Ùˆ ØªØ§ÛŒÙ„</div>
                </div>
                <div class="layer-card">
                    <div class="layer-icon">ğŸŒ¡ï¸</div>
                    <div class="layer-name">Heatmap</div>
                    <div class="layer-desc">Ù†Ù‚Ø´Ù‡ Ø­Ø±Ø§Ø±ØªÛŒ</div>
                </div>
                <div class="layer-card">
                    <div class="layer-icon">ğŸ¢</div>
                    <div class="layer-name">Fill-Extrusion</div>
                    <div class="layer-desc">Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ 3D</div>
                </div>
                <div class="layer-card">
                    <div class="layer-icon">ğŸ¨</div>
                    <div class="layer-name">Background</div>
                    <div class="layer-desc">Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù†Ù‚Ø´Ù‡</div>
                </div>
            </div>

            <h3>â¬› Fill Layer</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>fill-layer.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù„Ø§ÛŒÙ‡ Fill Ø¨Ø±Ø§ÛŒ Ù¾Ù„ÛŒâ€ŒÚ¯ÙˆÙ†â€ŒÙ‡Ø§
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø§ÙØ²ÙˆØ¯Ù† Ù…Ù†Ø¨Ø¹ GeoJSON
map.addSource('provinces', {
    type: 'geojson',
    data: {
        type: 'FeatureCollection',
        features: [
            {
                type: 'Feature',
                properties: {
                    name: 'ØªÙ‡Ø±Ø§Ù†',
                    population: 14000000
                },
                geometry: {
                    type: 'Polygon',
                    coordinates: [[
                        [51.0, 35.5],
                        [51.8, 35.5],
                        [51.8, 36.0],
                        [51.0, 36.0],
                        [51.0, 35.5]
                    ]]
                }
            }
        ]
    }
});

// Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒÙ‡ Fill
map.addLayer({
    id: 'provinces-fill',
    type: 'fill',
    source: 'provinces',
    paint: {
        // Ø±Ù†Ú¯ Ù¾Ø± Ú©Ø±Ø¯Ù†
        'fill-color': '#4264fb',
        
        // Ø´ÙØ§ÙÛŒØª
        'fill-opacity': 0.5,
        
        // Ø±Ù†Ú¯ Ø®Ø· Ø¯ÙˆØ± (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
        'fill-outline-color': '#ffffff',
        
        // Ø§Ù„Ú¯Ùˆ (pattern) - Ø§Ø®ØªÛŒØ§Ø±ÛŒ
        // 'fill-pattern': 'pattern-name',
        
        // ØªØ±Ø¬Ù…Ù‡ (Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ)
        'fill-translate': [0, 0],
        'fill-translate-anchor': 'map'  // ÛŒØ§ 'viewport'
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Fill Ø¨Ø§ Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ…Ø­ÙˆØ±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'provinces-choropleth',
    type: 'fill',
    source: 'provinces',
    paint: {
        'fill-color': [
            'interpolate',
            ['linear'],
            ['get', 'population'],
            0, '#f7fbff',
            1000000, '#c6dbef',
            5000000, '#6baed6',
            10000000, '#2171b5',
            15000000, '#08306b'
        ],
        'fill-opacity': [
            'case',
            ['boolean', ['feature-state', 'hover'], false],
            0.9,
            0.6
        ]
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§ÙØ²ÙˆØ¯Ù† Ø®Ø· Ø¯ÙˆØ± Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'provinces-outline',
    type: 'line',
    source: 'provinces',
    paint: {
        'line-color': '#ffffff',
        'line-width': 2
    }
});</code></pre>
                </div>
            </div>

            <h3>ğŸ“ Line Layer</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>line-layer.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù„Ø§ÛŒÙ‡ Line Ø¨Ø±Ø§ÛŒ Ù…Ø³ÛŒØ±Ù‡Ø§
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('route', {
    type: 'geojson',
    data: {
        type: 'Feature',
        properties: {},
        geometry: {
            type: 'LineString',
            coordinates: [
                [51.3890, 35.6892],
                [51.4103, 35.7129],
                [51.4215, 35.7295],
                [51.4500, 35.7500]
            ]
        }
    }
});

// Ø®Ø· Ø³Ø§Ø¯Ù‡
map.addLayer({
    id: 'route-line',
    type: 'line',
    source: 'route',
    layout: {
        'line-join': 'round',  // round, bevel, miter
        'line-cap': 'round'    // round, butt, square
    },
    paint: {
        'line-color': '#e94560',
        'line-width': 5,
        'line-opacity': 0.8
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø®Ø· Ø¨Ø§ Ú¯Ø±Ø§Ø¯ÛŒØ§Ù†
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('gradient-route', {
    type: 'geojson',
    lineMetrics: true,  // Ù…Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ú¯Ø±Ø§Ø¯ÛŒØ§Ù†
    data: routeGeoJSON
});

map.addLayer({
    id: 'gradient-line',
    type: 'line',
    source: 'gradient-route',
    paint: {
        'line-color': '#4264fb',
        'line-width': 6,
        'line-gradient': [
            'interpolate',
            ['linear'],
            ['line-progress'],
            0, '#4264fb',
            0.5, '#06b6d4',
            1, '#2ecc71'
        ]
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø®Ø· Ø®Ø·â€ŒÚ†ÛŒÙ†
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'dashed-line',
    type: 'line',
    source: 'route',
    paint: {
        'line-color': '#f1c40f',
        'line-width': 3,
        'line-dasharray': [2, 2]  // [dash, gap]
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø®Ø· Ø¨Ø§ Ø¹Ø±Ø¶ Ù…ØªØºÛŒØ±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'variable-width-line',
    type: 'line',
    source: 'roads',
    paint: {
        'line-color': '#333',
        'line-width': [
            'match',
            ['get', 'class'],
            'motorway', 8,
            'primary', 6,
            'secondary', 4,
            'tertiary', 3,
            2  // Ù¾ÛŒØ´â€ŒÙØ±Ø¶
        ]
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø®Ø· (Animated Line)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

let dashOffset = 0;

function animateDash() {
    dashOffset -= 0.5;
    
    map.setPaintProperty('dashed-line', 'line-dasharray', [
        2,
        2 + Math.abs(dashOffset % 4)
    ]);
    
    requestAnimationFrame(animateDash);
}

animateDash();</code></pre>
                </div>
            </div>

            <h3>ğŸ”µ Circle Layer</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>circle-layer.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù„Ø§ÛŒÙ‡ Circle Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø§Ø·
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('locations', {
    type: 'geojson',
    data: {
        type: 'FeatureCollection',
        features: [
            {
                type: 'Feature',
                properties: { name: 'Ù…Ú©Ø§Ù† Û±', value: 100, category: 'A' },
                geometry: { type: 'Point', coordinates: [51.3890, 35.6892] }
            },
            {
                type: 'Feature',
                properties: { name: 'Ù…Ú©Ø§Ù† Û²', value: 50, category: 'B' },
                geometry: { type: 'Point', coordinates: [51.4103, 35.7129] }
            }
        ]
    }
});

// Ø¯Ø§ÛŒØ±Ù‡ Ø³Ø§Ø¯Ù‡
map.addLayer({
    id: 'locations-circle',
    type: 'circle',
    source: 'locations',
    paint: {
        'circle-radius': 10,
        'circle-color': '#4264fb',
        'circle-opacity': 0.8,
        'circle-stroke-width': 2,
        'circle-stroke-color': '#ffffff'
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø§ÛŒØ±Ù‡ Ø¨Ø§ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ…Ø­ÙˆØ±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'sized-circles',
    type: 'circle',
    source: 'locations',
    paint: {
        'circle-radius': [
            'interpolate',
            ['linear'],
            ['get', 'value'],
            0, 5,
            50, 15,
            100, 30
        ],
        'circle-color': [
            'match',
            ['get', 'category'],
            'A', '#e94560',
            'B', '#4264fb',
            'C', '#2ecc71',
            '#999999'
        ],
        'circle-opacity': 0.7
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø§ÛŒØ±Ù‡ Ø¨Ø§ blur (Ø¨Ø±Ø§ÛŒ Ø§Ø«Ø± ØªÙˆÙ‡Ù…)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'glow-circles',
    type: 'circle',
    source: 'locations',
    paint: {
        'circle-radius': 20,
        'circle-color': '#ff6b6b',
        'circle-blur': 1,  // 0 = sharp, 1 = fully blurred
        'circle-opacity': 0.6
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø§ÛŒØ±Ù‡ Ø¨Ø§ pitch-alignment
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'aligned-circles',
    type: 'circle',
    source: 'locations',
    paint: {
        'circle-radius': 15,
        'circle-color': '#4264fb',
        'circle-pitch-alignment': 'map',  // 'map' ÛŒØ§ 'viewport'
        'circle-pitch-scale': 'map'       // 'map' ÛŒØ§ 'viewport'
    }
});</code></pre>
                </div>
            </div>

            <h3>ğŸ·ï¸ Symbol Layer</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>symbol-layer.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù„Ø§ÛŒÙ‡ Symbol Ø¨Ø±Ø§ÛŒ Ø¢ÛŒÚ©ÙˆÙ† Ùˆ Ù…ØªÙ†
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢ÛŒÚ©ÙˆÙ†
map.loadImage('https://example.com/marker.png', (error, image) => {
    if (error) throw error;
    
    map.addImage('custom-marker', image);
    
    map.addLayer({
        id: 'poi-icons',
        type: 'symbol',
        source: 'pois',
        layout: {
            // Ø¢ÛŒÚ©ÙˆÙ†
            'icon-image': 'custom-marker',
            'icon-size': 0.5,
            'icon-anchor': 'bottom',  // center, top, bottom, left, right
            'icon-offset': [0, 0],
            'icon-allow-overlap': false,
            'icon-ignore-placement': false,
            
            // Ù…ØªÙ†
            'text-field': ['get', 'name'],
            'text-font': ['Noto Sans Regular'],
            'text-size': 12,
            'text-anchor': 'top',
            'text-offset': [0, 0.5],
            'text-max-width': 10,
            
            // ØªØ±ØªÛŒØ¨ Ù†Ù…Ø§ÛŒØ´
            'symbol-sort-key': ['get', 'priority']
        },
        paint: {
            'text-color': '#333333',
            'text-halo-color': '#ffffff',
            'text-halo-width': 2
        }
    });
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Sprite
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'sprite-icons',
    type: 'symbol',
    source: 'pois',
    layout: {
        'icon-image': [
            'match',
            ['get', 'type'],
            'restaurant', 'restaurant-icon',
            'hotel', 'hotel-icon',
            'shop', 'shop-icon',
            'default-icon'
        ],
        'icon-size': 1
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ÙÙ‚Ø· Ù…ØªÙ† (Labels)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'place-labels',
    type: 'symbol',
    source: 'places',
    layout: {
        'text-field': ['get', 'name'],
        'text-font': ['Noto Sans Bold'],
        'text-size': [
            'interpolate',
            ['linear'],
            ['zoom'],
            10, 10,
            14, 14,
            18, 20
        ],
        'text-transform': 'uppercase',
        'text-letter-spacing': 0.1,
        'text-max-width': 8,
        'text-line-height': 1.2,
        
        // Ø¬Ù‡Øª Ù…ØªÙ†
        'text-rotation-alignment': 'map',  // 'map', 'viewport', 'auto'
        'text-pitch-alignment': 'viewport'
    },
    paint: {
        'text-color': '#1a1a2e',
        'text-halo-color': 'rgba(255, 255, 255, 0.8)',
        'text-halo-width': 2,
        'text-halo-blur': 1
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¢ÛŒÚ©ÙˆÙ† SVG Ø¨Ù‡ ØµÙˆØ±Øª inline
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const svgIcon = `
<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
    <circle cx="16" cy="16" r="14" fill="#e94560"/>
    <circle cx="16" cy="16" r="8" fill="#ffffff"/>
</svg>
`;

const img = new Image(32, 32);
img.onload = () => map.addImage('svg-marker', img);
img.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgIcon);</code></pre>
                </div>
            </div>

            <h3>ğŸŒ¡ï¸ Heatmap Layer</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>heatmap-layer.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù„Ø§ÛŒÙ‡ Heatmap
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('earthquakes', {
    type: 'geojson',
    data: 'https://example.com/earthquakes.geojson'
});

map.addLayer({
    id: 'earthquakes-heat',
    type: 'heatmap',
    source: 'earthquakes',
    maxzoom: 15,
    paint: {
        // ÙˆØ²Ù† Ù‡Ø± Ù†Ù‚Ø·Ù‡
        'heatmap-weight': [
            'interpolate',
            ['linear'],
            ['get', 'magnitude'],
            0, 0,
            6, 1
        ],
        
        // Ø´Ø¯Øª (intensity)
        'heatmap-intensity': [
            'interpolate',
            ['linear'],
            ['zoom'],
            0, 1,
            15, 3
        ],
        
        // Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ
        'heatmap-color': [
            'interpolate',
            ['linear'],
            ['heatmap-density'],
            0, 'rgba(33,102,172,0)',
            0.2, 'rgb(103,169,207)',
            0.4, 'rgb(209,229,240)',
            0.6, 'rgb(253,219,199)',
            0.8, 'rgb(239,138,98)',
            1, 'rgb(178,24,43)'
        ],
        
        // Ø´Ø¹Ø§Ø¹
        'heatmap-radius': [
            'interpolate',
            ['linear'],
            ['zoom'],
            0, 2,
            15, 20
        ],
        
        // Ø´ÙØ§ÙÛŒØª
        'heatmap-opacity': [
            'interpolate',
            ['linear'],
            ['zoom'],
            7, 1,
            15, 0
        ]
    }
});

// Ù†Ù‚Ø§Ø· Ø¯Ø± Ø²ÙˆÙ… Ø¨Ø§Ù„Ø§
map.addLayer({
    id: 'earthquakes-point',
    type: 'circle',
    source: 'earthquakes',
    minzoom: 14,
    paint: {
        'circle-radius': [
            'interpolate',
            ['linear'],
            ['get', 'magnitude'],
            1, 4,
            6, 20
        ],
        'circle-color': [
            'interpolate',
            ['linear'],
            ['get', 'magnitude'],
            1, '#2ecc71',
            3, '#f1c40f',
            5, '#e74c3c'
        ],
        'circle-opacity': [
            'interpolate',
            ['linear'],
            ['zoom'],
            14, 0,
            15, 1
        ]
    }
});</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 6: Sources -->
        <section class="section" id="sources">
            <div class="section-header">
                <div class="section-icon">ğŸ“Š</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø´Ø´Ù…</div>
                    <h2 class="section-title">Ù…Ù†Ø§Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡</h2>
                    <p class="section-subtitle">GeoJSON, Vector Tiles, Raster Ùˆ ...</p>
                </div>
            </div>

            <h3>ğŸ“ GeoJSON Source</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>geojson-source.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GeoJSON Ø§Ø² URL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('cities', {
    type: 'geojson',
    data: 'https://example.com/cities.geojson'
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GeoJSON Inline
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('markers', {
    type: 'geojson',
    data: {
        type: 'FeatureCollection',
        features: [
            {
                type: 'Feature',
                properties: {
                    id: 1,
                    name: 'ØªÙ‡Ø±Ø§Ù†',
                    population: 14000000
                },
                geometry: {
                    type: 'Point',
                    coordinates: [51.3890, 35.6892]
                }
            },
            {
                type: 'Feature',
                properties: {
                    id: 2,
                    name: 'Ø§ØµÙÙ‡Ø§Ù†',
                    population: 2000000
                },
                geometry: {
                    type: 'Point',
                    coordinates: [51.6680, 32.6546]
                }
            }
        ]
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡ GeoJSON
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø¯Ø±ÛŒØ§ÙØª Ù…Ù†Ø¨Ø¹ Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ
const source = map.getSource('markers');
source.setData(newGeoJSON);

// Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø§ fetch
async function updateData() {
    const response = await fetch('https://api.example.com/data');
    const data = await response.json();
    map.getSource('markers').setData(data);
}

// Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ
setInterval(updateData, 5000);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GeoJSON Ø¨Ø§ Clustering
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('clustered-points', {
    type: 'geojson',
    data: 'https://example.com/points.geojson',
    cluster: true,
    clusterMaxZoom: 14,
    clusterRadius: 50,
    clusterMinPoints: 2,
    clusterProperties: {
        sum: ['+', ['get', 'value']],
        max: ['max', ['get', 'value']]
    }
});

// Ù„Ø§ÛŒÙ‡ Ú©Ù„Ø§Ø³ØªØ±Ù‡Ø§
map.addLayer({
    id: 'clusters',
    type: 'circle',
    source: 'clustered-points',
    filter: ['has', 'point_count'],
    paint: {
        'circle-color': [
            'step',
            ['get', 'point_count'],
            '#51bbd6',
            100, '#f1f075',
            750, '#f28cb1'
        ],
        'circle-radius': [
            'step',
            ['get', 'point_count'],
            20,
            100, 30,
            750, 40
        ]
    }
});

// ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø± Ú©Ù„Ø§Ø³ØªØ±
map.addLayer({
    id: 'cluster-count',
    type: 'symbol',
    source: 'clustered-points',
    filter: ['has', 'point_count'],
    layout: {
        'text-field': ['get', 'point_count_abbreviated'],
        'text-font': ['Noto Sans Bold'],
        'text-size': 12
    }
});

// Ù†Ù‚Ø§Ø· ØªÚ©ÛŒ
map.addLayer({
    id: 'unclustered-point',
    type: 'circle',
    source: 'clustered-points',
    filter: ['!', ['has', 'point_count']],
    paint: {
        'circle-color': '#11b4da',
        'circle-radius': 8
    }
});

// Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ú©Ù„Ø§Ø³ØªØ± Ø¨Ø±Ø§ÛŒ Ø²ÙˆÙ…
map.on('click', 'clusters', async (e) => {
    const features = map.queryRenderedFeatures(e.point, {
        layers: ['clusters']
    });
    
    const clusterId = features[0].properties.cluster_id;
    const source = map.getSource('clustered-points');
    
    const zoom = await source.getClusterExpansionZoom(clusterId);
    
    map.easeTo({
        center: features[0].geometry.coordinates,
        zoom: zoom
    });
});</code></pre>
                </div>
            </div>

            <h3>ğŸ§± Vector Tile Source</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>vector-source.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Vector Tiles Ø§Ø² TileJSON
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('openmaptiles', {
    type: 'vector',
    url: 'https://api.maptiler.com/tiles/v3/tiles.json?key=YOUR_KEY'
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Vector Tiles Ø¨Ø§ URL Ù…Ø³ØªÙ‚ÛŒÙ…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('custom-tiles', {
    type: 'vector',
    tiles: [
        'https://tiles.example.com/{z}/{x}/{y}.pbf'
    ],
    minzoom: 0,
    maxzoom: 14,
    bounds: [44.0, 25.0, 63.5, 40.0],  // Ø§ÛŒØ±Ø§Ù†
    attribution: 'Â© Your Company'
});

// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² source-layer
map.addLayer({
    id: 'roads',
    type: 'line',
    source: 'custom-tiles',
    'source-layer': 'transportation',  // Ù†Ø§Ù… Ù„Ø§ÛŒÙ‡ Ø¯Ø± ØªØ§ÛŒÙ„
    filter: ['==', ['get', 'class'], 'primary'],
    paint: {
        'line-color': '#e94560',
        'line-width': 3
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PMTiles (ÙØ±Ù…Øª Ø¬Ø¯ÛŒØ¯)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import { Protocol } from 'pmtiles';

// Ø«Ø¨Øª Ù¾Ø±ÙˆØªÚ©Ù„
const protocol = new Protocol();
maplibregl.addProtocol('pmtiles', protocol.tile);

map.addSource('pmtiles-source', {
    type: 'vector',
    url: 'pmtiles://https://example.com/tiles.pmtiles'
});</code></pre>
                </div>
            </div>

            <h3>ğŸ–¼ï¸ Raster Source</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>raster-source.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Raster Tiles (ØªØµÙˆÛŒØ±)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('osm-raster', {
    type: 'raster',
    tiles: [
        'https://a.tile.openstreetmap.org/{z}/{x}/{y}.png',
        'https://b.tile.openstreetmap.org/{z}/{x}/{y}.png',
        'https://c.tile.openstreetmap.org/{z}/{x}/{y}.png'
    ],
    tileSize: 256,
    attribution: 'Â© OpenStreetMap contributors'
});

map.addLayer({
    id: 'osm-layer',
    type: 'raster',
    source: 'osm-raster',
    paint: {
        'raster-opacity': 1,
        'raster-brightness-min': 0,
        'raster-brightness-max': 1,
        'raster-contrast': 0,
        'raster-saturation': 0,
        'raster-hue-rotate': 0,
        'raster-fade-duration': 300
    }
});
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØµÙˆÛŒØ± Ù…Ø§Ù‡ÙˆØ§Ø±Ù‡â€ŒØ§ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('satellite', {
    type: 'raster',
    tiles: [
        'https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key=YOUR_KEY'
    ],
    tileSize: 256,
    maxzoom: 20
});

map.addLayer({
    id: 'satellite-layer',
    type: 'raster',
    source: 'satellite',
    paint: {
        'raster-opacity': 0.8,
        'raster-saturation': 0.2
    }
}, 'roads');  // Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† Ø²ÛŒØ± Ù„Ø§ÛŒÙ‡ roads

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WMS Source
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('wms-source', {
    type: 'raster',
    tiles: [
        'https://example.com/wms?' +
        'SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&' +
        'LAYERS=layer_name&' +
        'STYLES=&' +
        'FORMAT=image/png&' +
        'TRANSPARENT=true&' +
        'SRS=EPSG:3857&' +
        'BBOX={bbox-epsg-3857}&' +
        'WIDTH=256&HEIGHT=256'
    ],
    tileSize: 256
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØµÙˆÛŒØ± Ø§Ø³ØªØ§ØªÛŒÚ© (Image Source)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('overlay-image', {
    type: 'image',
    url: 'https://example.com/overlay.png',
    coordinates: [
        [51.0, 36.0],  // top-left
        [52.0, 36.0],  // top-right
        [52.0, 35.0],  // bottom-right
        [51.0, 35.0]   // bottom-left
    ]
});

map.addLayer({
    id: 'overlay-layer',
    type: 'raster',
    source: 'overlay-image',
    paint: {
        'raster-opacity': 0.7,
        'raster-fade-duration': 0
    }
});

// Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª ØªØµÙˆÛŒØ±
map.getSource('overlay-image').setCoordinates([
    [51.1, 36.1],
    [52.1, 36.1],
    [52.1, 35.1],
    [51.1, 35.1]
]);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Video Source
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('video-source', {
    type: 'video',
    urls: [
        'https://example.com/video.mp4',
        'https://example.com/video.webm'
    ],
    coordinates: [
        [51.0, 36.0],
        [52.0, 36.0],
        [52.0, 35.0],
        [51.0, 35.0]
    ]
});

map.addLayer({
    id: 'video-layer',
    type: 'raster',
    source: 'video-source'
});

// Ú©Ù†ØªØ±Ù„ ÙˆÛŒØ¯ÛŒÙˆ
const video = map.getSource('video-source').getVideo();
video.play();
video.pause();
video.currentTime = 10;</code></pre>
                </div>
            </div>

            <h3>ğŸ”ï¸ Raster-DEM Source</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>terrain-source.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Terrain Ø¨Ø§ DEM
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('terrain-dem', {
    type: 'raster-dem',
    url: 'https://api.maptiler.com/tiles/terrain-rgb/tiles.json?key=YOUR_KEY',
    tileSize: 256
});

// ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Terrain
map.setTerrain({
    source: 'terrain-dem',
    exaggeration: 1.5  // Ø¨Ø²Ø±Ú¯â€ŒÙ†Ù…Ø§ÛŒÛŒ Ø§Ø±ØªÙØ§Ø¹
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Hillshade Layer
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('hillshade-dem', {
    type: 'raster-dem',
    tiles: ['https://example.com/dem/{z}/{x}/{y}.png'],
    tileSize: 256,
    encoding: 'terrarium'  // 'terrarium' ÛŒØ§ 'mapbox'
});

map.addLayer({
    id: 'hillshade',
    type: 'hillshade',
    source: 'hillshade-dem',
    paint: {
        'hillshade-illumination-direction': 315,
        'hillshade-illumination-anchor': 'viewport',
        'hillshade-exaggeration': 0.5,
        'hillshade-shadow-color': '#473B24',
        'hillshade-highlight-color': '#FFFFFF',
        'hillshade-accent-color': '#000000'
    }
}, 'water');  // Ù‚Ø¨Ù„ Ø§Ø² Ù„Ø§ÛŒÙ‡ Ø¢Ø¨</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 7: Interactions -->
        <section class="section" id="interactions">
            <div class="section-header">
                <div class="section-icon">ğŸ‘†</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ù‡ÙØªÙ…</div>
                    <h2 class="section-title">ØªØ¹Ø§Ù…Ù„Ø§Øª Ùˆ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§</h2>
                    <p class="section-subtitle">Click, Hover, Drag Ùˆ Event Handling</p>
                </div>
            </div>

            <h3>ğŸ¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù†Ù‚Ø´Ù‡</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>map-events.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ù†Ù‚Ø´Ù‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯
map.on('load', () => {
    console.log('Ù†Ù‚Ø´Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
    // Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ Ùˆ Ù…Ù†Ø§Ø¨Ø¹
});

// Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯
map.on('style.load', () => {
    console.log('Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
});

// Ù‡Ù…Ù‡ ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù†Ø¯
map.on('idle', () => {
    console.log('Ù†Ù‚Ø´Ù‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª');
});

// Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ
map.on('error', (e) => {
    console.error('Ø®Ø·Ø§:', e.error);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ú©Ù„ÛŒÚ©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡
map.on('click', (e) => {
    console.log('Ú©Ù„ÛŒÚ© Ø¯Ø±:', e.lngLat);
    console.log('Ù¾ÛŒÚ©Ø³Ù„:', e.point);
    
    // Ù†Ù…Ø§ÛŒØ´ Ù…Ø®ØªØµØ§Øª
    new maplibregl.Popup()
        .setLngLat(e.lngLat)
        .setHTML(`<p>Ù…Ø®ØªØµØ§Øª: ${e.lngLat.lng.toFixed(4)}, ${e.lngLat.lat.toFixed(4)}</p>`)
        .addTo(map);
});

// Ø¯Ø§Ø¨Ù„ Ú©Ù„ÛŒÚ©
map.on('dblclick', (e) => {
    console.log('Ø¯Ø§Ø¨Ù„ Ú©Ù„ÛŒÚ© Ø¯Ø±:', e.lngLat);
    e.preventDefault();  // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø²ÙˆÙ…
});

// Ø±Ø§Ø³Øª Ú©Ù„ÛŒÚ©
map.on('contextmenu', (e) => {
    console.log('Ø±Ø§Ø³Øª Ú©Ù„ÛŒÚ© Ø¯Ø±:', e.lngLat);
    // Ù†Ù…Ø§ÛŒØ´ Ù…Ù†ÙˆÛŒ context
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø­Ø±Ú©Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø­Ø±Ú©Øª Ù…Ø§ÙˆØ³
map.on('mousemove', (e) => {
    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø®ØªØµØ§Øª Ø¯Ø± UI
    document.getElementById('coords').textContent = 
        `${e.lngLat.lng.toFixed(4)}, ${e.lngLat.lat.toFixed(4)}`;
});

// Ù…Ø§ÙˆØ³ ÙˆØ§Ø±Ø¯ Ù†Ù‚Ø´Ù‡ Ø´Ø¯
map.on('mouseenter', () => {
    console.log('Ù…Ø§ÙˆØ³ ÙˆØ§Ø±Ø¯ Ù†Ù‚Ø´Ù‡ Ø´Ø¯');
});

// Ù…Ø§ÙˆØ³ Ø§Ø² Ù†Ù‚Ø´Ù‡ Ø®Ø§Ø±Ø¬ Ø´Ø¯
map.on('mouseleave', () => {
    console.log('Ù…Ø§ÙˆØ³ Ø§Ø² Ù†Ù‚Ø´Ù‡ Ø®Ø§Ø±Ø¬ Ø´Ø¯');
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø­Ø±Ú©Øª Ù†Ù‚Ø´Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('movestart', () => console.log('Ø´Ø±ÙˆØ¹ Ø­Ø±Ú©Øª'));
map.on('move', () => console.log('Ø¯Ø± Ø­Ø§Ù„ Ø­Ø±Ú©Øª'));
map.on('moveend', () => console.log('Ù¾Ø§ÛŒØ§Ù† Ø­Ø±Ú©Øª'));

map.on('zoomstart', () => console.log('Ø´Ø±ÙˆØ¹ Ø²ÙˆÙ…'));
map.on('zoom', () => console.log('Ø²ÙˆÙ…:', map.getZoom()));
map.on('zoomend', () => console.log('Ù¾Ø§ÛŒØ§Ù† Ø²ÙˆÙ…'));

map.on('rotatestart', () => console.log('Ø´Ø±ÙˆØ¹ Ú†Ø±Ø®Ø´'));
map.on('rotate', () => console.log('Ú†Ø±Ø®Ø´:', map.getBearing()));
map.on('rotateend', () => console.log('Ù¾Ø§ÛŒØ§Ù† Ú†Ø±Ø®Ø´'));

map.on('pitchstart', () => console.log('Ø´Ø±ÙˆØ¹ Ø´ÛŒØ¨'));
map.on('pitch', () => console.log('Ø´ÛŒØ¨:', map.getPitch()));
map.on('pitchend', () => console.log('Ù¾Ø§ÛŒØ§Ù† Ø´ÛŒØ¨'));

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø¯Ø±Ú¯
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('dragstart', () => console.log('Ø´Ø±ÙˆØ¹ Ø¯Ø±Ú¯'));
map.on('drag', () => console.log('Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±Ú¯'));
map.on('dragend', () => console.log('Ù¾Ø§ÛŒØ§Ù† Ø¯Ø±Ú¯'));</code></pre>
                </div>
            </div>

            <h3>ğŸ¨ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù„Ø§ÛŒÙ‡</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>layer-events.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù„Ø§ÛŒÙ‡ Ø®Ø§Øµ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('click', 'cities-layer', (e) => {
    const feature = e.features[0];
    const coordinates = feature.geometry.coordinates.slice();
    const { name, population } = feature.properties;
    
    // Ù†Ù…Ø§ÛŒØ´ popup
    new maplibregl.Popup()
        .setLngLat(coordinates)
        .setHTML(`
            <h3>${name}</h3>
            <p>Ø¬Ù…Ø¹ÛŒØª: ${population.toLocaleString('fa-IR')}</p>
        `)
        .addTo(map);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Hover Ø±ÙˆÛŒ Ù„Ø§ÛŒÙ‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

let hoveredId = null;

// ÙˆØ±ÙˆØ¯ Ù…Ø§ÙˆØ³ Ø¨Ù‡ feature
map.on('mouseenter', 'cities-layer', (e) => {
    map.getCanvas().style.cursor = 'pointer';
    
    if (e.features.length > 0) {
        // Ø­Ø°Ù hover Ù‚Ø¨Ù„ÛŒ
        if (hoveredId !== null) {
            map.setFeatureState(
                { source: 'cities', id: hoveredId },
                { hover: false }
            );
        }
        
        // ØªÙ†Ø¸ÛŒÙ… hover Ø¬Ø¯ÛŒØ¯
        hoveredId = e.features[0].id;
        map.setFeatureState(
            { source: 'cities', id: hoveredId },
            { hover: true }
        );
    }
});

// Ø®Ø±ÙˆØ¬ Ù…Ø§ÙˆØ³ Ø§Ø² feature
map.on('mouseleave', 'cities-layer', () => {
    map.getCanvas().style.cursor = '';
    
    if (hoveredId !== null) {
        map.setFeatureState(
            { source: 'cities', id: hoveredId },
            { hover: false }
        );
    }
    hoveredId = null;
});

// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² feature-state Ø¯Ø± Ø§Ø³ØªØ§ÛŒÙ„
map.addLayer({
    id: 'cities-layer',
    type: 'fill',
    source: 'cities',
    paint: {
        'fill-color': '#4264fb',
        'fill-opacity': [
            'case',
            ['boolean', ['feature-state', 'hover'], false],
            0.9,
            0.5
        ]
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Query Features
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø¯Ø±ÛŒØ§ÙØª features Ø¯Ø± Ù†Ù‚Ø·Ù‡
map.on('click', (e) => {
    const features = map.queryRenderedFeatures(e.point, {
        layers: ['cities-layer', 'roads-layer']
    });
    
    console.log('Features:', features);
});

// Ø¯Ø±ÛŒØ§ÙØª features Ø¯Ø± Ù…Ø­Ø¯ÙˆØ¯Ù‡
const bbox = [
    [e.point.x - 10, e.point.y - 10],
    [e.point.x + 10, e.point.y + 10]
];
const features = map.queryRenderedFeatures(bbox, {
    layers: ['cities-layer']
});

// Ø¯Ø±ÛŒØ§ÙØª Ù‡Ù…Ù‡ features Ø§Ø² source
const allFeatures = map.querySourceFeatures('cities', {
    sourceLayer: 'cities',
    filter: ['>', ['get', 'population'], 1000000]
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Feature State
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ØªÙ†Ø¸ÛŒÙ… state
map.setFeatureState(
    { source: 'cities', id: 'tehran' },
    { selected: true, highlighted: false }
);

// Ø¯Ø±ÛŒØ§ÙØª state
const state = map.getFeatureState({
    source: 'cities',
    id: 'tehran'
});

// Ø­Ø°Ù state
map.removeFeatureState({
    source: 'cities',
    id: 'tehran'
}, 'selected');  // ÙÙ‚Ø· selected Ø­Ø°Ù Ø´ÙˆØ¯

// Ø­Ø°Ù Ù‡Ù…Ù‡ state Ù‡Ø§
map.removeFeatureState({
    source: 'cities',
    id: 'tehran'
});</code></pre>
                </div>
            </div>

            <h3>ğŸ“± Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ ØªØ§Ú†</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>touch-events.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù„Ù…Ø³ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('touchstart', (e) => {
    console.log('Ø´Ø±ÙˆØ¹ Ù„Ù…Ø³');
    console.log('ØªØ¹Ø¯Ø§Ø¯ Ø§Ù†Ú¯Ø´Øª:', e.points.length);
});

map.on('touchend', (e) => {
    console.log('Ù¾Ø§ÛŒØ§Ù† Ù„Ù…Ø³');
});

map.on('touchmove', (e) => {
    console.log('Ø­Ø±Ú©Øª Ù„Ù…Ø³ÛŒ');
});

map.on('touchcancel', (e) => {
    console.log('Ù„ØºÙˆ Ù„Ù…Ø³');
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªØ¹Ø§Ù…Ù„ Ù„Ù…Ø³ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù†
map.touchZoomRotate.enable();
map.touchZoomRotate.disable();

// ÙÙ‚Ø· Ø²ÙˆÙ… (Ø¨Ø¯ÙˆÙ† Ú†Ø±Ø®Ø´)
map.touchZoomRotate.disableRotation();

// ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ pitch Ø¨Ø§ Ù„Ù…Ø³
map.touchPitch.enable();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØ´Ø®ÛŒØµ Ø¯Ø³ØªÚ¯Ø§Ù‡ Ù„Ù…Ø³ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const isTouchDevice = 'ontouchstart' in window || 
    navigator.maxTouchPoints > 0;

if (isTouchDevice) {
    // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø®ØµÙˆØµ Ù…ÙˆØ¨Ø§ÛŒÙ„
    map.touchZoomRotate.enable();
    map.dragRotate.disable();
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 8: Controls -->
        <section class="section" id="controls">
            <div class="section-header">
                <div class="section-icon">ğŸ›ï¸</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ù‡Ø´ØªÙ…</div>
                    <h2 class="section-title">Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§</h2>
                    <p class="section-subtitle">Navigation, Scale, Geolocation Ùˆ Custom Controls</p>
                </div>
            </div>

            <h3>ğŸ§­ Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>built-in-controls.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Navigation Control (Ø²ÙˆÙ… Ùˆ Ú†Ø±Ø®Ø´)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const navControl = new maplibregl.NavigationControl({
    showCompass: true,
    showZoom: true,
    visualizePitch: true
});

map.addControl(navControl, 'top-right');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Scale Control (Ù…Ù‚ÛŒØ§Ø³)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const scaleControl = new maplibregl.ScaleControl({
    maxWidth: 100,
    unit: 'metric'  // 'imperial', 'metric', 'nautical'
});

map.addControl(scaleControl, 'bottom-left');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Fullscreen Control
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const fullscreenControl = new maplibregl.FullscreenControl({
    container: document.querySelector('#map-container')
});

map.addControl(fullscreenControl, 'top-right');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Geolocation Control (Ù…ÙˆÙ‚Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const geolocateControl = new maplibregl.GeolocateControl({
    positionOptions: {
        enableHighAccuracy: true
    },
    trackUserLocation: true,
    showUserHeading: true,
    showAccuracyCircle: true
});

map.addControl(geolocateControl, 'top-right');

// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ geolocation
geolocateControl.on('geolocate', (e) => {
    console.log('Ù…ÙˆÙ‚Ø¹ÛŒØª:', e.coords.latitude, e.coords.longitude);
    console.log('Ø¯Ù‚Øª:', e.coords.accuracy);
});

geolocateControl.on('error', (e) => {
    console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆÙ‚Ø¹ÛŒØª:', e.message);
});

geolocateControl.on('trackuserlocationstart', () => {
    console.log('Ø´Ø±ÙˆØ¹ Ø±Ø¯ÛŒØ§Ø¨ÛŒ');
});

geolocateControl.on('trackuserlocationend', () => {
    console.log('Ù¾Ø§ÛŒØ§Ù† Ø±Ø¯ÛŒØ§Ø¨ÛŒ');
});

// ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ
geolocateControl.trigger();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Attribution Control
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const attributionControl = new maplibregl.AttributionControl({
    compact: true,
    customAttribution: 'Â© Your Company'
});

map.addControl(attributionControl, 'bottom-right');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Logo Control
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const logoControl = new maplibregl.LogoControl({
    compact: false
});

map.addControl(logoControl, 'bottom-left');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø­Ø°Ù Ú©Ù†ØªØ±Ù„
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.removeControl(navControl);</code></pre>
                </div>
            </div>

            <h3>ğŸ”§ Ú©Ù†ØªØ±Ù„ Ø³ÙØ§Ø±Ø´ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>custom-control.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ú©Ù†ØªØ±Ù„ Ø³ÙØ§Ø±Ø´ÛŒ Ø³Ø§Ø¯Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class HomeControl {
    onAdd(map) {
        this._map = map;
        
        this._container = document.createElement('div');
        this._container.className = 'maplibregl-ctrl maplibregl-ctrl-group';
        
        this._button = document.createElement('button');
        this._button.className = 'maplibregl-ctrl-icon';
        this._button.type = 'button';
        this._button.title = 'Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø®Ø§Ù†Ù‡';
        this._button.innerHTML = 'ğŸ ';
        this._button.style.fontSize = '18px';
        
        this._button.addEventListener('click', () => {
            this._map.flyTo({
                center: [51.3890, 35.6892],
                zoom: 10
            });
        });
        
        this._container.appendChild(this._button);
        return this._container;
    }
    
    onRemove() {
        this._container.parentNode.removeChild(this._container);
        this._map = undefined;
    }
}

map.addControl(new HomeControl(), 'top-right');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ú©Ù†ØªØ±Ù„ ØªØºÛŒÛŒØ± Ø§Ø³ØªØ§ÛŒÙ„
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class StyleSwitcherControl {
    constructor(styles) {
        this._styles = styles;
    }
    
    onAdd(map) {
        this._map = map;
        
        this._container = document.createElement('div');
        this._container.className = 'maplibregl-ctrl style-switcher';
        
        this._styles.forEach(style => {
            const button = document.createElement('button');
            button.textContent = style.name;
            button.addEventListener('click', () => {
                this._map.setStyle(style.url);
            });
            this._container.appendChild(button);
        });
        
        return this._container;
    }
    
    onRemove() {
        this._container.parentNode.removeChild(this._container);
        this._map = undefined;
    }
}

const styles = [
    { name: 'Ø±ÙˆØ´Ù†', url: 'https://demotiles.maplibre.org/style.json' },
    { name: 'ØªØ§Ø±ÛŒÚ©', url: 'https://example.com/dark-style.json' },
    { name: 'Ù…Ø§Ù‡ÙˆØ§Ø±Ù‡', url: 'https://example.com/satellite-style.json' }
];

map.addControl(new StyleSwitcherControl(styles), 'top-left');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ú©Ù†ØªØ±Ù„ Ø¬Ø³ØªØ¬Ùˆ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class SearchControl {
    onAdd(map) {
        this._map = map;
        
        this._container = document.createElement('div');
        this._container.className = 'maplibregl-ctrl search-control';
        
        this._input = document.createElement('input');
        this._input.type = 'text';
        this._input.placeholder = 'Ø¬Ø³ØªØ¬Ùˆ...';
        this._input.dir = 'rtl';
        
        this._results = document.createElement('div');
        this._results.className = 'search-results';
        
        this._input.addEventListener('input', this._onInput.bind(this));
        
        this._container.appendChild(this._input);
        this._container.appendChild(this._results);
        
        return this._container;
    }
    
    async _onInput(e) {
        const query = e.target.value;
        if (query.length < 3) {
            this._results.innerHTML = '';
            return;
        }
        
        // Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø§ Nominatim
        const response = await fetch(
            `https://nominatim.openstreetmap.org/search?` +
            `q=${encodeURIComponent(query)}&format=json&limit=5`
        );
        const data = await response.json();
        
        this._results.innerHTML = '';
        data.forEach(item => {
            const div = document.createElement('div');
            div.className = 'search-result-item';
            div.textContent = item.display_name;
            div.addEventListener('click', () => {
                this._map.flyTo({
                    center: [parseFloat(item.lon), parseFloat(item.lat)],
                    zoom: 14
                });
                this._results.innerHTML = '';
                this._input.value = '';
            });
            this._results.appendChild(div);
        });
    }
    
    onRemove() {
        this._container.parentNode.removeChild(this._container);
        this._map = undefined;
    }
}

map.addControl(new SearchControl(), 'top-left');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ú©Ù†ØªØ±Ù„ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class LayerControl {
    constructor(layers) {
        this._layers = layers;
    }
    
    onAdd(map) {
        this._map = map;
        
        this._container = document.createElement('div');
        this._container.className = 'maplibregl-ctrl layer-control';
        
        const title = document.createElement('h4');
        title.textContent = 'Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§';
        this._container.appendChild(title);
        
        this._layers.forEach(layer => {
            const label = document.createElement('label');
            
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.checked = true;
            checkbox.addEventListener('change', (e) => {
                const visibility = e.target.checked ? 'visible' : 'none';
                this._map.setLayoutProperty(layer.id, 'visibility', visibility);
            });
            
            label.appendChild(checkbox);
            label.appendChild(document.createTextNode(layer.name));
            this._container.appendChild(label);
        });
        
        return this._container;
    }
    
    onRemove() {
        this._container.parentNode.removeChild(this._container);
        this._map = undefined;
    }
}

const layers = [
    { id: 'roads', name: 'Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§' },
    { id: 'buildings', name: 'Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§' },
    { id: 'labels', name: 'Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§' }
];

map.addControl(new LayerControl(layers), 'top-right');</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 9: Markers & Popups -->
        <section class="section" id="markers">
            <div class="section-header">
                <div class="section-icon">ğŸ“</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ù†Ù‡Ù…</div>
                    <h2 class="section-title">Ù†Ø´Ø§Ù†Ú¯Ø±Ù‡Ø§ Ùˆ Popup</h2>
                    <p class="section-subtitle">Marker, Popup Ùˆ Custom Icons</p>
                </div>
            </div>

            <h3>ğŸ“ Markers</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>markers.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Marker Ø³Ø§Ø¯Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const marker = new maplibregl.Marker()
    .setLngLat([51.3890, 35.6892])
    .addTo(map);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Marker Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const customMarker = new maplibregl.Marker({
    color: '#e94560',           // Ø±Ù†Ú¯
    scale: 1.2,                 // Ø§Ù†Ø¯Ø§Ø²Ù‡
    anchor: 'bottom',           // Ù†Ù‚Ø·Ù‡ Ø§ØªØµØ§Ù„
    offset: [0, 0],             // Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ
    rotation: 45,               // Ú†Ø±Ø®Ø´
    rotationAlignment: 'map',   // 'map' ÛŒØ§ 'viewport'
    pitchAlignment: 'map',      // 'map' ÛŒØ§ 'viewport'
    draggable: true,            // Ù‚Ø§Ø¨Ù„ Ø¯Ø±Ú¯
    clickTolerance: 3           // ØªØ­Ù…Ù„ Ú©Ù„ÛŒÚ©
})
    .setLngLat([51.4103, 35.7129])
    .addTo(map);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Marker Ø¨Ø§ Ø§Ù„Ù…Ø§Ù† HTML Ø³ÙØ§Ø±Ø´ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const el = document.createElement('div');
el.className = 'custom-marker';
el.style.cssText = `
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #4264fb, #06b6d4);
    border-radius: 50%;
    border: 3px solid white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
`;
el.innerHTML = 'ğŸ¢';

const htmlMarker = new maplibregl.Marker({
    element: el,
    anchor: 'center'
})
    .setLngLat([51.4215, 35.7295])
    .addTo(map);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Marker Ù‚Ø§Ø¨Ù„ Ø¯Ø±Ú¯
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const draggableMarker = new maplibregl.Marker({
    draggable: true,
    color: '#2ecc71'
})
    .setLngLat([51.3890, 35.6892])
    .addTo(map);

draggableMarker.on('dragstart', () => {
    console.log('Ø´Ø±ÙˆØ¹ Ø¯Ø±Ú¯');
});

draggableMarker.on('drag', () => {
    const lngLat = draggableMarker.getLngLat();
    console.log('Ù…ÙˆÙ‚Ø¹ÛŒØª:', lngLat);
});

draggableMarker.on('dragend', () => {
    const lngLat = draggableMarker.getLngLat();
    console.log('Ù¾Ø§ÛŒØ§Ù† Ø¯Ø±Ú¯:', lngLat);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…ØªØ¯Ù‡Ø§ÛŒ Marker
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆÙ‚Ø¹ÛŒØª
const position = marker.getLngLat();

// ØªØºÛŒÛŒØ± Ù…ÙˆÙ‚Ø¹ÛŒØª
marker.setLngLat([51.5, 35.8]);

// Ø¯Ø±ÛŒØ§ÙØª/ØªÙ†Ø¸ÛŒÙ… popup
marker.setPopup(popup);
const popup = marker.getPopup();

// Ø¨Ø§Ø²/Ø¨Ø³ØªÙ‡ Ú©Ø±Ø¯Ù† popup
marker.togglePopup();

// ØªØºÛŒÛŒØ± Ú†Ø±Ø®Ø´
marker.setRotation(90);

// Ø­Ø°Ù Ø§Ø² Ù†Ù‚Ø´Ù‡
marker.remove();

// Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø¬Ø¯Ø¯
marker.addTo(map);

// Ø¯Ø±ÛŒØ§ÙØª Ø§Ù„Ù…Ø§Ù†
const element = marker.getElement();</code></pre>
                </div>
            </div>

            <h3>ğŸ’¬ Popups</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>popups.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Popup Ø³Ø§Ø¯Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const popup = new maplibregl.Popup()
    .setLngLat([51.3890, 35.6892])
    .setHTML('<h3>ØªÙ‡Ø±Ø§Ù†</h3><p>Ù¾Ø§ÛŒØªØ®Øª Ø§ÛŒØ±Ø§Ù†</p>')
    .addTo(map);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Popup Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const customPopup = new maplibregl.Popup({
    closeButton: true,
    closeOnClick: true,
    closeOnMove: false,
    anchor: 'bottom',       // 'top', 'bottom', 'left', 'right', 'center', etc.
    offset: [0, -10],
    className: 'custom-popup',
    maxWidth: '300px',
    focusAfterOpen: true
})
    .setLngLat([51.3890, 35.6892])
    .setHTML(`
        <div class="popup-content" dir="rtl">
            <h3>Ø¨Ø±Ø¬ Ø¢Ø²Ø§Ø¯ÛŒ</h3>
            <img src="azadi.jpg" alt="Ø¨Ø±Ø¬ Ø¢Ø²Ø§Ø¯ÛŒ" style="width:100%">
            <p>Ù†Ù…Ø§Ø¯ Ø´Ù‡Ø± ØªÙ‡Ø±Ø§Ù†</p>
            <button onclick="alert('Ú©Ù„ÛŒÚ© Ø´Ø¯!')">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ±</button>
        </div>
    `)
    .addTo(map);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Popup Ø¨Ø§ Ù…ØªÙ† Ø³Ø§Ø¯Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const textPopup = new maplibregl.Popup()
    .setLngLat([51.3890, 35.6892])
    .setText('Ø§ÛŒÙ† ÛŒÚ© Ù…ØªÙ† Ø³Ø§Ø¯Ù‡ Ø§Ø³Øª')
    .addTo(map);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Popup Ø¨Ø§ DOM Element
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const content = document.createElement('div');
content.innerHTML = `
    <h3>Ø¹Ù†ÙˆØ§Ù†</h3>
    <p>ØªÙˆØ¶ÛŒØ­Ø§Øª</p>
`;

const btn = document.createElement('button');
btn.textContent = 'Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯';
btn.addEventListener('click', () => {
    console.log('Ø¯Ú©Ù…Ù‡ Ú©Ù„ÛŒÚ© Ø´Ø¯');
});
content.appendChild(btn);

const domPopup = new maplibregl.Popup()
    .setLngLat([51.3890, 35.6892])
    .setDOMContent(content)
    .addTo(map);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Popup Ù…ØªØµÙ„ Ø¨Ù‡ Marker
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const markerWithPopup = new maplibregl.Marker()
    .setLngLat([51.3890, 35.6892])
    .setPopup(
        new maplibregl.Popup({ offset: 25 })
            .setHTML('<h3>ØªÙ‡Ø±Ø§Ù†</h3>')
    )
    .addTo(map);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Popup
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

popup.on('open', () => {
    console.log('Popup Ø¨Ø§Ø² Ø´Ø¯');
});

popup.on('close', () => {
    console.log('Popup Ø¨Ø³ØªÙ‡ Ø´Ø¯');
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…ØªØ¯Ù‡Ø§ÛŒ Popup
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø¨Ø§Ø²/Ø¨Ø³ØªÙ‡ Ø¨ÙˆØ¯Ù†
const isOpen = popup.isOpen();

// ØªØºÛŒÛŒØ± Ù…ÙˆÙ‚Ø¹ÛŒØª
popup.setLngLat([51.5, 35.8]);

// ØªØºÛŒÛŒØ± Ù…Ø­ØªÙˆØ§
popup.setHTML('<p>Ù…Ø­ØªÙˆØ§ÛŒ Ø¬Ø¯ÛŒØ¯</p>');

// Ø­Ø°Ù
popup.remove();

// Ø¯Ø±ÛŒØ§ÙØª Ø§Ù„Ù…Ø§Ù†
const popupEl = popup.getElement();</code></pre>
                </div>
            </div>

            <h3>ğŸ¨ Ø§Ø³ØªØ§ÛŒÙ„ Popup</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon css">CSS</div>
                        <span>popup-styles.css</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-css">/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ø§Ø³ØªØ§ÛŒÙ„ Ø³ÙØ§Ø±Ø´ÛŒ Popup
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.maplibregl-popup {
    font-family: 'Vazirmatn', sans-serif;
    direction: rtl;
}

.maplibregl-popup-content {
    background: linear-gradient(135deg, #1a1a2e, #16213e);
    color: #f3f4f6;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.maplibregl-popup-content h3 {
    margin: 0 0 10px;
    color: #4264fb;
    font-size: 1.2rem;
}

.maplibregl-popup-content p {
    margin: 0;
    color: #9ca3af;
    line-height: 1.6;
}

/* Ø¯Ú©Ù…Ù‡ Ø¨Ø³ØªÙ† */
.maplibregl-popup-close-button {
    color: #9ca3af;
    font-size: 20px;
    padding: 5px 10px;
    right: 5px;
    top: 5px;
}

.maplibregl-popup-close-button:hover {
    color: #e94560;
    background: transparent;
}

/* ÙÙ„Ø´ Popup */
.maplibregl-popup-anchor-bottom .maplibregl-popup-tip {
    border-top-color: #1a1a2e;
}

.maplibregl-popup-anchor-top .maplibregl-popup-tip {
    border-bottom-color: #1a1a2e;
}

.maplibregl-popup-anchor-left .maplibregl-popup-tip {
    border-right-color: #1a1a2e;
}

.maplibregl-popup-anchor-right .maplibregl-popup-tip {
    border-left-color: #1a1a2e;
}

/* Ú©Ù„Ø§Ø³ Ø³ÙØ§Ø±Ø´ÛŒ */
.custom-popup .maplibregl-popup-content {
    background: white;
    color: #333;
    max-width: 350px;
}

.custom-popup .maplibregl-popup-content img {
    border-radius: 8px;
    margin: 10px 0;
}

.custom-popup .maplibregl-popup-content button {
    background: #4264fb;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
}

.custom-popup .maplibregl-popup-content button:hover {
    background: #2d4fd6;
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 10: 3D -->
        <section class="section" id="3d">
            <div class="section-header">
                <div class="section-icon">ğŸ”ï¸</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø¯Ù‡Ù…</div>
                    <h2 class="section-title">Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</h2>
                    <p class="section-subtitle">3D Buildings, Terrain, Sky Ùˆ Fog</p>
                </div>
            </div>

            <h3>ğŸ¢ Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>3d-buildings.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù„Ø§ÛŒÙ‡ Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('load', () => {
    // Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒÙ‡ fill-extrusion
    map.addLayer({
        id: '3d-buildings',
        type: 'fill-extrusion',
        source: 'openmaptiles',
        'source-layer': 'building',
        minzoom: 14,
        paint: {
            // Ø§Ø±ØªÙØ§Ø¹ Ø³Ø§Ø®ØªÙ…Ø§Ù†
            'fill-extrusion-height': [
                'interpolate',
                ['linear'],
                ['zoom'],
                14, 0,
                15, ['get', 'height']
            ],
            
            // Ø§Ø±ØªÙØ§Ø¹ Ù¾Ø§ÛŒÙ‡
            'fill-extrusion-base': [
                'interpolate',
                ['linear'],
                ['zoom'],
                14, 0,
                15, ['get', 'min_height']
            ],
            
            // Ø±Ù†Ú¯
            'fill-extrusion-color': [
                'interpolate',
                ['linear'],
                ['get', 'height'],
                0, '#e8e8e8',
                50, '#d4d4d4',
                100, '#c0c0c0',
                200, '#a0a0a0'
            ],
            
            // Ø´ÙØ§ÙÛŒØª
            'fill-extrusion-opacity': 0.8
        }
    });
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ Ø¨Ø§ Ø¯Ø§Ø¯Ù‡ Ø³ÙØ§Ø±Ø´ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addSource('custom-buildings', {
    type: 'geojson',
    data: {
        type: 'FeatureCollection',
        features: [
            {
                type: 'Feature',
                properties: {
                    name: 'Ø¨Ø±Ø¬ Ù…ÛŒÙ„Ø§Ø¯',
                    height: 435,
                    base_height: 0,
                    color: '#4264fb'
                },
                geometry: {
                    type: 'Polygon',
                    coordinates: [[
                        [51.3751, 35.7448],
                        [51.3755, 35.7448],
                        [51.3755, 35.7452],
                        [51.3751, 35.7452],
                        [51.3751, 35.7448]
                    ]]
                }
            }
        ]
    }
});

map.addLayer({
    id: 'custom-3d-buildings',
    type: 'fill-extrusion',
    source: 'custom-buildings',
    paint: {
        'fill-extrusion-height': ['get', 'height'],
        'fill-extrusion-base': ['get', 'base_height'],
        'fill-extrusion-color': ['get', 'color'],
        'fill-extrusion-opacity': 0.9
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø§Ø±ØªÙØ§Ø¹
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

let height = 0;
const targetHeight = 100;

function animateBuilding() {
    if (height < targetHeight) {
        height += 2;
        
        map.setPaintProperty(
            '3d-buildings',
            'fill-extrusion-height',
            height
        );
        
        requestAnimationFrame(animateBuilding);
    }
}

animateBuilding();</code></pre>
                </div>
            </div>

            <h3>ğŸ”ï¸ Terrain</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>terrain.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Terrain
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('load', () => {
    // Ø§ÙØ²ÙˆØ¯Ù† Ù…Ù†Ø¨Ø¹ DEM
    map.addSource('terrain-dem', {
        type: 'raster-dem',
        url: 'https://api.maptiler.com/tiles/terrain-rgb/tiles.json?key=YOUR_KEY',
        tileSize: 256
    });
    
    // ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ terrain
    map.setTerrain({
        source: 'terrain-dem',
        exaggeration: 1.5  // Ø¨Ø²Ø±Ú¯â€ŒÙ†Ù…Ø§ÛŒÛŒ
    });
    
    // Ø§ÙØ²ÙˆØ¯Ù† hillshade
    map.addLayer({
        id: 'hillshade',
        type: 'hillshade',
        source: 'terrain-dem',
        paint: {
            'hillshade-exaggeration': 0.5,
            'hillshade-shadow-color': '#473B24',
            'hillshade-highlight-color': '#FFFFFF',
            'hillshade-accent-color': '#000000'
        }
    }, 'water');
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø±ÛŒØ§ÙØª Ø§Ø±ØªÙØ§Ø¹ Ø¯Ø± Ù†Ù‚Ø·Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('click', (e) => {
    const elevation = map.queryTerrainElevation(e.lngLat);
    console.log(`Ø§Ø±ØªÙØ§Ø¹: ${elevation} Ù…ØªØ±`);
    
    new maplibregl.Popup()
        .setLngLat(e.lngLat)
        .setHTML(`<p>Ø§Ø±ØªÙØ§Ø¹: ${Math.round(elevation)} Ù…ØªØ±</p>`)
        .addTo(map);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªÙ†Ø¸ÛŒÙ…Ø§Øª Terrain
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ØªØºÛŒÛŒØ± exaggeration
map.setTerrain({
    source: 'terrain-dem',
    exaggeration: 2.0
});

// ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† terrain
map.setTerrain(null);

// Ø¯Ø±ÛŒØ§ÙØª ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙØ¹Ù„ÛŒ
const terrain = map.getTerrain();</code></pre>
                </div>
            </div>

            <h3>ğŸŒ… Sky Ùˆ Fog</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>sky-fog.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Sky Layer
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('load', () => {
    map.setSky({
        'sky-color': '#87CEEB',
        'sky-horizon-blend': 0.5,
        'horizon-color': '#ffffff',
        'horizon-fog-blend': 0.5,
        'fog-color': '#ffffff',
        'fog-ground-blend': 0.5,
        'atmosphere-blend': ['interpolate', ['linear'], ['zoom'], 0, 1, 12, 0]
    });
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Sky Ø¨Ø§ Ú¯Ø±Ø§Ø¯ÛŒØ§Ù†
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.setSky({
    'sky-type': 'gradient',
    'sky-gradient': [
        'interpolate',
        ['linear'],
        ['sky-radial-progress'],
        0.0, '#1a1a2e',
        0.5, '#4264fb',
        1.0, '#87CEEB'
    ],
    'sky-gradient-center': [0, 0],
    'sky-gradient-radius': 90,
    'sky-opacity': ['interpolate', ['linear'], ['zoom'], 0, 0, 5, 0.3, 8, 1]
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Sky Ø¨Ø§ Atmosphere
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.setSky({
    'sky-type': 'atmosphere',
    'sky-atmosphere-sun': [0.0, 90.0],
    'sky-atmosphere-sun-intensity': 15
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Fog
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.setFog({
    'color': 'rgb(186, 210, 235)',
    'high-color': 'rgb(36, 92, 223)',
    'horizon-blend': 0.02,
    'space-color': 'rgb(11, 11, 25)',
    'star-intensity': 0.6,
    'range': [0.5, 10]
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±ÙˆØ²/Ø´Ø¨
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function setTimeOfDay(hour) {
    const isDaytime = hour >= 6 && hour < 18;
    
    if (isDaytime) {
        // Ø±ÙˆØ²
        map.setSky({
            'sky-color': '#87CEEB',
            'horizon-color': '#ffffff',
            'fog-color': '#ffffff'
        });
        
        map.setFog({
            'color': 'rgb(255, 255, 255)',
            'high-color': 'rgb(135, 206, 235)',
            'star-intensity': 0
        });
    } else {
        // Ø´Ø¨
        map.setSky({
            'sky-color': '#1a1a2e',
            'horizon-color': '#2d2d44',
            'fog-color': '#1a1a2e'
        });
        
        map.setFog({
            'color': 'rgb(26, 26, 46)',
            'high-color': 'rgb(11, 11, 25)',
            'star-intensity': 0.8
        });
    }
}

setTimeOfDay(new Date().getHours());</code></pre>
                </div>
            </div>

            <h3>ğŸ¥ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>3d-camera.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªÙ†Ø¸ÛŒÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.flyTo({
    center: [51.3890, 35.6892],
    zoom: 16,
    pitch: 60,      // Ø´ÛŒØ¨ Ø¯ÙˆØ±Ø¨ÛŒÙ† (0-85)
    bearing: 45,    // Ø¬Ù‡Øª (0-360)
    duration: 3000
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ú†Ø±Ø®Ø´ 360 Ø¯Ø±Ø¬Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function rotateCamera(timestamp) {
    map.rotateTo((timestamp / 100) % 360, { duration: 0 });
    requestAnimationFrame(rotateCamera);
}

// Ø´Ø±ÙˆØ¹ Ú†Ø±Ø®Ø´
requestAnimationFrame(rotateCamera);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù¾Ø±ÙˆØ§Ø² Ø³ÛŒÙ†Ù…Ø§ÛŒÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function cinematicFlight(locations) {
    for (const loc of locations) {
        await new Promise(resolve => {
            map.flyTo({
                center: loc.center,
                zoom: loc.zoom,
                pitch: loc.pitch || 60,
                bearing: loc.bearing || 0,
                duration: loc.duration || 3000
            });
            
            map.once('moveend', resolve);
        });
        
        // Ù…Ú©Ø« Ø¨ÛŒÙ† Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§
        await new Promise(r => setTimeout(r, 1000));
    }
}

const tourLocations = [
    { center: [51.3890, 35.6892], zoom: 15, pitch: 60, bearing: 0 },
    { center: [51.3751, 35.7448], zoom: 16, pitch: 70, bearing: 90 },
    { center: [51.4215, 35.7295], zoom: 14, pitch: 45, bearing: 180 }
];

cinematicFlight(tourLocations);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FreeCameraOptions
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¢Ø²Ø§Ø¯
const camera = map.getFreeCameraOptions();

// ØªÙ†Ø¸ÛŒÙ… Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯ÙˆØ±Ø¨ÛŒÙ†
camera.position = maplibregl.MercatorCoordinate.fromLngLat(
    [51.3890, 35.6892],
    1000  // Ø§Ø±ØªÙØ§Ø¹ Ø¨Ù‡ Ù…ØªØ±
);

// ØªÙ†Ø¸ÛŒÙ… Ø¬Ù‡Øª Ù†Ú¯Ø§Ù‡
camera.lookAtPoint([51.3890, 35.6892]);

// Ø§Ø¹Ù…Ø§Ù„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
map.setFreeCameraOptions(camera);</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 11: Advanced -->
        <section class="section" id="advanced">
            <div class="section-header">
                <div class="section-icon">âš™ï¸</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ ÛŒØ§Ø²Ø¯Ù‡Ù…</div>
                    <h2 class="section-title">Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h2>
                    <p class="section-subtitle">Expressions, Custom Layers, Performance</p>
                </div>
            </div>

            <h3>ğŸ“ Expressions</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>expressions.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Expression Types
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// 1. Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡
['get', 'property_name']           // Ø¯Ø±ÛŒØ§ÙØª Ù…Ù‚Ø¯Ø§Ø± property
['has', 'property_name']           // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ property
['id']                             // Ø¯Ø±ÛŒØ§ÙØª feature id
['geometry-type']                  // Ù†ÙˆØ¹ geometry
['properties']                     // Ù‡Ù…Ù‡ properties

// 2. Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡
['==', ['get', 'type'], 'city']    // Ø¨Ø±Ø§Ø¨Ø±ÛŒ
['!=', ['get', 'type'], 'city']    // Ù†Ø§Ø¨Ø±Ø§Ø¨Ø±ÛŒ
['>', ['get', 'population'], 1000000]
['>=', ['get', 'value'], 50]
['<', ['get', 'value'], 100]
['<=', ['get', 'value'], 100]

// 3. Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ù…Ù†Ø·Ù‚ÛŒ
['all', condition1, condition2]    // AND
['any', condition1, condition2]    // OR
['!', condition]                   // NOT

// 4. Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ø±ÛŒØ§Ø¶ÛŒ
['+', 1, 2]                        // Ø¬Ù…Ø¹
['-', 10, 5]                       // ØªÙØ±ÛŒÙ‚
['*', 2, 3]                        // Ø¶Ø±Ø¨
['/', 10, 2]                       // ØªÙ‚Ø³ÛŒÙ…
['%', 10, 3]                       // Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡
['^', 2, 3]                        // ØªÙˆØ§Ù†
['sqrt', 16]                       // Ø¬Ø°Ø±
['abs', -5]                        // Ù‚Ø¯Ø± Ù…Ø·Ù„Ù‚
['min', 1, 2, 3]                   // Ú©Ù…ÛŒÙ†Ù‡
['max', 1, 2, 3]                   // Ø¨ÛŒØ´ÛŒÙ†Ù‡
['round', 3.7]                     // Ú¯Ø±Ø¯ Ú©Ø±Ø¯Ù†
['floor', 3.7]                     // Ú©Ù
['ceil', 3.2]                      // Ø³Ù‚Ù
['ln', 10]                         // Ù„Ú¯Ø§Ø±ÛŒØªÙ… Ø·Ø¨ÛŒØ¹ÛŒ
['log10', 100]                     // Ù„Ú¯Ø§Ø±ÛŒØªÙ… Ù¾Ø§ÛŒÙ‡ 10
['log2', 8]                        // Ù„Ú¯Ø§Ø±ÛŒØªÙ… Ù¾Ø§ÛŒÙ‡ 2

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Interpolate - Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ø®Ø·ÛŒ
[
    'interpolate',
    ['linear'],
    ['zoom'],
    10, 1,      // Ø¯Ø± Ø²ÙˆÙ… 10: Ù…Ù‚Ø¯Ø§Ø± 1
    15, 5,      // Ø¯Ø± Ø²ÙˆÙ… 15: Ù…Ù‚Ø¯Ø§Ø± 5
    20, 20      // Ø¯Ø± Ø²ÙˆÙ… 20: Ù…Ù‚Ø¯Ø§Ø± 20
]

// Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ù†Ù…Ø§ÛŒÛŒ
[
    'interpolate',
    ['exponential', 2],
    ['zoom'],
    10, 1,
    15, 10,
    20, 100
]

// Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ù…Ú©Ø¹Ø¨ÛŒ
[
    'interpolate',
    ['cubic-bezier', 0.42, 0, 0.58, 1],
    ['zoom'],
    10, 1,
    20, 10
]

// Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ø±Ù†Ú¯
[
    'interpolate',
    ['linear'],
    ['get', 'temperature'],
    0, '#0000ff',    // Ø¢Ø¨ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø±Ø¯
    20, '#00ff00',   // Ø³Ø¨Ø² Ø¨Ø±Ø§ÛŒ Ù…Ø¹ØªØ¯Ù„
    40, '#ff0000'    // Ù‚Ø±Ù…Ø² Ø¨Ø±Ø§ÛŒ Ú¯Ø±Ù…
]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Step - Ù¾Ù„Ù‡â€ŒØ§ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[
    'step',
    ['get', 'population'],
    '#ccc',              // Ù¾ÛŒØ´â€ŒÙØ±Ø¶ (Ú©Ù…ØªØ± Ø§Ø² 10000)
    10000, '#fdd',       // 10000-50000
    50000, '#faa',       // 50000-100000
    100000, '#f77',      // 100000-500000
    500000, '#f44',      // 500000-1000000
    1000000, '#d00'      // Ø¨ÛŒØ´ Ø§Ø² 1000000
]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Match - ØªØ·Ø¨ÛŒÙ‚
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[
    'match',
    ['get', 'category'],
    'restaurant', '#ff6b6b',
    'hotel', '#4ecdc4',
    'shop', '#45b7d1',
    'park', '#2ecc71',
    ['hospital', 'clinic'], '#e74c3c',  // Ú†Ù†Ø¯ Ù…Ù‚Ø¯Ø§Ø±
    '#999999'  // Ù¾ÛŒØ´â€ŒÙØ±Ø¶
]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Case - Ø´Ø±Ø·ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[
    'case',
    ['<', ['get', 'value'], 25], '#2ecc71',   // Ø§Ú¯Ø± Ú©Ù…ØªØ± Ø§Ø² 25
    ['<', ['get', 'value'], 50], '#f1c40f',   // Ø§Ú¯Ø± Ú©Ù…ØªØ± Ø§Ø² 50
    ['<', ['get', 'value'], 75], '#e67e22',   // Ø§Ú¯Ø± Ú©Ù…ØªØ± Ø§Ø² 75
    '#e74c3c'  // Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª
]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Coalesce - Ø§ÙˆÙ„ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± ØºÛŒØ± null
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[
    'coalesce',
    ['get', 'name:fa'],    // Ø§ÙˆÙ„ Ù†Ø§Ù… ÙØ§Ø±Ø³ÛŒ
    ['get', 'name:en'],    // Ø³Ù¾Ø³ Ù†Ø§Ù… Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ
    ['get', 'name'],       // Ø³Ù¾Ø³ Ù†Ø§Ù… Ù¾ÛŒØ´â€ŒÙØ±Ø¶
    'Ù†Ø§Ù…Ø´Ø®Øµ'               // Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù…Ù‚Ø¯Ø§Ø± Ø«Ø§Ø¨Øª
]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// String Operations
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

['concat', 'Hello', ' ', 'World']           // Ø§Ù„Ø­Ø§Ù‚
['upcase', ['get', 'name']]                 // Ø¨Ø²Ø±Ú¯
['downcase', ['get', 'name']]               // Ú©ÙˆÚ†Ú©
['length', ['get', 'name']]                 // Ø·ÙˆÙ„
['slice', ['get', 'name'], 0, 5]            // Ø¨Ø±Ø´

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Type Conversion
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

['to-string', 123]
['to-number', '123']
['to-boolean', 1]
['to-color', '#ff0000']
['typeof', ['get', 'value']]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…Ø«Ø§Ù„ Ú©Ø§Ù…Ù„: Ø§Ø³ØªØ§ÛŒÙ„ Ù¾ÛŒÚ†ÛŒØ¯Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.addLayer({
    id: 'complex-layer',
    type: 'circle',
    source: 'data',
    paint: {
        'circle-radius': [
            'interpolate',
            ['exponential', 2],
            ['zoom'],
            10, ['/', ['get', 'value'], 10],
            15, ['/', ['get', 'value'], 2],
            20, ['get', 'value']
        ],
        'circle-color': [
            'case',
            ['all',
                ['has', 'status'],
                ['==', ['get', 'status'], 'active']
            ],
            [
                'interpolate',
                ['linear'],
                ['get', 'value'],
                0, '#2ecc71',
                50, '#f1c40f',
                100, '#e74c3c'
            ],
            '#999999'
        ],
        'circle-opacity': [
            'case',
            ['boolean', ['feature-state', 'hover'], false],
            1,
            0.7
        ]
    }
});</code></pre>
                </div>
            </div>

            <h3>ğŸ¨ Custom Layers</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>custom-layer.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Custom Layer Ø¨Ø§ WebGL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const customLayer = {
    id: 'custom-webgl-layer',
    type: 'custom',
    renderingMode: '3d',
    
    onAdd: function(map, gl) {
        // Vertex shader
        const vertexSource = `
            uniform mat4 u_matrix;
            attribute vec2 a_pos;
            void main() {
                gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);
            }
        `;
        
        // Fragment shader
        const fragmentSource = `
            void main() {
                gl_FragColor = vec4(1.0, 0.0, 0.0, 0.5);
            }
        `;
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ shaders
        const vertexShader = gl.createShader(gl.VERTEX_SHADER);
        gl.shaderSource(vertexShader, vertexSource);
        gl.compileShader(vertexShader);
        
        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
        gl.shaderSource(fragmentShader, fragmentSource);
        gl.compileShader(fragmentShader);
        
        // Ø§ÛŒØ¬Ø§Ø¯ program
        this.program = gl.createProgram();
        gl.attachShader(this.program, vertexShader);
        gl.attachShader(this.program, fragmentShader);
        gl.linkProgram(this.program);
        
        // Ø¯Ø±ÛŒØ§ÙØª locations
        this.aPos = gl.getAttribLocation(this.program, 'a_pos');
        this.uMatrix = gl.getUniformLocation(this.program, 'u_matrix');
        
        // Ø§ÛŒØ¬Ø§Ø¯ buffer
        const tehran = maplibregl.MercatorCoordinate.fromLngLat(
            [51.3890, 35.6892]
        );
        
        this.buffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);
        gl.bufferData(
            gl.ARRAY_BUFFER,
            new Float32Array([
                tehran.x - 0.01, tehran.y - 0.01,
                tehran.x + 0.01, tehran.y - 0.01,
                tehran.x + 0.01, tehran.y + 0.01,
                tehran.x - 0.01, tehran.y + 0.01
            ]),
            gl.STATIC_DRAW
        );
    },
    
    render: function(gl, matrix) {
        gl.useProgram(this.program);
        gl.uniformMatrix4fv(this.uMatrix, false, matrix);
        
        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);
        gl.enableVertexAttribArray(this.aPos);
        gl.vertexAttribPointer(this.aPos, 2, gl.FLOAT, false, 0, 0);
        
        gl.enable(gl.BLEND);
        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);
        
        gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);
    }
};

map.on('load', () => {
    map.addLayer(customLayer);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø¯ØºØ§Ù… Ø¨Ø§ Three.js
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import * as THREE from 'three';

const threeLayer = {
    id: 'three-layer',
    type: 'custom',
    renderingMode: '3d',
    
    onAdd: function(map, gl) {
        this.camera = new THREE.Camera();
        this.scene = new THREE.Scene();
        
        // Ø§ÙØ²ÙˆØ¯Ù† Ù†ÙˆØ±
        const light = new THREE.DirectionalLight(0xffffff);
        light.position.set(0, -70, 100).normalize();
        this.scene.add(light);
        
        // Ø§ÙØ²ÙˆØ¯Ù† Ù…Ú©Ø¹Ø¨
        const geometry = new THREE.BoxGeometry(100, 100, 100);
        const material = new THREE.MeshPhongMaterial({ color: 0x4264fb });
        this.cube = new THREE.Mesh(geometry, material);
        this.scene.add(this.cube);
        
        // Ù…ÙˆÙ‚Ø¹ÛŒØª
        const coords = maplibregl.MercatorCoordinate.fromLngLat(
            [51.3890, 35.6892],
            100  // Ø§Ø±ØªÙØ§Ø¹
        );
        
        this.cube.position.set(coords.x, coords.y, coords.z);
        this.cube.scale.set(coords.meterInMercatorCoordinateUnits());
        
        // Renderer
        this.renderer = new THREE.WebGLRenderer({
            canvas: map.getCanvas(),
            context: gl,
            antialias: true
        });
        
        this.renderer.autoClear = false;
        this.map = map;
    },
    
    render: function(gl, matrix) {
        // Ú†Ø±Ø®Ø´ Ù…Ú©Ø¹Ø¨
        this.cube.rotation.x += 0.01;
        this.cube.rotation.y += 0.01;
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ†
        const m = new THREE.Matrix4().fromArray(matrix);
        this.camera.projectionMatrix = m;
        
        this.renderer.resetState();
        this.renderer.render(this.scene, this.camera);
        
        this.map.triggerRepaint();
    }
};

map.on('load', () => {
    map.addLayer(threeLayer);
});</code></pre>
                </div>
            </div>

            <h3>âš¡ Performance Optimization</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>performance.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// 1. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Clustering Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø§Ø· Ø²ÛŒØ§Ø¯
map.addSource('points', {
    type: 'geojson',
    data: largeDataset,
    cluster: true,
    clusterMaxZoom: 14,
    clusterRadius: 50
});

// 2. Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø²ÙˆÙ…
const map = new maplibregl.Map({
    container: 'map',
    style: styleUrl,
    minZoom: 5,
    maxZoom: 18
});

// 3. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² filter Ø¨Ù‡ Ø¬Ø§ÛŒ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡
map.addLayer({
    id: 'roads-primary',
    type: 'line',
    source: 'roads',
    filter: ['==', ['get', 'class'], 'primary']
});

// 4. Debounce Ø¨Ø±Ø§ÛŒ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù¾Ø±ØªÚ©Ø±Ø§Ø±
function debounce(func, wait) {
    let timeout;
    return function(...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(this, args), wait);
    };
}

map.on('move', debounce(() => {
    // Ø¹Ù…Ù„ÛŒØ§Øª Ø³Ù†Ú¯ÛŒÙ†
}, 100));

// 5. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² requestAnimationFrame
let isUpdating = false;

map.on('move', () => {
    if (!isUpdating) {
        isUpdating = true;
        requestAnimationFrame(() => {
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ
            isUpdating = false;
        });
    }
});

// 6. Lazy loading Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
map.on('zoomend', () => {
    const zoom = map.getZoom();
    
    if (zoom >= 14 && !map.getLayer('buildings')) {
        map.addLayer(buildingsLayer);
    }
    
    if (zoom < 14 && map.getLayer('buildings')) {
        map.removeLayer('buildings');
    }
});

// 7. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Web Workers
const worker = new Worker('data-processor.js');

worker.postMessage({ type: 'process', data: largeDataset });

worker.onmessage = (e) => {
    map.getSource('processed-data').setData(e.data);
};

// 8. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ù†Ø¯Ø±ÛŒÙ†Ú¯
const map = new maplibregl.Map({
    container: 'map',
    style: styleUrl,
    antialias: false,           // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† antialiasing
    preserveDrawingBuffer: false,
    fadeDuration: 0,            // Ø­Ø°Ù Ø§Ù†ÛŒÙ…ÛŒØ´Ù† fade
    trackResize: false          // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± resize
});

// 9. Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ GeoJSON
// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² precision Ú©Ù…ØªØ±
function reducePrecision(coords, precision = 6) {
    return coords.map(c => 
        Array.isArray(c) 
            ? reducePrecision(c, precision)
            : parseFloat(c.toFixed(precision))
    );
}

// 10. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² promoteId
map.addSource('data', {
    type: 'geojson',
    data: geojson,
    promoteId: 'id'  // Ø¨Ù‡Ø¨ÙˆØ¯ Ø¹Ù…Ù„Ú©Ø±Ø¯ feature-state
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø¹Ù…Ù„Ú©Ø±Ø¯
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø¯Ø±ÛŒØ§ÙØª FPS
let frameCount = 0;
let lastTime = performance.now();

map.on('render', () => {
    frameCount++;
    
    const now = performance.now();
    if (now - lastTime >= 1000) {
        console.log(`FPS: ${frameCount}`);
        frameCount = 0;
        lastTime = now;
    }
});

// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² showTileBoundaries
map.showTileBoundaries = true;
map.showCollisionBoxes = true;

// Performance API
performance.mark('map-start');

map.on('load', () => {
    performance.mark('map-loaded');
    performance.measure('map-load-time', 'map-start', 'map-loaded');
    
    const measure = performance.getEntriesByName('map-load-time')[0];
    console.log(`Ø²Ù…Ø§Ù† Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ: ${measure.duration}ms`);
});</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 12: Plugins -->
        <section class="section" id="plugins">
            <div class="section-header">
                <div class="section-icon">ğŸ”Œ</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø¯ÙˆØ§Ø²Ø¯Ù‡Ù…</div>
                    <h2 class="section-title">Ù¾Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ‡Ø§ Ùˆ Ø§Ú©ÙˆØ³ÛŒØ³ØªÙ…</h2>
                    <p class="section-subtitle">Draw, Geocoder, Directions Ùˆ ...</p>
                </div>
            </div>

            <h3>ğŸ¨ MapLibre GL Draw</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>maplibre-draw.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Draw
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ù†ØµØ¨: npm install @mapbox/mapbox-gl-draw

import MapboxDraw from '@mapbox/mapbox-gl-draw';
import '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';

const draw = new MapboxDraw({
    displayControlsDefault: false,
    controls: {
        polygon: true,
        line_string: true,
        point: true,
        trash: true,
        combine_features: true,
        uncombine_features: true
    },
    defaultMode: 'simple_select',
    styles: [
        // Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ÛŒ
        {
            id: 'gl-draw-polygon-fill',
            type: 'fill',
            filter: ['all', ['==', '$type', 'Polygon']],
            paint: {
                'fill-color': '#4264fb',
                'fill-opacity': 0.3
            }
        },
        {
            id: 'gl-draw-polygon-stroke',
            type: 'line',
            filter: ['all', ['==', '$type', 'Polygon']],
            paint: {
                'line-color': '#4264fb',
                'line-width': 2
            }
        },
        {
            id: 'gl-draw-line',
            type: 'line',
            filter: ['all', ['==', '$type', 'LineString']],
            paint: {
                'line-color': '#e94560',
                'line-width': 3
            }
        },
        {
            id: 'gl-draw-point',
            type: 'circle',
            filter: ['all', ['==', '$type', 'Point']],
            paint: {
                'circle-radius': 8,
                'circle-color': '#2ecc71'
            }
        }
    ]
});

map.addControl(draw, 'top-left');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Draw
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('draw.create', (e) => {
    console.log('Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯:', e.features);
    
    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø¨Ø±Ø§ÛŒ Ù¾Ù„ÛŒâ€ŒÚ¯ÙˆÙ†
    if (e.features[0].geometry.type === 'Polygon') {
        const area = turf.area(e.features[0]);
        console.log(`Ù…Ø³Ø§Ø­Øª: ${area.toFixed(2)} Ù…ØªØ± Ù…Ø±Ø¨Ø¹`);
    }
});

map.on('draw.update', (e) => {
    console.log('Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯:', e.features);
});

map.on('draw.delete', (e) => {
    console.log('Ø­Ø°Ù Ø´Ø¯:', e.features);
});

map.on('draw.selectionchange', (e) => {
    console.log('Ø§Ù†ØªØ®Ø§Ø¨ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯:', e.features);
});

map.on('draw.modechange', (e) => {
    console.log('Ø­Ø§Ù„Øª ØªØºÛŒÛŒØ± Ú©Ø±Ø¯:', e.mode);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…ØªØ¯Ù‡Ø§ÛŒ Draw
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø¯Ø±ÛŒØ§ÙØª Ù‡Ù…Ù‡ features
const allFeatures = draw.getAll();

// Ø¯Ø±ÛŒØ§ÙØª feature Ø®Ø§Øµ
const feature = draw.get('feature_id');

// Ø§ÙØ²ÙˆØ¯Ù† feature
const ids = draw.add({
    type: 'Feature',
    properties: {},
    geometry: {
        type: 'Polygon',
        coordinates: [[
            [51.3, 35.6],
            [51.4, 35.6],
            [51.4, 35.7],
            [51.3, 35.7],
            [51.3, 35.6]
        ]]
    }
});

// Ø­Ø°Ù feature
draw.delete('feature_id');
draw.deleteAll();

// Ø§Ù†ØªØ®Ø§Ø¨
draw.changeMode('simple_select', { featureIds: ['id1', 'id2'] });

// ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª
draw.changeMode('draw_polygon');
draw.changeMode('draw_line_string');
draw.changeMode('draw_point');
draw.changeMode('simple_select');
draw.changeMode('direct_select', { featureId: 'id' });

// Ø¯Ø±ÛŒØ§ÙØª features Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
const selected = draw.getSelected();
const selectedIds = draw.getSelectedIds();</code></pre>
                </div>
            </div>

            <h3>ğŸ” Geocoder</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>geocoder.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Geocoder Ø¨Ø§ Nominatim (Ø±Ø§ÛŒÚ¯Ø§Ù†)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class NominatimGeocoder {
    constructor() {
        this._container = null;
        this._map = null;
    }
    
    onAdd(map) {
        this._map = map;
        
        this._container = document.createElement('div');
        this._container.className = 'maplibregl-ctrl geocoder-control';
        this._container.innerHTML = `
            <input type="text" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ú©Ø§Ù†..." dir="rtl">
            <div class="results"></div>
        `;
        
        const input = this._container.querySelector('input');
        const results = this._container.querySelector('.results');
        
        let debounceTimer;
        
        input.addEventListener('input', (e) => {
            clearTimeout(debounceTimer);
            
            const query = e.target.value;
            if (query.length < 3) {
                results.innerHTML = '';
                return;
            }
            
            debounceTimer = setTimeout(async () => {
                const response = await fetch(
                    `https://nominatim.openstreetmap.org/search?` +
                    `q=${encodeURIComponent(query)}&` +
                    `format=json&` +
                    `countrycodes=ir&` +
                    `limit=5&` +
                    `accept-language=fa`
                );
                
                const data = await response.json();
                
                results.innerHTML = data.map(item => `
                    <div class="result-item" 
                         data-lng="${item.lon}" 
                         data-lat="${item.lat}">
                        ${item.display_name}
                    </div>
                `).join('');
                
                results.querySelectorAll('.result-item').forEach(item => {
                    item.addEventListener('click', () => {
                        const lng = parseFloat(item.dataset.lng);
                        const lat = parseFloat(item.dataset.lat);
                        
                        this._map.flyTo({
                            center: [lng, lat],
                            zoom: 14
                        });
                        
                        new maplibregl.Marker()
                            .setLngLat([lng, lat])
                            .addTo(this._map);
                        
                        input.value = '';
                        results.innerHTML = '';
                    });
                });
            }, 300);
        });
        
        return this._container;
    }
    
    onRemove() {
        this._container.parentNode.removeChild(this._container);
        this._map = null;
    }
}

map.addControl(new NominatimGeocoder(), 'top-right');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Reverse Geocoding
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function reverseGeocode(lng, lat) {
    const response = await fetch(
        `https://nominatim.openstreetmap.org/reverse?` +
        `lat=${lat}&lon=${lng}&` +
        `format=json&` +
        `accept-language=fa`
    );
    
    const data = await response.json();
    return data.display_name;
}

map.on('click', async (e) => {
    const address = await reverseGeocode(e.lngLat.lng, e.lngLat.lat);
    
    new maplibregl.Popup()
        .setLngLat(e.lngLat)
        .setHTML(`<p dir="rtl">${address}</p>`)
        .addTo(map);
});</code></pre>
                </div>
            </div>

            <h3>ğŸ›£ï¸ Directions</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>directions.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ø¨Ø§ OSRM (Ø±Ø§ÛŒÚ¯Ø§Ù†)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function getRoute(start, end, profile = 'driving') {
    const url = `https://router.project-osrm.org/route/v1/${profile}/` +
        `${start[0]},${start[1]};${end[0]},${end[1]}?` +
        `overview=full&geometries=geojson&steps=true`;
    
    const response = await fetch(url);
    const data = await response.json();
    
    if (data.code !== 'Ok') {
        throw new Error('Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚');
    }
    
    return data.routes[0];
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù†Ù…Ø§ÛŒØ´ Ù…Ø³ÛŒØ± Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function showRoute(start, end) {
    const route = await getRoute(start, end);
    
    // Ø§ÙØ²ÙˆØ¯Ù† Ù…Ù†Ø¨Ø¹ Ù…Ø³ÛŒØ±
    if (map.getSource('route')) {
        map.getSource('route').setData(route.geometry);
    } else {
        map.addSource('route', {
            type: 'geojson',
            data: route.geometry
        });
        
        map.addLayer({
            id: 'route-line',
            type: 'line',
            source: 'route',
            layout: {
                'line-join': 'round',
                'line-cap': 'round'
            },
            paint: {
                'line-color': '#4264fb',
                'line-width': 6,
                'line-opacity': 0.8
            }
        });
    }
    
    // Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø³ÛŒØ±
    const distance = (route.distance / 1000).toFixed(2);
    const duration = Math.round(route.duration / 60);
    
    console.log(`ÙØ§ØµÙ„Ù‡: ${distance} Ú©ÛŒÙ„ÙˆÙ…ØªØ±`);
    console.log(`Ø²Ù…Ø§Ù†: ${duration} Ø¯Ù‚ÛŒÙ‚Ù‡`);
    
    // ÙÛŒØª Ú©Ø±Ø¯Ù† Ù†Ù‚Ø´Ù‡ Ø¨Ù‡ Ù…Ø³ÛŒØ±
    const coordinates = route.geometry.coordinates;
    const bounds = coordinates.reduce(
        (bounds, coord) => bounds.extend(coord),
        new maplibregl.LngLatBounds(coordinates[0], coordinates[0])
    );
    
    map.fitBounds(bounds, { padding: 50 });
    
    return route;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ù‚Ø§Ø· Ø¨Ø§ Ú©Ù„ÛŒÚ©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

let startPoint = null;
let endPoint = null;
let markers = [];

map.on('click', async (e) => {
    const lngLat = [e.lngLat.lng, e.lngLat.lat];
    
    if (!startPoint) {
        startPoint = lngLat;
        
        const marker = new maplibregl.Marker({ color: '#2ecc71' })
            .setLngLat(lngLat)
            .addTo(map);
        markers.push(marker);
        
    } else if (!endPoint) {
        endPoint = lngLat;
        
        const marker = new maplibregl.Marker({ color: '#e74c3c' })
            .setLngLat(lngLat)
            .addTo(map);
        markers.push(marker);
        
        // Ù†Ù…Ø§ÛŒØ´ Ù…Ø³ÛŒØ±
        await showRoute(startPoint, endPoint);
        
        // Ø±ÛŒØ³Øª Ø¨Ø±Ø§ÛŒ Ù…Ø³ÛŒØ± Ø¬Ø¯ÛŒØ¯
        startPoint = null;
        endPoint = null;
    }
});

// Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù…Ø³ÛŒØ±
function clearRoute() {
    if (map.getLayer('route-line')) {
        map.removeLayer('route-line');
    }
    if (map.getSource('route')) {
        map.removeSource('route');
    }
    
    markers.forEach(m => m.remove());
    markers = [];
    startPoint = null;
    endPoint = null;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ø¨Ø§ Ú†Ù†Ø¯ Ù†Ù‚Ø·Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function getMultiPointRoute(waypoints, profile = 'driving') {
    const coords = waypoints.map(p => `${p[0]},${p[1]}`).join(';');
    
    const url = `https://router.project-osrm.org/route/v1/${profile}/${coords}?` +
        `overview=full&geometries=geojson&steps=true`;
    
    const response = await fetch(url);
    const data = await response.json();
    
    return data.routes[0];
}

// Ù…Ø«Ø§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡
const waypoints = [
    [51.3890, 35.6892],  // ØªÙ‡Ø±Ø§Ù†
    [51.6680, 32.6546],  // Ø§ØµÙÙ‡Ø§Ù†
    [52.5311, 29.6257]   // Ø´ÛŒØ±Ø§Ø²
];

getMultiPointRoute(waypoints).then(route => {
    console.log('Ù…Ø³ÛŒØ±:', route);
});</code></pre>
                </div>
            </div>

            <h3>ğŸ“ Turf.js Integration</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>turf-integration.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù†ØµØ¨: npm install @turf/turf
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import * as turf from '@turf/turf';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const from = turf.point([51.3890, 35.6892]);  // ØªÙ‡Ø±Ø§Ù†
const to = turf.point([51.6680, 32.6546]);    // Ø§ØµÙÙ‡Ø§Ù†

const distance = turf.distance(from, to, { units: 'kilometers' });
console.log(`ÙØ§ØµÙ„Ù‡: ${distance.toFixed(2)} Ú©ÛŒÙ„ÙˆÙ…ØªØ±`);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const polygon = turf.polygon([[
    [51.3, 35.6],
    [51.5, 35.6],
    [51.5, 35.8],
    [51.3, 35.8],
    [51.3, 35.6]
]]);

const area = turf.area(polygon);
console.log(`Ù…Ø³Ø§Ø­Øª: ${(area / 1000000).toFixed(2)} Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ù…Ø±Ø¨Ø¹`);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Buffer
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const point = turf.point([51.3890, 35.6892]);
const buffered = turf.buffer(point, 5, { units: 'kilometers' });

map.addSource('buffer', {
    type: 'geojson',
    data: buffered
});

map.addLayer({
    id: 'buffer-layer',
    type: 'fill',
    source: 'buffer',
    paint: {
        'fill-color': '#4264fb',
        'fill-opacity': 0.3
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¨Ø±Ø±Ø³ÛŒ Ù†Ù‚Ø·Ù‡ Ø¯Ø± Ù¾Ù„ÛŒâ€ŒÚ¯ÙˆÙ†
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

map.on('click', (e) => {
    const clickPoint = turf.point([e.lngLat.lng, e.lngLat.lat]);
    const isInside = turf.booleanPointInPolygon(clickPoint, polygon);
    
    console.log(isInside ? 'Ø¯Ø§Ø®Ù„ Ù…Ù†Ø·Ù‚Ù‡' : 'Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ù‡');
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…Ø±Ú©Ø² Ù‡Ù†Ø¯Ø³ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const features = turf.featureCollection([
    turf.point([51.3, 35.6]),
    turf.point([51.5, 35.7]),
    turf.point([51.4, 35.8])
]);

const centroid = turf.centroid(features);
console.log('Ù…Ø±Ú©Ø²:', centroid.geometry.coordinates);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Convex Hull
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const hull = turf.convex(features);

map.addSource('hull', {
    type: 'geojson',
    data: hull
});

map.addLayer({
    id: 'hull-layer',
    type: 'line',
    source: 'hull',
    paint: {
        'line-color': '#e94560',
        'line-width': 2
    }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ù†Ù‚Ø·Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const targetPoint = turf.point([51.4, 35.7]);
const points = turf.featureCollection([
    turf.point([51.3, 35.6], { name: 'A' }),
    turf.point([51.5, 35.7], { name: 'B' }),
    turf.point([51.4, 35.8], { name: 'C' })
]);

const nearest = turf.nearestPoint(targetPoint, points);
console.log('Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ†:', nearest.properties.name);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªÙ‚Ø§Ø·Ø¹ (Intersection)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const poly1 = turf.polygon([[
    [51.3, 35.6], [51.5, 35.6], [51.5, 35.8], [51.3, 35.8], [51.3, 35.6]
]]);

const poly2 = turf.polygon([[
    [51.4, 35.65], [51.6, 35.65], [51.6, 35.85], [51.4, 35.85], [51.4, 35.65]
]]);

const intersection = turf.intersect(poly1, poly2);

if (intersection) {
    map.addSource('intersection', {
        type: 'geojson',
        data: intersection
    });
    
    map.addLayer({
        id: 'intersection-layer',
        type: 'fill',
        source: 'intersection',
        paint: {
            'fill-color': '#2ecc71',
            'fill-opacity': 0.5
        }
    });
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 13: Projects -->
        <section class="section" id="projects">
            <div class="section-header">
                <div class="section-icon">ğŸš€</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø³ÛŒØ²Ø¯Ù‡Ù…</div>
                    <h2 class="section-title">Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒ</h2>
                    <p class="section-subtitle">Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ùˆ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ</p>
                </div>
            </div>

            <h3>ğŸ—ºï¸ Ù¾Ø±ÙˆÚ˜Ù‡ Û±: Ù†Ù‚Ø´Ù‡ ØªØ¹Ø§Ù…Ù„ÛŒ Ø´Ù‡Ø±</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon html">HTML</div>
                        <span>city-map.html</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="fa" dir="rtl"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Ù†Ù‚Ø´Ù‡ ØªØ¹Ø§Ù…Ù„ÛŒ ØªÙ‡Ø±Ø§Ù†&lt;/title&gt;
    &lt;link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet"&gt;
    &lt;style&gt;
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Vazirmatn', sans-serif; }
        
        #map { 
            position: absolute; 
            top: 0; bottom: 0; 
            left: 0; right: 0; 
        }
        
        .sidebar {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 300px;
            background: rgba(26, 26, 46, 0.95);
            border-radius: 12px;
            padding: 20px;
            color: white;
            z-index: 1000;
            max-height: calc(100vh - 40px);
            overflow-y: auto;
        }
        
        .sidebar h2 {
            margin-bottom: 15px;
            color: #4264fb;
        }
        
        .layer-toggle {
            display: flex;
            align-items: center;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
        }
        
        .layer-toggle:hover {
            background: rgba(255,255,255,0.15);
        }
        
        .layer-toggle input {
            margin-left: 10px;
        }
        
        .legend {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            margin-left: 10px;
        }
        
        .info-panel {
            position: absolute;
            bottom: 30px;
            left: 20px;
            background: rgba(26, 26, 46, 0.95);
            border-radius: 12px;
            padding: 15px 20px;
            color: white;
            z-index: 1000;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="map"&gt;&lt;/div&gt;
    
    &lt;div class="sidebar"&gt;
        &lt;h2&gt;ğŸ—ºï¸ Ù†Ù‚Ø´Ù‡ ØªÙ‡Ø±Ø§Ù†&lt;/h2&gt;
        
        &lt;label class="layer-toggle"&gt;
            &lt;input type="checkbox" id="toggle-poi" checked&gt;
            ğŸ“ Ù†Ù‚Ø§Ø· Ù…Ù‡Ù…
        &lt;/label&gt;
        
        &lt;label class="layer-toggle"&gt;
            &lt;input type="checkbox" id="toggle-districts" checked&gt;
            ğŸ˜ï¸ Ù…Ù†Ø§Ø·Ù‚
        &lt;/label&gt;
        
        &lt;label class="layer-toggle"&gt;
            &lt;input type="checkbox" id="toggle-metro"&gt;
            ğŸš‡ Ø®Ø·ÙˆØ· Ù…ØªØ±Ùˆ
        &lt;/label&gt;
        
        &lt;div class="legend"&gt;
            &lt;h3&gt;Ø±Ø§Ù‡Ù†Ù…Ø§&lt;/h3&gt;
            &lt;div class="legend-item"&gt;
                &lt;div class="legend-color" style="background: #e94560"&gt;&lt;/div&gt;
                &lt;span&gt;Ø±Ø³ØªÙˆØ±Ø§Ù†&lt;/span&gt;
            &lt;/div&gt;
            &lt;div class="legend-item"&gt;
                &lt;div class="legend-color" style="background: #4264fb"&gt;&lt;/div&gt;
                &lt;span&gt;Ù‡ØªÙ„&lt;/span&gt;
            &lt;/div&gt;
            &lt;div class="legend-item"&gt;
                &lt;div class="legend-color" style="background: #2ecc71"&gt;&lt;/div&gt;
                &lt;span&gt;Ù¾Ø§Ø±Ú©&lt;/span&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;div class="info-panel"&gt;
        &lt;span id="coords"&gt;Ù…Ø®ØªØµØ§Øª: -&lt;/span&gt;
    &lt;/div&gt;
    
    &lt;script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        const map = new maplibregl.Map({
            container: 'map',
            style: 'https://api.maptiler.com/maps/streets/style.json?key=YOUR_KEY',
            center: [51.3890, 35.6892],
            zoom: 12,
            pitch: 45
        });
        
        map.addControl(new maplibregl.NavigationControl(), 'top-left');
        map.addControl(new maplibregl.ScaleControl(), 'bottom-left');
        
        // Ù†Ù…Ø§ÛŒØ´ Ù…Ø®ØªØµØ§Øª
        map.on('mousemove', (e) => {
            document.getElementById('coords').textContent = 
                `Ù…Ø®ØªØµØ§Øª: ${e.lngLat.lng.toFixed(4)}, ${e.lngLat.lat.toFixed(4)}`;
        });
        
        map.on('load', () => {
            // Ø§ÙØ²ÙˆØ¯Ù† POIs
            map.addSource('pois', {
                type: 'geojson',
                data: {
                    type: 'FeatureCollection',
                    features: [
                        {
                            type: 'Feature',
                            properties: { name: 'Ø¨Ø±Ø¬ Ù…ÛŒÙ„Ø§Ø¯', type: 'landmark' },
                            geometry: { type: 'Point', coordinates: [51.3751, 35.7448] }
                        },
                        {
                            type: 'Feature',
                            properties: { name: 'Ø¨Ø±Ø¬ Ø¢Ø²Ø§Ø¯ÛŒ', type: 'landmark' },
                            geometry: { type: 'Point', coordinates: [51.3380, 35.6997] }
                        }
                    ]
                }
            });
            
            map.addLayer({
                id: 'pois-layer',
                type: 'circle',
                source: 'pois',
                paint: {
                    'circle-radius': 10,
                    'circle-color': '#e94560',
                    'circle-stroke-width': 2,
                    'circle-stroke-color': '#fff'
                }
            });
            
            // Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ POI
            map.on('click', 'pois-layer', (e) => {
                const feature = e.features[0];
                
                new maplibregl.Popup()
                    .setLngLat(feature.geometry.coordinates)
                    .setHTML(`&lt;h3&gt;${feature.properties.name}&lt;/h3&gt;`)
                    .addTo(map);
            });
            
            map.on('mouseenter', 'pois-layer', () => {
                map.getCanvas().style.cursor = 'pointer';
            });
            
            map.on('mouseleave', 'pois-layer', () => {
                map.getCanvas().style.cursor = '';
            });
        });
        
        // Ú©Ù†ØªØ±Ù„ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
        document.getElementById('toggle-poi').addEventListener('change', (e) => {
            map.setLayoutProperty(
                'pois-layer', 
                'visibility', 
                e.target.checked ? 'visible' : 'none'
            );
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                </div>
            </div>

            <h3>ğŸ“Š Ù¾Ø±ÙˆÚ˜Ù‡ Û²: Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ØªØ­Ù„ÛŒÙ„ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>analytics-dashboard.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ØªØ­Ù„ÛŒÙ„ÛŒ Ø¨Ø§ Ù†Ù‚Ø´Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class AnalyticsDashboard {
    constructor(mapContainer) {
        this.map = new maplibregl.Map({
            container: mapContainer,
            style: 'https://demotiles.maplibre.org/style.json',
            center: [51.3890, 35.6892],
            zoom: 10
        });
        
        this.data = null;
        this.filters = {
            dateRange: null,
            category: null,
            minValue: 0
        };
        
        this.init();
    }
    
    async init() {
        await this.loadData();
        this.setupLayers();
        this.setupControls();
        this.updateStats();
    }
    
    async loadData() {
        // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡
        this.data = {
            type: 'FeatureCollection',
            features: Array.from({ length: 1000 }, (_, i) => ({
                type: 'Feature',
                properties: {
                    id: i,
                    value: Math.random() * 100,
                    category: ['A', 'B', 'C'][Math.floor(Math.random() * 3)],
                    date: new Date(
                        Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000
                    ).toISOString()
                },
                geometry: {
                    type: 'Point',
                    coordinates: [
                        51.3890 + (Math.random() - 0.5) * 0.5,
                        35.6892 + (Math.random() - 0.5) * 0.5
                    ]
                }
            }))
        };
    }
    
    setupLayers() {
        this.map.on('load', () => {
            // Ù…Ù†Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡
            this.map.addSource('analytics-data', {
                type: 'geojson',
                data: this.data,
                cluster: true,
                clusterMaxZoom: 14,
                clusterRadius: 50,
                clusterProperties: {
                    sum: ['+', ['get', 'value']],
                    count: ['+', 1]
                }
            });
            
            // Ù„Ø§ÛŒÙ‡ Ú©Ù„Ø§Ø³ØªØ±
            this.map.addLayer({
                id: 'clusters',
                type: 'circle',
                source: 'analytics-data',
                filter: ['has', 'point_count'],
                paint: {
                    'circle-color': [
                        'step',
                        ['get', 'point_count'],
                        '#4264fb',
                        10, '#06b6d4',
                        50, '#2ecc71',
                        100, '#f1c40f',
                        500, '#e74c3c'
                    ],
                    'circle-radius': [
                        'step',
                        ['get', 'point_count'],
                        20, 10, 25, 50, 30, 100, 35, 500, 40
                    ]
                }
            });
            
            // ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø± Ú©Ù„Ø§Ø³ØªØ±
            this.map.addLayer({
                id: 'cluster-count',
                type: 'symbol',
                source: 'analytics-data',
                filter: ['has', 'point_count'],
                layout: {
                    'text-field': '{point_count_abbreviated}',
                    'text-size': 12
                },
                paint: {
                    'text-color': '#ffffff'
                }
            });
            
            // Ù†Ù‚Ø§Ø· ØªÚ©ÛŒ
            this.map.addLayer({
                id: 'unclustered-point',
                type: 'circle',
                source: 'analytics-data',
                filter: ['!', ['has', 'point_count']],
                paint: {
                    'circle-radius': [
                        'interpolate',
                        ['linear'],
                        ['get', 'value'],
                        0, 5,
                        50, 10,
                        100, 15
                    ],
                    'circle-color': [
                        'match',
                        ['get', 'category'],
                        'A', '#e94560',
                        'B', '#4264fb',
                        'C', '#2ecc71',
                        '#999'
                    ],
                    'circle-opacity': 0.8
                }
            });
            
            // Heatmap
            this.map.addLayer({
                id: 'heatmap',
                type: 'heatmap',
                source: 'analytics-data',
                maxzoom: 12,
                paint: {
                    'heatmap-weight': ['/', ['get', 'value'], 100],
                    'heatmap-intensity': [
                        'interpolate',
                        ['linear'],
                        ['zoom'],
                        0, 1,
                        12, 3
                    ],
                    'heatmap-color': [
                        'interpolate',
                        ['linear'],
                        ['heatmap-density'],
                        0, 'rgba(0,0,255,0)',
                        0.2, 'rgb(0,255,255)',
                        0.4, 'rgb(0,255,0)',
                        0.6, 'rgb(255,255,0)',
                        0.8, 'rgb(255,128,0)',
                        1, 'rgb(255,0,0)'
                    ],
                    'heatmap-radius': [
                        'interpolate',
                        ['linear'],
                        ['zoom'],
                        0, 5,
                        12, 30
                    ],
                    'heatmap-opacity': 0.7
                }
            }, 'clusters');
        });
    }
    
    setupControls() {
        // ÙÛŒÙ„ØªØ± Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
        document.querySelectorAll('[data-category]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                this.filters.category = e.target.dataset.category || null;
                this.applyFilters();
            });
        });
        
        // ÙÛŒÙ„ØªØ± Ù…Ù‚Ø¯Ø§Ø±
        document.getElementById('value-slider')?.addEventListener('input', (e) => {
            this.filters.minValue = parseInt(e.target.value);
            this.applyFilters();
        });
    }
    
    applyFilters() {
        const filteredData = {
            ...this.data,
            features: this.data.features.filter(f => {
                const props = f.properties;
                
                if (this.filters.category && props.category !== this.filters.category) {
                    return false;
                }
                
                if (props.value < this.filters.minValue) {
                    return false;
                }
                
                return true;
            })
        };
        
        this.map.getSource('analytics-data').setData(filteredData);
        this.updateStats(filteredData);
    }
    
    updateStats(data = this.data) {
        const stats = {
            total: data.features.length,
            avgValue: data.features.reduce((sum, f) => sum + f.properties.value, 0) / 
                      data.features.length,
            categories: {}
        };
        
        data.features.forEach(f => {
            const cat = f.properties.category;
            stats.categories[cat] = (stats.categories[cat] || 0) + 1;
        });
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ UI
        document.getElementById('stat-total').textContent = stats.total;
        document.getElementById('stat-avg').textContent = stats.avgValue.toFixed(2);
        
        console.log('Ø¢Ù…Ø§Ø±:', stats);
    }
}

// Ø§Ø³ØªÙØ§Ø¯Ù‡
const dashboard = new AnalyticsDashboard('map');</code></pre>
                </div>
            </div>

            <h3>ğŸš— Ù¾Ø±ÙˆÚ˜Ù‡ Û³: Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø²Ù†Ø¯Ù‡</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>live-tracking.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø³ÛŒØ³ØªÙ… Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø²Ù†Ø¯Ù‡ ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class LiveTracker {
    constructor(mapContainer) {
        this.map = new maplibregl.Map({
            container: mapContainer,
            style: 'https://demotiles.maplibre.org/style.json',
            center: [51.3890, 35.6892],
            zoom: 12
        });
        
        this.vehicles = new Map();
        this.markers = new Map();
        this.trails = new Map();
        this.ws = null;
        
        this.init();
    }
    
    init() {
        this.map.on('load', () => {
            this.setupLayers();
            this.connectWebSocket();
            this.setupUI();
        });
    }
    
    setupLayers() {
        // Ù…Ù†Ø¨Ø¹ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø·ÛŒ Ø´Ø¯Ù‡
        this.map.addSource('trails', {
            type: 'geojson',
            data: {
                type: 'FeatureCollection',
                features: []
            }
        });
        
        // Ù„Ø§ÛŒÙ‡ Ù…Ø³ÛŒØ±Ù‡Ø§
        this.map.addLayer({
            id: 'trails-layer',
            type: 'line',
            source: 'trails',
            paint: {
                'line-color': ['get', 'color'],
                'line-width': 3,
                'line-opacity': 0.7
            }
        });
    }
    
    connectWebSocket() {
        // Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ± WebSocket
        this.ws = new WebSocket('wss://your-server.com/tracking');
        
        this.ws.onopen = () => {
            console.log('Ù…ØªØµÙ„ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø±Ø¯ÛŒØ§Ø¨ÛŒ');
            this.updateStatus('Ù…ØªØµÙ„', 'success');
        };
        
        this.ws.onmessage = (event) => {
            const data = JSON.parse(event.data);
            this.handleUpdate(data);
        };
        
        this.ws.onclose = () => {
            console.log('Ù‚Ø·Ø¹ Ø§ØªØµØ§Ù„');
            this.updateStatus('Ù‚Ø·Ø¹', 'error');
            
            // ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯
            setTimeout(() => this.connectWebSocket(), 5000);
        };
        
        this.ws.onerror = (error) => {
            console.error('Ø®Ø·Ø§:', error);
        };
    }
    
    // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ³Øª
    simulateData() {
        const vehicles = [
            { id: 'v1', name: 'Ø®ÙˆØ¯Ø±Ùˆ Û±', color: '#e94560' },
            { id: 'v2', name: 'Ø®ÙˆØ¯Ø±Ùˆ Û²', color: '#4264fb' },
            { id: 'v3', name: 'Ø®ÙˆØ¯Ø±Ùˆ Û³', color: '#2ecc71' }
        ];
        
        vehicles.forEach(v => {
            this.vehicles.set(v.id, {
                ...v,
                position: [
                    51.3890 + (Math.random() - 0.5) * 0.1,
                    35.6892 + (Math.random() - 0.5) * 0.1
                ],
                speed: 0,
                heading: 0,
                history: []
            });
        });
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‡Ø± Ø«Ø§Ù†ÛŒÙ‡
        setInterval(() => {
            this.vehicles.forEach((vehicle, id) => {
                // Ø­Ø±Ú©Øª ØªØµØ§Ø¯ÙÛŒ
                const newPos = [
                    vehicle.position[0] + (Math.random() - 0.5) * 0.001,
                    vehicle.position[1] + (Math.random() - 0.5) * 0.001
                ];
                
                this.handleUpdate({
                    id,
                    position: newPos,
                    speed: Math.random() * 80,
                    heading: Math.random() * 360,
                    timestamp: Date.now()
                });
            });
        }, 1000);
    }
    
    handleUpdate(data) {
        const { id, position, speed, heading, timestamp } = data;
        
        let vehicle = this.vehicles.get(id);
        
        if (!vehicle) {
            // ÙˆØ³ÛŒÙ„Ù‡ Ø¬Ø¯ÛŒØ¯
            vehicle = {
                id,
                name: `Ø®ÙˆØ¯Ø±Ùˆ ${id}`,
                color: this.getRandomColor(),
                position,
                speed,
                heading,
                history: []
            };
            this.vehicles.set(id, vehicle);
            this.createMarker(vehicle);
        }
        
        // Ø°Ø®ÛŒØ±Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù‚Ø¨Ù„ÛŒ Ø¯Ø± ØªØ§Ø±ÛŒØ®Ú†Ù‡
        if (vehicle.position) {
            vehicle.history.push(vehicle.position);
            
            // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† ØªØ§Ø±ÛŒØ®Ú†Ù‡
            if (vehicle.history.length > 100) {
                vehicle.history.shift();
            }
        }
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª
        vehicle.position = position;
        vehicle.speed = speed;
        vehicle.heading = heading;
        vehicle.lastUpdate = timestamp;
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ø´Ø§Ù†Ú¯Ø±
        this.updateMarker(vehicle);
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø³ÛŒØ±
        this.updateTrail(vehicle);
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ù†Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
        this.updateInfoPanel(vehicle);
    }
    
    createMarker(vehicle) {
        // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù„Ù…Ø§Ù† Ø³ÙØ§Ø±Ø´ÛŒ
        const el = document.createElement('div');
        el.className = 'vehicle-marker';
        el.innerHTML = `
            <div class="marker-icon" style="background: ${vehicle.color}">
                ğŸš—
            </div>
            <div class="marker-label">${vehicle.name}</div>
        `;
        
        const marker = new maplibregl.Marker({
            element: el,
            rotation: vehicle.heading
        })
            .setLngLat(vehicle.position)
            .setPopup(
                new maplibregl.Popup({ offset: 25 })
                    .setHTML(this.createPopupContent(vehicle))
            )
            .addTo(this.map);
        
        this.markers.set(vehicle.id, marker);
    }
    
    updateMarker(vehicle) {
        const marker = this.markers.get(vehicle.id);
        if (marker) {
            // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø­Ø±Ú©Øª Ù†Ø±Ù…
            this.animateMarker(marker, vehicle.position, vehicle.heading);
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ popup
            marker.getPopup().setHTML(this.createPopupContent(vehicle));
        }
    }
    
    animateMarker(marker, targetPos, targetHeading) {
        const currentPos = marker.getLngLat();
        const startPos = [currentPos.lng, currentPos.lat];
        const startTime = performance.now();
        const duration = 1000;
        
        const animate = (currentTime) => {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);
            
            // Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª
            const lng = startPos[0] + (targetPos[0] - startPos[0]) * progress;
            const lat = startPos[1] + (targetPos[1] - startPos[1]) * progress;
            
            marker.setLngLat([lng, lat]);
            marker.setRotation(targetHeading);
            
            if (progress < 1) {
                requestAnimationFrame(animate);
            }
        };
        
        requestAnimationFrame(animate);
    }
    
    updateTrail(vehicle) {
        const trailsData = {
            type: 'FeatureCollection',
            features: []
        };
        
        this.vehicles.forEach(v => {
            if (v.history.length > 1) {
                trailsData.features.push({
                    type: 'Feature',
                    properties: {
                        id: v.id,
                        color: v.color
                    },
                    geometry: {
                        type: 'LineString',
                        coordinates: [...v.history, v.position]
                    }
                });
            }
        });
        
        this.map.getSource('trails').setData(trailsData);
    }
    
    createPopupContent(vehicle) {
        return `
            <div class="vehicle-popup" dir="rtl">
                <h3>${vehicle.name}</h3>
                <p>Ø³Ø±Ø¹Øª: ${vehicle.speed?.toFixed(1) || 0} km/h</p>
                <p>Ø¬Ù‡Øª: ${vehicle.heading?.toFixed(0) || 0}Â°</p>
                <p>Ø¢Ø®Ø±ÛŒÙ† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: ${
                    vehicle.lastUpdate 
                        ? new Date(vehicle.lastUpdate).toLocaleTimeString('fa-IR')
                        : '-'
                }</p>
            </div>
        `;
    }
    
    updateInfoPanel(vehicle) {
        const panel = document.getElementById('vehicle-info');
        if (panel) {
            panel.innerHTML = `
                <h3>${vehicle.name}</h3>
                <div class="info-row">
                    <span>Ù…ÙˆÙ‚Ø¹ÛŒØª:</span>
                    <span>${vehicle.position[0].toFixed(4)}, ${vehicle.position[1].toFixed(4)}</span>
                </div>
                <div class="info-row">
                    <span>Ø³Ø±Ø¹Øª:</span>
                    <span>${vehicle.speed?.toFixed(1) || 0} km/h</span>
                </div>
            `;
        }
    }
    
    setupUI() {
        // Ø¯Ú©Ù…Ù‡ ØªÙ…Ø±Ú©Ø² Ø±ÙˆÛŒ ÙˆØ³ÛŒÙ„Ù‡
        document.querySelectorAll('[data-focus-vehicle]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const id = e.target.dataset.focusVehicle;
                this.focusVehicle(id);
            });
        });
        
        // Ø¯Ú©Ù…Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù‡Ù…Ù‡
        document.getElementById('show-all')?.addEventListener('click', () => {
            this.fitAllVehicles();
        });
    }
    
    focusVehicle(id) {
        const vehicle = this.vehicles.get(id);
        if (vehicle) {
            this.map.flyTo({
                center: vehicle.position,
                zoom: 16
            });
        }
    }
    
    fitAllVehicles() {
        if (this.vehicles.size === 0) return;
        
        const bounds = new maplibregl.LngLatBounds();
        
        this.vehicles.forEach(v => {
            bounds.extend(v.position);
        });
        
        this.map.fitBounds(bounds, { padding: 50 });
    }
    
    updateStatus(text, type) {
        const status = document.getElementById('connection-status');
        if (status) {
            status.textContent = text;
            status.className = `status-${type}`;
        }
    }
    
    getRandomColor() {
        const colors = ['#e94560', '#4264fb', '#2ecc71', '#f1c40f', '#9b59b6'];
        return colors[Math.floor(Math.random() * colors.length)];
    }
}

// Ø§Ø³ØªÙØ§Ø¯Ù‡
const tracker = new LiveTracker('map');

// Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ø¨Ø¯ÙˆÙ† Ø³Ø±ÙˆØ±
tracker.simulateData();</code></pre>
                </div>
            </div>

            <h3>ğŸ  Ù¾Ø±ÙˆÚ˜Ù‡ Û´: Ù†Ù‚Ø´Ù‡ Ø§Ù…Ù„Ø§Ú©</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>real-estate-map.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù†Ù‚Ø´Ù‡ Ø§Ù…Ù„Ø§Ú© Ø¨Ø§ ÙÛŒÙ„ØªØ± Ù¾ÛŒØ´Ø±ÙØªÙ‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class RealEstateMap {
    constructor(container) {
        this.map = new maplibregl.Map({
            container,
            style: 'https://demotiles.maplibre.org/style.json',
            center: [51.3890, 35.6892],
            zoom: 12
        });
        
        this.properties = [];
        this.filters = {
            type: 'all',
            minPrice: 0,
            maxPrice: Infinity,
            minArea: 0,
            maxArea: Infinity,
            bedrooms: 0
        };
        
        this.init();
    }
    
    async init() {
        await this.loadProperties();
        
        this.map.on('load', () => {
            this.setupLayers();
            this.setupInteractions();
            this.setupFilters();
        });
    }
    
    async loadProperties() {
        // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡
        this.properties = Array.from({ length: 200 }, (_, i) => ({
            id: i,
            type: ['apartment', 'villa', 'land'][Math.floor(Math.random() * 3)],
            title: `Ù…Ù„Ú© Ø´Ù…Ø§Ø±Ù‡ ${i + 1}`,
            price: Math.floor(Math.random() * 50 + 5) * 100000000,
            area: Math.floor(Math.random() * 200 + 50),
            bedrooms: Math.floor(Math.random() * 4 + 1),
            coordinates: [
                51.3890 + (Math.random() - 0.5) * 0.2,
                35.6892 + (Math.random() - 0.5) * 0.2
            ],
            image: `https://picsum.photos/seed/${i}/300/200`
        }));
    }
    
    setupLayers() {
        const geojson = this.propertiesToGeoJSON(this.properties);
        
        this.map.addSource('properties', {
            type: 'geojson',
            data: geojson,
            cluster: true,
            clusterMaxZoom: 14,
            clusterRadius: 50
        });
        
        // Ú©Ù„Ø§Ø³ØªØ±Ù‡Ø§
        this.map.addLayer({
            id: 'clusters',
            type: 'circle',
            source: 'properties',
            filter: ['has', 'point_count'],
            paint: {
                'circle-color': [
                    'step',
                    ['get', 'point_count'],
                    '#4264fb',
                    10, '#06b6d4',
                    30, '#2ecc71'
                ],
                'circle-radius': [
                    'step',
                    ['get', 'point_count'],
                    20, 10, 25, 30, 30
                ],
                'circle-stroke-width': 2,
                'circle-stroke-color': '#fff'
            }
        });
        
        this.map.addLayer({
            id: 'cluster-count',
            type: 'symbol',
            source: 'properties',
            filter: ['has', 'point_count'],
            layout: {
                'text-field': '{point_count_abbreviated}',
                'text-size': 12
            },
            paint: {
                'text-color': '#fff'
            }
        });
        
        // Ù†Ù‚Ø§Ø· ØªÚ©ÛŒ
        this.map.addLayer({
            id: 'property-points',
            type: 'circle',
            source: 'properties',
            filter: ['!', ['has', 'point_count']],
            paint: {
                'circle-radius': 12,
                'circle-color': [
                    'match',
                    ['get', 'type'],
                    'apartment', '#e94560',
                    'villa', '#4264fb',
                    'land', '#2ecc71',
                    '#999'
                ],
                'circle-stroke-width': 2,
                'circle-stroke-color': '#fff'
            }
        });
        
        // Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§
        this.map.addLayer({
            id: 'property-icons',
            type: 'symbol',
            source: 'properties',
            filter: ['!', ['has', 'point_count']],
            layout: {
                'text-field': [
                    'match',
                    ['get', 'type'],
                    'apartment', 'ğŸ¢',
                    'villa', 'ğŸ ',
                    'land', 'ğŸŒ³',
                    'ğŸ“'
                ],
                'text-size': 14,
                'text-allow-overlap': true
            }
        });
    }
    
    setupInteractions() {
        // Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ú©Ù„Ø§Ø³ØªØ±
        this.map.on('click', 'clusters', (e) => {
            const features = this.map.queryRenderedFeatures(e.point, {
                layers: ['clusters']
            });
            
            const clusterId = features[0].properties.cluster_id;
            
            this.map.getSource('properties').getClusterExpansionZoom(
                clusterId,
                (err, zoom) => {
                    if (err) return;
                    
                    this.map.easeTo({
                        center: features[0].geometry.coordinates,
                        zoom
                    });
                }
            );
        });
        
        // Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù…Ù„Ú©
        this.map.on('click', 'property-points', (e) => {
            const feature = e.features[0];
            const props = feature.properties;
            
            new maplibregl.Popup({ maxWidth: '300px' })
                .setLngLat(feature.geometry.coordinates)
                .setHTML(this.createPropertyCard(props))
                .addTo(this.map);
        });
        
        // ØªØºÛŒÛŒØ± cursor
        this.map.on('mouseenter', 'property-points', () => {
            this.map.getCanvas().style.cursor = 'pointer';
        });
        
        this.map.on('mouseleave', 'property-points', () => {
            this.map.getCanvas().style.cursor = '';
        });
        
        this.map.on('mouseenter', 'clusters', () => {
            this.map.getCanvas().style.cursor = 'pointer';
        });
        
        this.map.on('mouseleave', 'clusters', () => {
            this.map.getCanvas().style.cursor = '';
        });
    }
    
    setupFilters() {
        // Ù†ÙˆØ¹ Ù…Ù„Ú©
        document.querySelectorAll('[data-filter-type]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                this.filters.type = e.target.dataset.filterType;
                this.applyFilters();
            });
        });
        
        // Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ù‚ÛŒÙ…Øª
        document.getElementById('price-min')?.addEventListener('input', (e) => {
            this.filters.minPrice = parseInt(e.target.value) || 0;
            this.applyFilters();
        });
        
        document.getElementById('price-max')?.addEventListener('input', (e) => {
            this.filters.maxPrice = parseInt(e.target.value) || Infinity;
            this.applyFilters();
        });
        
        // Ù…ØªØ±Ø§Ú˜
        document.getElementById('area-min')?.addEventListener('input', (e) => {
            this.filters.minArea = parseInt(e.target.value) || 0;
            this.applyFilters();
        });
        
        // ØªØ¹Ø¯Ø§Ø¯ Ø§ØªØ§Ù‚
        document.getElementById('bedrooms')?.addEventListener('change', (e) => {
            this.filters.bedrooms = parseInt(e.target.value) || 0;
            this.applyFilters();
        });
    }
    
    applyFilters() {
        const filtered = this.properties.filter(p => {
            if (this.filters.type !== 'all' && p.type !== this.filters.type) {
                return false;
            }
            if (p.price < this.filters.minPrice || p.price > this.filters.maxPrice) {
                return false;
            }
            if (p.area < this.filters.minArea || p.area > this.filters.maxArea) {
                return false;
            }
            if (p.bedrooms < this.filters.bedrooms) {
                return false;
            }
            return true;
        });
        
        const geojson = this.propertiesToGeoJSON(filtered);
        this.map.getSource('properties').setData(geojson);
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø±
        this.updateStats(filtered);
    }
    
    propertiesToGeoJSON(properties) {
        return {
            type: 'FeatureCollection',
            features: properties.map(p => ({
                type: 'Feature',
                properties: {
                    id: p.id,
                    type: p.type,
                    title: p.title,
                    price: p.price,
                    area: p.area,
                    bedrooms: p.bedrooms,
                    image: p.image
                },
                geometry: {
                    type: 'Point',
                    coordinates: p.coordinates
                }
            }))
        };
    }
    
    createPropertyCard(props) {
        const priceFormatted = new Intl.NumberFormat('fa-IR').format(props.price);
        const typeNames = {
            apartment: 'Ø¢Ù¾Ø§Ø±ØªÙ…Ø§Ù†',
            villa: 'ÙˆÛŒÙ„Ø§',
            land: 'Ø²Ù…ÛŒÙ†'
        };
        
        return `
            <div class="property-card" dir="rtl">
                <img src="${props.image}" alt="${props.title}">
                <div class="property-info">
                    <h3>${props.title}</h3>
                    <p class="property-type">${typeNames[props.type]}</p>
                    <p class="property-price">${priceFormatted} ØªÙˆÙ…Ø§Ù†</p>
                    <div class="property-details">
                        <span>ğŸ“ ${props.area} Ù…ØªØ±</span>
                        <span>ğŸ›ï¸ ${props.bedrooms} Ø®ÙˆØ§Ø¨</span>
                    </div>
                    <button onclick="viewProperty(${props.id})">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª</button>
                </div>
            </div>
        `;
    }
    
    updateStats(properties) {
        const stats = {
            total: properties.length,
            avgPrice: properties.reduce((sum, p) => sum + p.price, 0) / properties.length,
            types: {}
        };
        
        properties.forEach(p => {
            stats.types[p.type] = (stats.types[p.type] || 0) + 1;
        });
        
        document.getElementById('stats-total').textContent = stats.total;
        document.getElementById('stats-avg-price').textContent = 
            new Intl.NumberFormat('fa-IR').format(Math.round(stats.avgPrice));
    }
}

// Ø§Ø³ØªÙØ§Ø¯Ù‡
const realEstateMap = new RealEstateMap('map');</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 14: Best Practices -->
        <section class="section" id="best-practices">
            <div class="section-header">
                <div class="section-icon">âœ…</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ú†Ù‡Ø§Ø±Ø¯Ù‡Ù…</div>
                    <h2 class="section-title">Ø¨Ù‡ØªØ±ÛŒÙ† Ø´ÛŒÙˆÙ‡â€ŒÙ‡Ø§</h2>
                    <p class="section-subtitle">Ù†Ú©Ø§ØªØŒ Ø§Ù„Ú¯ÙˆÙ‡Ø§ Ùˆ ØªÙˆØµÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</p>
                </div>
            </div>

            <div class="info-box tip">
                <div class="info-icon">ğŸ’¡</div>
                <div class="info-content">
                    <h4>Ù†Ú©Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ</h4>
                    <ul>
                        <li>Ù‡Ù…ÛŒØ´Ù‡ Ø§Ø² <code>map.on('load')</code> Ø¨Ø±Ø§ÛŒ Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ø§Ø² Clustering Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù¾Ø±ØªÚ©Ø±Ø§Ø± Ø±Ø§ Debounce Ú©Ù†ÛŒØ¯</li>
                        <li>Ø§Ø² Vector Tiles Ø¨Ù‡ Ø¬Ø§ÛŒ GeoJSON Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø¬ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ“‹ Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ù¾Ø±ÙˆÚ˜Ù‡</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon md">MD</div>
                        <span>checklist.md</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-markdown"># Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ù¾Ø±ÙˆÚ˜Ù‡ MapLibre GL

## ğŸ”§ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ
- [ ] Ù†ØµØ¨ MapLibre GL Ø§Ø² CDN ÛŒØ§ npm
- [ ] ØªÙ†Ø¸ÛŒÙ… container Ø¨Ø§ Ø§Ø¨Ø¹Ø§Ø¯ Ù…Ø´Ø®Øµ
- [ ] Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ù†Ø§Ø³Ø¨
- [ ] ØªÙ†Ø¸ÛŒÙ… Ù…Ø±Ú©Ø² Ùˆ Ø²ÙˆÙ… Ø§ÙˆÙ„ÛŒÙ‡

## ğŸ¨ Ø§Ø³ØªØ§ÛŒÙ„ Ùˆ UI
- [ ] Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ (Vazirmatn)
- [ ] ØªÙ†Ø¸ÛŒÙ… RTL Ø¨Ø±Ø§ÛŒ Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ
- [ ] Ø·Ø±Ø§Ø­ÛŒ Responsive
- [ ] Ø§Ø³ØªØ§ÛŒÙ„ Ø³ÙØ§Ø±Ø´ÛŒ Ø¨Ø±Ø§ÛŒ Popup Ùˆ Marker

## ğŸ“Š Ø¯Ø§Ø¯Ù‡
- [ ] Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ GeoJSON (Ú©Ø§Ù‡Ø´ precision)
- [ ] Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Clustering Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø§Ø· Ø²ÛŒØ§Ø¯
- [ ] Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Lazy Loading
- [ ] Cache Ú©Ø±Ø¯Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

## âš¡ Ø¹Ù…Ù„Ú©Ø±Ø¯
- [ ] Debounce Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù¾Ø±ØªÚ©Ø±Ø§Ø±
- [ ] Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² requestAnimationFrame
- [ ] Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† ØªØ¹Ø¯Ø§Ø¯ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
- [ ] Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Expressions

## ğŸ”’ Ø§Ù…Ù†ÛŒØª
- [ ] Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² API Key
- [ ] Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ
- [ ] Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² HTTPS

## â™¿ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ¾Ø°ÛŒØ±ÛŒ
- [ ] Ø§ÙØ²ÙˆØ¯Ù† alt Ø¨Ø±Ø§ÛŒ ØªØµØ§ÙˆÛŒØ±
- [ ] Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ú©ÛŒØ¨ÙˆØ±Ø¯
- [ ] Ú©Ù†ØªØ±Ø§Ø³Øª Ø±Ù†Ú¯ Ù…Ù†Ø§Ø³Ø¨

## ğŸ“± Ù…ÙˆØ¨Ø§ÛŒÙ„
- [ ] ØªØ³Øª Ø±ÙˆÛŒ Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
- [ ] Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ Ù„Ù…Ø³
- [ ] Ù…Ø¯ÛŒØ±ÛŒØª Ø­Ø§ÙØ¸Ù‡</code></pre>
                </div>
            </div>

            <h3>ğŸ—ï¸ Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon txt">TXT</div>
                        <span>project-structure.txt</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code>my-map-project/
â”œâ”€â”€ index.html
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ main.css
â”‚   â”œâ”€â”€ map.css
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ popup.css
â”‚       â”œâ”€â”€ controls.css
â”‚       â””â”€â”€ sidebar.css
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ main.js
â”‚   â”œâ”€â”€ map/
â”‚   â”‚   â”œâ”€â”€ MapManager.js
â”‚   â”‚   â”œâ”€â”€ LayerManager.js
â”‚   â”‚   â”œâ”€â”€ SourceManager.js
â”‚   â”‚   â””â”€â”€ InteractionManager.js
â”‚   â”œâ”€â”€ controls/
â”‚   â”‚   â”œâ”€â”€ SearchControl.js
â”‚   â”‚   â”œâ”€â”€ LayerControl.js
â”‚   â”‚   â””â”€â”€ FilterControl.js
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ helpers.js
â”‚   â”‚   â”œâ”€â”€ api.js
â”‚   â”‚   â””â”€â”€ constants.js
â”‚   â””â”€â”€ config/
â”‚       â”œâ”€â”€ mapConfig.js
â”‚       â””â”€â”€ layerStyles.js
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ points.geojson
â”‚   â””â”€â”€ boundaries.geojson
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ images/
â””â”€â”€ styles/
    â””â”€â”€ map-style.json</code></pre>
                </div>
            </div>

            <h3>ğŸ”§ Ø§Ù„Ú¯ÙˆÛŒ MapManager</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon js">JS</div>
                        <span>MapManager.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MapManager - Ø§Ù„Ú¯ÙˆÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù‚Ø´Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class MapManager {
    static instance = null;
    
    constructor(config) {
        if (MapManager.instance) {
            return MapManager.instance;
        }
        
        this.config = {
            container: 'map',
            style: 'https://demotiles.maplibre.org/style.json',
            center: [51.3890, 35.6892],
            zoom: 10,
            ...config
        };
        
        this.map = null;
        this.layers = new Map();
        this.sources = new Map();
        this.controls = new Map();
        this.eventHandlers = new Map();
        
        MapManager.instance = this;
    }
    
    static getInstance(config) {
        if (!MapManager.instance) {
            new MapManager(config);
        }
        return MapManager.instance;
    }
    
    async initialize() {
        return new Promise((resolve, reject) => {
            try {
                this.map = new maplibregl.Map(this.config);
                
                this.map.on('load', () => {
                    this.setupDefaultControls();
                    resolve(this);
                });
                
                this.map.on('error', (e) => {
                    reject(e);
                });
            } catch (error) {
                reject(error);
            }
        });
    }
    
    setupDefaultControls() {
        this.addControl('navigation', new maplibregl.NavigationControl(), 'top-right');
        this.addControl('scale', new maplibregl.ScaleControl(), 'bottom-left');
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ù†Ø§Ø¨Ø¹
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    addSource(id, config) {
        if (this.sources.has(id)) {
            console.warn(`Ù…Ù†Ø¨Ø¹ ${id} Ù‚Ø¨Ù„Ø§Ù‹ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯`);
            return this;
        }
        
        this.map.addSource(id, config);
        this.sources.set(id, config);
        return this;
    }
    
    updateSource(id, data) {
        const source = this.map.getSource(id);
        if (source) {
            source.setData(data);
        }
        return this;
    }
    
    removeSource(id) {
        if (this.map.getSource(id)) {
            // Ø­Ø°Ù Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø·
            this.layers.forEach((_, layerId) => {
                const layer = this.map.getLayer(layerId);
                if (layer && layer.source === id) {
                    this.removeLayer(layerId);
                }
            });
            
            this.map.removeSource(id);
            this.sources.delete(id);
        }
        return this;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù…Ø¯ÛŒØ±ÛŒØª Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    addLayer(config, beforeId = null) {
        const { id } = config;
        
        if (this.layers.has(id)) {
            console.warn(`Ù„Ø§ÛŒÙ‡ ${id} Ù‚Ø¨Ù„Ø§Ù‹ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯`);
            return this;
        }
        
        this.map.addLayer(config, beforeId);
        this.layers.set(id, config);
        return this;
    }
    
    removeLayer(id) {
        if (this.map.getLayer(id)) {
            this.map.removeLayer(id);
            this.layers.delete(id);
        }
        return this;
    }
    
    setLayerVisibility(id, visible) {
        this.map.setLayoutProperty(
            id, 
            'visibility', 
            visible ? 'visible' : 'none'
        );
        return this;
    }
    
    setLayerPaint(id, property, value) {
        this.map.setPaintProperty(id, property, value);
        return this;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    addControl(id, control, position = 'top-right') {
        if (this.controls.has(id)) {
            this.removeControl(id);
        }
        
        this.map.addControl(control, position);
        this.controls.set(id, { control, position });
        return this;
    }
    
    removeControl(id) {
        const controlData = this.controls.get(id);
        if (controlData) {
            this.map.removeControl(controlData.control);
            this.controls.delete(id);
        }
        return this;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù…Ø¯ÛŒØ±ÛŒØª Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    on(event, layerOrCallback, callback) {
        const key = callback ? `${event}-${layerOrCallback}` : event;
        const handler = callback || layerOrCallback;
        
        if (callback) {
            this.map.on(event, layerOrCallback, handler);
        } else {
            this.map.on(event, handler);
        }
        
        if (!this.eventHandlers.has(key)) {
            this.eventHandlers.set(key, []);
        }
        this.eventHandlers.get(key).push(handler);
        
        return this;
    }
    
    off(event, layerOrCallback, callback) {
        if (callback) {
            this.map.off(event, layerOrCallback, callback);
        } else {
            this.map.off(event, layerOrCallback);
        }
        return this;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù†Ø§ÙˆØ¨Ø±ÛŒ
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    flyTo(options) {
        this.map.flyTo({
            duration: 2000,
            ...options
        });
        return this;
    }
    
    fitBounds(bounds, options = {}) {
        this.map.fitBounds(bounds, {
            padding: 50,
            ...options
        });
        return this;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    getMap() {
        return this.map;
    }
    
    destroy() {
        this.map.remove();
        this.layers.clear();
        this.sources.clear();
        this.controls.clear();
        this.eventHandlers.clear();
        MapManager.instance = null;
    }
}

// Ø§Ø³ØªÙØ§Ø¯Ù‡
const mapManager = MapManager.getInstance({
    container: 'map',
    center: [51.3890, 35.6892],
    zoom: 12
});

await mapManager.initialize();

mapManager
    .addSource('cities', {
        type: 'geojson',
        data: citiesData
    })
    .addLayer({
        id: 'cities-layer',
        type: 'circle',
        source: 'cities',
        paint: {
            'circle-radius': 8,
            'circle-color': '#4264fb'
        }
    })
    .on('click', 'cities-layer', (e) => {
        console.log('Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø´Ù‡Ø±:', e.features[0]);
    });</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 15: Resources -->
        <section class="section" id="resources">
            <div class="section-header">
                <div class="section-icon">ğŸ“š</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ù¾Ø§Ù†Ø²Ø¯Ù‡Ù…</div>
                    <h2 class="section-title">Ù…Ù†Ø§Ø¨Ø¹ Ùˆ Ù…Ø±Ø§Ø¬Ø¹</h2>
                    <p class="section-subtitle">Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ØŒ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ùˆ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ù…ÙÛŒØ¯</p>
                </div>
            </div>

            <div class="resources-grid">
                <div class="resource-card">
                    <div class="resource-icon">ğŸ“–</div>
                    <h4>Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø±Ø³Ù…ÛŒ</h4>
                    <p>Ù…Ø³ØªÙ†Ø¯Ø§Øª Ú©Ø§Ù…Ù„ MapLibre GL JS</p>
                    <a href="https://maplibre.org/maplibre-gl-js/docs/" target="_blank">maplibre.org/docs</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">ğŸ’»</div>
                    <h4>GitHub</h4>
                    <p>Ú©Ø¯ Ù…Ù†Ø¨Ø¹ Ùˆ Ù…Ø´Ø§Ø±Ú©Øª</p>
                    <a href="https://github.com/maplibre/maplibre-gl-js" target="_blank">github.com/maplibre</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">ğŸ¨</div>
                    <h4>Maputnik</h4>
                    <p>ÙˆÛŒØ±Ø§ÛŒØ´Ú¯Ø± Ø¨ØµØ±ÛŒ Ø§Ø³ØªØ§ÛŒÙ„</p>
                    <a href="https://maputnik.github.io/" target="_blank">maputnik.github.io</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">ğŸ—ºï¸</div>
                    <h4>OpenMapTiles</h4>
                    <p>ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù†</p>
                    <a href="https://openmaptiles.org/" target="_blank">openmaptiles.org</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">ğŸ“</div>
                    <h4>Turf.js</h4>
                    <p>ØªØ­Ù„ÛŒÙ„ Ù…Ú©Ø§Ù†ÛŒ Ø¯Ø± Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª</p>
                    <a href="https://turfjs.org/" target="_blank">turfjs.org</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">ğŸ”</div>
                    <h4>Nominatim</h4>
                    <p>Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ú©Ø§Ù† Ø±Ø§ÛŒÚ¯Ø§Ù†</p>
                    <a href="https://nominatim.org/" target="_blank">nominatim.org</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">ğŸ›£ï¸</div>
                    <h4>OSRM</h4>
                    <p>Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù†</p>
                    <a href="https://project-osrm.org/" target="_blank">project-osrm.org</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">ğŸ“Š</div>
                    <h4>GeoJSON.io</h4>
                    <p>ÙˆÛŒØ±Ø§ÛŒØ´Ú¯Ø± GeoJSON</p>
                    <a href="https://geojson.io/" target="_blank">geojson.io</a>
                </div>
            </div>

            <h3>ğŸ“¦ Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <div class="code-lang-icon json">JSON</div>
                        <span>package.json</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-json">{
  "dependencies": {
    "maplibre-gl": "^3.6.2",
    "@turf/turf": "^6.5.0",
    "@mapbox/mapbox-gl-draw": "^1.4.3",
    "pmtiles": "^2.11.0",
    "three": "^0.160.0"
  },
  "devDependencies": {
    "vite": "^5.0.0",
    "typescript": "^5.3.0"
  }
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-logo">
                    <span class="logo-icon">ğŸ—ºï¸</span>
                    <span class="logo-text">MapLibre GL Tutorial</span>
                </div>
                <p>Ø¢Ù…ÙˆØ²Ø´ Ø¬Ø§Ù…Ø¹ MapLibre GL JS</p>
                <p>ØªÙ‡ÛŒÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù…Ø¹Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø§ÛŒØ±Ø§Ù†</p>
                <div class="footer-links">
                    <a href="https://maplibre.org" target="_blank">MapLibre</a>
                    <a href="https://github.com/maplibre" target="_blank">GitHub</a>
                </div>
                <p class="copyright">Â© 2025 - ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª</p>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/markdown.min.js"></script>
    
    <script>
        // Initialize syntax highlighting
        document.addEventListener('DOMContentLoaded', () => {
            hljs.highlightAll();
        });

        // Copy code function
        function copyCode(button) {
            const codeBlock = button.closest('.code-block');
            const code = codeBlock.querySelector('code').textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.innerHTML;
                button.innerHTML = '<span>âœ…</span> Ú©Ù¾ÛŒ Ø´Ø¯!';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('Ø®Ø·Ø§ Ø¯Ø± Ú©Ù¾ÛŒ:', err);
            });
        }

        // Smooth scroll for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add scroll progress indicator
        window.addEventListener('scroll', () => {
            const scrollTop = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrollTop / docHeight) * 100;
            
            document.documentElement.style.setProperty('--scroll-progress', `${progress}%`);
        });

        // Intersection Observer for animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, {
            threshold: 0.1
        });

        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>
