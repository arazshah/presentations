<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¢Ù…ÙˆØ²Ø´ Ø¬Ø§Ù…Ø¹ Deck.gl Ø¨Ø§ Ù…Ø­ÙˆØ±ÛŒØª AI - ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ø¯Ø± Ù…Ù‚ÛŒØ§Ø³ Ø¨Ø²Ø±Ú¯</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Highlight.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #818cf8;
            --secondary: #06b6d4;
            --accent: #f59e0b;
            --ai-gradient: linear-gradient(135deg, #6366f1, #06b6d4, #10b981);
            --background: #0a0a0f;
            --surface: #12121a;
            --surface-2: #1a1a25;
            --surface-3: #252532;
            --text: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border: #2d2d3d;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;
            
            --font-family: 'Vazirmatn', system-ui, -apple-system, sans-serif;
            --font-mono: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
            
            --radius-sm: 6px;
            --radius-md: 10px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.5);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.6);
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.7);
            --shadow-glow: 0 0 40px rgba(99, 102, 241, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background: var(--background);
            color: var(--text);
            line-height: 1.8;
            font-size: 16px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ANIMATED BACKGROUND
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
            overflow: hidden;
        }

        .bg-animation::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(6, 182, 212, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
            animation: bgRotate 60s linear infinite;
        }

        @keyframes bgRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HEADER
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .header {
            background: linear-gradient(180deg, var(--surface) 0%, transparent 100%);
            border-bottom: 1px solid var(--border);
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--ai-gradient);
        }

        .header-content {
            position: relative;
            z-index: 1;
            max-width: 1000px;
            margin: 0 auto;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .logo {
            font-size: 4rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .logo-ai {
            font-size: 2.5rem;
            background: var(--ai-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #fff, var(--primary-light), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .header-badges {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1.2rem;
            background: var(--surface-2);
            border: 1px solid var(--border);
            border-radius: 50px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            transition: all 0.3s;
        }

        .badge:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .badge.primary {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(6, 182, 212, 0.2));
            border-color: var(--primary);
            color: var(--primary-light);
        }

        .badge.ai {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(6, 182, 212, 0.2));
            border-color: var(--success);
            color: var(--success);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NAVIGATION
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .nav {
            background: rgba(18, 18, 26, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .nav-link {
            padding: 0.5rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--radius-md);
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            position: relative;
        }

        .nav-link:hover {
            background: var(--surface-2);
            color: var(--primary-light);
        }

        .nav-link.active {
            background: var(--primary);
            color: white;
        }

        .nav-link.ai-section::after {
            content: 'ğŸ¤–';
            font-size: 0.7rem;
            margin-right: 0.3rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MAIN CONTAINER
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SECTIONS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .section {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius-xl);
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }

        .section.ai-section {
            border-color: rgba(16, 185, 129, 0.3);
        }

        .section.ai-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--success), var(--secondary), var(--primary));
        }

        .section-header {
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--surface-2);
        }

        .section-icon {
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            flex-shrink: 0;
            box-shadow: var(--shadow-glow);
        }

        .section.ai-section .section-icon {
            background: linear-gradient(135deg, var(--success), var(--secondary));
        }

        .section-title-group {
            flex: 1;
        }

        .section-number {
            font-size: 0.85rem;
            color: var(--primary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.25rem;
        }

        .section.ai-section .section-number {
            color: var(--success);
        }

        .section-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.5rem;
        }

        .section-subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        .ai-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            background: linear-gradient(135deg, var(--success), var(--secondary));
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           TYPOGRAPHY
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        h3 {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text);
            margin: 2rem 0 1rem;
            padding-right: 1rem;
            border-right: 4px solid var(--primary);
        }

        .ai-section h3 {
            border-right-color: var(--success);
        }

        h4 {
            font-size: 1.15rem;
            font-weight: 600;
            color: var(--text);
            margin: 1.5rem 0 0.75rem;
        }

        p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.9;
        }

        strong {
            color: var(--primary-light);
            font-weight: 600;
        }

        .ai-section strong {
            color: var(--success);
        }

        a {
            color: var(--secondary);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--primary-light);
            text-decoration: underline;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CODE BLOCKS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .code-block {
            background: #0d1117;
            border-radius: var(--radius-lg);
            margin: 1.5rem 0;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .code-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 1rem;
            background: rgba(0, 0, 0, 0.4);
            border-bottom: 1px solid var(--border);
        }

        .code-lang {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .code-actions {
            display: flex;
            gap: 0.5rem;
        }

        .code-btn {
            background: var(--surface-2);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            padding: 0.35rem 0.75rem;
            border-radius: var(--radius-sm);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.35rem;
            font-family: var(--font-family);
        }

        .code-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .code-body {
            padding: 0;
            overflow-x: auto;
        }

        .code-body pre {
            margin: 0;
            padding: 1.25rem;
            background: transparent !important;
            direction: ltr;
            text-align: left;
        }

        .code-body code {
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.6;
            background: transparent !important;
        }

        /* Inline code */
        :not(pre) > code {
            background: var(--surface-2);
            color: var(--primary-light);
            padding: 0.2rem 0.5rem;
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: 0.9em;
            border: 1px solid var(--border);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           INFO BOXES
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .info-box {
            border-radius: var(--radius-lg);
            padding: 1.25rem 1.5rem;
            margin: 1.5rem 0;
            border-right: 4px solid;
        }

        .info-box.info {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--info);
        }

        .info-box.tip {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
        }

        .info-box.warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--warning);
        }

        .info-box.danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--error);
        }

        .info-box.ai {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(6, 182, 212, 0.1));
            border-color: var(--success);
            border-width: 4px;
        }

        .info-box-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .info-box.info .info-box-title { color: var(--info); }
        .info-box.tip .info-box-title { color: var(--success); }
        .info-box.warning .info-box-title { color: var(--warning); }
        .info-box.danger .info-box-title { color: var(--error); }
        .info-box.ai .info-box-title { color: var(--success); }

        .info-box-content {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .info-box-content ul,
        .info-box-content ol {
            margin: 0.5rem 0;
            padding-right: 1.5rem;
        }

        .info-box-content li {
            margin-bottom: 0.35rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LAYER CARDS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .layer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .layer-card {
            background: var(--surface-2);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .layer-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg), var(--shadow-glow);
        }

        .layer-card.ai-layer {
            border-color: rgba(16, 185, 129, 0.3);
        }

        .layer-card.ai-layer:hover {
            border-color: var(--success);
        }

        .layer-card.ai-layer::before {
            content: 'ğŸ¤– AI';
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            background: linear-gradient(135deg, var(--success), var(--secondary));
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 50px;
            font-size: 0.7rem;
            font-weight: 700;
        }

        .layer-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            margin-bottom: 1rem;
        }

        .layer-card.ai-layer .layer-icon {
            background: linear-gradient(135deg, var(--success), var(--secondary));
        }

        .layer-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.5rem;
        }

        .layer-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 1rem;
        }

        .layer-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .layer-tag {
            background: var(--surface-3);
            color: var(--text-muted);
            padding: 0.2rem 0.6rem;
            border-radius: 50px;
            font-size: 0.75rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ARCHITECTURE DIAGRAM
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .architecture-box {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(6, 182, 212, 0.05));
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin: 1.5rem 0;
            text-align: center;
        }

        .arch-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--primary-light);
            margin-bottom: 1.5rem;
        }

        .arch-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .arch-box {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            padding: 1rem 1.5rem;
            min-width: 120px;
            transition: all 0.3s;
        }

        .arch-box:hover {
            border-color: var(--primary);
            transform: scale(1.05);
        }

        .arch-box.data { border-color: var(--info); }
        .arch-box.ai { 
            border-color: var(--success); 
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(6, 182, 212, 0.1));
        }
        .arch-box.viz { border-color: var(--primary); }
        .arch-box.output { border-color: var(--accent); }

        .arch-box-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .arch-box-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text);
        }

        .arch-arrow {
            font-size: 1.5rem;
            color: var(--text-muted);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           COMPARISON TABLE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-size: 0.95rem;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 1rem;
            text-align: right;
            border: 1px solid var(--border);
        }

        .comparison-table th {
            background: var(--surface-2);
            font-weight: 700;
            color: var(--text);
        }

        .comparison-table td {
            background: var(--surface);
            color: var(--text-secondary);
        }

        .comparison-table tr:hover td {
            background: rgba(99, 102, 241, 0.05);
        }

        .comparison-table .check {
            color: var(--success);
            font-size: 1.2rem;
        }

        .comparison-table .cross {
            color: var(--error);
            font-size: 1.2rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           AI PIPELINE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .ai-pipeline {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .pipeline-step {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            background: var(--surface-2);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            position: relative;
        }

        .pipeline-step::before {
            content: '';
            position: absolute;
            right: 2.5rem;
            bottom: -1rem;
            width: 2px;
            height: 1rem;
            background: var(--border);
        }

        .pipeline-step:last-child::before {
            display: none;
        }

        .pipeline-number {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, var(--success), var(--secondary));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .pipeline-content {
            flex: 1;
        }

        .pipeline-title {
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.25rem;
        }

        .pipeline-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           USE CASE CARDS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .usecase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .usecase-card {
            background: var(--surface-2);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .usecase-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, var(--primary), transparent);
            opacity: 0.05;
            border-radius: 0 0 0 100%;
        }

        .usecase-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .usecase-title {
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.75rem;
        }

        .usecase-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.7;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FOOTER
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .footer {
            background: var(--surface);
            border-top: 1px solid var(--border);
            padding: 3rem 2rem;
            text-align: center;
            margin-top: 3rem;
        }

        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .footer-logo {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .footer-text {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: var(--text-muted);
            font-size: 0.9rem;
            transition: color 0.2s;
        }

        .footer-links a:hover {
            color: var(--primary-light);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SCROLL TO TOP
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .scroll-top {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            box-shadow: var(--shadow-lg);
            z-index: 99;
        }

        .scroll-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-top:hover {
            transform: translateY(-5px) scale(1.1);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .section {
                padding: 1.5rem;
            }

            .section-header {
                flex-direction: column;
                text-align: center;
            }

            .section-icon {
                margin: 0 auto;
            }

            .nav-content {
                gap: 0.25rem;
            }

            .nav-link {
                padding: 0.4rem 0.75rem;
                font-size: 0.8rem;
            }

            .layer-grid {
                grid-template-columns: 1fr;
            }

            .arch-flow {
                flex-direction: column;
            }

            .arch-arrow {
                transform: rotate(90deg);
            }

            h3 {
                font-size: 1.2rem;
            }

            .logo-container {
                flex-direction: column;
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           TABS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .tabs {
            margin: 1.5rem 0;
        }

        .tab-buttons {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 0.6rem 1.2rem;
            background: var(--surface-2);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            font-family: var(--font-family);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab-btn:hover {
            border-color: var(--primary);
            color: var(--primary-light);
        }

        .tab-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation"></div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-container">
                <span class="logo">ğŸ—ºï¸</span>
                <span class="logo-ai">+ AI</span>
            </div>
            <h1>Deck.gl + AI</h1>
            <p class="subtitle">
                ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ø¯Ø± Ù…Ù‚ÛŒØ§Ø³ Ø¨Ø²Ø±Ú¯ Ø¨Ø§ Ù‚Ø¯Ø±Øª Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
                <br>
                WebGL-powered Large-scale Geospatial Visualization
            </p>
            <div class="header-badges">
                <span class="badge primary">
                    <span>âš¡</span>
                    WebGL Accelerated
                </span>
                <span class="badge">
                    <span>ğŸ“Š</span>
                    Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ù†Ù‚Ø·Ù‡
                </span>
                <span class="badge ai">
                    <span>ğŸ¤–</span>
                    AI Integration
                </span>
                <span class="badge">
                    <span>âš›ï¸</span>
                    React Ready
                </span>
                <span class="badge">
                    <span>ğŸ”“</span>
                    Open Source
                </span>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <a href="#intro" class="nav-link active">Ù…Ø¹Ø±ÙÛŒ</a>
            <a href="#architecture" class="nav-link">Ù…Ø¹Ù…Ø§Ø±ÛŒ</a>
            <a href="#layers" class="nav-link">Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§</a>
            <a href="#setup" class="nav-link">Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ</a>
            <a href="#basic" class="nav-link">Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡</a>
            <a href="#ai-clustering" class="nav-link ai-section">Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ AI</a>
            <a href="#ai-prediction" class="nav-link ai-section">Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ AI</a>
            <a href="#ai-anomaly" class="nav-link ai-section">ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ</a>
            <a href="#ai-nlp" class="nav-link ai-section">NLP Ù…Ú©Ø§Ù†ÛŒ</a>
            <a href="#performance" class="nav-link">Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</a>
            <a href="#projects" class="nav-link">Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§</a>
        </div>
    </nav>

    <div class="container">
        <!-- Section 1: Introduction -->
        <section class="section" id="intro">
            <div class="section-header">
                <div class="section-icon">ğŸ“–</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø§ÙˆÙ„</div>
                    <h2 class="section-title">Ù…Ø¹Ø±ÙÛŒ Deck.gl</h2>
                    <p class="section-subtitle">ÙØ±ÛŒÙ…ÙˆØ±Ú© Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ</p>
                </div>
            </div>

            <h3>Deck.gl Ú†ÛŒØ³ØªØŸ</h3>
            <p>
                <strong>Deck.gl</strong> ÛŒÚ© ÙØ±ÛŒÙ…ÙˆØ±Ú© Ù…ØªÙ†â€ŒØ¨Ø§Ø² Ø¨Ø±Ø§ÛŒ ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ ØªÙˆØ³Ø· 
                <strong>Uber</strong> ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ùˆ Ø§Ú©Ù†ÙˆÙ† Ø¨Ø®Ø´ÛŒ Ø§Ø² <strong>vis.gl</strong> (OpenJS Foundation) Ø§Ø³Øª.
                Ø§ÛŒÙ† Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø§Ø² <strong>WebGL</strong> Ø¨Ø±Ø§ÛŒ Ø±Ù†Ø¯Ø± Ø³Ø±ÛŒØ¹ Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ù†Ù‚Ø·Ù‡ Ø¯Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
            </p>

            <div class="info-box ai">
                <div class="info-box-title">
                    <span>ğŸ¤–</span>
                    Ú†Ø±Ø§ Deck.gl + AIØŸ
                </div>
                <div class="info-box-content">
                    ØªØ±Ú©ÛŒØ¨ Deck.gl Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø¨ÛŒâ€ŒÙ†Ø¸ÛŒØ±ÛŒ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯:
                    <ul>
                        <li><strong>Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯:</strong> K-MeansØŒ DBSCANØŒ HDBSCAN Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù†Ù‚Ø§Ø·</li>
                        <li><strong>Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù…Ú©Ø§Ù†ÛŒ:</strong> Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªØ±Ø§ÙÛŒÚ©ØŒ ØªÙ‚Ø§Ø¶Ø§ØŒ Ùˆ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø­Ø±Ú©Øª</li>
                        <li><strong>ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ:</strong> Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ Ø¯Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ GPS</li>
                        <li><strong>NLP Ù…Ú©Ø§Ù†ÛŒ:</strong> Ø¬Ø³ØªØ¬ÙˆÛŒ Ø²Ø¨Ø§Ù† Ø·Ø¨ÛŒØ¹ÛŒ Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡</li>
                    </ul>
                </div>
            </div>

            <h3>ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ</h3>
            <div class="layer-grid">
                <div class="layer-card">
                    <div class="layer-icon">âš¡</div>
                    <div class="layer-title">Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§Ù„Ø§</div>
                    <div class="layer-desc">
                        Ø±Ù†Ø¯Ø± Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ù†Ù‚Ø·Ù‡ Ø¨Ø§ 60 FPS Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² 
                        GPU Ùˆ WebGL2
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">WebGL2</span>
                        <span class="layer-tag">GPU</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ¨</div>
                    <div class="layer-title">Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†ÙˆØ¹</div>
                    <div class="layer-desc">
                        Ø¨ÛŒØ´ Ø§Ø² 30 Ù†ÙˆØ¹ Ù„Ø§ÛŒÙ‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ù†ÙˆØ§Ø¹ 
                        ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">ScatterplotLayer</span>
                        <span class="layer-tag">HexagonLayer</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">âš›ï¸</div>
                    <div class="layer-title">React Integration</div>
                    <div class="layer-desc">
                        ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø§ React Ùˆ 
                        Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Pure JavaScript
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">React</span>
                        <span class="layer-tag">Vanilla JS</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ—ºï¸</div>
                    <div class="layer-title">Basemap Agnostic</div>
                    <div class="layer-desc">
                        Ú©Ø§Ø± Ø¨Ø§ MapLibreØŒ MapboxØŒ Google Maps 
                        Ùˆ Ø³Ø§ÛŒØ± Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø§ÛŒÙ‡
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">MapLibre</span>
                        <span class="layer-tag">Mapbox</span>
                    </div>
                </div>

                <div class="layer-card ai-layer">
                    <div class="layer-icon">ğŸ§ </div>
                    <div class="layer-title">AI Ready</div>
                    <div class="layer-desc">
                        Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ 
                        ML Ùˆ Ù¾Ø±Ø¯Ø§Ø²Ø´ Real-time
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">TensorFlow.js</span>
                        <span class="layer-tag">ML</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ“±</div>
                    <div class="layer-title">Cross-Platform</div>
                    <div class="layer-desc">
                        Ø§Ø¬Ø±Ø§ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø±ØŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ùˆ 
                        Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ø¯Ø³Ú©ØªØ§Ù¾
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Web</span>
                        <span class="layer-tag">Mobile</span>
                    </div>
                </div>
            </div>

            <h3>Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ Ø³Ø§ÛŒØ± Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ÙˆÛŒÚ˜Ú¯ÛŒ</th>
                        <th>Deck.gl</th>
                        <th>Leaflet</th>
                        <th>OpenLayers</th>
                        <th>Mapbox GL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ø±Ù†Ø¯Ø± WebGL</td>
                        <td><span class="check">âœ“</span></td>
                        <td><span class="cross">âœ—</span></td>
                        <td><span class="check">âœ“</span></td>
                        <td><span class="check">âœ“</span></td>
                    </tr>
                    <tr>
                        <td>Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ù†Ù‚Ø·Ù‡</td>
                        <td><span class="check">âœ“</span></td>
                        <td><span class="cross">âœ—</span></td>
                        <td>Ù…Ø­Ø¯ÙˆØ¯</td>
                        <td>Ù…Ø­Ø¯ÙˆØ¯</td>
                    </tr>
                    <tr>
                        <td>3D Visualization</td>
                        <td><span class="check">âœ“</span></td>
                        <td><span class="cross">âœ—</span></td>
                        <td>Ù…Ø­Ø¯ÙˆØ¯</td>
                        <td><span class="check">âœ“</span></td>
                    </tr>
                    <tr>
                        <td>React Native</td>
                        <td><span class="check">âœ“</span></td>
                        <td><span class="cross">âœ—</span></td>
                        <td><span class="cross">âœ—</span></td>
                        <td><span class="check">âœ“</span></td>
                    </tr>
                    <tr>
                        <td>Custom Shaders</td>
                        <td><span class="check">âœ“</span></td>
                        <td><span class="cross">âœ—</span></td>
                        <td><span class="cross">âœ—</span></td>
                        <td>Ù…Ø­Ø¯ÙˆØ¯</td>
                    </tr>
                    <tr>
                        <td>Open Source</td>
                        <td><span class="check">âœ“</span></td>
                        <td><span class="check">âœ“</span></td>
                        <td><span class="check">âœ“</span></td>
                        <td>Ù…Ø­Ø¯ÙˆØ¯</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section 2: Architecture -->
        <section class="section" id="architecture">
            <div class="section-header">
                <div class="section-icon">ğŸ—ï¸</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø¯ÙˆÙ…</div>
                    <h2 class="section-title">Ù…Ø¹Ù…Ø§Ø±ÛŒ Deck.gl</h2>
                    <p class="section-subtitle">Ù†Ø­ÙˆÙ‡ Ú©Ø§Ø± Ùˆ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§Ø®Ù„ÛŒ</p>
                </div>
            </div>

            <h3>Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ù„ÛŒ</h3>
            <div class="architecture-box">
                <div class="arch-title">ğŸ”„ Pipeline ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù† Deck.gl</div>
                <div class="arch-flow">
                    <div class="arch-box data">
                        <div class="arch-box-icon">ğŸ“Š</div>
                        <div class="arch-box-label">Data Source</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box">
                        <div class="arch-box-icon">âš™ï¸</div>
                        <div class="arch-box-label">Data Accessor</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box viz">
                        <div class="arch-box-icon">ğŸ¨</div>
                        <div class="arch-box-label">Layer</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box">
                        <div class="arch-box-icon">ğŸ–¥ï¸</div>
                        <div class="arch-box-label">WebGL</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box output">
                        <div class="arch-box-icon">ğŸ—ºï¸</div>
                        <div class="arch-box-label">Canvas</div>
                    </div>
                </div>
            </div>

            <h3>Ù…Ø¹Ù…Ø§Ø±ÛŒ AI-Enhanced</h3>
            <div class="architecture-box">
                <div class="arch-title">ğŸ¤– Pipeline Ø¨Ø§ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ AI</div>
                <div class="arch-flow">
                    <div class="arch-box data">
                        <div class="arch-box-icon">ğŸ“Š</div>
                        <div class="arch-box-label">Raw Data</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box ai">
                        <div class="arch-box-icon">ğŸ§ </div>
                        <div class="arch-box-label">AI Model</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box">
                        <div class="arch-box-icon">ğŸ“ˆ</div>
                        <div class="arch-box-label">Enriched Data</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box viz">
                        <div class="arch-box-icon">ğŸ¨</div>
                        <div class="arch-box-label">Deck.gl</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box output">
                        <div class="arch-box-icon">ğŸ—ºï¸</div>
                        <div class="arch-box-label">Smart Map</div>
                    </div>
                </div>
            </div>

            <h3>Ø§Ø¬Ø²Ø§ÛŒ Ø§ØµÙ„ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ“</span>
                        <span>Core Components</span>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">// Ø³Ø§Ø®ØªØ§Ø± Ø§ØµÙ„ÛŒ Deck.gl

import { Deck } from '@deck.gl/core';
import { ScatterplotLayer } from '@deck.gl/layers';

// 1. Deck Instance - Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù„ÛŒ
const deck = new Deck({
    initialViewState: {
        longitude: 51.3890,
        latitude: 35.6892,
        zoom: 10,
        pitch: 45,
        bearing: 0
    },
    controller: true,  // ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ ØªØ¹Ø§Ù…Ù„ Ú©Ø§Ø±Ø¨Ø±
    layers: []         // Ø¢Ø±Ø§ÛŒÙ‡ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
});

// 2. Layer - ÙˆØ§Ø­Ø¯ ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù†
const layer = new ScatterplotLayer({
    id: 'scatter-layer',
    data: points,
    
    // Accessors - Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡
    getPosition: d => [d.lng, d.lat],
    getRadius: d => d.size,
    getFillColor: d => d.color,
    
    // Properties
    radiusScale: 10,
    pickable: true,
    
    // Callbacks
    onClick: info => console.log(info)
});

// 3. View - Ù†Ù…Ø§ÛŒ Ù†Ù‚Ø´Ù‡
import { MapView, OrbitView, FirstPersonView } from '@deck.gl/core';

const views = [
    new MapView({ id: 'map' }),           // Ù†Ù…Ø§ÛŒ Ù†Ù‚Ø´Ù‡ 2D/3D
    new OrbitView({ id: 'orbit' }),       // Ù†Ù…Ø§ÛŒ Ú†Ø±Ø®Ø´ÛŒ
    new FirstPersonView({ id: 'fp' })     // Ù†Ù…Ø§ÛŒ Ø§ÙˆÙ„ Ø´Ø®Øµ
];</code></pre>
                </div>
            </div>

            <h3>Data Flow</h3>
            <div class="info-box info">
                <div class="info-box-title">
                    <span>ğŸ“Š</span>
                    Ø¬Ø±ÛŒØ§Ù† Ø¯Ø§Ø¯Ù‡ Ø¯Ø± Deck.gl
                </div>
                <div class="info-box-content">
                    <ol>
                        <li><strong>Data Loading:</strong> Ø¯Ø§Ø¯Ù‡ Ø§Ø² APIØŒ ÙØ§ÛŒÙ„ ÛŒØ§ WebSocket Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒØ´ÙˆØ¯</li>
                        <li><strong>Data Processing:</strong> Ù¾Ø±Ø¯Ø§Ø²Ø´ Ùˆ ØªØ¨Ø¯ÛŒÙ„ Ø¨Ø§ Accessors</li>
                        <li><strong>Attribute Generation:</strong> ØªÙˆÙ„ÛŒØ¯ attributes Ø¨Ø±Ø§ÛŒ GPU</li>
                        <li><strong>GPU Upload:</strong> Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø­Ø§ÙØ¸Ù‡ GPU</li>
                        <li><strong>Shader Execution:</strong> Ø§Ø¬Ø±Ø§ÛŒ vertex Ùˆ fragment shaders</li>
                        <li><strong>Rendering:</strong> Ø±Ù†Ø¯Ø± Ù†Ù‡Ø§ÛŒÛŒ Ø±ÙˆÛŒ Canvas</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Section 3: Layers -->
        <section class="section" id="layers">
            <div class="section-header">
                <div class="section-icon">ğŸ¨</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø³ÙˆÙ…</div>
                    <h2 class="section-title">Ø§Ù†ÙˆØ§Ø¹ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§</h2>
                    <p class="section-subtitle">Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Deck.gl</p>
                </div>
            </div>

            <h3>Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø§ÛŒÙ‡ (Core Layers)</h3>
            <div class="layer-grid">
                <div class="layer-card">
                    <div class="layer-icon">âš«</div>
                    <div class="layer-title">ScatterplotLayer</div>
                    <div class="layer-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ù†Ù‚Ø§Ø· Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø§ÛŒØ±Ù‡. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ 
                        Ù†Ù‚Ø§Ø· POIØŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ùˆ...
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Points</span>
                        <span class="layer-tag">2D/3D</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ“</div>
                    <div class="layer-title">IconLayer</div>
                    <div class="layer-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ 
                        Ù…Ø§Ø±Ú©Ø±Ù‡Ø§ Ùˆ Ù†Ø´Ø§Ù†Ú¯Ø±Ù‡Ø§
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Icons</span>
                        <span class="layer-tag">Markers</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ“</div>
                    <div class="layer-title">TextLayer</div>
                    <div class="layer-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ù…ØªÙ† Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ 
                        Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ Ùˆ Ù†Ø§Ù…â€ŒÙ‡Ø§
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Labels</span>
                        <span class="layer-tag">Text</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">â–</div>
                    <div class="layer-title">LineLayer</div>
                    <div class="layer-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ø®Ø·ÙˆØ· Ø³Ø§Ø¯Ù‡. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ 
                        Ø§ØªØµØ§Ù„Ø§Øª Ùˆ Ù…Ø³ÛŒØ±Ù‡Ø§
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Lines</span>
                        <span class="layer-tag">Connections</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ”—</div>
                    <div class="layer-title">ArcLayer</div>
                    <div class="layer-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ú©Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ 3D Ø¨ÛŒÙ† Ù†Ù‚Ø§Ø·. Ù…Ù†Ø§Ø³Ø¨ 
                        Ø¨Ø±Ø§ÛŒ Ø¬Ø±ÛŒØ§Ù†â€ŒÙ‡Ø§ Ùˆ Ù…Ù‡Ø§Ø¬Ø±Øª
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Arcs</span>
                        <span class="layer-tag">Flow</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ“</div>
                    <div class="layer-title">PathLayer</div>
                    <div class="layer-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ 
                        Ù…Ø³ÛŒØ± Ø­Ø±Ú©Øª Ùˆ GPS tracks
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Paths</span>
                        <span class="layer-tag">Routes</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ”·</div>
                    <div class="layer-title">PolygonLayer</div>
                    <div class="layer-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ú†Ù†Ø¯Ø¶Ù„Ø¹ÛŒâ€ŒÙ‡Ø§. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ 
                        Ù…Ù†Ø§Ø·Ù‚ Ùˆ Ù…Ø­Ø¯ÙˆØ¯Ù‡â€ŒÙ‡Ø§
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Polygons</span>
                        <span class="layer-tag">Areas</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸŒ</div>
                    <div class="layer-title">GeoJsonLayer</div>
                    <div class="layer-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ GeoJSON. Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ 
                        Ø§Ø² Ù‡Ù…Ù‡ Ø§Ù†ÙˆØ§Ø¹ geometry
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">GeoJSON</span>
                        <span class="layer-tag">Multi-type</span>
                    </div>
                </div>
            </div>

            <h3>Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ ØªØ¬Ù…ÛŒØ¹ÛŒ (Aggregation Layers)</h3>
            <div class="layer-grid">
                <div class="layer-card ai-layer">
                    <div class="layer-icon">â¬¡</div>
                    <div class="layer-title">HexagonLayer</div>
                    <div class="layer-desc">
                        ØªØ¬Ù…ÛŒØ¹ Ù†Ù‚Ø§Ø· Ø¯Ø± Ø³Ù„ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ø´Ø´â€ŒØ¶Ù„Ø¹ÛŒ 3D. 
                        Ø¹Ø§Ù„ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ ØªØ±Ø§Ú©Ù…
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Aggregation</span>
                        <span class="layer-tag">3D</span>
                    </div>
                </div>

                <div class="layer-card ai-layer">
                    <div class="layer-icon">ğŸ”¥</div>
                    <div class="layer-title">HeatmapLayer</div>
                    <div class="layer-desc">
                        Ù†Ù‚Ø´Ù‡ Ø­Ø±Ø§Ø±ØªÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ØªØ±Ø§Ú©Ù…. 
                        Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ hotspot analysis
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Density</span>
                        <span class="layer-tag">Heatmap</span>
                    </div>
                </div>

                <div class="layer-card ai-layer">
                    <div class="layer-icon">ğŸ“Š</div>
                    <div class="layer-title">GridLayer</div>
                    <div class="layer-desc">
                        ØªØ¬Ù…ÛŒØ¹ Ø¯Ø± Ø´Ø¨Ú©Ù‡ Ù…Ø±Ø¨Ø¹ÛŒ. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ 
                        ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø±ÛŒ
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Grid</span>
                        <span class="layer-tag">Statistics</span>
                    </div>
                </div>

                <div class="layer-card ai-layer">
                    <div class="layer-icon">ğŸ¯</div>
                    <div class="layer-title">ContourLayer</div>
                    <div class="layer-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ø®Ø·ÙˆØ· ØªØ±Ø§Ø². Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ 
                        isochrone Ùˆ density contours
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Contours</span>
                        <span class="layer-tag">Isochrone</span>
                    </div>
                </div>
            </div>

            <h3>Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ 3D Ùˆ Geo</h3>
            <div class="layer-grid">
                <div class="layer-card">
                    <div class="layer-icon">ğŸ¢</div>
                    <div class="layer-title">ColumnLayer</div>
                    <div class="layer-desc">
                        Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ 3D Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù…Ù‚Ø§Ø¯ÛŒØ±. 
                        Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ bar charts Ù…Ú©Ø§Ù†ÛŒ
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">3D Bars</span>
                        <span class="layer-tag">Values</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ—ï¸</div>
                    <div class="layer-title">SolidPolygonLayer</div>
                    <div class="layer-desc">
                        Ú†Ù†Ø¯Ø¶Ù„Ø¹ÛŒâ€ŒÙ‡Ø§ÛŒ 3D Ø¨Ø§ Ø§Ø±ØªÙØ§Ø¹. Ù…Ù†Ø§Ø³Ø¨ 
                        Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§ Ùˆ extrusion
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">3D Buildings</span>
                        <span class="layer-tag">Extrusion</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸŒ</div>
                    <div class="layer-title">TileLayer</div>
                    <div class="layer-desc">
                        Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù†Ù‚Ø´Ù‡. Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² 
                        MVTØŒ raster Ùˆ vector tiles
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Tiles</span>
                        <span class="layer-tag">MVT</span>
                    </div>
                </div>

                <div class="layer-card">
                    <div class="layer-icon">ğŸ­</div>
                    <div class="layer-title">TripsLayer</div>
                    <div class="layer-desc">
                        Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø­Ø±Ú©Øª Ø¯Ø± Ù…Ø³ÛŒØ±. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ 
                        Ù†Ù…Ø§ÛŒØ´ Ø³ÙØ±Ù‡Ø§ Ùˆ Ø­Ø±Ú©Øª ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡
                    </div>
                    <div class="layer-tags">
                        <span class="layer-tag">Animation</span>
                        <span class="layer-tag">Trips</span>
                    </div>
                </div>
            </div>

            <h3>Ù…Ø«Ø§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>LayerExamples.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React from 'react';
import DeckGL from '@deck.gl/react';
import {
    ScatterplotLayer,
    ArcLayer,
    HexagonLayer,
    PathLayer,
    IconLayer,
    TextLayer
} from '@deck.gl/layers';
import { Map } from 'react-map-gl/maplibre';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const cities = [
    { name: 'ØªÙ‡Ø±Ø§Ù†', coordinates: [51.3890, 35.6892], population: 8693706 },
    { name: 'Ù…Ø´Ù‡Ø¯', coordinates: [59.5794, 36.2605], population: 3001184 },
    { name: 'Ø§ØµÙÙ‡Ø§Ù†', coordinates: [51.6546, 32.6546], population: 1961260 },
    { name: 'Ø´ÛŒØ±Ø§Ø²', coordinates: [52.5311, 29.5918], population: 1565572 },
    { name: 'ØªØ¨Ø±ÛŒØ²', coordinates: [46.2919, 38.0962], population: 1558693 }
];

const trips = [
    { origin: [51.3890, 35.6892], destination: [59.5794, 36.2605], count: 1500 },
    { origin: [51.3890, 35.6892], destination: [51.6546, 32.6546], count: 2300 },
    { origin: [51.3890, 35.6892], destination: [52.5311, 29.5918], count: 1200 }
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù†Ù…Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const INITIAL_VIEW_STATE = {
    longitude: 53.6880,
    latitude: 32.4279,
    zoom: 5,
    pitch: 45,
    bearing: 0
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø§ØµÙ„ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export default function LayerExamples() {
    
    const layers = [
        // 1. ScatterplotLayer - Ù†Ù‚Ø§Ø· Ø´Ù‡Ø±Ù‡Ø§
        new ScatterplotLayer({
            id: 'cities-scatter',
            data: cities,
            getPosition: d => d.coordinates,
            getRadius: d => Math.sqrt(d.population) * 10,
            getFillColor: [99, 102, 241, 200],
            getLineColor: [255, 255, 255],
            lineWidthMinPixels: 2,
            pickable: true,
            stroked: true
        }),
        
        // 2. TextLayer - Ù†Ø§Ù… Ø´Ù‡Ø±Ù‡Ø§
        new TextLayer({
            id: 'cities-text',
            data: cities,
            getPosition: d => d.coordinates,
            getText: d => d.name,
            getSize: 16,
            getColor: [255, 255, 255],
            getAngle: 0,
            getTextAnchor: 'middle',
            getAlignmentBaseline: 'bottom',
            getPixelOffset: [0, -20]
        }),
        
        // 3. ArcLayer - Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø³ÙØ±
        new ArcLayer({
            id: 'trips-arc',
            data: trips,
            getSourcePosition: d => d.origin,
            getTargetPosition: d => d.destination,
            getSourceColor: [99, 102, 241],
            getTargetColor: [16, 185, 129],
            getWidth: d => Math.sqrt(d.count) / 5,
            pickable: true
        }),
        
        // 4. HexagonLayer - ØªØ±Ø§Ú©Ù… (Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø§Ø· Ø²ÛŒØ§Ø¯)
        new HexagonLayer({
            id: 'hexagon-layer',
            data: generateRandomPoints(10000), // ØªØ§Ø¨Ø¹ ØªÙˆÙ„ÛŒØ¯ Ù†Ù‚Ø§Ø· ØªØµØ§Ø¯ÙÛŒ
            getPosition: d => d.coordinates,
            radius: 20000,
            elevationScale: 100,
            extruded: true,
            colorRange: [
                [1, 152, 189],
                [73, 227, 206],
                [216, 254, 181],
                [254, 237, 177],
                [254, 173, 84],
                [209, 55, 78]
            ]
        })
    ];
    
    return (
        <DeckGL
            initialViewState={INITIAL_VIEW_STATE}
            controller={true}
            layers={layers}
            getTooltip={({ object }) => object && {
                html: `<div style="direction:rtl">
                    <strong>${object.name || 'Ù†Ù‚Ø·Ù‡'}</strong>
                    ${object.population ? `<br>Ø¬Ù…Ø¹ÛŒØª: ${object.population.toLocaleString('fa-IR')}` : ''}
                </div>`,
                style: {
                    backgroundColor: '#1e293b',
                    color: 'white',
                    padding: '8px 12px',
                    borderRadius: '8px',
                    fontFamily: 'Vazirmatn'
                }
            }}
        >
            <Map
                mapStyle="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json"
            />
        </DeckGL>
    );
}

// ØªØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ Ø¨Ø±Ø§ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù†Ù‚Ø§Ø· ØªØµØ§Ø¯ÙÛŒ
function generateRandomPoints(count) {
    const points = [];
    for (let i = 0; i < count; i++) {
        points.push({
            coordinates: [
                44 + Math.random() * 20,  // longitude: 44-64
                25 + Math.random() * 15   // latitude: 25-40
            ],
            value: Math.random() * 100
        });
    }
    return points;
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 4: Setup -->
        <section class="section" id="setup">
            <div class="section-header">
                <div class="section-icon">âš™ï¸</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ú†Ù‡Ø§Ø±Ù…</div>
                    <h2 class="section-title">Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡</h2>
                    <p class="section-subtitle">Ù†ØµØ¨ Ùˆ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Deck.gl</p>
                </div>
            </div>

            <h3>Ù†ØµØ¨ Ø¨Ø§ npm/yarn</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ’»</span>
                        <span>Terminal</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-bash"># Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ React Ø¬Ø¯ÛŒØ¯
npm create vite@latest my-deckgl-app -- --template react
cd my-deckgl-app

# Ù†ØµØ¨ Deck.gl Ùˆ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
npm install deck.gl @deck.gl/core @deck.gl/layers @deck.gl/react

# Ù†ØµØ¨ MapLibre Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø´Ù‡ Ù¾Ø§ÛŒÙ‡
npm install react-map-gl maplibre-gl

# Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ AI (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
npm install @tensorflow/tfjs ml-kmeans dbscan

# Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù…Ú©ÛŒ
npm install d3-scale d3-color turf

# Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
npm run dev</code></pre>
                </div>
            </div>

            <h3>Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ“</span>
                        <span>Project Structure</span>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-bash">my-deckgl-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Map/
â”‚   â”‚   â”‚   â”œâ”€â”€ DeckMap.jsx         # Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø§ØµÙ„ÛŒ Ù†Ù‚Ø´Ù‡
â”‚   â”‚   â”‚   â”œâ”€â”€ MapControls.jsx     # Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ù†Ù‚Ø´Ù‡
â”‚   â”‚   â”‚   â””â”€â”€ Tooltip.jsx         # tooltip Ø³ÙØ§Ø±Ø´ÛŒ
â”‚   â”‚   â””â”€â”€ UI/
â”‚   â”‚       â”œâ”€â”€ Sidebar.jsx
â”‚   â”‚       â””â”€â”€ Legend.jsx
â”‚   â”œâ”€â”€ layers/
â”‚   â”‚   â”œâ”€â”€ ScatterLayer.js         # Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ÛŒ
â”‚   â”‚   â”œâ”€â”€ ClusterLayer.js
â”‚   â”‚   â””â”€â”€ AILayers.js             # Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ AI
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”œâ”€â”€ clustering.js           # Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
â”‚   â”‚   â”œâ”€â”€ prediction.js           # Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ
â”‚   â”‚   â”œâ”€â”€ anomaly.js              # ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ
â”‚   â”‚   â””â”€â”€ nlp.js                  # Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø²Ø¨Ø§Ù† Ø·Ø¨ÛŒØ¹ÛŒ
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useData.js              # Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡
â”‚   â”‚   â”œâ”€â”€ useLayers.js            # Ù…Ø¯ÛŒØ±ÛŒØª Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
â”‚   â”‚   â””â”€â”€ useAI.js                # hooks Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ AI
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ dataProcessing.js
â”‚   â”‚   â”œâ”€â”€ colorScales.js
â”‚   â”‚   â””â”€â”€ geoUtils.js
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ sample.json
â”‚   â”œâ”€â”€ App.jsx
â”‚   â””â”€â”€ main.jsx
â”œâ”€â”€ public/
â”‚   â””â”€â”€ icons/
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.js</code></pre>
                </div>
            </div>

            <h3>Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø§ÙˆÙ„ÛŒÙ‡</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>App.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState, useCallback } from 'react';
import DeckGL from '@deck.gl/react';
import { Map } from 'react-map-gl/maplibre';
import { ScatterplotLayer } from '@deck.gl/layers';

// Ø§Ø³ØªØ§ÛŒÙ„ Ù†Ù‚Ø´Ù‡
const MAP_STYLE = 'https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json';

// ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ÙˆÙ„ÛŒÙ‡ Ù†Ù…Ø§ÛŒ Ù†Ù‚Ø´Ù‡
const INITIAL_VIEW_STATE = {
    longitude: 51.3890,
    latitude: 35.6892,
    zoom: 11,
    pitch: 45,
    bearing: 0
};

function App() {
    const [viewState, setViewState] = useState(INITIAL_VIEW_STATE);
    const [data, setData] = useState([]);
    
    // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡
    React.useEffect(() => {
        fetch('/api/data')
            .then(res => res.json())
            .then(setData)
            .catch(console.error);
    }, []);
    
    // ØªØ¹Ø±ÛŒÙ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
    const layers = [
        new ScatterplotLayer({
            id: 'main-layer',
            data,
            getPosition: d => [d.longitude, d.latitude],
            getRadius: d => d.value * 10,
            getFillColor: d => {
                // Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ù‚Ø¯Ø§Ø±
                const intensity = d.value / 100;
                return [
                    99 + intensity * 156,   // R
                    102 - intensity * 50,   // G
                    241 - intensity * 100,  // B
                    200                     // A
                ];
            },
            pickable: true,
            radiusMinPixels: 3,
            radiusMaxPixels: 100
        })
    ];
    
    // Ù…Ø¯ÛŒØ±ÛŒØª ØªØºÛŒÛŒØ± Ù†Ù…Ø§
    const onViewStateChange = useCallback(({ viewState }) => {
        setViewState(viewState);
    }, []);
    
    // Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù„ÛŒÚ©
    const onClick = useCallback((info) => {
        if (info.object) {
            console.log('Clicked:', info.object);
        }
    }, []);
    
    // ØªÙˆÙ„ÛŒØ¯ tooltip
    const getTooltip = useCallback(({ object }) => {
        if (!object) return null;
        
        return {
            html: `
                <div style="direction: rtl; font-family: Vazirmatn;">
                    <strong>${object.name || 'Ù†Ù‚Ø·Ù‡'}</strong><br/>
                    Ù…Ù‚Ø¯Ø§Ø±: ${object.value}
                </div>
            `,
            style: {
                backgroundColor: '#1e293b',
                color: 'white',
                padding: '10px 15px',
                borderRadius: '8px',
                boxShadow: '0 4px 12px rgba(0,0,0,0.3)'
            }
        };
    }, []);
    
    return (
        <div style={{ width: '100vw', height: '100vh' }}>
            <DeckGL
                viewState={viewState}
                onViewStateChange={onViewStateChange}
                controller={true}
                layers={layers}
                onClick={onClick}
                getTooltip={getTooltip}
            >
                <Map
                    mapStyle={MAP_STYLE}
                    attributionControl={false}
                />
            </DeckGL>
            
            {/* Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ UI */}
            <div style={{
                position: 'absolute',
                top: 20,
                right: 20,
                background: 'rgba(30, 41, 59, 0.9)',
                padding: '15px',
                borderRadius: '10px',
                color: 'white',
                fontFamily: 'Vazirmatn'
            }}>
                <h3>ğŸ—ºï¸ Deck.gl Demo</h3>
                <p>ØªØ¹Ø¯Ø§Ø¯ Ù†Ù‚Ø§Ø·: {data.length}</p>
            </div>
        </div>
    );
}

export default App;</code></pre>
                </div>
            </div>

            <h3>Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Vite</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš™ï¸</span>
                        <span>vite.config.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
    plugins: [react()],
    
    // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø±Ø§ÛŒ TensorFlow.js
    optimizeDeps: {
        exclude: ['@tensorflow/tfjs']
    },
    
    // ØªÙ†Ø¸ÛŒÙ…Ø§Øª build
    build: {
        target: 'esnext',
        rollupOptions: {
            output: {
                manualChunks: {
                    'deck': ['@deck.gl/core', '@deck.gl/layers', '@deck.gl/react'],
                    'maplibre': ['maplibre-gl', 'react-map-gl'],
                    'ai': ['@tensorflow/tfjs', 'ml-kmeans']
                }
            }
        }
    },
    
    // Ù¾Ø±Ø§Ú©Ø³ÛŒ Ø¨Ø±Ø§ÛŒ API
    server: {
        proxy: {
            '/api': {
                target: 'http://localhost:8000',
                changeOrigin: true
            }
        }
    }
});</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 5: Basic Concepts -->
        <section class="section" id="basic">
            <div class="section-header">
                <div class="section-icon">ğŸ“š</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ù¾Ù†Ø¬Ù…</div>
                    <h2 class="section-title">Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡</h2>
                    <p class="section-subtitle">AccessorsØŒ Props Ùˆ Interactions</p>
                </div>
            </div>

            <h3>Accessors - Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡</h3>
            <p>
                <strong>Accessors</strong> ØªÙˆØ§Ø¨Ø¹ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§Ø² Ø¯Ø§Ø¯Ù‡ Ø±Ø§ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.
                Ù†Ø§Ù… Ø¢Ù†â€ŒÙ‡Ø§ Ø¨Ø§ <code>get</code> Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
            </p>
            
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>accessors.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import { ScatterplotLayer } from '@deck.gl/layers';

// Ø¯Ø§Ø¯Ù‡ Ø¨Ø§ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ù„Ø®ÙˆØ§Ù‡
const data = [
    { lat: 35.6892, lng: 51.3890, population: 8693706, name: 'ØªÙ‡Ø±Ø§Ù†' },
    { lat: 32.6546, lng: 51.6546, population: 1961260, name: 'Ø§ØµÙÙ‡Ø§Ù†' },
    { lat: 29.6257, lng: 52.5311, population: 1565572, name: 'Ø´ÛŒØ±Ø§Ø²' }
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Accessors Ø³Ø§Ø¯Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const layer = new ScatterplotLayer({
    id: 'cities',
    data,
    
    // Ù…ÙˆÙ‚Ø¹ÛŒØª - Ø¨Ø§ÛŒØ¯ [lng, lat] Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯
    getPosition: d => [d.lng, d.lat],
    
    // Ø´Ø¹Ø§Ø¹ - Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¬Ù…Ø¹ÛŒØª
    getRadius: d => Math.sqrt(d.population) * 10,
    
    // Ø±Ù†Ú¯ - RGBA
    getFillColor: d => {
        if (d.population > 5000000) return [255, 0, 0, 200];
        if (d.population > 1500000) return [255, 165, 0, 200];
        return [0, 255, 0, 200];
    },
    
    // Ø±Ù†Ú¯ Ø®Ø· Ø¯ÙˆØ±
    getLineColor: [255, 255, 255, 100],
    getLineWidth: 2
});


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Accessors Ø¨Ø§ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø«Ø§Ø¨Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const simpleLayer = new ScatterplotLayer({
    id: 'simple',
    data,
    getPosition: d => [d.lng, d.lat],
    
    // Ù…Ù‚Ø¯Ø§Ø± Ø«Ø§Ø¨Øª Ø¨Ù‡ Ø¬Ø§ÛŒ ØªØ§Ø¨Ø¹
    getRadius: 1000,           // Ù‡Ù…Ù‡ Ù†Ù‚Ø§Ø· Ø´Ø¹Ø§Ø¹ 1000 Ù…ØªØ±
    getFillColor: [255, 0, 0], // Ù‡Ù…Ù‡ Ù‚Ø±Ù…Ø²
    getLineWidth: 0            // Ø¨Ø¯ÙˆÙ† Ø®Ø· Ø¯ÙˆØ±
});


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Accessors Ø¨Ø§ Scale
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import { scaleLinear, scaleSequential } from 'd3-scale';
import { interpolateViridis } from 'd3-scale-chromatic';

// ØªØ¹Ø±ÛŒÙ scale Ù‡Ø§
const radiusScale = scaleLinear()
    .domain([0, 10000000])
    .range([100, 50000]);

const colorScale = scaleSequential(interpolateViridis)
    .domain([0, 10000000]);

const scaledLayer = new ScatterplotLayer({
    id: 'scaled',
    data,
    getPosition: d => [d.lng, d.lat],
    
    getRadius: d => radiusScale(d.population),
    
    getFillColor: d => {
        const color = colorScale(d.population);
        // ØªØ¨Ø¯ÛŒÙ„ hex Ø¨Ù‡ RGB
        const r = parseInt(color.slice(1, 3), 16);
        const g = parseInt(color.slice(3, 5), 16);
        const b = parseInt(color.slice(5, 7), 16);
        return [r, g, b, 200];
    }
});


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Accessors Ø¨Ø§ Ø´Ø±Ø· Ùˆ Ù…Ù†Ø·Ù‚ Ù¾ÛŒÚ†ÛŒØ¯Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const conditionalLayer = new ScatterplotLayer({
    id: 'conditional',
    data,
    getPosition: d => [d.lng, d.lat],
    
    // Ø´Ø¹Ø§Ø¹ Ø¨Ø§ Ø­Ø¯Ø§Ù‚Ù„ Ùˆ Ø­Ø¯Ø§Ú©Ø«Ø±
    getRadius: d => {
        const base = Math.sqrt(d.population) * 5;
        return Math.max(500, Math.min(base, 50000));
    },
    
    // Ø±Ù†Ú¯ Ø¨Ø± Ø§Ø³Ø§Ø³ Ú†Ù†Ø¯ Ø´Ø±Ø·
    getFillColor: (d, { index, data, target }) => {
        // index: Ø´Ù…Ø§Ø±Ù‡ Ø¢ÛŒØªÙ…
        // data: Ú©Ù„ Ø¯Ø§Ø¯Ù‡
        // target: Ø¢Ø±Ø§ÛŒÙ‡ Ù…Ù‚ØµØ¯ (Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ)
        
        const avgPopulation = data.reduce((sum, item) => 
            sum + item.population, 0) / data.length;
        
        if (d.population > avgPopulation * 2) {
            return [255, 0, 0, 255];    // Ø®ÛŒÙ„ÛŒ Ø¨Ø²Ø±Ú¯ - Ù‚Ø±Ù…Ø²
        } else if (d.population > avgPopulation) {
            return [255, 165, 0, 255];  // Ø¨Ø§Ù„Ø§ÛŒ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† - Ù†Ø§Ø±Ù†Ø¬ÛŒ
        } else {
            return [0, 255, 0, 255];    // Ø²ÛŒØ± Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† - Ø³Ø¨Ø²
        }
    }
});</code></pre>
                </div>
            </div>

            <h3>ØªØ¹Ø§Ù…Ù„ Ø¨Ø§ Ù†Ù‚Ø´Ù‡ (Interactions)</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>interactions.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState, useCallback } from 'react';
import DeckGL from '@deck.gl/react';
import { ScatterplotLayer } from '@deck.gl/layers';

function InteractiveMap({ data }) {
    const [hoverInfo, setHoverInfo] = useState(null);
    const [selectedObject, setSelectedObject] = useState(null);
    const [tooltip, setTooltip] = useState(null);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Hover Events
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const handleHover = useCallback((info) => {
        if (info.object) {
            setHoverInfo({
                object: info.object,
                x: info.x,
                y: info.y,
                coordinate: info.coordinate
            });
        } else {
            setHoverInfo(null);
        }
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Click Events
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const handleClick = useCallback((info, event) => {
        if (info.object) {
            setSelectedObject(info.object);
            console.log('Clicked:', info.object);
            console.log('Coordinate:', info.coordinate);
            console.log('Screen position:', info.x, info.y);
            
            // Ø§Ú¯Ø± Ctrl Ú©Ù„ÛŒÚ© Ø´Ø¯Ù‡
            if (event.srcEvent.ctrlKey) {
                console.log('Ctrl + Click detected');
            }
        } else {
            setSelectedObject(null);
        }
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Drag Events
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const handleDragStart = useCallback((info, event) => {
        console.log('Drag started at:', info.coordinate);
    }, []);
    
    const handleDrag = useCallback((info, event) => {
        console.log('Dragging at:', info.coordinate);
    }, []);
    
    const handleDragEnd = useCallback((info, event) => {
        console.log('Drag ended at:', info.coordinate);
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù„Ø§ÛŒÙ‡ Ø¨Ø§ ØªØ¹Ø§Ù…Ù„
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const layers = [
        new ScatterplotLayer({
            id: 'interactive-points',
            data,
            getPosition: d => d.position,
            getRadius: d => d.radius,
            
            // Ø±Ù†Ú¯ Ø¨Ø§ highlight
            getFillColor: d => {
                if (selectedObject && d.id === selectedObject.id) {
                    return [255, 255, 0, 255];  // Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ - Ø²Ø±Ø¯
                }
                return d.color;
            },
            
            // ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ ØªØ¹Ø§Ù…Ù„
            pickable: true,
            
            // Auto highlight Ù‡Ù†Ú¯Ø§Ù… hover
            autoHighlight: true,
            highlightColor: [255, 255, 255, 100],
            
            // Event handlers
            onHover: handleHover,
            onClick: handleClick,
            onDragStart: handleDragStart,
            onDrag: handleDrag,
            onDragEnd: handleDragEnd,
            
            // ØªÙ†Ø¸ÛŒÙ…Ø§Øª picking
            parameters: {
                depthTest: false
            },
            
            // Update triggers - Ø¨Ø±Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‡Ù†Ú¯Ø§Ù… ØªØºÛŒÛŒØ± state
            updateTriggers: {
                getFillColor: [selectedObject?.id]
            }
        })
    ];
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Tooltip Component
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const renderTooltip = () => {
        if (!hoverInfo) return null;
        
        const { object, x, y } = hoverInfo;
        
        return (
            <div
                style={{
                    position: 'absolute',
                    zIndex: 1,
                    pointerEvents: 'none',
                    left: x + 10,
                    top: y + 10,
                    background: 'rgba(0, 0, 0, 0.85)',
                    color: 'white',
                    padding: '12px 16px',
                    borderRadius: '8px',
                    fontSize: '14px',
                    maxWidth: '300px',
                    boxShadow: '0 4px 12px rgba(0,0,0,0.3)'
                }}
            >
                <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>
                    {object.name}
                </div>
                <div style={{ color: '#aaa' }}>
                    Ø¬Ù…Ø¹ÛŒØª: {object.population?.toLocaleString()}
                </div>
                <div style={{ color: '#aaa', fontSize: '12px', marginTop: '4px' }}>
                    {object.position[1].toFixed(4)}, {object.position[0].toFixed(4)}
                </div>
            </div>
        );
    };
    
    return (
        <>
            <DeckGL
                layers={layers}
                controller={{
                    dragPan: true,
                    dragRotate: true,
                    scrollZoom: true,
                    touchZoom: true,
                    touchRotate: true,
                    keyboard: true,
                    doubleClickZoom: true
                }}
                getCursor={({ isHovering, isDragging }) => {
                    if (isDragging) return 'grabbing';
                    if (isHovering) return 'pointer';
                    return 'grab';
                }}
            />
            {renderTooltip()}
        </>
    );
}</code></pre>
                </div>
            </div>

            <h3>Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ùˆ Transitions</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>animations.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState, useEffect, useCallback } from 'react';
import DeckGL from '@deck.gl/react';
import { ScatterplotLayer } from '@deck.gl/layers';
import { FlyToInterpolator, LinearInterpolator } from '@deck.gl/core';

function AnimatedMap() {
    const [viewState, setViewState] = useState({
        longitude: 51.3890,
        latitude: 35.6892,
        zoom: 10,
        pitch: 0,
        bearing: 0
    });
    
    const [animatedRadius, setAnimatedRadius] = useState(1);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // View State Animation - Ù¾Ø±ÙˆØ§Ø² Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const flyToLocation = useCallback((longitude, latitude, zoom = 14) => {
        setViewState(prev => ({
            ...prev,
            longitude,
            latitude,
            zoom,
            pitch: 45,
            bearing: 0,
            transitionDuration: 2000,
            transitionInterpolator: new FlyToInterpolator({
                speed: 1.5,
                curve: 1.414
            }),
            transitionEasing: t => t * (2 - t)  // easeOutQuad
        }));
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Rotate Animation - Ú†Ø±Ø®Ø´ Ù…Ø¯Ø§ÙˆÙ…
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const startRotation = useCallback(() => {
        setViewState(prev => ({
            ...prev,
            bearing: prev.bearing + 120,
            transitionDuration: 10000,
            transitionInterpolator: new LinearInterpolator(['bearing']),
            onTransitionEnd: startRotation  // ØªÚ©Ø±Ø§Ø±
        }));
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Data Animation - Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¯Ø§Ø¯Ù‡
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    useEffect(() => {
        const interval = setInterval(() => {
            setAnimatedRadius(prev => {
                const next = prev + 0.1;
                return next > 2 ? 1 : next;
            });
        }, 50);
        
        return () => clearInterval(interval);
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù„Ø§ÛŒÙ‡ Ø¨Ø§ Transitions
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const layers = [
        new ScatterplotLayer({
            id: 'animated-layer',
            data: points,
            getPosition: d => d.position,
            getRadius: d => d.radius * animatedRadius,
            getFillColor: d => d.color,
            
            // Transitions Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ±Ø§Øª Ù†Ø±Ù…
            transitions: {
                getPosition: {
                    duration: 1000,
                    easing: t => t * (2 - t)
                },
                getRadius: {
                    duration: 300,
                    easing: t => t
                },
                getFillColor: {
                    duration: 500,
                    easing: t => t
                }
            },
            
            updateTriggers: {
                getRadius: animatedRadius
            }
        })
    ];
    
    return (
        <div>
            <DeckGL
                viewState={viewState}
                onViewStateChange={({ viewState }) => setViewState(viewState)}
                layers={layers}
                controller={true}
            />
            
            {/* Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ */}
            <div style={{ position: 'absolute', top: 10, right: 10, zIndex: 1 }}>
                <button onClick={() => flyToLocation(51.3890, 35.6892, 12)}>
                    ØªÙ‡Ø±Ø§Ù†
                </button>
                <button onClick={() => flyToLocation(51.6546, 32.6546, 12)}>
                    Ø§ØµÙÙ‡Ø§Ù†
                </button>
                <button onClick={startRotation}>
                    Ø´Ø±ÙˆØ¹ Ú†Ø±Ø®Ø´
                </button>
            </div>
        </div>
    );
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 6: AI Clustering -->
        <section class="section ai-section" id="ai-clustering">
            <div class="section-header">
                <div class="section-icon">ğŸ¯</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø´Ø´Ù… - AI</div>
                    <h2 class="section-title">
                        <span class="ai-badge">ğŸ¤– AI</span>
                        Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯
                    </h2>
                    <p class="section-subtitle">K-MeansØŒ DBSCAN Ùˆ HDBSCAN Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù†Ù‚Ø§Ø· Ù…Ú©Ø§Ù†ÛŒ</p>
                </div>
            </div>

            <div class="info-box ai">
                <div class="info-box-title">
                    <span>ğŸ§ </span>
                    Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ú†ÛŒØ³ØªØŸ
                </div>
                <div class="info-box-content">
                    Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ú©Ø§Ù†ÛŒ ÙØ±Ø¢ÛŒÙ†Ø¯ Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù†Ù‚Ø§Ø· Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†Ø²Ø¯ÛŒÚ©ÛŒ Ùˆ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ù…Ø´ØªØ±Ú© Ø§Ø³Øª.
                    Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§:
                    <ul>
                        <li><strong>ØªØ­Ù„ÛŒÙ„ Ù…Ø´ØªØ±ÛŒ:</strong> Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù…Ù†Ø§Ø·Ù‚ Ù¾Ø±ØªØ±Ø§Ú©Ù… Ù…Ø´ØªØ±ÛŒØ§Ù†</li>
                        <li><strong>Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù„Ø¬Ø³ØªÛŒÚ©:</strong> ØªØ¹ÛŒÛŒÙ† Ù…Ø±Ø§Ú©Ø² ØªÙˆØ²ÛŒØ¹</li>
                        <li><strong>ØªØ­Ù„ÛŒÙ„ Ø¬Ø±Ù…:</strong> Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ hotspots</li>
                        <li><strong>Ø´Ù‡Ø±Ø³Ø§Ø²ÛŒ:</strong> ØªØ­Ù„ÛŒÙ„ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø³Ú©ÙˆÙ†Øª</li>
                    </ul>
                </div>
            </div>

            <h3>Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ</h3>
            <div class="ai-pipeline">
                <div class="pipeline-step">
                    <div class="pipeline-number">1</div>
                    <div class="pipeline-content">
                        <div class="pipeline-title">K-Means</div>
                        <div class="pipeline-desc">
                            ØªÙ‚Ø³ÛŒÙ… Ø¯Ø§Ø¯Ù‡ Ø¨Ù‡ K Ø®ÙˆØ´Ù‡ Ø¨Ø§ Ù…Ø±Ú©Ø² Ù…Ø´Ø®Øµ. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø±ÙˆÛŒ Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ù…Ø´Ø®Øµ.
                        </div>
                    </div>
                </div>
                <div class="pipeline-step">
                    <div class="pipeline-number">2</div>
                    <div class="pipeline-content">
                        <div class="pipeline-title">DBSCAN</div>
                        <div class="pipeline-desc">
                            Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ±Ø§Ú©Ù…. Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§ Ø´Ú©Ù„ Ø¯Ù„Ø®ÙˆØ§Ù‡ Ùˆ Ù†ÙˆÛŒØ².
                        </div>
                    </div>
                </div>
                <div class="pipeline-step">
                    <div class="pipeline-number">3</div>
                    <div class="pipeline-content">
                        <div class="pipeline-title">HDBSCAN</div>
                        <div class="pipeline-desc">
                            Ù†Ø³Ø®Ù‡ Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ÛŒ DBSCAN. Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¹ÛŒÛŒÙ† epsilon.
                        </div>
                    </div>
                </div>
            </div>

            <h3>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ K-Means Clustering</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ¤–</span>
                        <span>ai/clustering.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import kmeans from 'ml-kmeans';

/**
 * Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ K-Means Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø§Ø· Ù…Ú©Ø§Ù†ÛŒ
 * @param {Array} points - Ø¢Ø±Ø§ÛŒÙ‡ Ù†Ù‚Ø§Ø· Ø¨Ø§ position
 * @param {number} k - ØªØ¹Ø¯Ø§Ø¯ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§
 * @returns {Object} Ù†ØªØ§ÛŒØ¬ Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
 */
export function kMeansClustering(points, k = 5) {
    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø®ØªØµØ§Øª
    const coordinates = points.map(p => [p.position[0], p.position[1]]);
    
    // Ø§Ø¬Ø±Ø§ÛŒ K-Means
    const result = kmeans(coordinates, k, {
        initialization: 'kmeans++',  // Ø±ÙˆØ´ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø±Ø§Ú©Ø² Ø§ÙˆÙ„ÛŒÙ‡
        maxIterations: 100
    });
    
    // Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø±Ú†Ø³Ø¨ Ø®ÙˆØ´Ù‡ Ø¨Ù‡ Ù†Ù‚Ø§Ø·
    const clusteredPoints = points.map((point, index) => ({
        ...point,
        cluster: result.clusters[index],
        distanceToCenter: calculateDistance(
            point.position,
            result.centroids[result.clusters[index]]
        )
    }));
    
    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¢Ù…Ø§Ø± Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§
    const clusterStats = calculateClusterStats(clusteredPoints, result.centroids);
    
    return {
        points: clusteredPoints,
        centroids: result.centroids.map((c, i) => ({
            position: c,
            clusterId: i,
            count: clusteredPoints.filter(p => p.cluster === i).length
        })),
        stats: clusterStats,
        iterations: result.iterations
    };
}

/**
 * Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ Ø§Ù‚Ù„ÛŒØ¯Ø³ÛŒ
 */
function calculateDistance(p1, p2) {
    const dx = p1[0] - p2[0];
    const dy = p1[1] - p2[1];
    return Math.sqrt(dx * dx + dy * dy);
}

/**
 * Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¢Ù…Ø§Ø± Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§
 */
function calculateClusterStats(points, centroids) {
    const stats = [];
    
    for (let i = 0; i < centroids.length; i++) {
        const clusterPoints = points.filter(p => p.cluster === i);
        
        if (clusterPoints.length === 0) continue;
        
        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø±Ú©Ø² ÙˆØ§Ù‚Ø¹ÛŒ
        const avgLng = clusterPoints.reduce((sum, p) => sum + p.position[0], 0) / clusterPoints.length;
        const avgLat = clusterPoints.reduce((sum, p) => sum + p.position[1], 0) / clusterPoints.length;
        
        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ
        const distances = clusterPoints.map(p => p.distanceToCenter);
        const avgDistance = distances.reduce((a, b) => a + b, 0) / distances.length;
        const maxDistance = Math.max(...distances);
        
        stats.push({
            clusterId: i,
            count: clusterPoints.length,
            center: [avgLng, avgLat],
            avgDistance,
            maxDistance,
            density: clusterPoints.length / (Math.PI * maxDistance * maxDistance)
        });
    }
    
    return stats;
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØ¹ÛŒÛŒÙ† Ø®ÙˆØ¯Ú©Ø§Ø± ØªØ¹Ø¯Ø§Ø¯ Ø¨Ù‡ÛŒÙ†Ù‡ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§ (Elbow Method)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function findOptimalK(points, maxK = 10) {
    const coordinates = points.map(p => [p.position[0], p.position[1]]);
    const inertias = [];
    
    for (let k = 1; k <= maxK; k++) {
        const result = kmeans(coordinates, k, { initialization: 'kmeans++' });
        
        // Ù…Ø­Ø§Ø³Ø¨Ù‡ inertia (Ù…Ø¬Ù…ÙˆØ¹ ÙØ§ØµÙ„Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ù…Ø±Ø§Ú©Ø²)
        let inertia = 0;
        coordinates.forEach((coord, i) => {
            const centroid = result.centroids[result.clusters[i]];
            inertia += Math.pow(calculateDistance(coord, centroid), 2);
        });
        
        inertias.push({ k, inertia });
    }
    
    // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù†Ù‚Ø·Ù‡ Ø¢Ø±Ù†Ø¬ (Elbow)
    const optimalK = findElbow(inertias);
    
    return {
        optimalK,
        inertias
    };
}

function findElbow(inertias) {
    // Ø±ÙˆØ´ Ø³Ø§Ø¯Ù‡: Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ú©Ø§Ù‡Ø´ Ù†Ø³Ø¨ÛŒ
    let maxDrop = 0;
    let optimalK = 2;
    
    for (let i = 1; i < inertias.length - 1; i++) {
        const drop = (inertias[i - 1].inertia - inertias[i].inertia) / inertias[i - 1].inertia;
        const nextDrop = (inertias[i].inertia - inertias[i + 1].inertia) / inertias[i].inertia;
        
        if (drop > maxDrop && drop > nextDrop * 2) {
            maxDrop = drop;
            optimalK = inertias[i].k;
        }
    }
    
    return optimalK;
}</code></pre>
                </div>
            </div>

            <h3>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ DBSCAN</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ¤–</span>
                        <span>ai/dbscan.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">/**
 * Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ DBSCAN Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ
 * @param {Array} points - Ù†Ù‚Ø§Ø· Ø¨Ø§ position
 * @param {number} epsilon - Ø´Ø¹Ø§Ø¹ Ø¬Ø³ØªØ¬Ùˆ (Ø¨Ù‡ Ø¯Ø±Ø¬Ù‡ ÛŒØ§ Ù…ØªØ±)
 * @param {number} minPoints - Ø­Ø¯Ø§Ù‚Ù„ Ù†Ù‚Ø§Ø· Ø¨Ø±Ø§ÛŒ ØªØ´Ú©ÛŒÙ„ Ø®ÙˆØ´Ù‡
 * @param {boolean} useHaversine - Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÙØ§ØµÙ„Ù‡ Haversine
 */
export function dbscanClustering(points, epsilon = 0.01, minPoints = 5, useHaversine = true) {
    const n = points.length;
    const labels = new Array(n).fill(-1);  // -1 = Ù†ÙˆÛŒØ²
    const visited = new Array(n).fill(false);
    let clusterId = 0;
    
    // ØªØ§Ø¨Ø¹ Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡
    const distance = useHaversine ? haversineDistance : euclideanDistance;
    
    for (let i = 0; i < n; i++) {
        if (visited[i]) continue;
        visited[i] = true;
        
        // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù‡Ù…Ø³Ø§ÛŒÙ‡â€ŒÙ‡Ø§
        const neighbors = regionQuery(points, i, epsilon, distance);
        
        if (neighbors.length < minPoints) {
            labels[i] = -1;  // Ù†ÙˆÛŒØ²
        } else {
            // Ø´Ø±ÙˆØ¹ Ø®ÙˆØ´Ù‡ Ø¬Ø¯ÛŒØ¯
            expandCluster(points, labels, visited, i, neighbors, clusterId, epsilon, minPoints, distance);
            clusterId++;
        }
    }
    
    // Ø³Ø§Ø®Øª Ù†ØªÛŒØ¬Ù‡
    const clusteredPoints = points.map((point, index) => ({
        ...point,
        cluster: labels[index],
        isNoise: labels[index] === -1
    }));
    
    // Ø¢Ù…Ø§Ø±
    const clusters = [...new Set(labels.filter(l => l >= 0))];
    const noiseCount = labels.filter(l => l === -1).length;
    
    return {
        points: clusteredPoints,
        clusterCount: clusters.length,
        noiseCount,
        noiseRatio: noiseCount / n
    };
}

function regionQuery(points, pointIndex, epsilon, distanceFn) {
    const neighbors = [];
    const point = points[pointIndex];
    
    for (let i = 0; i < points.length; i++) {
        if (distanceFn(point.position, points[i].position) <= epsilon) {
            neighbors.push(i);
        }
    }
    
    return neighbors;
}

function expandCluster(points, labels, visited, pointIndex, neighbors, clusterId, epsilon, minPoints, distanceFn) {
    labels[pointIndex] = clusterId;
    
    let i = 0;
    while (i < neighbors.length) {
        const neighborIndex = neighbors[i];
        
        if (!visited[neighborIndex]) {
            visited[neighborIndex] = true;
            
            const newNeighbors = regionQuery(points, neighborIndex, epsilon, distanceFn);
            
            if (newNeighbors.length >= minPoints) {
                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù‡Ù…Ø³Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
                neighbors.push(...newNeighbors.filter(n => !neighbors.includes(n)));
            }
        }
        
        if (labels[neighborIndex] === -1) {
            labels[neighborIndex] = clusterId;
        }
        
        i++;
    }
}

/**
 * ÙØ§ØµÙ„Ù‡ Haversine (Ø¨Ø±Ø§ÛŒ Ù…Ø®ØªØµØ§Øª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ)
 */
function haversineDistance(p1, p2) {
    const R = 6371;  // Ø´Ø¹Ø§Ø¹ Ø²Ù…ÛŒÙ† Ø¨Ù‡ Ú©ÛŒÙ„ÙˆÙ…ØªØ±
    const dLat = toRad(p2[1] - p1[1]);
    const dLon = toRad(p2[0] - p1[0]);
    
    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
              Math.cos(toRad(p1[1])) * Math.cos(toRad(p2[1])) *
              Math.sin(dLon / 2) * Math.sin(dLon / 2);
    
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    
    return R * c;  // Ú©ÛŒÙ„ÙˆÙ…ØªØ±
}

function euclideanDistance(p1, p2) {
    const dx = p1[0] - p2[0];
    const dy = p1[1] - p2[1];
    return Math.sqrt(dx * dx + dy * dy);
}

function toRad(deg) {
    return deg * Math.PI / 180;
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØ¹ÛŒÛŒÙ† Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function estimateDBSCANParams(points, k = 4) {
    const distances = [];
    
    // Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ k-Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ù‡Ù…Ø³Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù†Ù‚Ø·Ù‡
    for (let i = 0; i < points.length; i++) {
        const pointDistances = [];
        
        for (let j = 0; j < points.length; j++) {
            if (i !== j) {
                pointDistances.push(haversineDistance(
                    points[i].position,
                    points[j].position
                ));
            }
        }
        
        pointDistances.sort((a, b) => a - b);
        distances.push(pointDistances[k - 1]);  // k-Ø§Ù…ÛŒÙ† Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ†
    }
    
    // Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù†Ù‚Ø·Ù‡ Ø¢Ø±Ù†Ø¬
    distances.sort((a, b) => a - b);
    
    // epsilon Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ: Ù†Ù‚Ø·Ù‡ Ø¢Ø±Ù†Ø¬
    const elbowIndex = Math.floor(distances.length * 0.9);
    const suggestedEpsilon = distances[elbowIndex];
    
    return {
        suggestedEpsilon,
        suggestedMinPoints: k,
        kDistances: distances
    };
}</code></pre>
                </div>
            </div>

            <h3>Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù† Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>ClusteringMap.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState, useMemo, useCallback } from 'react';
import DeckGL from '@deck.gl/react';
import { Map } from 'react-map-gl';
import { ScatterplotLayer, TextLayer, PolygonLayer } from '@deck.gl/layers';
import { kMeansClustering, findOptimalK } from '../ai/clustering';
import { dbscanClustering, estimateDBSCANParams } from '../ai/dbscan';
import * as d3 from 'd3';
import { convexHull } from '../utils/geometry';

// Ø±Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§
const CLUSTER_COLORS = [
    [255, 99, 132],   // Ù‚Ø±Ù…Ø²
    [54, 162, 235],   // Ø¢Ø¨ÛŒ
    [255, 206, 86],   // Ø²Ø±Ø¯
    [75, 192, 192],   // Ø³Ø¨Ø² Ø¢Ø¨ÛŒ
    [153, 102, 255],  // Ø¨Ù†ÙØ´
    [255, 159, 64],   // Ù†Ø§Ø±Ù†Ø¬ÛŒ
    [199, 199, 199],  // Ø®Ø§Ú©Ø³ØªØ±ÛŒ
    [83, 102, 255],   // Ø¢Ø¨ÛŒ Ø¨Ù†ÙØ´
    [255, 99, 255],   // ØµÙˆØ±ØªÛŒ
    [99, 255, 132]    // Ø³Ø¨Ø²
];

function ClusteringMap({ rawData }) {
    const [algorithm, setAlgorithm] = useState('kmeans');
    const [kValue, setKValue] = useState(5);
    const [epsilon, setEpsilon] = useState(0.5);  // Ú©ÛŒÙ„ÙˆÙ…ØªØ±
    const [minPoints, setMinPoints] = useState(5);
    const [showHulls, setShowHulls] = useState(true);
    const [showCentroids, setShowCentroids] = useState(true);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const clusteringResult = useMemo(() => {
        if (!rawData || rawData.length === 0) return null;
        
        if (algorithm === 'kmeans') {
            return kMeansClustering(rawData, kValue);
        } else if (algorithm === 'dbscan') {
            return dbscanClustering(rawData, epsilon, minPoints);
        }
        
        return null;
    }, [rawData, algorithm, kValue, epsilon, minPoints]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Convex Hulls Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø®ÙˆØ´Ù‡
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const clusterHulls = useMemo(() => {
        if (!clusteringResult || !showHulls) return [];
        
        const clusters = {};
        clusteringResult.points.forEach(point => {
            if (point.cluster >= 0) {
                if (!clusters[point.cluster]) {
                    clusters[point.cluster] = [];
                }
                clusters[point.cluster].push(point.position);
            }
        });
        
        return Object.entries(clusters)
            .filter(([_, points]) => points.length >= 3)
            .map(([clusterId, points]) => ({
                clusterId: parseInt(clusterId),
                polygon: convexHull(points),
                color: [...CLUSTER_COLORS[clusterId % CLUSTER_COLORS.length], 50]
            }));
    }, [clusteringResult, showHulls]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const layers = useMemo(() => {
        if (!clusteringResult) return [];
        
        const layersList = [];
        
        // Ù„Ø§ÛŒÙ‡ Convex Hulls
        if (showHulls && clusterHulls.length > 0) {
            layersList.push(
                new PolygonLayer({
                    id: 'cluster-hulls',
                    data: clusterHulls,
                    getPolygon: d => d.polygon,
                    getFillColor: d => d.color,
                    getLineColor: d => [...CLUSTER_COLORS[d.clusterId % CLUSTER_COLORS.length], 150],
                    getLineWidth: 2,
                    lineWidthMinPixels: 1,
                    stroked: true,
                    filled: true
                })
            );
        }
        
        // Ù„Ø§ÛŒÙ‡ Ù†Ù‚Ø§Ø· Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø´Ø¯Ù‡
        layersList.push(
            new ScatterplotLayer({
                id: 'clustered-points',
                data: clusteringResult.points,
                getPosition:d => d.position,
                getRadius: d => d.isNoise ? 50 : 100,
                getFillColor: d => {
                    if (d.isNoise) return [128, 128, 128, 150];  // Ù†ÙˆÛŒØ² - Ø®Ø§Ú©Ø³ØªØ±ÛŒ
                    return [...CLUSTER_COLORS[d.cluster % CLUSTER_COLORS.length], 200];
                },
                pickable: true,
                stroked: true,
                getLineColor: [255, 255, 255, 100],
                lineWidthMinPixels: 1
            })
        );
        
        // Ù„Ø§ÛŒÙ‡ Ù…Ø±Ø§Ú©Ø² Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§
        if (showCentroids && clusteringResult.centroids) {
            layersList.push(
                new ScatterplotLayer({
                    id: 'centroids',
                    data: clusteringResult.centroids,
                    getPosition: d => d.position,
                    getRadius: 300,
                    getFillColor: d => [...CLUSTER_COLORS[d.clusterId % CLUSTER_COLORS.length], 255],
                    stroked: true,
                    getLineColor: [255, 255, 255],
                    lineWidthMinPixels: 3
                }),
                new TextLayer({
                    id: 'centroid-labels',
                    data: clusteringResult.centroids,
                    getPosition: d => d.position,
                    getText: d => `Ø®ÙˆØ´Ù‡ ${d.clusterId + 1}\n(${d.count} Ù†Ù‚Ø·Ù‡)`,
                    getSize: 14,
                    getColor: [255, 255, 255],
                    getTextAnchor: 'middle',
                    getAlignmentBaseline: 'top',
                    getPixelOffset: [0, 20]
                })
            );
        }
        
        return layersList;
    }, [clusteringResult, showHulls, showCentroids, clusterHulls]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† K Ø¨Ù‡ÛŒÙ†Ù‡
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const handleFindOptimalK = useCallback(() => {
        if (!rawData || rawData.length === 0) return;
        const result = findOptimalK(rawData);
        setKValue(result.optimalK);
        console.log('ØªØ¹Ø¯Ø§Ø¯ Ø¨Ù‡ÛŒÙ†Ù‡ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§:', result.optimalK);
    }, [rawData]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ØªØ®Ù…ÛŒÙ† Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ DBSCAN
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const handleEstimateParams = useCallback(() => {
        if (!rawData || rawData.length === 0) return;
        const params = estimateDBSCANParams(rawData);
        setEpsilon(params.suggestedEpsilon);
        setMinPoints(params.suggestedMinPoints);
        console.log('Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ:', params);
    }, [rawData]);
    
    return (
        <div style={{ width: '100%', height: '100vh', position: 'relative' }}>
            <DeckGL
                initialViewState={{
                    longitude: 51.3890,
                    latitude: 35.6892,
                    zoom: 10,
                    pitch: 45
                }}
                controller={true}
                layers={layers}
                getTooltip={({ object }) => object && {
                    html: `
                        <div style="direction: rtl; font-family: Vazirmatn;">
                            <strong>${object.name || 'Ù†Ù‚Ø·Ù‡'}</strong><br/>
                            Ø®ÙˆØ´Ù‡: ${object.isNoise ? 'Ù†ÙˆÛŒØ²' : object.cluster + 1}<br/>
                            ${object.distanceToCenter ? 
                                `ÙØ§ØµÙ„Ù‡ Ø§Ø² Ù…Ø±Ú©Ø²: ${object.distanceToCenter.toFixed(4)}` : ''}
                        </div>
                    `,
                    style: {
                        backgroundColor: '#1e293b',
                        color: 'white',
                        padding: '10px',
                        borderRadius: '8px'
                    }
                }}
            >
                <Map mapStyle="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json" />
            </DeckGL>
            
            {/* Ù¾Ù†Ù„ Ú©Ù†ØªØ±Ù„ */}
            <div style={{
                position: 'absolute',
                top: 20,
                right: 20,
                background: 'rgba(30, 41, 59, 0.95)',
                padding: '20px',
                borderRadius: '12px',
                color: 'white',
                minWidth: '280px',
                boxShadow: '0 4px 20px rgba(0,0,0,0.3)'
            }}>
                <h3 style={{ margin: '0 0 15px', fontSize: '18px' }}>
                    ğŸ¯ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
                </h3>
                
                {/* Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… */}
                <div style={{ marginBottom: '15px' }}>
                    <label style={{ display: 'block', marginBottom: '5px', fontSize: '14px' }}>
                        Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…:
                    </label>
                    <select 
                        value={algorithm} 
                        onChange={e => setAlgorithm(e.target.value)}
                        style={{
                            width: '100%',
                            padding: '8px',
                            borderRadius: '6px',
                            border: 'none',
                            background: '#374151',
                            color: 'white'
                        }}
                    >
                        <option value="kmeans">K-Means</option>
                        <option value="dbscan">DBSCAN</option>
                    </select>
                </div>
                
                {/* Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ K-Means */}
                {algorithm === 'kmeans' && (
                    <div style={{ marginBottom: '15px' }}>
                        <label style={{ display: 'block', marginBottom: '5px', fontSize: '14px' }}>
                            ØªØ¹Ø¯Ø§Ø¯ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§ (K): {kValue}
                        </label>
                        <input
                            type="range"
                            min="2"
                            max="15"
                            value={kValue}
                            onChange={e => setKValue(parseInt(e.target.value))}
                            style={{ width: '100%' }}
                        />
                        <button
                            onClick={handleFindOptimalK}
                            style={{
                                width: '100%',
                                marginTop: '10px',
                                padding: '8px',
                                borderRadius: '6px',
                                border: 'none',
                                background: 'linear-gradient(135deg, #10b981, #06b6d4)',
                                color: 'white',
                                cursor: 'pointer',
                                fontSize: '14px'
                            }}
                        >
                            ğŸ” ÛŒØ§ÙØªÙ† K Ø¨Ù‡ÛŒÙ†Ù‡
                        </button>
                    </div>
                )}
                
                {/* Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ DBSCAN */}
                {algorithm === 'dbscan' && (
                    <>
                        <div style={{ marginBottom: '15px' }}>
                            <label style={{ display: 'block', marginBottom: '5px', fontSize: '14px' }}>
                                Epsilon (km): {epsilon.toFixed(2)}
                            </label>
                            <input
                                type="range"
                                min="0.1"
                                max="5"
                                step="0.1"
                                value={epsilon}
                                onChange={e => setEpsilon(parseFloat(e.target.value))}
                                style={{ width: '100%' }}
                            />
                        </div>
                        <div style={{ marginBottom: '15px' }}>
                            <label style={{ display: 'block', marginBottom: '5px', fontSize: '14px' }}>
                                Ø­Ø¯Ø§Ù‚Ù„ Ù†Ù‚Ø§Ø·: {minPoints}
                            </label>
                            <input
                                type="range"
                                min="2"
                                max="20"
                                value={minPoints}
                                onChange={e => setMinPoints(parseInt(e.target.value))}
                                style={{ width: '100%' }}
                            />
                        </div>
                        <button
                            onClick={handleEstimateParams}
                            style={{
                                width: '100%',
                                padding: '8px',
                                borderRadius: '6px',
                                border: 'none',
                                background: 'linear-gradient(135deg, #10b981, #06b6d4)',
                                color: 'white',
                                cursor: 'pointer',
                                fontSize: '14px'
                            }}
                        >
                            âš™ï¸ ØªØ®Ù…ÛŒÙ† Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§
                        </button>
                    </>
                )}
                
                {/* Ù†Ù…Ø§ÛŒØ´/Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† */}
                <div style={{ marginTop: '15px', borderTop: '1px solid #475569', paddingTop: '15px' }}>
                    <label style={{ display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer' }}>
                        <input
                            type="checkbox"
                            checked={showHulls}
                            onChange={e => setShowHulls(e.target.checked)}
                        />
                        Ù†Ù…Ø§ÛŒØ´ Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§
                    </label>
                    <label style={{ display: 'flex', alignItems: 'center', gap: '8px', marginTop: '8px', cursor: 'pointer' }}>
                        <input
                            type="checkbox"
                            checked={showCentroids}
                            onChange={e => setShowCentroids(e.target.checked)}
                        />
                        Ù†Ù…Ø§ÛŒØ´ Ù…Ø±Ø§Ú©Ø²
                    </label>
                </div>
                
                {/* Ø¢Ù…Ø§Ø± */}
                {clusteringResult && (
                    <div style={{ marginTop: '15px', borderTop: '1px solid #475569', paddingTop: '15px', fontSize: '13px' }}>
                        <div>ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ù†Ù‚Ø§Ø·: {clusteringResult.points.length}</div>
                        <div>ØªØ¹Ø¯Ø§Ø¯ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§: {clusteringResult.centroids?.length || clusteringResult.clusterCount}</div>
                        {clusteringResult.noiseCount !== undefined && (
                            <div>Ù†Ù‚Ø§Ø· Ù†ÙˆÛŒØ²: {clusteringResult.noiseCount} ({(clusteringResult.noiseRatio * 100).toFixed(1)}%)</div>
                        )}
                    </div>
                )}
            </div>
        </div>
    );
}

export default ClusteringMap;</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 7: AI Prediction -->
        <section class="section ai-section" id="ai-prediction">
            <div class="section-header">
                <div class="section-icon">ğŸ”®</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ù‡ÙØªÙ… - AI</div>
                    <h2 class="section-title">
                        <span class="ai-badge">ğŸ¤– AI</span>
                        Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù…Ú©Ø§Ù†ÛŒ
                    </h2>
                    <p class="section-subtitle">Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªØ±Ø§ÙÛŒÚ©ØŒ ØªÙ‚Ø§Ø¶Ø§ Ùˆ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø­Ø±Ú©Øª Ø¨Ø§ TensorFlow.js</p>
                </div>
            </div>

            <div class="info-box ai">
                <div class="info-box-title">
                    <span>ğŸ§ </span>
                    Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ø¨Ø§ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø¹Ù…ÛŒÙ‚
                </div>
                <div class="info-box-content">
                    Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹ØµØ¨ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ:
                    <ul>
                        <li><strong>ØªØ±Ø§ÙÛŒÚ©:</strong> Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø­Ø¬Ù… ØªØ±Ø§ÙÛŒÚ© Ø¯Ø± Ø³Ø§Ø¹Ø§Øª Ø¢ÛŒÙ†Ø¯Ù‡</li>
                        <li><strong>ØªÙ‚Ø§Ø¶Ø§:</strong> Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªÙ‚Ø§Ø¶Ø§ÛŒ ØªØ§Ú©Ø³ÛŒ/Ø§Ø³Ù†Ù¾ Ø¯Ø± Ù…Ù†Ø§Ø·Ù‚ Ù…Ø®ØªÙ„Ù</li>
                        <li><strong>Ù…Ø³ÛŒØ±:</strong> Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù…Ø³ÛŒØ± Ø­Ø±Ú©Øª ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡</li>
                        <li><strong>Ø²Ù…Ø§Ù† Ø±Ø³ÛŒØ¯Ù†:</strong> ØªØ®Ù…ÛŒÙ† ETA Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ø±Ø§ÛŒØ· ØªØ±Ø§ÙÛŒÚ©ÛŒ</li>
                    </ul>
                </div>
            </div>

            <h3>Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù…Ø¯Ù„ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ</h3>
            <div class="architecture-box">
                <div class="arch-title">ğŸ”® Pipeline Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù…Ú©Ø§Ù†ÛŒ</div>
                <div class="arch-flow">
                    <div class="arch-box data">
                        <div class="arch-box-icon">ğŸ“Š</div>
                        <div class="arch-box-label">Historical Data</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box">
                        <div class="arch-box-icon">ğŸ”§</div>
                        <div class="arch-box-label">Feature Engineering</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box ai">
                        <div class="arch-box-icon">ğŸ§ </div>
                        <div class="arch-box-label">LSTM/GRU</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box">
                        <div class="arch-box-icon">ğŸ“ˆ</div>
                        <div class="arch-box-label">Predictions</div>
                    </div>
                    <div class="arch-arrow">â†’</div>
                    <div class="arch-box viz">
                        <div class="arch-box-icon">ğŸ—ºï¸</div>
                        <div class="arch-box-label">Deck.gl</div>
                    </div>
                </div>
            </div>

            <h3>Ù…Ø¯Ù„ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªØ±Ø§ÙÛŒÚ© Ø¨Ø§ TensorFlow.js</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ¤–</span>
                        <span>ai/prediction.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import * as tf from '@tensorflow/tfjs';

/**
 * Ù…Ø¯Ù„ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªØ±Ø§ÙÛŒÚ© Ø¨Ø§ LSTM
 */
export class TrafficPredictor {
    constructor() {
        this.model = null;
        this.isTraining = false;
        this.inputShape = [24, 4];  // 24 Ø³Ø§Ø¹ØªØŒ 4 ÙˆÛŒÚ˜Ú¯ÛŒ
        this.outputSize = 1;        // Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ 1 Ø³Ø§Ø¹Øª Ø¢ÛŒÙ†Ø¯Ù‡
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø³Ø§Ø®Øª Ù…Ø¯Ù„ LSTM
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    buildModel() {
        this.model = tf.sequential();
        
        // Ù„Ø§ÛŒÙ‡ LSTM Ø§ÙˆÙ„
        this.model.add(tf.layers.lstm({
            units: 64,
            returnSequences: true,
            inputShape: this.inputShape
        }));
        
        // Dropout Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² overfitting
        this.model.add(tf.layers.dropout({ rate: 0.2 }));
        
        // Ù„Ø§ÛŒÙ‡ LSTM Ø¯ÙˆÙ…
        this.model.add(tf.layers.lstm({
            units: 32,
            returnSequences: false
        }));
        
        this.model.add(tf.layers.dropout({ rate: 0.2 }));
        
        // Ù„Ø§ÛŒÙ‡ Dense Ø¨Ø±Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ
        this.model.add(tf.layers.dense({
            units: 16,
            activation: 'relu'
        }));
        
        this.model.add(tf.layers.dense({
            units: this.outputSize,
            activation: 'linear'
        }));
        
        // Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ù…Ø¯Ù„
        this.model.compile({
            optimizer: tf.train.adam(0.001),
            loss: 'meanSquaredError',
            metrics: ['mae']
        });
        
        console.log('Ù…Ø¯Ù„ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯:');
        this.model.summary();
        
        return this.model;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    prepareData(rawData, lookback = 24) {
        /**
         * rawData: Ø¢Ø±Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø§Ø² Ø§Ø´ÛŒØ§ Ø¨Ø§ ÙØ±Ù…Øª:
         * {
         *   timestamp: Date,
         *   trafficValue: number,
         *   hour: number,
         *   dayOfWeek: number,
         *   isHoliday: boolean
         * }
         */
        
        const X = [];
        const y = [];
        
        for (let i = lookback; i < rawData.length - 1; i++) {
            // ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ lookback Ø³Ø§Ø¹Øª Ú¯Ø°Ø´ØªÙ‡
            const features = [];
            for (let j = i - lookback; j < i; j++) {
                features.push([
                    rawData[j].trafficValue / 100,  // Ù†Ø±Ù…Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ
                    rawData[j].hour / 24,
                    rawData[j].dayOfWeek / 7,
                    rawData[j].isHoliday ? 1 : 0
                ]);
            }
            X.push(features);
            
            // Ù‡Ø¯Ù: ØªØ±Ø§ÙÛŒÚ© Ø³Ø§Ø¹Øª Ø¨Ø¹Ø¯
            y.push([rawData[i + 1].trafficValue / 100]);
        }
        
        return {
            X: tf.tensor3d(X),
            y: tf.tensor2d(y)
        };
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø¢Ù…ÙˆØ²Ø´ Ù…Ø¯Ù„
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    async train(data, options = {}) {
        const {
            epochs = 50,
            batchSize = 32,
            validationSplit = 0.2,
            onEpochEnd = null
        } = options;
        
        if (!this.model) {
            this.buildModel();
        }
        
        this.isTraining = true;
        
        const { X, y } = this.prepareData(data);
        
        const history = await this.model.fit(X, y, {
            epochs,
            batchSize,
            validationSplit,
            shuffle: true,
            callbacks: {
                onEpochEnd: (epoch, logs) => {
                    console.log(`Epoch ${epoch + 1}: loss = ${logs.loss.toFixed(4)}, mae = ${logs.mae.toFixed(4)}`);
                    if (onEpochEnd) onEpochEnd(epoch, logs);
                }
            }
        });
        
        this.isTraining = false;
        
        // Ø¢Ø²Ø§Ø¯Ø³Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡
        X.dispose();
        y.dispose();
        
        return history;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    predict(recentData) {
        if (!this.model) {
            throw new Error('Ù…Ø¯Ù„ Ø¢Ù…ÙˆØ²Ø´ Ù†Ø¯ÛŒØ¯Ù‡ Ø§Ø³Øª');
        }
        
        // Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÙˆØ±ÙˆØ¯ÛŒ
        const features = recentData.map(d => [
            d.trafficValue / 100,
            d.hour / 24,
            d.dayOfWeek / 7,
            d.isHoliday ? 1 : 0
        ]);
        
        const input = tf.tensor3d([features]);
        const prediction = this.model.predict(input);
        const result = prediction.dataSync()[0] * 100;  // Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ø¨Ù‡ Ù…Ù‚ÛŒØ§Ø³ Ø§ØµÙ„ÛŒ
        
        input.dispose();
        prediction.dispose();
        
        return Math.max(0, Math.min(100, result));  // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¨Ù‡ [0, 100]
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ú†Ù†Ø¯ Ø³Ø§Ø¹Øª Ø¢ÛŒÙ†Ø¯Ù‡
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    predictMultiStep(recentData, steps = 6) {
        const predictions = [];
        let currentData = [...recentData];
        
        for (let i = 0; i < steps; i++) {
            const nextValue = this.predict(currentData);
            
            // Ø³Ø§Ø®Øª Ù†Ù‚Ø·Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¬Ø¯ÛŒØ¯
            const lastData = currentData[currentData.length - 1];
            const nextHour = (lastData.hour + 1) % 24;
            const nextDayOfWeek = nextHour === 0 ? 
                (lastData.dayOfWeek + 1) % 7 : lastData.dayOfWeek;
            
            const newDataPoint = {
                trafficValue: nextValue,
                hour: nextHour,
                dayOfWeek: nextDayOfWeek,
                isHoliday: lastData.isHoliday
            };
            
            predictions.push({
                hour: nextHour,
                value: nextValue
            });
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø¨Ø¹Ø¯ÛŒ
            currentData = [...currentData.slice(1), newDataPoint];
        }
        
        return predictions;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¯Ù„
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    async saveModel(path = 'localstorage://traffic-model') {
        if (!this.model) return;
        await this.model.save(path);
        console.log('Ù…Ø¯Ù„ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯:', path);
    }
    
    async loadModel(path = 'localstorage://traffic-model') {
        try {
            this.model = await tf.loadLayersModel(path);
            console.log('Ù…Ø¯Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯:', path);
            return true;
        } catch (error) {
            console.log('Ù…Ø¯Ù„ ÛŒØ§ÙØª Ù†Ø´Ø¯ØŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¢Ù…ÙˆØ²Ø´ Ø¯Ø§Ø±Ø¯');
            return false;
        }
    }
}</code></pre>
                </div>
            </div>

            <h3>Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªÙ‚Ø§Ø¶Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ H3</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ¤–</span>
                        <span>ai/demandPrediction.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import * as tf from '@tensorflow/tfjs';
import * as h3 from 'h3-js';

/**
 * Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªÙ‚Ø§Ø¶Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ø§Ø®Øµ H3
 */
export class H3DemandPredictor {
    constructor(resolution = 8) {
        this.resolution = resolution;
        this.model = null;
        this.hexagonModels = new Map();  // Ù…Ø¯Ù„ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù‡Ú¯Ø²Ø§Ú¯ÙˆÙ†
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ØªØ¨Ø¯ÛŒÙ„ Ù†Ù‚Ø§Ø· Ø¨Ù‡ H3
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    pointsToH3(points) {
        const h3Counts = new Map();
        
        points.forEach(point => {
            const h3Index = h3.latLngToCell(
                point.position[1],
                point.position[0],
                this.resolution
            );
            
            if (!h3Counts.has(h3Index)) {
                h3Counts.set(h3Index, {
                    h3Index,
                    count: 0,
                    values: [],
                    center: h3.cellToLatLng(h3Index)
                });
            }
            
            const hex = h3Counts.get(h3Index);
            hex.count++;
            if (point.value !== undefined) {
                hex.values.push(point.value);
            }
        });
        
        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù…Ù‚Ø§Ø¯ÛŒØ±
        return Array.from(h3Counts.values()).map(hex => ({
            ...hex,
            avgValue: hex.values.length > 0 ? 
                hex.values.reduce((a, b) => a + b, 0) / hex.values.length : 0
        }));
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ù‡Ú¯Ø²Ø§Ú¯ÙˆÙ†
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    getHexFeatures(h3Index, historicalData) {
        // Ù‡Ù…Ø³Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø­Ù„Ù‚Ù‡ 1
        const neighbors = h3.gridDisk(h3Index, 1);
        
        // ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ
        const now = new Date();
        const hour = now.getHours();
        const dayOfWeek = now.getDay();
        const isWeekend = dayOfWeek === 5 || dayOfWeek === 6;
        
        // ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ
        const [lat, lng] = h3.cellToLatLng(h3Index);
        
        // ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§ÛŒÙ† Ù‡Ú¯Ø²Ø§Ú¯ÙˆÙ†
        const hexHistory = historicalData.filter(d => d.h3Index === h3Index);
        const avgDemand = hexHistory.length > 0 ?
            hexHistory.reduce((sum, d) => sum + d.demand, 0) / hexHistory.length : 0;
        
        // ØªÙ‚Ø§Ø¶Ø§ÛŒ Ù‡Ù…Ø³Ø§ÛŒÙ‡â€ŒÙ‡Ø§
        const neighborDemand = neighbors.reduce((sum, n) => {
            const nHistory = historicalData.filter(d => d.h3Index === n);
            return sum + (nHistory.length > 0 ?
                nHistory.reduce((s, d) => s + d.demand, 0) / nHistory.length : 0);
        }, 0) / neighbors.length;
        
        return {
            hour: hour / 24,
            dayOfWeek: dayOfWeek / 7,
            isWeekend: isWeekend ? 1 : 0,
            lat: (lat + 90) / 180,
            lng: (lng + 180) / 360,
            avgDemand: avgDemand / 100,
            neighborDemand: neighborDemand / 100
        };
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø³Ø§Ø®Øª Ù…Ø¯Ù„ Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªÙ‚Ø§Ø¶Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    buildSimpleModel() {
        const model = tf.sequential();
        
        model.add(tf.layers.dense({
            units: 32,
            activation: 'relu',
            inputShape: [7]  // 7 ÙˆÛŒÚ˜Ú¯ÛŒ
        }));
        
        model.add(tf.layers.dropout({ rate: 0.2 }));
        
        model.add(tf.layers.dense({
            units: 16,
            activation: 'relu'
        }));
        
        model.add(tf.layers.dense({
            units: 1,
            activation: 'sigmoid'  // Ø®Ø±ÙˆØ¬ÛŒ Ø¨ÛŒÙ† 0 Ùˆ 1
        }));
        
        model.compile({
            optimizer: tf.train.adam(0.01),
            loss: 'meanSquaredError'
        });
        
        return model;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªÙ‚Ø§Ø¶Ø§ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ù‡Ú¯Ø²Ø§Ú¯ÙˆÙ†â€ŒÙ‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    async predictDemand(hexagons, historicalData) {
        if (!this.model) {
            this.model = this.buildSimpleModel();
            // Ø¯Ø± Ø¹Ù…Ù„ Ø¨Ø§ÛŒØ¯ Ù…Ø¯Ù„ Ø¢Ù…ÙˆØ²Ø´ Ø¯ÛŒØ¯Ù‡ Ø¨Ø§Ø´Ø¯
        }
        
        const predictions = [];
        
        for (const hex of hexagons) {
            const features = this.getHexFeatures(hex.h3Index, historicalData);
            const featureArray = Object.values(features);
            
            const input = tf.tensor2d([featureArray]);
            const prediction = this.model.predict(input);
            const demand = prediction.dataSync()[0] * 100;
            
            predictions.push({
                h3Index: hex.h3Index,
                center: hex.center,
                predictedDemand: demand,
                confidence: this.calculateConfidence(hex, historicalData)
            });
            
            input.dispose();
            prediction.dispose();
        }
        
        return predictions;
    }
    
    calculateConfidence(hex, historicalData) {
        const hexHistory = historicalData.filter(d => d.h3Index === hex.h3Index);
        
        if (hexHistory.length < 10) return 0.3;  // Ø¯Ø§Ø¯Ù‡ Ú©Ù…
        if (hexHistory.length < 50) return 0.6;  // Ø¯Ø§Ø¯Ù‡ Ù…ØªÙˆØ³Ø·
        return 0.9;  // Ø¯Ø§Ø¯Ù‡ Ú©Ø§ÙÛŒ
    }
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import { H3HexagonLayer } from '@deck.gl/geo-layers';

export function createPredictionLayer(predictions) {
    return new H3HexagonLayer({
        id: 'demand-prediction',
        data: predictions,
        getHexagon: d => d.h3Index,
        
        getFillColor: d => {
            const intensity = d.predictedDemand / 100;
            // Ø±Ù†Ú¯ Ø§Ø² Ø³Ø¨Ø² (ØªÙ‚Ø§Ø¶Ø§ÛŒ Ú©Ù…) Ø¨Ù‡ Ù‚Ø±Ù…Ø² (ØªÙ‚Ø§Ø¶Ø§ÛŒ Ø²ÛŒØ§Ø¯)
            return [
                Math.floor(255 * intensity),
                Math.floor(255 * (1 - intensity)),
                50,
                Math.floor(150 + 100 * d.confidence)
            ];
        },
        
        getElevation: d => d.predictedDemand * 10,
        elevationScale: 1,
        extruded: true,
        
        pickable: true,
        autoHighlight: true,
        
        updateTriggers: {
            getFillColor: predictions.map(p => p.predictedDemand),
            getElevation: predictions.map(p => p.predictedDemand)
        }
    });
}</code></pre>
                </div>
            </div>

            <h3>Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªØ±Ø§ÙÛŒÚ©</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>PredictionMap.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState, useEffect, useMemo, useCallback } from 'react';
import DeckGL from '@deck.gl/react';
import { Map } from 'react-map-gl';
import { HexagonLayer } from '@deck.gl/aggregation-layers';
import { PathLayer, ScatterplotLayer } from '@deck.gl/layers';
import { TrafficPredictor } from '../ai/prediction';

function PredictionMap({ historicalData, currentData }) {
    const [predictor] = useState(() => new TrafficPredictor());
    const [predictions, setPredictions] = useState([]);
    const [isTraining, setIsTraining] = useState(false);
    const [modelReady, setModelReady] = useState(false);
    const [selectedHour, setSelectedHour] = useState(0);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÛŒØ§ Ø¢Ù…ÙˆØ²Ø´ Ù…Ø¯Ù„
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    useEffect(() => {
        async function initModel() {
            // Ø³Ø¹ÛŒ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¯Ù„ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡
            const loaded = await predictor.loadModel();
            
            if (!loaded && historicalData && historicalData.length > 100) {
                // Ø¢Ù…ÙˆØ²Ø´ Ù…Ø¯Ù„ Ø¬Ø¯ÛŒØ¯
                setIsTraining(true);
                await predictor.train(historicalData, {
                    epochs: 30,
                    onEpochEnd: (epoch, logs) => {
                        console.log(`Ø¢Ù…ÙˆØ²Ø´: ${epoch + 1}/30`);
                    }
                });
                await predictor.saveModel();
                setIsTraining(false);
            }
            
            setModelReady(true);
        }
        
        initModel();
    }, [historicalData, predictor]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø§Ø¬Ø±Ø§ÛŒ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    useEffect(() => {
        if (!modelReady || !currentData || currentData.length < 24) return;
        
        const multiPredictions = predictor.predictMultiStep(currentData, 12);
        setPredictions(multiPredictions);
    }, [modelReady, currentData, predictor]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const layers = useMemo(() => {
        if (!currentData) return [];
        
        return [
            // Ù„Ø§ÛŒÙ‡ Ù‡Ú¯Ø²Ø§Ú¯ÙˆÙ†ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ¹Ù„ÛŒ
            new HexagonLayer({
                id: 'current-traffic',
                data: currentData,
                getPosition: d => d.position,
                getElevationWeight: d => d.trafficValue,
                elevationScale: 50,
                extruded: true,
                radius: 500,
                colorRange: [
                    [65, 182, 196],
                    [127, 205, 187],
                    [199, 233, 180],
                    [237, 248, 177],
                    [255, 255, 204],
                    [254, 217, 118],
                    [254, 178, 76],
                    [253, 141, 60],
                    [252, 78, 42],
                    [227, 26, 28]
                ],
                opacity: 0.8
            }),
            
            // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒâ€ŒÙ‡Ø§
            predictions.length > 0 && new ScatterplotLayer({
                id: 'predictions',
                data: predictions,
                getPosition: (d, { index }) => {
                    // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒâ€ŒÙ‡Ø§ Ø¯Ø± ÛŒÚ© Ø±Ø¯ÛŒÙ
                    const basePos = [51.3890, 35.75];
                    return [basePos[0] + index * 0.03, basePos[1]];
                },
                getRadius: d => 200 + d.value * 10,
                getFillColor: d => {
                    const intensity = d.value / 100;
                    return [
                        255 * intensity,
                        255 * (1 - intensity),
                        100,
                        200
                    ];
                },
                pickable: true
            })
        ].filter(Boolean);
    }, [currentData, predictions]);
    
    return (
        <div style={{ width: '100%', height: '100vh', position: 'relative' }}>
            <DeckGL
                initialViewState={{
                    longitude: 51.3890,
                    latitude: 35.6892,
                    zoom: 11,
                    pitch: 45
                }}
                controller={true}
                layers={layers}
            >
                <Map mapStyle="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json" />
            </DeckGL>
            
            {/* Ù¾Ù†Ù„ ÙˆØ¶Ø¹ÛŒØª */}
            <div style={{
                position: 'absolute',
                top: 20,
                right: 20,
                background: 'rgba(30, 41, 59, 0.95)',
                padding: '20px',
                borderRadius: '12px',
                color: 'white',
                minWidth: '300px'
            }}>
                <h3 style={{ margin: '0 0 15px' }}>ğŸ”® Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªØ±Ø§ÙÛŒÚ©</h3>
                
                {isTraining && (
                    <div style={{ 
                        background: 'rgba(16, 185, 129, 0.2)', 
                        padding: '10px', 
                        borderRadius: '8px',
                        marginBottom: '15px'
                    }}>
                        â³ Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…ÙˆØ²Ø´ Ù…Ø¯Ù„...
                    </div>
                )}
                
                {modelReady && !isTraining && (
                    <div style={{ 
                        background: 'rgba(16, 185, 129, 0.2)', 
                        padding: '10px', 
                        borderRadius: '8px',
                        marginBottom: '15px'
                    }}>
                        âœ… Ù…Ø¯Ù„ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª
                    </div>
                )}
                
                {/* Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒâ€ŒÙ‡Ø§ */}
                {predictions.length > 0 && (
                    <div>
                        <h4 style={{ margin: '15px 0 10px' }}>Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø³Ø§Ø¹Ø§Øª Ø¢ÛŒÙ†Ø¯Ù‡:</h4>
                        <div style={{ 
                            display: 'grid', 
                            gridTemplateColumns: 'repeat(4, 1fr)', 
                            gap: '8px' 
                        }}>
                            {predictions.map((pred, i) => (
                                <div 
                                    key={i}
                                    style={{
                                        background: `rgba(${255 * pred.value / 100}, ${255 * (1 - pred.value / 100)}, 100, 0.3)`,
                                        padding: '8px',
                                        borderRadius: '6px',
                                        textAlign: 'center',
                                        fontSize: '12px'
                                    }}
                                >
                                    <div style={{ fontWeight: 'bold' }}>{pred.hour}:00</div>
                                    <div>{pred.value.toFixed(0)}%</div>
                                </div>
                            ))}
                        </div>
                    </div>
                )}
            </div>
        </div>
    );
}

export default PredictionMap;</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 8: AI Anomaly Detection -->
        <section class="section ai-section" id="ai-anomaly">
            <div class="section-header">
                <div class="section-icon">ğŸš¨</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ù‡Ø´ØªÙ… - AI</div>
                    <h2 class="section-title">
                        <span class="ai-badge">ğŸ¤– AI</span>
                        ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ
                    </h2>
                    <p class="section-subtitle">Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ Ø¯Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ùˆ GPS</p>
                </div>
            </div>

            <div class="info-box ai">
                <div class="info-box-title">
                    <span>ğŸš¨</span>
                    Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§ÛŒ ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ù…Ú©Ø§Ù†ÛŒ
                </div>
                <div class="info-box-content">
                    <ul>
                        <li><strong>Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ù†Ø§ÙˆÚ¯Ø§Ù†:</strong> Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ø² Ù…Ø³ÛŒØ± ÛŒØ§ ØªÙˆÙ‚Ùâ€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ</li>
                        <li><strong>Ø§Ù…Ù†ÛŒØª:</strong> ØªØ´Ø®ÛŒØµ Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ Ù…Ø´Ú©ÙˆÚ© Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ù„Ú¯ÙˆÛŒ Ø­Ø±Ú©Øª</li>
                        <li><strong>Ú©Ù†ØªØ±Ù„ Ú©ÛŒÙÛŒØª:</strong> Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ GPS Ù†Ø§Ø¯Ø±Ø³Øª</li>
                        <li><strong>Ù¾Ø§ÛŒØ´ ØªØ±Ø§ÙÛŒÚ©:</strong> ØªØ´Ø®ÛŒØµ ØªØµØ§Ø¯ÙØ§Øª ÛŒØ§ ØªØ±Ø§ÙÛŒÚ© ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ</li>
                    </ul>
                </div>
            </div>

            <h3>Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ¤–</span>
                        <span>ai/anomaly.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">/**
 * ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ø¯Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ
 */

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± ÙØ§ØµÙ„Ù‡ (Distance-based)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function detectDistanceAnomalies(points, k = 5, threshold = 2) {
    const anomalies = [];
    
    // Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ k-Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ù‡Ù…Ø³Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù†Ù‚Ø·Ù‡
    points.forEach((point, i) => {
        const distances = [];
        
        points.forEach((other, j) => {
            if (i !== j) {
                distances.push({
                    index: j,
                    distance: haversineDistance(point.position, other.position)
                });
            }
        });
        
        // Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ú¯Ø±ÙØªÙ† k Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ†
        distances.sort((a, b) => a.distance - b.distance);
        const kNearest = distances.slice(0, k);
        
        // Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† ÙØ§ØµÙ„Ù‡ Ø§Ø² k Ù‡Ù…Ø³Ø§ÛŒÙ‡
        const avgDistance = kNearest.reduce((sum, d) => sum + d.distance, 0) / k;
        
        point.avgKDistance = avgDistance;
    });
    
    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ùˆ Ø§Ù†Ø­Ø±Ø§Ù Ù…Ø¹ÛŒØ§Ø±
    const allDistances = points.map(p => p.avgKDistance);
    const mean = allDistances.reduce((a, b) => a + b, 0) / allDistances.length;
    const std = Math.sqrt(
        allDistances.reduce((sum, d) => sum + Math.pow(d - mean, 2), 0) / allDistances.length
    );
    
    // Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒâ€ŒÙ‡Ø§
    points.forEach(point => {
        const zScore = (point.avgKDistance - mean) / std;
        point.isAnomaly = zScore > threshold;
        point.anomalyScore = zScore;
    });
    
    return points;
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ø¯Ø± Ù…Ø³ÛŒØ± (Trajectory Anomaly)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function detectTrajectoryAnomalies(trajectory, options = {}) {
    const {
        speedThreshold = 200,    // Ø­Ø¯Ø§Ú©Ø«Ø± Ø³Ø±Ø¹Øª Ù…Ø¬Ø§Ø² (km/h)
        angleThreshold = 120,    // Ø­Ø¯Ø§Ú©Ø«Ø± Ø²Ø§ÙˆÛŒÙ‡ Ú†Ø±Ø®Ø´ (Ø¯Ø±Ø¬Ù‡)
        minPoints = 3
    } = options;
    
    if (trajectory.length < minPoints) {
        return { anomalies: [], trajectory };
    }
    
    const anomalies = [];
    
    for (let i = 1; i < trajectory.length; i++) {
        const current = trajectory[i];
        const previous = trajectory[i - 1];
        
        // Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡
        const distance = haversineDistance(previous.position, current.position);
        
        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø²Ù…Ø§Ù† (Ø§Ú¯Ø± timestamp Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Øª)
        const timeDiff = current.timestamp && previous.timestamp ?
            (current.timestamp - previous.timestamp) / 1000 / 3600 : 1; // Ø³Ø§Ø¹Øª
        
        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø³Ø±Ø¹Øª
        const speed = timeDiff > 0 ? distance / timeDiff : 0;
        
        current.speed = speed;
        current.distance = distance;
        
        // ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ø³Ø±Ø¹Øª
        if (speed > speedThreshold) {
            anomalies.push({
                index: i,
                type: 'speed',
                value: speed,
                threshold: speedThreshold,
                point: current,
                message: `Ø³Ø±Ø¹Øª ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ: ${speed.toFixed(1)} km/h`
            });
            current.isSpeedAnomaly = true;
        }
        
        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø²Ø§ÙˆÛŒÙ‡ Ú†Ø±Ø®Ø´
        if (i >= 2) {
            const prev2 = trajectory[i - 2];
            const angle = calculateTurnAngle(prev2.position, previous.position, current.position);
            current.turnAngle = angle;
            
            if (Math.abs(angle) > angleThreshold) {
                anomalies.push({
                    index: i,
                    type: 'angle',
                    value: angle,
                    threshold: angleThreshold,
                    point: current,
                    message: `Ú†Ø±Ø®Ø´ Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ: ${angle.toFixed(1)}Â°`
                });
                current.isAngleAnomaly = true;
            }
        }
        
        // ØªØ´Ø®ÛŒØµ Ù¾Ø±Ø´ Ù…Ú©Ø§Ù†ÛŒ (teleportation)
        if (distance > 10 && timeDiff < 0.01) {  // Ø¨ÛŒØ´ Ø§Ø² 10 Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¯Ø± Ú©Ù…ØªØ± Ø§Ø² 36 Ø«Ø§Ù†ÛŒÙ‡
            anomalies.push({
                index: i,
                type: 'teleport',
                value: distance,
                point: current,
                message: `Ù¾Ø±Ø´ Ù…Ú©Ø§Ù†ÛŒ: ${distance.toFixed(2)} km`
            });
            current.isTeleportAnomaly = true;
        }
    }
    
    return { anomalies, trajectory };
}

function calculateTurnAngle(p1, p2, p3) {
    const bearing1 = calculateBearing(p1, p2);
    const bearing2 = calculateBearing(p2, p3);
    let angle = bearing2 - bearing1;
    
    // Ù†Ø±Ù…Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¨Ù‡ [-180, 180]
    while (angle > 180) angle -= 360;
    while (angle < -180) angle += 360;
    
    return angle;
}

function calculateBearing(p1, p2) {
    const lat1 = toRad(p1[1]);
    const lat2 = toRad(p2[1]);
    const dLon = toRad(p2[0] - p1[0]);
    
    const y = Math.sin(dLon) * Math.cos(lat2);
    const x = Math.cos(lat1) * Math.sin(lat2) - 
              Math.sin(lat1) * Math.cos(lat2) * Math.cos(dLon);
    
    return toDeg(Math.atan2(y, x));
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ø§Ù„Ú¯Ùˆ (Pattern-based)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function detectPatternAnomalies(trips, normalPatterns) {
    /**
     * trips: Ø¢Ø±Ø§ÛŒÙ‡ Ø³ÙØ±Ù‡Ø§
     * normalPatterns: Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø¹Ø§Ø¯ÛŒ (Ø§Ø² ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´Ø¯Ù‡)
     */
    
    const anomalies = [];
    
    trips.forEach(trip => {
        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³ÙØ±
        const features = extractTripFeatures(trip);
        
        // Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø¹Ø§Ø¯ÛŒ
        let minDistance = Infinity;
        let closestPattern = null;
        
        normalPatterns.forEach(pattern => {
            const distance = calculateFeatureDistance(features, pattern.features);
            if (distance < minDistance) {
                minDistance = distance;
                closestPattern = pattern;
            }
        });
        
        // Ø¢Ø³ØªØ§Ù†Ù‡ Ø§Ù†Ø­Ø±Ø§Ù
        const threshold = closestPattern ? closestPattern.threshold : 2;
        
        if (minDistance > threshold) {
            anomalies.push({
                trip,
                features,
                distance: minDistance,
                threshold,
                closestPattern,
                message: 'Ø³ÙØ± Ø¨Ø§ Ø§Ù„Ú¯ÙˆÛŒ ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ'
            });
            trip.isPatternAnomaly = true;
        }
        
        trip.patternDistance = minDistance;
    });
    
    return anomalies;
}

function extractTripFeatures(trip) {
    const points = trip.points;
    const n = points.length;
    
    if (n < 2) return null;
    
    // ÙØ§ØµÙ„Ù‡ Ú©Ù„
    let totalDistance = 0;
    for (let i = 1; i < n; i++) {
        totalDistance += haversineDistance(points[i - 1].position, points[i].position);
    }
    
    // Ù…Ø¯Øª Ø²Ù…Ø§Ù†
    const duration = points[n - 1].timestamp - points[0].timestamp;
    
    // Ø³Ø±Ø¹Øª Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†
    const avgSpeed = totalDistance / (duration / 1000 / 3600);
    
    // ØªØ¹Ø¯Ø§Ø¯ ØªÙˆÙ‚Ùâ€ŒÙ‡Ø§
    let stops = 0;
    for (let i = 1; i < n; i++) {
        if (points[i].speed < 2) {  // Ø³Ø±Ø¹Øª Ú©Ù…ØªØ± Ø§Ø² 2 km/h
            stops++;
        }
    }
    
    // ÙØ§ØµÙ„Ù‡ Ù…Ø³ØªÙ‚ÛŒÙ…
    const directDistance = haversineDistance(points[0].position, points[n - 1].position);
    
    // Ù†Ø³Ø¨Øª Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ù…Ø³ÛŒØ±
    const complexity = totalDistance / (directDistance || 1);
    
    return {
        totalDistance,
        duration,
        avgSpeed,
        stops,
        directDistance,
        complexity,
        startHour: new Date(points[0].timestamp).getHours(),
        endHour: new Date(points[n - 1].timestamp).getHours()
    };
}

function calculateFeatureDistance(f1, f2) {
    if (!f1 || !f2) return Infinity;
    
    // ÙØ§ØµÙ„Ù‡ Ø§Ù‚Ù„ÛŒØ¯Ø³ÛŒ Ù†Ø±Ù…Ø§Ù„â€ŒØ´Ø¯Ù‡
    return Math.sqrt(
        Math.pow((f1.totalDistance - f2.totalDistance) / f2.totalDistance, 2) +
        Math.pow((f1.duration - f2.duration) / f2.duration, 2) +
        Math.pow((f1.avgSpeed - f2.avgSpeed) / f2.avgSpeed, 2) +
        Math.pow((f1.complexity - f2.complexity) / f2.complexity, 2)
    );
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function haversineDistance(p1, p2) {
    const R = 6371;
    const dLat = toRad(p2[1] - p1[1]);
    const dLon = toRad(p2[0] - p1[0]);
    
    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
              Math.cos(toRad(p1[1])) * Math.cos(toRad(p2[1])) *
              Math.sin(dLon / 2) * Math.sin(dLon / 2);
    
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    
    return R * c;
}

function toRad(deg) { return deg * Math.PI / 180; }
function toDeg(rad) { return rad * 180 / Math.PI; }</code></pre>
                </div>
            </div>

            <h3>Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ù†Ù…Ø§ÛŒØ´ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒâ€ŒÙ‡Ø§</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>AnomalyMap.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState, useMemo, useCallback } from 'react';
import DeckGL from '@deck.gl/react';
import { Map } from 'react-map-gl';
import { PathLayer, ScatterplotLayer, IconLayer } from '@deck.gl/layers';
import { 
    detectDistanceAnomalies, 
    detectTrajectoryAnomalies 
} from '../ai/anomaly';

function AnomalyMap({ trajectoryData, pointsData }) {
    const [showAnomaliesOnly, setShowAnomaliesOnly] = useState(false);
    const [anomalyType, setAnomalyType] = useState('all');
    const [speedThreshold, setSpeedThreshold] = useState(120);
    const [angleThreshold, setAngleThreshold] = useState(90);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒâ€ŒÙ‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const trajectoryResult = useMemo(() => {
        if (!trajectoryData || trajectoryData.length === 0) return null;
        
        return detectTrajectoryAnomalies(trajectoryData, {
            speedThreshold,
            angleThreshold
        });
    }, [trajectoryData, speedThreshold, angleThreshold]);
    
    const pointsResult = useMemo(() => {
        if (!pointsData || pointsData.length === 0) return null;
        
        return detectDistanceAnomalies(pointsData, 5, 2);
    }, [pointsData]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ÙÛŒÙ„ØªØ± Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒâ€ŒÙ‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const filteredAnomalies = useMemo(() => {
        if (!trajectoryResult) return [];
        
        let anomalies = trajectoryResult.anomalies;
        
        if (anomalyType !== 'all') {
            anomalies = anomalies.filter(a => a.type === anomalyType);
        }
        
        return anomalies;
    }, [trajectoryResult, anomalyType]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const layers = useMemo(() => {
        const layersList = [];
        
        // Ù„Ø§ÛŒÙ‡ Ù…Ø³ÛŒØ±
        if (trajectoryResult && !showAnomaliesOnly) {
            layersList.push(
                new PathLayer({
                    id: 'trajectory',
                    data: [{
                        path: trajectoryResult.trajectory.map(p => p.position),
                        color: [100, 100, 200]
                    }],
                    getPath: d => d.path,
                    getColor: d => d.color,
                    getWidth: 3,
                    widthMinPixels: 2,
                    rounded: true
                })
            );
        }
        
        // Ù„Ø§ÛŒÙ‡ Ù†Ù‚Ø§Ø· Ù…Ø³ÛŒØ± Ø¨Ø§ Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³Ø±Ø¹Øª
        if (trajectoryResult) {
            layersList.push(
                new ScatterplotLayer({
                    id: 'trajectory-points',
                    data: trajectoryResult.trajectory.filter(p => 
                        !showAnomaliesOnly || p.isSpeedAnomaly || p.isAngleAnomaly || p.isTeleportAnomaly
                    ),
                    getPosition: d => d.position,
                    getRadius: d => {
                        if (d.isSpeedAnomaly || d.isAngleAnomaly || d.isTeleportAnomaly) {
                            return 150;
                        }
                        return 50;
                    },
                    getFillColor: d => {
                        if (d.isTeleportAnomaly) return [255, 0, 255, 200];  // Ø¨Ù†ÙØ´ - Ù¾Ø±Ø´ Ù…Ú©Ø§Ù†ÛŒ
                        if (d.isSpeedAnomaly) return [255, 0, 0, 200];       // Ù‚Ø±Ù…Ø² - Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§
                        if (d.isAngleAnomaly) return [255, 165, 0, 200];     // Ù†Ø§Ø±Ù†Ø¬ÛŒ - Ú†Ø±Ø®Ø´ Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ
                        
                        // Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³Ø±Ø¹Øª
                        const speedRatio = Math.min(d.speed / speedThreshold, 1);
                        return [
                            Math.floor(255 * speedRatio),
                            Math.floor(255 * (1 - speedRatio)),
                            100,
                            150
                        ];
                    },
                    pickable: true,
                    stroked: true,
                    getLineColor: d => {
                        if (d.isSpeedAnomaly || d.isAngleAnomaly || d.isTeleportAnomaly) {
                            return [255, 255, 255];
                        }
                        return [0, 0, 0, 0];
                    },
                    lineWidthMinPixels: 2
                })
            );
        }
        
        // Ù„Ø§ÛŒÙ‡ Ù†Ù‚Ø§Ø· Ø¨Ø§ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ ÙØ§ØµÙ„Ù‡â€ŒØ§ÛŒ
        if (pointsResult) {
            layersList.push(
                new ScatterplotLayer({
                    id: 'distance-anomalies',
                    data: pointsResult.filter(p => 
                        !showAnomaliesOnly || p.isAnomaly
                    ),
                    getPosition: d => d.position,
                    getRadius: d => d.isAnomaly ? 200 : 80,
                    getFillColor: d => {
                        if (d.isAnomaly) {
                            const intensity = Math.min(d.anomalyScore / 5, 1);
                            return [255, Math.floor(255 * (1 - intensity)), 0, 200];
                        }
                        return [100, 200, 100, 150];
                    },
                    pickable: true
                })
            );
        }
        
        // Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ù‡Ø´Ø¯Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒâ€ŒÙ‡Ø§
        if (filteredAnomalies.length > 0) {
            layersList.push(
                new IconLayer({
                    id: 'anomaly-icons',
                    data: filteredAnomalies,
                    getPosition: d => d.point.position,
                    getIcon: d => ({
                        url: d.type === 'speed' ? '/icons/speed-warning.png' :
                             d.type === 'angle' ? '/icons/turn-warning.png' :
                             '/icons/teleport-warning.png',
                        width: 64,
                        height: 64,
                        anchorY: 64
                    }),
                    getSize: 40,
                    pickable: true
                })
            );
        }
        
        return layersList;
    }, [trajectoryResult, pointsResult, filteredAnomalies, showAnomaliesOnly, speedThreshold]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Tooltip
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const getTooltip = useCallback(({ object }) => {
        if (!object) return null;
        
        let content = '';
        
        if (object.isSpeedAnomaly) {
            content = `ğŸš¨ Ø³Ø±Ø¹Øª ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ: ${object.speed?.toFixed(1)} km/h`;
        } else if (object.isAngleAnomaly) {
            content = `âš ï¸ Ú†Ø±Ø®Ø´ Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ: ${object.turnAngle?.toFixed(1)}Â°`;
        } else if (object.isTeleportAnomaly) {
            content = `ğŸ“ Ù¾Ø±Ø´ Ù…Ú©Ø§Ù†ÛŒ: ${object.distance?.toFixed(2)} km`;
        } else if (object.isAnomaly) {
            content = `ğŸ”´ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ ÙØ§ØµÙ„Ù‡â€ŒØ§ÛŒ\nØ§Ù…ØªÛŒØ§Ø²: ${object.anomalyScore?.toFixed(2)}`;
        } else if (object.speed !== undefined) {
            content = `Ø³Ø±Ø¹Øª: ${object.speed?.toFixed(1)} km/h`;
        } else if (object.message) {
            content = object.message;
        }
        
        return content ? {
            html: `<div style="direction:rtl; font-family:Vazirmatn; padding:8px;">${content}</div>`,
            style: {
                backgroundColor: object.isSpeedAnomaly || object.isAngleAnomaly || object.isTeleportAnomaly || object.isAnomaly ?
                    'rgba(220, 38, 38, 0.95)' : 'rgba(30, 41, 59, 0.95)',
                color: 'white',
                borderRadius: '8px'
            }
        } : null;
    }, []);
    
    return (
        <div style={{ width: '100%', height: '100vh', position: 'relative' }}>
            <DeckGL
                initialViewState={{
                    longitude: 51.3890,
                    latitude: 35.6892,
                    zoom: 12,
                    pitch: 30
                }}
                controller={true}
                layers={layers}
                getTooltip={getTooltip}
            >
                <Map mapStyle="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json" />
            </DeckGL>
            
            {/* Ù¾Ù†Ù„ Ú©Ù†ØªØ±Ù„ */}
            <div style={{
                position: 'absolute',
                top: 20,
                right: 20,
                background: 'rgba(30, 41, 59, 0.95)',
                padding: '20px',
                borderRadius: '12px',
                color: 'white',
                minWidth: '300px',
                maxHeight: '80vh',
                overflowY: 'auto'
            }}>
                <h3 style={{ margin: '0 0 15px', display: 'flex', alignItems: 'center', gap: '8px' }}>
                    ğŸš¨ ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ
                </h3>
                
                {/* ÙÛŒÙ„ØªØ±Ù‡Ø§ */}
                <div style={{ marginBottom: '15px' }}>
                    <label style={{ display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer' }}>
                        <input
                            type="checkbox"
                            checked={showAnomaliesOnly}
                            onChange={e => setShowAnomaliesOnly(e.target.checked)}
                        />
                        ÙÙ‚Ø· Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒâ€ŒÙ‡Ø§
                    </label>
                </div>
                
                <div style={{ marginBottom: '15px' }}>
                    <label style={{ display: 'block', marginBottom: '5px', fontSize: '14px' }}>
                        Ù†ÙˆØ¹ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ:
                    </label>
                    <select
                        value={anomalyType}
                        onChange={e => setAnomalyType(e.target.value)}
                        style={{
                            width: '100%',
                            padding: '8px',
                            borderRadius: '6px',
                            border: 'none',
                            background: '#374151',
                            color: 'white'
                        }}
                    >
                        <option value="all">Ù‡Ù…Ù‡</option>
                        <option value="speed">Ø³Ø±Ø¹Øª ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ</option>
                        <option value="angle">Ú†Ø±Ø®Ø´ Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ</option>
                        <option value="teleport">Ù¾Ø±Ø´ Ù…Ú©Ø§Ù†ÛŒ</option>
                    </select>
                </div>
                
                {/* Ø¢Ø³ØªØ§Ù†Ù‡â€ŒÙ‡Ø§ */}
                <div style={{ marginBottom: '15px' }}>
                    <label style={{ display: 'block', marginBottom: '5px', fontSize: '14px' }}>
                        Ø¢Ø³ØªØ§Ù†Ù‡ Ø³Ø±Ø¹Øª: {speedThreshold} km/h
                    </label>
                    <input
                        type="range"
                        min="50"
                        max="300"
                        value={speedThreshold}
                        onChange={e => setSpeedThreshold(parseInt(e.target.value))}
                        style={{ width: '100%' }}
                    />
                </div>
                
                <div style={{ marginBottom: '15px' }}>
                    <label style={{ display: 'block', marginBottom: '5px', fontSize: '14px' }}>
                        Ø¢Ø³ØªØ§Ù†Ù‡ Ø²Ø§ÙˆÛŒÙ‡: {angleThreshold}Â°
                    </label>
                    <input
                        type="range"
                        min="30"
                        max="180"
                        value={angleThreshold}
                        onChange={e => setAngleThreshold(parseInt(e.target.value))}
                        style={{ width: '100%' }}
                    />
                </div>
                
                {/* Ø¢Ù…Ø§Ø± */}
                <div style={{ 
                    borderTop: '1px solid #475569', 
                    paddingTop: '15px',
                    marginTop: '15px'
                }}>
                    <h4 style={{ margin: '0 0 10px', fontSize: '14px' }}>ğŸ“Š Ø¢Ù…Ø§Ø± Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒâ€ŒÙ‡Ø§</h4>
                    
                    {trajectoryResult && (
                        <div style={{ fontSize: '13px', lineHeight: '1.8' }}>
                            <div>ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ù†Ù‚Ø§Ø·: {trajectoryResult.trajectory.length}</div>
                            <div style={{ color: '#ef4444' }}>
                                ğŸ”´ Ø³Ø±Ø¹Øª ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ: {trajectoryResult.anomalies.filter(a => a.type === 'speed').length}
                            </div>
                            <div style={{ color: '#f59e0b' }}>
                                ğŸŸ  Ú†Ø±Ø®Ø´ Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ: {trajectoryResult.anomalies.filter(a => a.type === 'angle').length}
                            </div>
                            <div style={{ color: '#a855f7' }}>
                                ğŸŸ£ Ù¾Ø±Ø´ Ù…Ú©Ø§Ù†ÛŒ: {trajectoryResult.anomalies.filter(a => a.type === 'teleport').length}
                            </div>
                        </div>
                    )}
                </div>
                
                {/* Ù„ÛŒØ³Øª Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒâ€ŒÙ‡Ø§ */}
                {filteredAnomalies.length > 0 && (
                    <div style={{ 
                        borderTop: '1px solid #475569', 
                        paddingTop: '15px',
                        marginTop: '15px',
                        maxHeight: '200px',
                        overflowY: 'auto'
                    }}>
                        <h4 style={{ margin: '0 0 10px', fontSize: '14px' }}>ğŸ“‹ Ù„ÛŒØ³Øª Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒâ€ŒÙ‡Ø§</h4>
                        
                        {filteredAnomalies.slice(0, 10).map((anomaly, i) => (
                            <div 
                                key={i}
                                style={{
                                    background: 'rgba(239, 68, 68, 0.2)',
                                    padding: '8px',
                                    borderRadius: '6px',
                                    marginBottom: '8px',
                                    fontSize: '12px'
                                }}
                            >
                                <div style={{ fontWeight: 'bold' }}>
                                    {anomaly.type === 'speed' ? 'ğŸ”´ Ø³Ø±Ø¹Øª' :
                                     anomaly.type === 'angle' ? 'ğŸŸ  Ú†Ø±Ø®Ø´' : 'ğŸŸ£ Ù¾Ø±Ø´'}
                                </div>
                                <div>{anomaly.message}</div>
                            </div>
                        ))}
                        
                        {filteredAnomalies.length > 10 && (
                            <div style={{ textAlign: 'center', color: '#94a3b8', fontSize: '12px' }}>
                                Ùˆ {filteredAnomalies.length - 10} Ù…ÙˆØ±Ø¯ Ø¯ÛŒÚ¯Ø±...
                            </div>
                        )}
                    </div>
                )}
            </div>
            
            {/* Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø±Ù†Ú¯â€ŒÙ‡Ø§ */}
            <div style={{
                position: 'absolute',
                bottom: 20,
                right: 20,
                background: 'rgba(30, 41, 59, 0.95)',
                padding: '15px',
                borderRadius: '10px',
                color: 'white',
                fontSize: '12px'
            }}>
                <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>Ø±Ø§Ù‡Ù†Ù…Ø§:</div>
                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '4px' }}>
                    <span style={{ width: '12px', height: '12px', background: '#ef4444', borderRadius: '50%' }}></span>
                    Ø³Ø±Ø¹Øª ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ
                </div>
                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '4px' }}>
                    <span style={{ width: '12px', height: '12px', background: '#f59e0b', borderRadius: '50%' }}></span>
                    Ú†Ø±Ø®Ø´ Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ
                </div>
                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                    <span style={{ width: '12px', height: '12px', background: '#a855f7', borderRadius: '50%' }}></span>
                    Ù¾Ø±Ø´ Ù…Ú©Ø§Ù†ÛŒ
                </div>
            </div>
        </div>
    );
}

export default AnomalyMap;</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 9: AI NLP -->
        <section class="section ai-section" id="ai-nlp">
            <div class="section-header">
                <div class="section-icon">ğŸ’¬</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ù†Ù‡Ù… - AI</div>
                    <h2 class="section-title">
                        <span class="ai-badge">ğŸ¤– AI</span>
                        NLP Ù…Ú©Ø§Ù†ÛŒ
                    </h2>
                    <p class="section-subtitle">Ø¬Ø³ØªØ¬ÙˆÛŒ Ø²Ø¨Ø§Ù† Ø·Ø¨ÛŒØ¹ÛŒ Ùˆ ØªØ­Ù„ÛŒÙ„ Ù…ØªÙ† Ù…Ú©Ø§Ù†ÛŒ</p>
                </div>
            </div>

            <div class="info-box ai">
                <div class="info-box-title">
                    <span>ğŸ’¬</span>
                    NLP Ù…Ú©Ø§Ù†ÛŒ Ú†ÛŒØ³ØªØŸ
                </div>
                <div class="info-box-content">
                    Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø²Ø¨Ø§Ù† Ø·Ø¨ÛŒØ¹ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ Ø¨Ø§ Ù†Ù‚Ø´Ù‡:
                    <ul>
                        <li><strong>Ø¬Ø³ØªØ¬ÙˆÛŒ Ø·Ø¨ÛŒØ¹ÛŒ:</strong> "Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù†Ø²Ø¯ÛŒÚ© Ù…ÛŒØ¯Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ"</li>
                        <li><strong>Ø¯Ø³ØªÙˆØ±Ø§Øª ØµÙˆØªÛŒ:</strong> "Ù†Ù‚Ø´Ù‡ Ø±Ø§ Ø¨Ù‡ Ø³Ù…Øª Ø´Ù…Ø§Ù„ Ø¨Ø¨Ø±"</li>
                        <li><strong>Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…ÙˆÙ‚Ø¹ÛŒØª:</strong> Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ Ø§Ø² Ù…ØªÙ†</li>
                        <li><strong>Geocoding Ù‡ÙˆØ´Ù…Ù†Ø¯:</strong> ØªØ¨Ø¯ÛŒÙ„ Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù…Ù†Ø¸Ù… Ø¨Ù‡ Ù…Ø®ØªØµØ§Øª</li>
                    </ul>
                </div>
            </div>

            <h3>Ø³ÛŒØ³ØªÙ… Ø¬Ø³ØªØ¬ÙˆÛŒ Ø²Ø¨Ø§Ù† Ø·Ø¨ÛŒØ¹ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ¤–</span>
                        <span>ai/nlp.js</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">/**
 * Ø³ÛŒØ³ØªÙ… NLP Ù…Ú©Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ Ùˆ ØªØ¹Ø§Ù…Ù„ Ø¨Ø§ Ù†Ù‚Ø´Ù‡
 */

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø³ØªØ®Ø±Ø§Ø¬ intent Ùˆ entities Ø§Ø² Ù…ØªÙ†
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export class SpatialNLP {
    constructor() {
        // Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ intent
        this.intentPatterns = {
            search: [
                /(?:Ù¾ÛŒØ¯Ø§ Ú©Ù†|Ø¬Ø³ØªØ¬Ùˆ|Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù‡|Ú©Ø¬Ø§Ø³Øª?|Ø¨Ú¯Ø±Ø¯)\s+(.+)/i,
                /(.+)\s+(?:Ú©Ø¬Ø§Ø³Øª?|Ú©Ø¬Ø§ Ù‡Ø³Øª?)/i,
                /(?:search|find|show|where)\s+(.+)/i
            ],
            navigate: [
                /(?:Ø¨Ø±Ùˆ Ø¨Ù‡|Ù…Ø³ÛŒØ±|Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø¨Ù‡|Ø¨Ø¨Ø± Ø¨Ù‡)\s+(.+)/i,
                /(?:navigate|go to|directions to)\s+(.+)/i
            ],
            zoom: [
                /(?:Ø²ÙˆÙ…|Ø¨Ø²Ø±Ú¯Ù†Ù…Ø§ÛŒÛŒ|Ù†Ø²Ø¯ÛŒÚ©|Ø¯ÙˆØ±)\s*(Ú©Ù†|Ø´Ùˆ)?/i,
                /(?:zoom)\s*(in|out)?/i
            ],
            pan: [
                /(?:Ø¨Ø±Ùˆ|Ø­Ø±Ú©Øª)\s+(?:Ø¨Ù‡ Ø³Ù…Øª\s+)?(Ø´Ù…Ø§Ù„|Ø¬Ù†ÙˆØ¨|Ø´Ø±Ù‚|ØºØ±Ø¨)/i,
                /(?:pan|move)\s+(north|south|east|west)/i
            ],
            filter: [
                /(?:ÙÛŒÙ„ØªØ±|Ù†Ù…Ø§ÛŒØ´ ÙÙ‚Ø·|ÙÙ‚Ø·)\s+(.+)/i,
                /(?:filter|show only)\s+(.+)/i
            ],
            nearby: [
                /(.+)\s+(?:Ù†Ø²Ø¯ÛŒÚ©|Ø§Ø·Ø±Ø§Ù|Ø¯Ø± Ø­ÙˆØ§Ù„ÛŒ)\s+(.+)/i,
                /(.+)\s+(?:near|around|close to)\s+(.+)/i
            ],
            radius: [
                /(?:Ø¯Ø± Ø´Ø¹Ø§Ø¹|ØªØ§ ÙØ§ØµÙ„Ù‡)\s+(\d+)\s*(Ù…ØªØ±|Ú©ÛŒÙ„ÙˆÙ…ØªØ±|km|m)/i,
                /(?:within|radius)\s+(\d+)\s*(meters?|km|kilometers?)/i
            ]
        };
        
        // Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ
        this.placeCategories = {
            restaurant: ['Ø±Ø³ØªÙˆØ±Ø§Ù†', 'ØºØ°Ø§Ø®ÙˆØ±ÛŒ', 'Ú©Ø§ÙÙ‡', 'ÙØ³Øª ÙÙˆØ¯', 'restaurant', 'cafe', 'food'],
            hospital: ['Ø¨ÛŒÙ…Ø§Ø±Ø³ØªØ§Ù†', 'Ø¯Ø±Ù…Ø§Ù†Ú¯Ø§Ù‡', 'Ú©Ù„ÛŒÙ†ÛŒÚ©', 'hospital', 'clinic'],
            pharmacy: ['Ø¯Ø§Ø±ÙˆØ®Ø§Ù†Ù‡', 'pharmacy'],
            bank: ['Ø¨Ø§Ù†Ú©', 'Ø®ÙˆØ¯Ù¾Ø±Ø¯Ø§Ø²', 'atm', 'bank'],
            gas_station: ['Ù¾Ù…Ù¾ Ø¨Ù†Ø²ÛŒÙ†', 'Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø³ÙˆØ®Øª', 'gas station', 'fuel'],
            parking: ['Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯', 'ØªÙˆÙ‚ÙÚ¯Ø§Ù‡', 'parking'],
            mosque: ['Ù…Ø³Ø¬Ø¯', 'mosque'],
            park: ['Ù¾Ø§Ø±Ú©', 'Ø¨ÙˆØ³ØªØ§Ù†', 'park', 'garden'],
            school: ['Ù…Ø¯Ø±Ø³Ù‡', 'Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡', 'school', 'university'],
            hotel: ['Ù‡ØªÙ„', 'Ù…Ù‡Ù…Ø§Ù†Ù¾Ø°ÛŒØ±', 'hotel']
        };
        
        // Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø´Ù†Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡
        this.knownPlaces = {
            'Ù…ÛŒØ¯Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ': { position: [51.3380, 35.6997], name: 'Ù…ÛŒØ¯Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ' },
            'Ø¨Ø±Ø¬ Ù…ÛŒÙ„Ø§Ø¯': { position: [51.3753, 35.7448], name: 'Ø¨Ø±Ø¬ Ù…ÛŒÙ„Ø§Ø¯' },
            'Ø¨Ø§Ø²Ø§Ø± Ø¨Ø²Ø±Ú¯': { position: [51.4215, 35.6761], name: 'Ø¨Ø§Ø²Ø§Ø± Ø¨Ø²Ø±Ú¯ ØªÙ‡Ø±Ø§Ù†' },
            'Ù¾Ù„ Ø·Ø¨ÛŒØ¹Øª': { position: [51.4053, 35.7617], name: 'Ù¾Ù„ Ø·Ø¨ÛŒØ¹Øª' },
            'Ø¯Ø±Ø¨Ù†Ø¯': { position: [51.4193, 35.8125], name: 'Ø¯Ø±Ø¨Ù†Ø¯' },
            'ÙˆÙ„ÛŒØ¹ØµØ±': { position: [51.4103, 35.7129], name: 'Ù…ÛŒØ¯Ø§Ù† ÙˆÙ„ÛŒØ¹ØµØ±' },
            'ØªØ¬Ø±ÛŒØ´': { position: [51.4293, 35.8044], name: 'Ù…ÛŒØ¯Ø§Ù† ØªØ¬Ø±ÛŒØ´' }
        };
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ØªØ­Ù„ÛŒÙ„ Ù…ØªÙ† ÙˆØ±ÙˆØ¯ÛŒ
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    parse(text) {
        const result = {
            originalText: text,
            intent: null,
            entities: [],
            category: null,
            location: null,
            radius: null,
            direction: null,
            confidence: 0
        };
        
        // ØªØ´Ø®ÛŒØµ intent
        for (const [intent, patterns] of Object.entries(this.intentPatterns)) {
            for (const pattern of patterns) {
                const match = text.match(pattern);
                if (match) {
                    result.intent = intent;
                    result.entities = match.slice(1).filter(Boolean);
                    result.confidence = 0.8;
                    break;
                }
            }
            if (result.intent) break;
        }
        
        // Ø§Ú¯Ø± intent ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù‡ Ù†Ø´Ø¯ØŒ ÙØ±Ø¶ Ø¬Ø³ØªØ¬Ùˆ
        if (!result.intent) {
            result.intent = 'search';
            result.entities = [text];
            result.confidence = 0.5;
        }
        
        // ØªØ´Ø®ÛŒØµ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
        for (const [category, keywords] of Object.entries(this.placeCategories)) {
            if (keywords.some(kw => text.toLowerCase().includes(kw.toLowerCase()))) {
                result.category = category;
                break;
            }
        }
        
        // ØªØ´Ø®ÛŒØµ Ù…Ú©Ø§Ù† Ø´Ù†Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡
        for (const [name, place] of Object.entries(this.knownPlaces)) {
            if (text.includes(name)) {
                result.location = place;
                break;
            }
        }
        
        // ØªØ´Ø®ÛŒØµ Ø´Ø¹Ø§Ø¹
        const radiusMatch = text.match(/(\d+)\s*(Ù…ØªØ±|Ú©ÛŒÙ„ÙˆÙ…ØªØ±|km|m)/i);
        if (radiusMatch) {
            let radius = parseInt(radiusMatch[1]);
            if (radiusMatch[2].toLowerCase().includes('Ú©ÛŒÙ„ÙˆÙ…ØªØ±') || 
                radiusMatch[2].toLowerCase() === 'km') {
                radius *= 1000;
            }
            result.radius = radius;
        }
        
        // ØªØ´Ø®ÛŒØµ Ø¬Ù‡Øª
        const directionMap = {
            'Ø´Ù…Ø§Ù„': 'north', 'Ø¬Ù†ÙˆØ¨': 'south', 
            'Ø´Ø±Ù‚': 'east', 'ØºØ±Ø¨': 'west',
            'north': 'north', 'south': 'south',
            'east': 'east', 'west': 'west'
        };
        
        for (const [key, value] of Object.entries(directionMap)) {
            if (text.includes(key)) {
                result.direction = value;
                break;
            }
        }
        
        return result;
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø³ØªÙˆØ±
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    async execute(parsed, mapContext) {
        const { setViewState, searchPlaces, filterData, setSelectedLocation } = mapContext;
        
        switch (parsed.intent) {
            case 'search':
                return await this.handleSearch(parsed, mapContext);
            
            case 'navigate':
                return await this.handleNavigate(parsed, mapContext);
            
            case 'zoom':
                return this.handleZoom(parsed, mapContext);
            
            case 'pan':
                return this.handlePan(parsed, mapContext);
            
            case 'filter':
                return this.handleFilter(parsed, mapContext);
            
            case 'nearby':
                return await this.handleNearby(parsed, mapContext);
            
            default:
                return { success: false, message: 'Ø¯Ø³ØªÙˆØ± Ù‚Ø§Ø¨Ù„ ØªØ´Ø®ÛŒØµ Ù†ÛŒØ³Øª' };
        }
    }
    
    async handleSearch(parsed, { searchPlaces, setViewState, setSearchResults }) {
        const query = parsed.entities[0] || '';
        
        // Ø§Ú¯Ø± Ù…Ú©Ø§Ù† Ø´Ù†Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª
        if (parsed.location) {
            setViewState(prev => ({
                ...prev,
                longitude: parsed.location.position[0],
                latitude: parsed.location.position[1],
                zoom: 15,
                transitionDuration: 1000
            }));
            
            return {
                success: true,
                message: `Ù†Ù…Ø§ÛŒØ´ ${parsed.location.name}`,
                location: parsed.location
            };
        }
        
        // Ø¬Ø³ØªØ¬ÙˆÛŒ API
        try {
            const results = await searchPlaces(query, {
                category: parsed.category,
                radius: parsed.radius || 5000
            });
            
            if (results.length > 0) {
                setSearchResults(results);
                
                // Ø²ÙˆÙ… Ø±ÙˆÛŒ Ø§ÙˆÙ„ÛŒÙ† Ù†ØªÛŒØ¬Ù‡
                setViewState(prev => ({
                    ...prev,
                    longitude: results[0].position[0],
                    latitude: results[0].position[1],
                    zoom: 14,
                    transitionDuration: 1000
                }));
                
                return {
                    success: true,
                    message: `${results.length} Ù†ØªÛŒØ¬Ù‡ ÛŒØ§ÙØª Ø´Ø¯`,
                    results
                };
            }
            
            return { success: false, message: 'Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯' };
        } catch (error) {
            return { success: false, message: 'Ø®Ø·Ø§ Ø¯Ø± Ø¬Ø³ØªØ¬Ùˆ' };
        }
    }
    
    handleZoom(parsed, { setViewState }) {
        const text = parsed.originalText.toLowerCase();
        const zoomIn = text.includes('Ù†Ø²Ø¯ÛŒÚ©') || text.includes('Ø¨Ø²Ø±Ú¯') || text.includes('in');
        
        setViewState(prev => ({
            ...prev,
            zoom: prev.zoom + (zoomIn ? 2 : -2),
            transitionDuration: 500
        }));
        
        return {
            success: true,
            message: zoomIn ? 'Ø¨Ø²Ø±Ú¯Ù†Ù…Ø§ÛŒÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯' : 'Ú©ÙˆÚ†Ú©â€ŒÙ†Ù…Ø§ÛŒÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯'
        };
    }
    
    handlePan(parsed, { setViewState }) {
        const delta = 0.01;  // ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹ 1 Ú©ÛŒÙ„ÙˆÙ…ØªØ±
        const moves = {
            north: [0, delta],
            south: [0, -delta],
            east: [delta, 0],
            west: [-delta, 0]
        };
        
        const move = moves[parsed.direction];
        if (!move) return { success: false, message: 'Ø¬Ù‡Øª Ù†Ø§Ù…Ø´Ø®Øµ' };
        
        setViewState(prev => ({
            ...prev,
            longitude: prev.longitude + move[0],
            latitude: prev.latitude + move[1],
            transitionDuration: 500
        }));
        
        const directionNames = {
            north: 'Ø´Ù…Ø§Ù„', south: 'Ø¬Ù†ÙˆØ¨', east: 'Ø´Ø±Ù‚', west: 'ØºØ±Ø¨'
        };
        
        return {
            success: true,
            message: `Ø­Ø±Ú©Øª Ø¨Ù‡ Ø³Ù…Øª ${directionNames[parsed.direction]}`
        };
    }
    
    handleFilter(parsed, { filterData }) {
        const filterText = parsed.entities[0] || '';
        
        if (parsed.category) {
            filterData({ category: parsed.category });
            return {
                success: true,
                message: `ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ ${parsed.category}`
            };
        }
        
        filterData({ text: filterText });
        return {
            success: true,
            message: `ÙÛŒÙ„ØªØ±: ${filterText}`
        };
    }
    
    async handleNearby(parsed, mapContext) {
        const [what, where] = parsed.entities;
        
        // Ø§Ø¨ØªØ¯Ø§ Ù…Ú©Ø§Ù† Ù…Ø±Ø¬Ø¹ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†
        const locationResult = await this.handleSearch(
            { ...parsed, entities: [where], location: this.knownPlaces[where] },
            mapContext
        );
        
        if (!locationResult.success) {
            return { success: false, message: `Ù…Ú©Ø§Ù† "${where}" ÛŒØ§ÙØª Ù†Ø´Ø¯` };
        }
        
        // Ø³Ù¾Ø³ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†Ø²Ø¯ÛŒÚ©
        const center = locationResult.location?.position || 
                       locationResult.results?.[0]?.position;
        
        if (center) {
            return await this.handleSearch(
                { ...parsed, entities: [what], radius: parsed.radius || 1000 },
                { ...mapContext, center }
            );
        }
        
        return { success: false, message: 'Ø®Ø·Ø§ Ø¯Ø± Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†Ø²Ø¯ÛŒÚ©' };
    }
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø§Ø² Ù…ØªÙ† (Geoparsing)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function extractLocationsFromText(text) {
    const locations = [];
    
    // Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø¢Ø¯Ø±Ø³ ÙØ§Ø±Ø³ÛŒ
    const patterns = [
        // Ø®ÛŒØ§Ø¨Ø§Ù† + Ù†Ø§Ù…
        /(?:Ø®ÛŒØ§Ø¨Ø§Ù†|Ú©ÙˆÚ†Ù‡|Ø¨Ù„ÙˆØ§Ø±|Ù…ÛŒØ¯Ø§Ù†|Ø¨Ø²Ø±Ú¯Ø±Ø§Ù‡)\s+([Ø¢-ÛŒ\s]+)/g,
        // Ù…Ù†Ø·Ù‚Ù‡ + Ø¹Ø¯Ø¯
        /(?:Ù…Ù†Ø·Ù‚Ù‡)\s+(\d+)/g,
        // Ù¾Ù„Ø§Ú©
        /(?:Ù¾Ù„Ø§Ú©)\s+(\d+)/g,
        // Ú©Ø¯ Ù¾Ø³ØªÛŒ
        /(\d{10})/g
    ];
    
    patterns.forEach(pattern => {
        let match;
        while ((match = pattern.exec(text)) !== null) {
            locations.push({
                text: match[0],
                value: match[1],
                index: match.index
            });
        }
    });
    
    return locations;
}</code></pre>
                </div>
            </div>

            <h3>Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø¬Ø³ØªØ¬ÙˆÛŒ Ø²Ø¨Ø§Ù† Ø·Ø¨ÛŒØ¹ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>NLPSearchMap.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState, useCallback, useRef, useMemo } from 'react';
import DeckGL from '@deck.gl/react';
import { Map } from 'react-map-gl';
import { ScatterplotLayer, IconLayer, TextLayer } from '@deck.gl/layers';
import { FlyToInterpolator } from '@deck.gl/core';
import { SpatialNLP } from '../ai/nlp';

function NLPSearchMap() {
    const [viewState, setViewState] = useState({
        longitude: 51.3890,
        latitude: 35.6892,
        zoom: 11,
        pitch: 0,
        bearing: 0
    });
    
    const [query, setQuery] = useState('');
    const [searchResults, setSearchResults] = useState([]);
    const [messages, setMessages] = useState([]);
    const [isProcessing, setIsProcessing] = useState(false);
    
    const nlp = useRef(new SpatialNLP());
    const inputRef = useRef(null);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ API Ø¬Ø³ØªØ¬Ùˆ
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const searchPlaces = useCallback(async (query, options = {}) => {
        // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ - Ø¯Ø± Ø¹Ù…Ù„ Ø§Ø² API ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯
        await new Promise(resolve => setTimeout(resolve, 500));
        
        const mockResults = [
            { id: 1, name: 'Ø±Ø³ØªÙˆØ±Ø§Ù† Ø³Ù†ØªÛŒ', position: [51.39, 35.70], category: 'restaurant' },
            { id: 2, name: 'Ú©Ø§ÙÙ‡ Ù…Ø¯Ø±Ù†', position: [51.41, 35.69], category: 'restaurant' },
            { id: 3, name: 'ÙØ³Øª ÙÙˆØ¯', position: [51.38, 35.71], category: 'restaurant' }
        ];
        
        if (options.category) {
            return mockResults.filter(r => r.category === options.category);
        }
        
        return mockResults.filter(r => 
            r.name.includes(query) || query.includes(r.category)
        );
    }, []);
    
    const filterData = useCallback((filter) => {
        console.log('Filter:', filter);
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø³ØªÙˆØ±
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const handleSubmit = useCallback(async (e) => {
        e.preventDefault();
        if (!query.trim() || isProcessing) return;
        
        setIsProcessing(true);
        
        // Ø§ÙØ²ÙˆØ¯Ù† Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±
        const userMessage = { type: 'user', text: query };
        setMessages(prev => [...prev, userMessage]);
        
        try {
            // ØªØ­Ù„ÛŒÙ„ Ù…ØªÙ†
            const parsed = nlp.current.parse(query);
            console.log('Parsed:', parsed);
            
            // Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø³ØªÙˆØ±
            const result = await nlp.current.execute(parsed, {
                setViewState: (updater) => {
                    setViewState(prev => ({
                        ...updater(prev),
                        transitionInterpolator: new FlyToInterpolator(),
                        transitionDuration: 1000
                    }));
                },
                searchPlaces,
                filterData,
                setSearchResults
            });
            
            // Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø§Ø³Ø®
            const botMessage = {
                type: 'bot',
                text: result.message,
                success: result.success,
                results: result.results
            };
            setMessages(prev => [...prev, botMessage]);
            
        } catch (error) {
            setMessages(prev => [...prev, {
                type: 'bot',
                text: 'Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø³ØªÙˆØ±',
                success: false
            }]);
        }
        
        setQuery('');
        setIsProcessing(false);
    }, [query, isProcessing, searchPlaces, filterData]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const suggestions = [
        'Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù†Ø²Ø¯ÛŒÚ© Ù…ÛŒØ¯Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ',
        'Ø¨Ø±Ùˆ Ø¨Ù‡ Ø¨Ø±Ø¬ Ù…ÛŒÙ„Ø§Ø¯',
        'Ø²ÙˆÙ… Ú©Ù†',
        'Ø­Ø±Ú©Øª Ø¨Ù‡ Ø³Ù…Øª Ø´Ù…Ø§Ù„',
        'Ø¯Ø§Ø±ÙˆØ®Ø§Ù†Ù‡ Ø¯Ø± Ø´Ø¹Ø§Ø¹ 1 Ú©ÛŒÙ„ÙˆÙ…ØªØ±',
        'ÙÛŒÙ„ØªØ± Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'
    ];
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const layers = useMemo(() => {
        if (searchResults.length === 0) return [];
        
        return [
            new ScatterplotLayer({
                id: 'search-results',
                data: searchResults,
                getPosition: d => d.position,
                getRadius: 100,
                getFillColor: [99, 102, 241, 200],
                stroked: true,
                getLineColor: [255, 255, 255],
                lineWidthMinPixels: 2,
                pickable: true
            }),
            new TextLayer({
                id: 'result-labels',
                data: searchResults,
                getPosition: d => d.position,
                getText: d => d.name,
                getSize: 14,
                getColor: [255, 255, 255],
                getTextAnchor: 'middle',
                getAlignmentBaseline: 'top',
                getPixelOffset: [0, 15]
            })
        ];
    }, [searchResults]);
    
    return (
        <div style={{ width: '100%', height: '100vh', position: 'relative' }}>
            <DeckGL
                viewState={viewState}
                onViewStateChange={({ viewState }) => setViewState(viewState)}
                controller={true}
                layers={layers}
                getTooltip={({ object }) => object && {
                    html: `<div style="direction:rtl">${object.name}</div>`,
                    style: { backgroundColor: '#1e293b', color: 'white', padding: '8px', borderRadius: '6px' }
                }}
            >
                <Map mapStyle="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json" />
            </DeckGL>
            
            {/* Ù¾Ù†Ù„ Ú†Øª */}
            <div style={{
                position: 'absolute',
                bottom: 20,
                left: '50%',
                transform: 'translateX(-50%)',
                width: '90%',
                maxWidth: '600px',
                background: 'rgba(30, 41, 59, 0.95)',
                borderRadius: '16px',
                overflow: 'hidden',
                boxShadow: '0 8px 32px rgba(0,0,0,0.3)'
            }}>
                {/* Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ */}
                {messages.length > 0 && (
                    <div style={{
                        maxHeight: '200px',
                        overflowY: 'auto',
                        padding: '15px',
                        borderBottom: '1px solid #374151'
                    }}>
                        {messages.slice(-5).map((msg, i) => (
                            <div 
                                key={i}
                                style={{
                                    marginBottom: '10px',
                                    textAlign: msg.type === 'user' ? 'left' : 'right'
                                }}
                            >
                                <span style={{
                                    display: 'inline-block',
                                    background: msg.type === 'user' ? '#374151' : 
                                               msg.success ? '#10b981' : '#ef4444',
                                    color: 'white',
                                    padding: '8px 12px',
                                    borderRadius: '12px',
                                    fontSize: '14px',
                                    maxWidth: '80%'
                                }}>
                                    {msg.type === 'bot' && (msg.success ? 'âœ… ' : 'âŒ ')}
                                    {msg.text}
                                </span>
                            </div>
                        ))}
                    </div>
                )}
                
                {/* Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª */}
                {messages.length === 0 && (
                    <div style={{ padding: '15px', borderBottom: '1px solid #374151' }}>
                        <div style={{ color: '#94a3b8', fontSize: '12px', marginBottom: '10px' }}>
                            Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª:
                        </div>
                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>
                            {suggestions.map((s, i) => (
                                <button
                                    key={i}
                                    onClick={() => setQuery(s)}
                                    style={{
                                        background: '#374151',
                                        border: 'none',
                                        color: '#e2e8f0',
                                        padding: '6px 12px',
                                        borderRadius: '20px',
                                        fontSize: '12px',
                                        cursor: 'pointer'
                                    }}
                                >
                                    {s}
                                </button>
                            ))}
                        </div>
                    </div>
                )}
                
                {/* ÙØ±Ù… ÙˆØ±ÙˆØ¯ÛŒ */}
                <form onSubmit={handleSubmit} style={{ display: 'flex', padding: '15px' }}>
                    <input
                        ref={inputRef}
                        type="text"
                        value={query}
                        onChange={e => setQuery(e.target.value)}
                        placeholder="Ø¯Ø³ØªÙˆØ± Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯... (Ù…Ø«Ø§Ù„: Ø±Ø³ØªÙˆØ±Ø§Ù† Ù†Ø²Ø¯ÛŒÚ© Ù…ÛŒØ¯Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ)"
                        style={{
                            flex: 1,
                            background: '#1e293b',
                            border: '1px solid #374151',
                            borderRadius: '10px',
                            padding: '12px 16px',
                            color: 'white',
                            fontSize: '14px',
                            outline: 'none',
                            direction: 'rtl'
                        }}
                        disabled={isProcessing}
                    />
                    <button
                        type="submit"
                        disabled={isProcessing || !query.trim()}
                        style={{
                            background: isProcessing ? '#374151' : 'linear-gradient(135deg, #6366f1, #06b6d4)',
                            border: 'none',
                            borderRadius: '10px',
                            padding: '12px 20px',
                            marginRight: '10px',
                            color: 'white',
                            cursor: isProcessing ? 'wait' : 'pointer',
                            fontSize: '14px'
                        }}
                    >
                        {isProcessing ? 'â³' : 'ğŸ”'}
                    </button>
                </form>
            </div>
        </div>
    );
}

export default NLPSearchMap;</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 10: Performance -->
        <section class="section" id="performance">
            <div class="section-header">
                <div class="section-icon">âš¡</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø¯Ù‡Ù…</div>
                    <h2 class="section-title">Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯</h2>
                    <p class="section-subtitle">ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯ Ú©Ø§Ø±Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯</p>
                </div>
            </div>

            <h3>Ø§ØµÙˆÙ„ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h3>
            <div class="info-box info">
                <div class="info-box-title">
                    <span>ğŸ’¡</span>
                    Ù†Ú©Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯
                </div>
                <div class="info-box-content">
                    <ul>
                        <li><strong>Memoization:</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² useMemo Ùˆ useCallback</li>
                        <li><strong>Data Aggregation:</strong> ØªØ¬Ù…ÛŒØ¹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ GPU</li>
                        <li><strong>Level of Detail:</strong> Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨Ø± Ø§Ø³Ø§Ø³ zoom</li>
                        <li><strong>Web Workers:</strong> Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø³Ù†Ú¯ÛŒÙ† Ø¯Ø± thread Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡</li>
                        <li><strong>Binary Data:</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§ÛŒÙ†Ø±ÛŒ</li>
                    </ul>
                </div>
            </div>

            <h3>ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>OptimizedMap.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState, useMemo, useCallback, useEffect } from 'react';
import DeckGL from '@deck.gl/react';
import { Map } from 'react-map-gl';
import { ScatterplotLayer } from '@deck.gl/layers';
import { DataFilterExtension } from '@deck.gl/extensions';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. Memoization - Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø±Ù†Ø¯Ø± Ù…Ø¬Ø¯Ø¯
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function OptimizedMap({ data }) {
    const [viewState, setViewState] = useState({
        longitude: 51.3890,
        latitude: 35.6892,
        zoom: 10
    });
    
    const [filter, setFilter] = useState({ minValue: 0, maxValue: 100 });
    
    // Memoize Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
    const layers = useMemo(() => [
        new ScatterplotLayer({
            id: 'points',
            data,
            getPosition: d => d.position,
            getRadius: d => d.value,
            getFillColor: d => d.color,
            
            // ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ ÙÛŒÙ„ØªØ± GPU
            extensions: [new DataFilterExtension({ filterSize: 1 })],
            getFilterValue: d => d.value,
            filterRange: [filter.minValue, filter.maxValue],
            
            // Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ picking
            pickable: true,
            autoHighlight: true,
            
            // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¹Ù…Ù„Ú©Ø±Ø¯
            updateTriggers: {
                getFilterValue: filter
            }
        })
    ], [data, filter]);
    
    // Memoize handler
    const onViewStateChange = useCallback(({ viewState }) => {
        setViewState(viewState);
    }, []);
    
    return (
        <DeckGL
            viewState={viewState}
            onViewStateChange={onViewStateChange}
            layers={layers}
            controller={true}
        >
            <Map mapStyle="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json" />
        </DeckGL>
    );
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 2. Level of Detail - Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨Ø± Ø§Ø³Ø§Ø³ zoom
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function LODMap({ data }) {
    const [viewState, setViewState] = useState({
        longitude: 51.3890,
        latitude: 35.6892,
        zoom: 10
    });
    
    // Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø§Ø¯Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ zoom
    const visibleData = useMemo(() => {
        const zoom = viewState.zoom;
        
        if (zoom < 8) {
            // zoom Ú©Ù…: ÙÙ‚Ø· Ø´Ù‡Ø±Ù‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯
            return data.filter(d => d.importance === 'high');
        } else if (zoom < 12) {
            // zoom Ù…ØªÙˆØ³Ø·: Ø´Ù‡Ø±Ù‡Ø§ + Ù…Ù†Ø§Ø·Ù‚
            return data.filter(d => d.importance !== 'low');
        } else {
            // zoom Ø¨Ø§Ù„Ø§: Ù‡Ù…Ù‡ Ù†Ù‚Ø§Ø·
            return data;
        }
    }, [data, viewState.zoom]);
    
    // ØªÙ†Ø¸ÛŒÙ… Ø´Ø¹Ø§Ø¹ Ø¨Ø± Ø§Ø³Ø§Ø³ zoom
    const radiusScale = useMemo(() => {
        return Math.max(1, 20 - viewState.zoom);
    }, [viewState.zoom]);
    
    const layers = useMemo(() => [
        new ScatterplotLayer({
            id: 'lod-points',
            data: visibleData,
            getPosition: d => d.position,
            getRadius: d => d.radius * radiusScale,
            getFillColor: d => d.color,
            radiusMinPixels: 2,
            radiusMaxPixels: 100,
            pickable: true,
            
            // Transitions Ù†Ø±Ù…
            transitions: {
                getPosition: 300,
                getRadius: 300
            }
        })
    ], [visibleData, radiusScale]);
    
    return (
        <DeckGL
            viewState={viewState}
            onViewStateChange={({ viewState }) => setViewState(viewState)}
            layers={layers}
            controller={true}
        />
    );
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 3. Web Worker Ø¨Ø±Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø³Ù†Ú¯ÛŒÙ†
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// worker.js
const workerCode = `
    self.onmessage = function(e) {
        const { type, data } = e.data;
        
        if (type === 'cluster') {
            // Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø± worker
            const clusters = performClustering(data.points, data.k);
            self.postMessage({ type: 'clusterResult', clusters });
        }
        
        if (type === 'aggregate') {
            // ØªØ¬Ù…ÛŒØ¹ Ø¯Ø§Ø¯Ù‡
            const aggregated = aggregateData(data.points, data.resolution);
            self.postMessage({ type: 'aggregateResult', aggregated });
        }
    };
    
    function performClustering(points, k) {
        // Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
        // ...
        return clusters;
    }
    
    function aggregateData(points, resolution) {
        // ØªØ¬Ù…ÛŒØ¹ Ø¯Ø± grid
        // ...
        return aggregated;
    }
`;

// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Worker
function useWorker() {
    const [worker, setWorker] = useState(null);
    const [result, setResult] = useState(null);
    
    useEffect(() => {
        const blob = new Blob([workerCode], { type: 'application/javascript' });
        const w = new Worker(URL.createObjectURL(blob));
        
        w.onmessage = (e) => {
            setResult(e.data);
        };
        
        setWorker(w);
        
        return () => w.terminate();
    }, []);
    
    const process = useCallback((type, data) => {
        if (worker) {
            worker.postMessage({ type, data });
        }
    }, [worker]);
    
    return { process, result };
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4. Binary Data Format
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function loadBinaryData(url) {
    const response = await fetch(url);
    const buffer = await response.arrayBuffer();
    
    // ÙØ±Ø¶: Ù‡Ø± Ù†Ù‚Ø·Ù‡ 20 Ø¨Ø§ÛŒØª
    // [lng: float32, lat: float32, value: float32, r: uint8, g: uint8, b: uint8, a: uint8, padding: 4 bytes]
    
    const dataView = new DataView(buffer);
    const pointCount = buffer.byteLength / 20;
    const points = [];
    
    for (let i = 0; i < pointCount; i++) {
        const offset = i * 20;
        points.push({
            position: [
                dataView.getFloat32(offset, true),
                dataView.getFloat32(offset + 4, true)
            ],
            value: dataView.getFloat32(offset + 8, true),
            color: [
                dataView.getUint8(offset + 12),
                dataView.getUint8(offset + 13),
                dataView.getUint8(offset + 14),
                dataView.getUint8(offset + 15)
            ]
        });
    }
    
    return points;
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 5. Viewport Culling - ÙÙ‚Ø· Ù†Ù‚Ø§Ø· Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function filterByViewport(data, viewport) {
    const { longitude, latitude, zoom } = viewport;
    
    // Ù…Ø­Ø§Ø³Ø¨Ù‡ bounds
    const latRange = 180 / Math.pow(2, zoom);
    const lngRange = 360 / Math.pow(2, zoom);
    
    const bounds = {
        minLng: longitude - lngRange / 2,
        maxLng: longitude + lngRange / 2,
        minLat: latitude - latRange / 2,
        maxLat: latitude + latRange / 2
    };
    
    return data.filter(d => {
        const [lng, lat] = d.position;
        return lng >= bounds.minLng && lng <= bounds.maxLng &&
               lat >= bounds.minLat && lat <= bounds.maxLat;
    });
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 6. Debounce Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ±Ø§Øª Ù…Ú©Ø±Ø±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function useDebounce(value, delay) {
    const [debouncedValue, setDebouncedValue] = useState(value);
    
    useEffect(() => {
        const handler = setTimeout(() => {
            setDebouncedValue(value);
        }, delay);
        
        return () => clearTimeout(handler);
    }, [value, delay]);
    
    return debouncedValue;
}

function DebouncedFilterMap({ data }) {
    const [filterValue, setFilterValue] = useState(50);
    const debouncedFilter = useDebounce(filterValue, 300);
    
    const filteredData = useMemo(() => {
        return data.filter(d => d.value >= debouncedFilter);
    }, [data, debouncedFilter]);
    
    // ...
}</code></pre>
                </div>
            </div>

            <h3>Ø¬Ø¯ÙˆÙ„ Ù…Ù‚Ø§ÛŒØ³Ù‡ ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ØªÚ©Ù†ÛŒÚ©</th>
                        <th>Ú©Ø§Ø±Ø¨Ø±Ø¯</th>
                        <th>Ø¨Ù‡Ø¨ÙˆØ¯ Ø¹Ù…Ù„Ú©Ø±Ø¯</th>
                        <th>Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Memoization</td>
                        <td>Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø­Ø§Ø³Ø¨Ø§Øª ØªÚ©Ø±Ø§Ø±ÛŒ</td>
                        <td>20-50%</td>
                        <td>Ú©Ù…</td>
                    </tr>
                    <tr>
                        <td>Level of Detail</td>
                        <td>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯</td>
                        <td>50-80%</td>
                        <td>Ù…ØªÙˆØ³Ø·</td>
                    </tr>
                    <tr>
                        <td>Web Workers</td>
                        <td>Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø³Ù†Ú¯ÛŒÙ†</td>
                        <td>30-60%</td>
                        <td>Ø²ÛŒØ§Ø¯</td>
                    </tr>
                    <tr>
                        <td>Binary Data</td>
                        <td>Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø±ÛŒØ¹</td>
                        <td>60-80%</td>
                        <td>Ø²ÛŒØ§Ø¯</td>
                    </tr>
                    <tr>
                        <td>GPU Filtering</td>
                        <td>ÙÛŒÙ„ØªØ± real-time</td>
                        <td>70-90%</td>
                        <td>Ú©Ù…</td>
                    </tr>
                    <tr>
                        <td>Viewport Culling</td>
                        <td>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø§Ú©Ù†Ø¯Ù‡</td>
                        <td>40-70%</td>
                        <td>Ú©Ù…</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section 11: Projects -->
        <section class="section" id="projects">
            <div class="section-header">
                <div class="section-icon">ğŸš€</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ ÛŒØ§Ø²Ø¯Ù‡Ù…</div>
                    <h2 class="section-title">Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒ</h2>
                    <p class="section-subtitle">Ù†Ù…ÙˆÙ†Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø§ Deck.gl Ùˆ AI</p>
                </div>
            </div>

            <h3>Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ</h3>
            <div class="usecase-grid">
                <div class="usecase-card">
                    <div class="usecase-icon">ğŸš•</div>
                    <div class="usecase-title">Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø§ÙˆÚ¯Ø§Ù†</div>
                    <div class="usecase-desc">
                        Ø±Ø¯ÛŒØ§Ø¨ÛŒ real-time ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡ØŒ ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ù…Ø³ÛŒØ±ØŒ 
                        Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ETA Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø³ÛŒØ± Ø¨Ø§ AI
                    </div>
                </div>
                
                <div class="usecase-card">
                    <div class="usecase-icon">ğŸª</div>
                    <div class="usecase-title">ØªØ­Ù„ÛŒÙ„ Ù…Ú©Ø§Ù†ÛŒ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±</div>
                    <div class="usecase-desc">
                        ØªØ­Ù„ÛŒÙ„ ØªØ±Ø§Ú©Ù… Ù…Ø´ØªØ±ÛŒØ§Ù†ØŒ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¨Ù‡ØªØ±ÛŒÙ† Ù…Ú©Ø§Ù† Ø¨Ø±Ø§ÛŒ 
                        Ø´Ø¹Ø¨Ù‡ Ø¬Ø¯ÛŒØ¯ØŒ Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù†
                    </div>
                </div>
                
                <div class="usecase-card">
                    <div class="usecase-icon">ğŸŒ¡ï¸</div>
                    <div class="usecase-title">Ù¾Ø§ÛŒØ´ Ù…Ø­ÛŒØ· Ø²ÛŒØ³Øª</div>
                    <div class="usecase-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ù†Ø³ÙˆØ±Ù‡Ø§ØŒ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø¢Ù„ÙˆØ¯Ú¯ÛŒØŒ 
                        ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ø¯Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ
                    </div>
                </div>
                
                <div class="usecase-card">
                    <div class="usecase-icon">ğŸ™ï¸</div>
                    <div class="usecase-title">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø´Ù‡Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯</div>
                    <div class="usecase-desc">
                        Ù†Ù…Ø§ÛŒØ´ ØªØ±Ø§ÙÛŒÚ©ØŒ Ø­Ù…Ù„â€ŒÙˆÙ†Ù‚Ù„ Ø¹Ù…ÙˆÙ…ÛŒØŒ Ù…ØµØ±Ù Ø§Ù†Ø±Ú˜ÛŒ 
                        Ùˆ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªÙ‚Ø§Ø¶Ø§
                    </div>
                </div>
                
                <div class="usecase-card">
                    <div class="usecase-icon">ğŸš¨</div>
                    <div class="usecase-title">Ø³ÛŒØ³ØªÙ… Ù‡Ø´Ø¯Ø§Ø± Ø¨Ø­Ø±Ø§Ù†</div>
                    <div class="usecase-desc">
                        Ù†Ù…Ø§ÛŒØ´ Ù…Ù†Ø§Ø·Ù‚ Ø®Ø·Ø±ØŒ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ ØªØ®Ù„ÛŒÙ‡ØŒ 
                        Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ú¯Ø³ØªØ±Ø´ Ø¨Ø­Ø±Ø§Ù†
                    </div>
                </div>
                
                <div class="usecase-card">
                    <div class="usecase-icon">ğŸ“¦</div>
                    <div class="usecase-title">Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù„Ø¬Ø³ØªÛŒÚ©</div>
                    <div class="usecase-desc">
                        Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ù…Ø³ÛŒØ± ØªØ­ÙˆÛŒÙ„ØŒ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ ØªÙ‚Ø§Ø¶Ø§ØŒ 
                        Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù†Ø¨Ø§Ø±
                    </div>
                </div>
            </div>

            <h3>Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ø§Ù…Ù„</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>ğŸ“</span>
                        <span>Full Project Structure</span>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-bash">fleet-management-system/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Map/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FleetMap.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VehicleLayer.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RouteLayer.jsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AnomalyLayer.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Stats.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VehicleList.jsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AlertPanel.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Controls/
â”‚   â”‚   â”‚       â”œâ”€â”€ FilterPanel.jsx
â”‚   â”‚   â”‚       â””â”€â”€ TimeSlider.jsx
â”‚   â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”‚   â”œâ”€â”€ anomalyDetection.js
â”‚   â”‚   â”‚   â”œâ”€â”€ etaPrediction.js
â”‚   â”‚   â”‚   â”œâ”€â”€ routeOptimization.js
â”‚   â”‚   â”‚   â””â”€â”€ demandForecasting.js
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useWebSocket.js
â”‚   â”‚   â”‚   â”œâ”€â”€ useFleetData.js
â”‚   â”‚   â”‚   â””â”€â”€ useAIModels.js
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js
â”‚   â”‚   â”‚   â”œâ”€â”€ websocket.js
â”‚   â”‚   â”‚   â””â”€â”€ geocoding.js
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ geoUtils.js
â”‚   â”‚   â”‚   â”œâ”€â”€ colorScales.js
â”‚   â”‚   â”‚   â””â”€â”€ formatters.js
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ icons/
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vehicles.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ routes.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ analytics.py
â”‚   â”‚   â”‚   â””â”€â”€ websocket.py
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ vehicle.py
â”‚   â”‚   â”‚   â”œâ”€â”€ route.py
â”‚   â”‚   â”‚   â””â”€â”€ alert.py
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ tracking.py
â”‚   â”‚   â”‚   â”œâ”€â”€ anomaly.py
â”‚   â”‚   â”‚   â””â”€â”€ prediction.py
â”‚   â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ eta_model.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ anomaly_model.py
â”‚   â”‚   â”‚   â””â”€â”€ training/
â”‚   â”‚   â”‚       â””â”€â”€ train.py
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md</code></pre>
                </div>
                <!------ Ù…Ø§Ù†Ø¯ -->
                </div>

            <h3>Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ø§Ù…Ù„: Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø§ÙˆÚ¯Ø§Ù†</h3>
            <div class="code-block">
                <div class="code-header">
                    <div class="code-lang">
                        <span>âš›ï¸</span>
                        <span>FleetManagementApp.jsx</span>
                    </div>
                    <div class="code-actions">
                        <button class="code-btn" onclick="copyCode(this)">
                            <span>ğŸ“‹</span> Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                <div class="code-body">
<pre><code class="language-javascript">import React, { useState, useEffect, useMemo, useCallback } from 'react';
import DeckGL from '@deck.gl/react';
import { Map } from 'react-map-gl';
import { 
    ScatterplotLayer, 
    PathLayer, 
    IconLayer,
    TextLayer 
} from '@deck.gl/layers';
import { TripsLayer } from '@deck.gl/geo-layers';
import { FlyToInterpolator } from '@deck.gl/core';

// AI Modules
import { detectTrajectoryAnomalies } from './ai/anomalyDetection';
import { predictETA } from './ai/etaPrediction';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Constants
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const INITIAL_VIEW_STATE = {
    longitude: 51.3890,
    latitude: 35.6892,
    zoom: 11,
    pitch: 45,
    bearing: 0
};

const VEHICLE_COLORS = {
    active: [16, 185, 129],      // Ø³Ø¨Ø²
    idle: [251, 191, 36],        // Ø²Ø±Ø¯
    offline: [156, 163, 175],    // Ø®Ø§Ú©Ø³ØªØ±ÛŒ
    alert: [239, 68, 68]         // Ù‚Ø±Ù…Ø²
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Main Component
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function FleetManagementApp() {
    // State
    const [viewState, setViewState] = useState(INITIAL_VIEW_STATE);
    const [vehicles, setVehicles] = useState([]);
    const [selectedVehicle, setSelectedVehicle] = useState(null);
    const [routes, setRoutes] = useState([]);
    const [alerts, setAlerts] = useState([]);
    const [filter, setFilter] = useState('all');
    const [animationTime, setAnimationTime] = useState(0);
    const [showPredictions, setShowPredictions] = useState(true);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // WebSocket Connection for Real-time Updates
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    useEffect(() => {
        const ws = new WebSocket('wss://api.example.com/fleet/ws');
        
        ws.onmessage = (event) => {
            const data = JSON.parse(event.data);
            
            switch (data.type) {
                case 'vehicle_update':
                    setVehicles(prev => {
                        const index = prev.findIndex(v => v.id === data.vehicle.id);
                        if (index >= 0) {
                            const updated = [...prev];
                            updated[index] = { ...updated[index], ...data.vehicle };
                            return updated;
                        }
                        return [...prev, data.vehicle];
                    });
                    break;
                    
                case 'alert':
                    setAlerts(prev => [data.alert, ...prev].slice(0, 50));
                    break;
                    
                case 'route_update':
                    setRoutes(prev => {
                        const index = prev.findIndex(r => r.vehicleId === data.route.vehicleId);
                        if (index >= 0) {
                            const updated = [...prev];
                            updated[index] = data.route;
                            return updated;
                        }
                        return [...prev, data.route];
                    });
                    break;
            }
        };
        
        ws.onerror = (error) => console.error('WebSocket error:', error);
        
        return () => ws.close();
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // AI: Anomaly Detection
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    useEffect(() => {
        vehicles.forEach(vehicle => {
            if (vehicle.trajectory && vehicle.trajectory.length > 10) {
                const { anomalies } = detectTrajectoryAnomalies(vehicle.trajectory, {
                    speedThreshold: 120,
                    angleThreshold: 90
                });
                
                if (anomalies.length > 0) {
                    const newAlert = {
                        id: Date.now(),
                        vehicleId: vehicle.id,
                        type: 'anomaly',
                        message: `Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ø¯Ø± Ø­Ø±Ú©Øª ${vehicle.name}: ${anomalies[0].message}`,
                        timestamp: new Date(),
                        severity: 'warning'
                    };
                    
                    setAlerts(prev => [newAlert, ...prev].slice(0, 50));
                }
            }
        });
    }, [vehicles]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // AI: ETA Prediction
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const vehiclesWithETA = useMemo(() => {
        if (!showPredictions) return vehicles;
        
        return vehicles.map(vehicle => {
            if (vehicle.destination && vehicle.trajectory) {
                const eta = predictETA(
                    vehicle.position,
                    vehicle.destination,
                    vehicle.trajectory,
                    { trafficFactor: 1.2 }
                );
                return { ...vehicle, predictedETA: eta };
            }
            return vehicle;
        });
    }, [vehicles, showPredictions]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Filtered Data
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const filteredVehicles = useMemo(() => {
        if (filter === 'all') return vehiclesWithETA;
        return vehiclesWithETA.filter(v => v.status === filter);
    }, [vehiclesWithETA, filter]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Animation Loop for Trips Layer
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    useEffect(() => {
        const interval = setInterval(() => {
            setAnimationTime(t => (t + 1) % 1000);
        }, 50);
        return () => clearInterval(interval);
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Event Handlers
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const handleVehicleClick = useCallback((vehicle) => {
        setSelectedVehicle(vehicle);
        setViewState(prev => ({
            ...prev,
            longitude: vehicle.position[0],
            latitude: vehicle.position[1],
            zoom: 15,
            transitionDuration: 1000,
            transitionInterpolator: new FlyToInterpolator()
        }));
    }, []);
    
    const handleAlertClick = useCallback((alert) => {
        const vehicle = vehicles.find(v => v.id === alert.vehicleId);
        if (vehicle) {
            handleVehicleClick(vehicle);
        }
    }, [vehicles, handleVehicleClick]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Layers
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const layers = useMemo(() => {
        const layersList = [];
        
        // 1. Routes Layer (planned routes)
        if (routes.length > 0) {
            layersList.push(
                new PathLayer({
                    id: 'planned-routes',
                    data: routes,
                    getPath: d => d.path,
                    getColor: d => d.vehicleId === selectedVehicle?.id ? 
                        [99, 102, 241, 200] : [100, 100, 100, 100],
                    getWidth: d => d.vehicleId === selectedVehicle?.id ? 8 : 4,
                    widthMinPixels: 2,
                    rounded: true,
                    billboard: false
                })
            );
        }
        
        // 2. Trips Layer (animated vehicle trails)
        const tripsData = filteredVehicles
            .filter(v => v.trajectory && v.trajectory.length > 1)
            .map(v => ({
                vehicleId: v.id,
                path: v.trajectory.map((p, i) => [...p.position, i * 10]),
                color: VEHICLE_COLORS[v.status] || VEHICLE_COLORS.active
            }));
        
        if (tripsData.length > 0) {
            layersList.push(
                new TripsLayer({
                    id: 'vehicle-trails',
                    data: tripsData,
                    getPath: d => d.path,
                    getColor: d => d.color,
                    opacity: 0.6,
                    widthMinPixels: 3,
                    trailLength: 200,
                    currentTime: animationTime,
                    shadowEnabled: false
                })
            );
        }
        
        // 3. Vehicles Layer
        layersList.push(
            new ScatterplotLayer({
                id: 'vehicles',
                data: filteredVehicles,
                getPosition: d => d.position,
                getRadius: d => d.id === selectedVehicle?.id ? 150 : 100,
                getFillColor: d => {
                    if (d.hasAnomaly) return VEHICLE_COLORS.alert;
                    return [...VEHICLE_COLORS[d.status] || VEHICLE_COLORS.active, 200];
                },
                getLineColor: d => d.id === selectedVehicle?.id ? 
                    [255, 255, 255] : [0, 0, 0, 0],
                lineWidthMinPixels: 3,
                stroked: true,
                pickable: true,
                onClick: ({ object }) => object && handleVehicleClick(object),
                autoHighlight: true,
                highlightColor: [255, 255, 255, 100],
                
                transitions: {
                    getPosition: 500
                }
            })
        );
        
        // 4. Vehicle Labels
        layersList.push(
            new TextLayer({
                id: 'vehicle-labels',
                data: filteredVehicles,
                getPosition: d => d.position,
                getText: d => d.name,
                getSize: 12,
                getColor: [255, 255, 255],
                getTextAnchor: 'middle',
                getAlignmentBaseline: 'top',
                getPixelOffset: [0, 20],
                fontFamily: 'Vazirmatn, sans-serif'
            })
        );
        
        // 5. Alert Icons
        const alertVehicles = filteredVehicles.filter(v => v.hasAnomaly);
        if (alertVehicles.length > 0) {
            layersList.push(
                new IconLayer({
                    id: 'alert-icons',
                    data: alertVehicles,
                    getPosition: d => d.position,
                    getIcon: () => ({
                        url: '/icons/alert.png',
                        width: 64,
                        height: 64,
                        anchorY: 64
                    }),
                    getSize: 40,
                    pickable: true
                })
            );
        }
        
        // 6. Destination markers for selected vehicle
        if (selectedVehicle?.destination) {
            layersList.push(
                new ScatterplotLayer({
                    id: 'destination',
                    data: [{ position: selectedVehicle.destination }],
                    getPosition: d => d.position,
                    getRadius: 100,
                    getFillColor: [239, 68, 68, 150],
                    stroked: true,
                    getLineColor: [255, 255, 255],
                    lineWidthMinPixels: 2
                }),
                new IconLayer({
                    id: 'destination-icon',
                    data: [{ position: selectedVehicle.destination }],
                    getPosition: d => d.position,
                    getIcon: () => ({
                        url: '/icons/flag.png',
                        width: 64,
                        height: 64,
                        anchorY: 64
                    }),
                    getSize: 50
                })
            );
        }
        
        return layersList;
    }, [filteredVehicles, routes, selectedVehicle, animationTime, handleVehicleClick]);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Tooltip
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const getTooltip = useCallback(({ object }) => {
        if (!object) return null;
        
        if (object.name) {
            // Vehicle tooltip
            return {
                html: `
                    <div style="direction: rtl; font-family: Vazirmatn; min-width: 200px;">
                        <div style="font-weight: bold; font-size: 16px; margin-bottom: 8px;">
                            ğŸš— ${object.name}
                        </div>
                        <div style="margin-bottom: 4px;">
                            ÙˆØ¶Ø¹ÛŒØª: <span style="color: ${
                                object.status === 'active' ? '#10b981' :
                                object.status === 'idle' ? '#fbbf24' : '#9ca3af'
                            }">${
                                object.status === 'active' ? 'ÙØ¹Ø§Ù„' :
                                object.status === 'idle' ? 'ØªÙˆÙ‚Ù' : 'Ø¢ÙÙ„Ø§ÛŒÙ†'
                            }</span>
                        </div>
                        <div style="margin-bottom: 4px;">
                            Ø³Ø±Ø¹Øª: ${object.speed?.toFixed(0) || 0} km/h
                        </div>
                        ${object.predictedETA ? `
                            <div style="margin-bottom: 4px;">
                                Ø²Ù…Ø§Ù† Ø±Ø³ÛŒØ¯Ù†: ${object.predictedETA} Ø¯Ù‚ÛŒÙ‚Ù‡
                            </div>
                        ` : ''}
                        ${object.hasAnomaly ? `
                            <div style="color: #ef4444; margin-top: 8px;">
                                âš ï¸ Ù‡Ø´Ø¯Ø§Ø±: Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡
                            </div>
                        ` : ''}
                    </div>
                `,
                style: {
                    backgroundColor: 'rgba(30, 41, 59, 0.95)',
                    color: 'white',
                    padding: '12px',
                    borderRadius: '8px',
                    boxShadow: '0 4px 12px rgba(0,0,0,0.3)'
                }
            };
        }
        
        return null;
    }, []);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Render
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    return (
        <div style={{ width: '100%', height: '100vh', display: 'flex' }}>
            {/* Sidebar */}
            <div style={{
                width: '350px',
                background: '#1e293b',
                color: 'white',
                display: 'flex',
                flexDirection: 'column',
                overflow: 'hidden'
            }}>
                {/* Header */}
                <div style={{ 
                    padding: '20px', 
                    borderBottom: '1px solid #374151',
                    background: 'linear-gradient(135deg, #1e293b, #334155)'
                }}>
                    <h1 style={{ margin: 0, fontSize: '20px', display: 'flex', alignItems: 'center', gap: '10px' }}>
                        ğŸš— Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø§ÙˆÚ¯Ø§Ù†
                    </h1>
                    <p style={{ margin: '5px 0 0', color: '#94a3b8', fontSize: '14px' }}>
                        {vehicles.length} ÙˆØ³ÛŒÙ„Ù‡ Ù†Ù‚Ù„ÛŒÙ‡ ÙØ¹Ø§Ù„
                    </p>
                </div>
                
                {/* Filters */}
                <div style={{ padding: '15px', borderBottom: '1px solid #374151' }}>
                    <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>
                        {['all', 'active', 'idle', 'offline'].map(f => (
                            <button
                                key={f}
                                onClick={() => setFilter(f)}
                                style={{
                                    padding: '6px 12px',
                                    borderRadius: '20px',
                                    border: 'none',
                                    background: filter === f ? '#6366f1' : '#374151',
                                    color: 'white',
                                    cursor: 'pointer',
                                    fontSize: '12px'
                                }}
                            >
                                {f === 'all' ? 'Ù‡Ù…Ù‡' :
                                 f === 'active' ? 'ğŸŸ¢ ÙØ¹Ø§Ù„' :
                                 f === 'idle' ? 'ğŸŸ¡ ØªÙˆÙ‚Ù' : 'âš« Ø¢ÙÙ„Ø§ÛŒÙ†'}
                            </button>
                        ))}
                    </div>
                    
                    <label style={{ 
                        display: 'flex', 
                        alignItems: 'center', 
                        gap: '8px',
                        marginTop: '10px',
                        fontSize: '13px',
                        cursor: 'pointer'
                    }}>
                        <input
                            type="checkbox"
                            checked={showPredictions}
                            onChange={e => setShowPredictions(e.target.checked)}
                        />
                        Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ AI
                    </label>
                </div>
                
                {/* Vehicle List */}
                <div style={{ flex: 1, overflow: 'auto', padding: '10px' }}>
                    <h3 style={{ fontSize: '14px', color: '#94a3b8', margin: '0 0 10px' }}>
                        ÙˆØ³Ø§ÛŒÙ„ Ù†Ù‚Ù„ÛŒÙ‡
                    </h3>
                    
                    {filteredVehicles.map(vehicle => (
                        <div
                            key={vehicle.id}
                            onClick={() => handleVehicleClick(vehicle)}
                            style={{
                                padding: '12px',
                                background: selectedVehicle?.id === vehicle.id ? '#374151' : 'transparent',
                                borderRadius: '8px',
                                marginBottom: '8px',
                                cursor: 'pointer',
                                transition: 'background 0.2s',
                                border: vehicle.hasAnomaly ? '1px solid #ef4444' : '1px solid transparent'
                            }}
                        >
                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                <span style={{ fontWeight: 'bold' }}>{vehicle.name}</span>
                                <span style={{
                                    width: '10px',
                                    height: '10px',
                                    borderRadius: '50%',
                                    background: vehicle.status === 'active' ? '#10b981' :
                                               vehicle.status === 'idle' ? '#fbbf24' : '#9ca3af'
                                }}></span>
                            </div>
                            <div style={{ fontSize: '12px', color: '#94a3b8', marginTop: '4px' }}>
                                Ø³Ø±Ø¹Øª: {vehicle.speed?.toFixed(0) || 0} km/h
                                {vehicle.predictedETA && ` â€¢ ETA: ${vehicle.predictedETA} Ø¯Ù‚ÛŒÙ‚Ù‡`}
                            </div>
                            {vehicle.hasAnomaly && (
                                <div style={{ fontSize: '11px', color: '#ef4444', marginTop: '4px' }}>
                                    âš ï¸ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡
                                </div>
                            )}
                        </div>
                    ))}
                </div>
                
                {/* Alerts */}
                <div style={{ 
                    borderTop: '1px solid #374151',
                    maxHeight: '200px',
                    overflow: 'auto'
                }}>
                    <div style={{ 
                        padding: '10px 15px', 
                        background: '#374151',
                        position: 'sticky',
                        top: 0,
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center'
                    }}>
                        <span style={{ fontSize: '14px', fontWeight: 'bold' }}>
                            ğŸš¨ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§
                        </span>
                        <span style={{ 
                            background: '#ef4444', 
                            padding: '2px 8px', 
                            borderRadius: '10px',
                            fontSize: '12px'
                        }}>
                            {alerts.length}
                        </span>
                    </div>
                    
                    {alerts.slice(0, 10).map(alert => (
                        <div
                            key={alert.id}
                            onClick={() => handleAlertClick(alert)}
                            style={{
                                padding: '10px 15px',
                                borderBottom: '1px solid #374151',
                                cursor: 'pointer',
                                fontSize: '12px'
                            }}
                        >
                            <div style={{ 
                                color: alert.severity === 'warning' ? '#fbbf24' : '#ef4444' 
                            }}>
                                {alert.message}
                            </div>
                            <div style={{ color: '#64748b', fontSize: '11px', marginTop: '4px' }}>
                                {new Date(alert.timestamp).toLocaleTimeString('fa-IR')}
                            </div>
                        </div>
                    ))}
                </div>
            </div>
            
            {/* Map */}
            <div style={{ flex: 1, position: 'relative' }}>
                <DeckGL
                    viewState={viewState}
                    onViewStateChange={({ viewState }) => setViewState(viewState)}
                    controller={true}
                    layers={layers}
                    getTooltip={getTooltip}
                >
                    <Map mapStyle="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json" />
                </DeckGL>
                
                {/* Stats Overlay */}
                <div style={{
                    position: 'absolute',
                    top: 20,
                    right: 20,
                    display: 'flex',
                    gap: '10px'
                }}>
                    <div style={{
                        background: 'rgba(16, 185, 129, 0.9)',
                        padding: '10px 20px',
                        borderRadius: '8px',
                        color: 'white',
                        textAlign: 'center'
                    }}>
                        <div style={{ fontSize: '24px', fontWeight: 'bold' }}>
                            {vehicles.filter(v => v.status === 'active').length}
                        </div>
                        <div style={{ fontSize: '12px' }}>ÙØ¹Ø§Ù„</div>
                    </div>
                    
                    <div style={{
                        background: 'rgba(251, 191, 36, 0.9)',
                        padding: '10px 20px',
                        borderRadius: '8px',
                        color: 'white',
                        textAlign: 'center'
                    }}>
                        <div style={{ fontSize: '24px', fontWeight: 'bold' }}>
                            {vehicles.filter(v => v.status === 'idle').length}
                        </div>
                        <div style={{ fontSize: '12px' }}>ØªÙˆÙ‚Ù</div>
                    </div>
                    
                    <div style={{
                        background: 'rgba(239, 68, 68, 0.9)',
                        padding: '10px 20px',
                        borderRadius: '8px',
                        color: 'white',
                        textAlign: 'center'
                    }}>
                        <div style={{ fontSize: '24px', fontWeight: 'bold' }}>
                            {alerts.filter(a => a.severity === 'warning').length}
                        </div>
                        <div style={{ fontSize: '12px' }}>Ù‡Ø´Ø¯Ø§Ø±</div>
                    </div>
                </div>
                
                {/* Selected Vehicle Info */}
                {selectedVehicle && (
                    <div style={{
                        position: 'absolute',
                        bottom: 20,
                        left: 20,
                        right: 20,
                        background: 'rgba(30, 41, 59, 0.95)',
                        padding: '20px',
                        borderRadius: '12px',
                        color: 'white',
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center'
                    }}>
                        <div>
                            <h3 style={{ margin: '0 0 5px' }}>{selectedVehicle.name}</h3>
                            <p style={{ margin: 0, color: '#94a3b8', fontSize: '14px' }}>
                                Ø±Ø§Ù†Ù†Ø¯Ù‡: {selectedVehicle.driver || 'Ù†Ø§Ù…Ø´Ø®Øµ'}
                            </p>
                        </div>
                        
                        <div style={{ display: 'flex', gap: '30px', textAlign: 'center' }}>
                            <div>
                                <div style={{ fontSize: '24px', fontWeight: 'bold' }}>
                                    {selectedVehicle.speed?.toFixed(0) || 0}
                                </div>
                                <div style={{ fontSize: '12px', color: '#94a3b8' }}>km/h</div>
                            </div>
                            
                            {selectedVehicle.predictedETA && (
                                <div>
                                    <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#10b981' }}>
                                        {selectedVehicle.predictedETA}
                                    </div>
                                    <div style={{ fontSize: '12px', color: '#94a3b8' }}>Ø¯Ù‚ÛŒÙ‚Ù‡ ØªØ§ Ù…Ù‚ØµØ¯</div>
                                </div>
                            )}
                            
                            <div>
                                <div style={{ fontSize: '24px', fontWeight: 'bold' }}>
                                    {selectedVehicle.totalDistance?.toFixed(1) || 0}
                                </div>
                                <div style={{ fontSize: '12px', color: '#94a3b8' }}>km Ø§Ù…Ø±ÙˆØ²</div>
                            </div>
                        </div>
                        
                        <button
                            onClick={() => setSelectedVehicle(null)}
                            style={{
                                background: '#374151',
                                border: 'none',
                                color: 'white',
                                padding: '8px 16px',
                                borderRadius: '6px',
                                cursor: 'pointer'
                            }}
                        >
                            âœ• Ø¨Ø³ØªÙ†
                        </button>
                    </div>
                )}
            </div>
        </div>
    );
}

export default FleetManagementApp;</code></pre>
                </div>
            </div>
        </section>

        <!-- Section 12: Resources -->
        <section class="section" id="resources">
            <div class="section-header">
                <div class="section-icon">ğŸ“š</div>
                <div class="section-title-group">
                    <div class="section-number">ÙØµÙ„ Ø¯ÙˆØ§Ø²Ø¯Ù‡Ù…</div>
                    <h2 class="section-title">Ù…Ù†Ø§Ø¨Ø¹ Ùˆ Ù…Ø±Ø§Ø¬Ø¹</h2>
                    <p class="section-subtitle">Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ØŒ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ Ùˆ Ù…Ù†Ø§Ø¨Ø¹ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ</p>
                </div>
            </div>

            <h3>Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø±Ø³Ù…ÛŒ</h3>
            <div class="resources-grid">
                <a href="https://deck.gl/docs" target="_blank" class="resource-card">
                    <div class="resource-icon">ğŸ“–</div>
                    <div class="resource-title">Deck.gl Documentation</div>
                    <div class="resource-desc">Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø±Ø³Ù…ÛŒ Ùˆ Ú©Ø§Ù…Ù„ Deck.gl</div>
                </a>
                
                <a href="https://deck.gl/examples" target="_blank" class="resource-card">
                    <div class="resource-icon">ğŸ¨</div>
                    <div class="resource-title">Deck.gl Examples</div>
                    <div class="resource-desc">Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ Ùˆ Ú©Ø¯</div>
                </a>
                
                <a href="https://www.tensorflow.org/js" target="_blank" class="resource-card">
                    <div class="resource-icon">ğŸ§ </div>
                    <div class="resource-title">TensorFlow.js</div>
                    <div class="resource-desc">ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù…Ø§Ø´ÛŒÙ† Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø±</div>
                </a>
                
                <a href="https://h3geo.org/" target="_blank" class="resource-card">
                    <div class="resource-icon">â¬¡</div>
                    <div class="resource-title">H3 Geo</div>
                    <div class="resource-desc">Ø³ÛŒØ³ØªÙ… Ø´Ø§Ø®Øµâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø´Ø´â€ŒØ¶Ù„Ø¹ÛŒ</div>
                </a>
                
                <a href="https://maplibre.org/" target="_blank" class="resource-card">
                    <div class="resource-icon">ğŸ—ºï¸</div>
                    <div class="resource-title">MapLibre</div>
                    <div class="resource-desc">Ù†Ù‚Ø´Ù‡ Ù…ØªÙ†â€ŒØ¨Ø§Ø² Ùˆ Ø±Ø§ÛŒÚ¯Ø§Ù†</div>
                </a>
                
                <a href="https://turfjs.org/" target="_blank" class="resource-card">
                    <div class="resource-icon">ğŸŒ¿</div>
                    <div class="resource-title">Turf.js</div>
                    <div class="resource-desc">ØªØ­Ù„ÛŒÙ„ Ù…Ú©Ø§Ù†ÛŒ Ø¯Ø± JavaScript</div>
                </a>
            </div>

            <h3>Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø·</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡</th>
                        <th>Ú©Ø§Ø±Ø¨Ø±Ø¯</th>
                        <th>Ù†ØµØ¨</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>@deck.gl/core</code></td>
                        <td>Ù‡Ø³ØªÙ‡ Ø§ØµÙ„ÛŒ Deck.gl</td>
                        <td><code>npm i @deck.gl/core</code></td>
                    </tr>
                    <tr>
                        <td><code>@deck.gl/layers</code></td>
                        <td>Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯</td>
                        <td><code>npm i @deck.gl/layers</code></td>
                    </tr>
                    <tr>
                        <td><code>@deck.gl/geo-layers</code></td>
                        <td>Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ (H3, Tile3D)</td>
                        <td><code>npm i @deck.gl/geo-layers</code></td>
                    </tr>
                    <tr>
                        <td><code>@deck.gl/aggregation-layers</code></td>
                        <td>Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ ØªØ¬Ù…ÛŒØ¹ÛŒ (Hexagon, Heatmap)</td>
                        <td><code>npm i @deck.gl/aggregation-layers</code></td>
                    </tr>
                    <tr>
                        <td><code>@tensorflow/tfjs</code></td>
                        <td>ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù…Ø§Ø´ÛŒÙ†</td>
                        <td><code>npm i @tensorflow/tfjs</code></td>
                    </tr>
                    <tr>
                        <td><code>ml-kmeans</code></td>
                        <td>Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ K-Means</td>
                        <td><code>npm i ml-kmeans</code></td>
                    </tr>
                    <tr>
                        <td><code>h3-js</code></td>
                        <td>Ø´Ø§Ø®Øµâ€ŒÚ¯Ø°Ø§Ø±ÛŒ H3</td>
                        <td><code>npm i h3-js</code></td>
                    </tr>
                    <tr>
                        <td><code>@turf/turf</code></td>
                        <td>ØªØ­Ù„ÛŒÙ„ Ù…Ú©Ø§Ù†ÛŒ</td>
                        <td><code>npm i @turf/turf</code></td>
                    </tr>
                    <tr>
                        <td><code>d3-scale</code></td>
                        <td>Ù…Ù‚ÛŒØ§Ø³â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø§Ø¯Ù‡</td>
                        <td><code>npm i d3-scale</code></td>
                    </tr>
                </tbody>
            </table>

            <h3>Ø®Ù„Ø§ØµÙ‡ Ø¢Ù…ÙˆØ²Ø´</h3>
            <div class="summary-box">
                <h4>ğŸ¯ Ù†Ú©Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ</h4>
                <ul>
                    <li><strong>Deck.gl</strong> ÛŒÚ© Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ Ø¨Ø±Ø§ÛŒ ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ø¨Ø§ WebGL Ø§Ø³Øª</li>
                    <li><strong>Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§</strong> ÙˆØ§Ø­Ø¯ Ø§ØµÙ„ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù‡Ø³ØªÙ†Ø¯ - Ù‡Ø± Ù†ÙˆØ¹ Ø¯Ø§Ø¯Ù‡ Ù„Ø§ÛŒÙ‡ Ù…Ø®ØµÙˆØµ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø§Ø±Ø¯</li>
                    <li><strong>Accessors</strong> Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§Ø² Ø¯Ø§Ø¯Ù‡ Ø±Ø§ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯</li>
                    <li><strong>AI Integration</strong> Ø§Ù…Ú©Ø§Ù† Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒØŒ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ùˆ ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯</li>
                    <li><strong>Performance</strong> Ø¨Ø§ ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒÛŒ Ù…Ø«Ù„ memoization Ùˆ GPU filtering Ø¨Ù‡ÛŒÙ†Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</li>
                </ul>
                
                <h4>ğŸš€ Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ</h4>
                <ol>
                    <li>ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ Ø³Ø§Ø¯Ù‡ Ø¨Ø§ ScatterplotLayer Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                    <li>Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯</li>
                    <li>Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ K-Means Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯</li>
                    <li>Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø¨Ø§ TensorFlow.js Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯</li>
                    <li>ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ø§Ù…Ù„ Ù…Ø«Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø§ÙˆÚ¯Ø§Ù† Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                </ol>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>ğŸ—ºï¸ Ø¢Ù…ÙˆØ²Ø´ Deck.gl Ø¨Ø§ AI</h4>
                    <p>Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬Ø§Ù…Ø¹ ÙˆÛŒÚ˜ÙˆØ§Ù„ÛŒØ²ÛŒØ´Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</p>
                </div>
                
                <div class="footer-section">
                    <h4>Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯</h4>
                    <ul>
                        <li><a href="https://deck.gl" target="_blank">Deck.gl</a></li>
                        <li><a href="https://maplibre.org" target="_blank">MapLibre</a></li>
                        <li><a href="https://tensorflow.org/js" target="_blank">TensorFlow.js</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>ÙØµÙ„â€ŒÙ‡Ø§</h4>
                    <ul>
                        <li><a href="#intro">Ù…Ø¹Ø±ÙÛŒ</a></li>
                        <li><a href="#ai-clustering">Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ AI</a></li>
                        <li><a href="#ai-prediction">Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ AI</a></li>
                        <li><a href="#projects">Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù…Ø¹Ù‡ GIS Ø§ÛŒØ±Ø§Ù†</p>
                <p>Â© 2025 - ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª</p>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    
    <script>
        // Initialize highlight.js
        document.addEventListener('DOMContentLoaded', () => {
            hljs.highlightAll();
        });
        
        // Copy code function
        function copyCode(button) {
            const codeBlock = button.closest('.code-block');
            const code = codeBlock.querySelector('code').textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.innerHTML;
                button.innerHTML = '<span>âœ…</span> Ú©Ù¾ÛŒ Ø´Ø¯!';
                button.style.background = 'rgba(16, 185, 129, 0.3)';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
                button.innerHTML = '<span>âŒ</span> Ø®Ø·Ø§';
                setTimeout(() => {
                    button.innerHTML = '<span>ğŸ“‹</span> Ú©Ù¾ÛŒ';
                }, 2000);
            });
        }
        
        // Smooth scroll for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Add scroll progress indicator
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            
            // Update progress bar if exists
            const progressBar = document.querySelector('.scroll-progress');
            if (progressBar) {
                progressBar.style.width = scrolled + '%';
            }
        });
        
        // Add intersection observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);
        
        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });
        
        // Table of Contents highlighting
        const sections = document.querySelectorAll('.section');
        const tocLinks = document.querySelectorAll('.toc-link');
        
        window.addEventListener('scroll', () => {
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });
            
            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });
        
        // Dark/Light mode toggle (if needed)
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', 
                document.body.classList.contains('light-mode') ? 'light' : 'dark'
            );
        }
        
        // Load saved theme
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-mode');
        }
        
        // Print-friendly version
        function printPage() {
            window.print();
        }
        
        // Search functionality
        function searchContent(query) {
            const sections = document.querySelectorAll('.section');
            const results = [];
            
            sections.forEach(section => {
                const text = section.textContent.toLowerCase();
                if (text.includes(query.toLowerCase())) {
                    results.push({
                        id: section.id,
                        title: section.querySelector('.section-title')?.textContent || 'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†',
                        preview: text.substring(text.indexOf(query.toLowerCase()) - 50, 
                                                text.indexOf(query.toLowerCase()) + 100)
                    });
                }
            });
            
            return results;
        }
        
        console.log('ğŸ—ºï¸ Deck.gl + AI Tutorial Loaded Successfully!');
        console.log('ğŸ“š Sections:', document.querySelectorAll('.section').length);
        console.log('ğŸ’» Code Blocks:', document.querySelectorAll('.code-block').length);
    </script>
</body>
</html>