<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¢Ù…ÙˆØ²Ø´ Ø¬Ø§Ù…Ø¹ PostGIS - Ø§Ø² ØµÙØ± ØªØ§ ØµØ¯</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: #2d3748;
            line-height: 1.8;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .slide {
            background: white;
            border-radius: 20px;
            padding: 60px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #2ecc71 0%, #27ae60 100%);
        }

        .slide-number {
            position: absolute;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.4);
        }

        h1 {
            color: #2ecc71;
            font-size: 3em;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 800;
        }

        h2 {
            color: #2ecc71;
            font-size: 2.5em;
            margin-bottom: 30px;
            font-weight: 700;
            border-bottom: 3px solid #2ecc71;
            padding-bottom: 15px;
        }

        h3 {
            color: #27ae60;
            font-size: 1.8em;
            margin: 30px 0 20px 0;
            font-weight: 600;
        }

        h4 {
            color: #2ecc71;
            font-size: 1.4em;
            margin: 20px 0 15px 0;
            font-weight: 600;
        }

        p {
            font-size: 1.2em;
            margin-bottom: 20px;
            color: #4a5568;
            text-align: justify;
        }

        .emoji {
            font-size: 1.3em;
            margin-left: 10px;
        }

        .code {
            background: #1e293b;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            direction: ltr;
            text-align: left;
            overflow-x: auto;
            margin: 20px 0;
            border: 2px solid #334155;
            position: relative;
            line-height: 1.6;
            cursor: pointer;
            white-space: pre;
        }

        .code::before {
            content: 'SQL';
            position: absolute;
            top: 10px;
            right: 10px;
            background: #2ecc71;
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .code.bash::before {
            content: 'Bash';
            background: #3498db;
        }

        .code.python::before {
            content: 'Python';
            background: #e74c3c;
        }

        .code.json::before {
            content: 'JSON';
            background: #f39c12;
        }

        .keyword {
            color: #c792ea;
            font-weight: bold;
        }

        .string {
            color: #c3e88d;
        }

        .comment {
            color: #676e95;
            font-style: italic;
        }

        .function {
            color: #82aaff;
        }

        .number {
            color: #f78c6c;
        }

        .box {
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border-right: 5px solid;
        }

        .definition {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-color: #2ecc71;
        }

        .example {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            border-color: #9c27b0;
        }

        .warning {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-color: #ff9800;
        }

        .danger {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border-color: #f44336;
        }

        .info {
            background: linear-gradient(135deg, #e1f5fe 0%, #b3e5fc 100%);
            border-color: #03a9f4;
        }

        .success {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-color: #4caf50;
        }

        .key-point {
            background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
            border-color: #fbc02d;
        }

        .highlight {
            background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
            border-color: #009688;
        }

        ul, ol {
            margin: 20px 0 20px 40px;
            font-size: 1.2em;
        }

        li {
            margin: 12px 0;
            color: #4a5568;
            line-height: 2;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #2ecc71;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(46, 204, 113, 0.3);
        }

        .card h4 {
            color: #2ecc71;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        th {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            padding: 18px;
            text-align: right;
            font-weight: 600;
            font-size: 1.1em;
        }

        td {
            padding: 18px;
            border-bottom: 1px solid #e2e8f0;
            font-size: 1.05em;
        }

        tr:nth-child(even) {
            background: #f7fafc;
        }

        tr:hover {
            background: #e8f5e9;
        }

        .architecture-diagram {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 40px;
            border-radius: 20px;
            margin: 30px 0;
            text-align: center;
            border: 3px solid #2ecc71;
        }

        .component-box {
            background: white;
            padding: 20px 30px;
            border-radius: 12px;
            margin: 15px auto;
            max-width: 600px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            border: 2px solid #2ecc71;
            font-weight: 600;
            font-size: 1.1em;
            color: #2d3748;
        }

        .arrow {
            font-size: 2em;
            color: #2ecc71;
            margin: 10px 0;
            font-weight: bold;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .comparison-item {
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #2ecc71;
        }

        .comparison-item.left {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
        }

        .comparison-item.right {
            background: linear-gradient(135deg, #e1f5fe 0%, #b3e5fc 100%);
        }

        @media (max-width: 768px) {
            .slide {
                padding: 30px 20px;
            }

            h1 {
                font-size: 2em;
            }

            h2 {
                font-size: 1.8em;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            .comparison {
                grid-template-columns: 1fr;
            }
        }

        a {
            color: #2ecc71;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        a:hover {
            color: #27ae60;
            text-decoration: underline;
        }

        .terminal {
            background: #1a1a1a;
            color: #00ff00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            border: 2px solid #2ecc71;
        }

        .terminal::before {
            content: '$ ';
            color: #2ecc71;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        
        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 1: ØµÙØ­Ù‡ Ø¹Ù†ÙˆØ§Ù† -->
        <div class="slide">
            <div class="slide-number">1</div>
            <h1>ğŸ—ºï¸ Ø¢Ù…ÙˆØ²Ø´ Ø¬Ø§Ù…Ø¹ PostGIS</h1>
            <h2 style="text-align: center; color: #27ae60; margin-top: 40px; border: none;">
                Ø§Ø² ØµÙØ± ØªØ§ ØµØ¯ - Ú©Ø§Ù…Ù„ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ
            </h2>
            
            <div class="highlight box" style="margin-top: 60px;">
                <h3 style="text-align: center;"><span class="emoji">ğŸ¯</span> PostGIS Ú†ÛŒØ³ØªØŸ</h3>
                <p style="text-align: center; font-size: 1.4em; line-height: 2.2;">
                    PostGIS ÛŒÚ© <strong>Ø§ÙØ²ÙˆÙ†Ù‡ (Extension)</strong> Ø¨Ø±Ø§ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ PostgreSQL Ø§Ø³Øª Ú©Ù‡ 
                    Ù‚Ø§Ø¨Ù„ÛŒØª <strong>Ø°Ø®ÛŒØ±Ù‡ØŒ Ù…Ø¯ÛŒØ±ÛŒØªØŒ Ùˆ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ</strong> Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </p>
            </div>

            <div class="grid" style="margin-top: 50px;">
                <div class="card">
                    <h4><span class="emoji">ğŸ“</span> Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡</h4>
                    <p>Point, LineString, Polygon, MultiPoint Ùˆ...</p>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">ğŸ”§</span> ØªÙˆØ§Ø¨Ø¹ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯</h4>
                    <p>2000+ ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ ÙØ¶Ø§ÛŒÛŒ</p>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">ğŸš€</span> Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§Ù„Ø§</h4>
                    <p>Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ (Spatial Index)</p>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">ğŸŒ</span> Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯</strong></h4>
                    <p>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² OGC Ùˆ ISO</p>
                </div>
            </div>

            <div class="key-point box" style="margin-top: 50px;">
                <h3><span class="emoji">ğŸ’¡</span> Ú†Ø±Ø§ PostGISØŸ</h3>
                <ul style="font-size: 1.3em; line-height: 2.5;">
                    <li>ğŸ¯ <strong>Ù…ØªÙ†â€ŒØ¨Ø§Ø² Ùˆ Ø±Ø§ÛŒÚ¯Ø§Ù†</strong> (Open Source)</li>
                    <li>âš¡ <strong>Ø³Ø±ÛŒØ¹ Ùˆ Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±</strong> (Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ø±Ú©ÙˆØ±Ø¯)</li>
                    <li>ğŸ”’ <strong>Ø§Ù…Ù† Ùˆ Ù‚Ø§Ø¨Ù„ Ø§Ø¹ØªÙ…Ø§Ø¯</strong> (PostgreSQL)</li>
                    <li>ğŸ› ï¸ <strong>Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ú©Ø§Ù…Ù„</strong> (QGIS, pgAdmin, ...)</li>
                    <li>ğŸŒ <strong>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¹Ø§Ù„ÛŒ</strong> (Ø¬Ø§Ù…Ø¹Ù‡ Ø¨Ø²Ø±Ú¯)</li>
                    <li>ğŸ“Š <strong>ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</strong> (Buffer, Intersection, ...)</li>
                </ul>
            </div>

            <div class="info box" style="margin-top: 40px;">
                <h3><span class="emoji">ğŸ“š</span> Ø³Ø±ÙØµÙ„â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´</h3>
                <ol style="font-size: 1.2em; line-height: 2.5;">
                    <li>Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ PostGIS</li>
                    <li>Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ</li>
                    <li>Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø¯Ø§ÙˆÙ„ Ù…Ú©Ø§Ù†ÛŒ</li>
                    <li>ØªÙˆØ§Ø¨Ø¹ Ù¾Ø§ÛŒÙ‡ PostGIS</li>
                    <li>ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ</li>
                    <li>Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ</li>
                    <li>Import/Export Ø¯Ø§Ø¯Ù‡</li>
                    <li>Ø§Ø¯ØºØ§Ù… Ø¨Ø§ Django</li>
                    <li>Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒ</li>
                    <li>Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ùˆ Performance</li>
                </ol>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 2: Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ -->
        <div class="slide">
            <div class="slide-number">2</div>
            <h2>âš™ï¸ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ PostGIS</h2>
            
            <h3><span class="emoji">ğŸ§</span> Ù†ØµØ¨ Ø¯Ø± Ubuntu/Debian</h3>
            
            <div class="example box">
                <h4>Ù…Ø±Ø­Ù„Ù‡ 1: Ù†ØµØ¨ PostgreSQL</h4>
                <div class="code bash">
<span class="comment"># Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§</span>
sudo apt update
sudo apt upgrade -y

<span class="comment"># Ù†ØµØ¨ PostgreSQL</span>
sudo apt install postgresql postgresql-contrib -y

<span class="comment"># Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø³Ø®Ù‡</span>
psql --version

<span class="comment"># Ø´Ø±ÙˆØ¹ Ø³Ø±ÙˆÛŒØ³</span>
sudo systemctl start postgresql
sudo systemctl enable postgresql

<span class="comment"># Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª</span>
sudo systemctl status postgresql
                </div>
            </div>

            <div class="example box">
                <h4>Ù…Ø±Ø­Ù„Ù‡ 2: Ù†ØµØ¨ PostGIS</h4>
                <div class="code bash">
<span class="comment"># Ù†ØµØ¨ PostGIS</span>
sudo apt install postgis postgresql-<span class="number">14</span>-postgis-<span class="number">3</span> -y

<span class="comment"># Ù†ØµØ¨ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ</span>
sudo apt install postgis-gui -y

<span class="comment"># Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø³Ø®Ù‡ PostGIS</span>
sudo -u postgres psql -c <span class="string">"SELECT PostGIS_Version();"</span>
                </div>
            </div>

            <h3><span class="emoji">ğŸ</span> Ù†ØµØ¨ Ø¯Ø± macOS</h3>
            
            <div class="example box">
                <div class="code bash">
<span class="comment"># Ù†ØµØ¨ Ø¨Ø§ Homebrew</span>
brew install postgresql
brew install postgis

<span class="comment"># Ø´Ø±ÙˆØ¹ Ø³Ø±ÙˆÛŒØ³</span>
brew services start postgresql

<span class="comment"># Ø¨Ø±Ø±Ø³ÛŒ Ù†ØµØ¨</span>
psql --version
                </div>
            </div>

            <h3><span class="emoji">ğŸªŸ</span> Ù†ØµØ¨ Ø¯Ø± Windows</h3>
            
            <div class="info box">
                <h4>Ø±ÙˆØ´ 1: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Installer</h4>
                <ol>
                    <li>Ø¯Ø§Ù†Ù„ÙˆØ¯ <a href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads" target="_blank">PostgreSQL Installer</a></li>
                    <li>Ø§Ø¬Ø±Ø§ÛŒ ÙØ§ÛŒÙ„ Ù†ØµØ¨ Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ PostGIS Ø¯Ø± Stack Builder</li>
                    <li>ØªÚ©Ù…ÛŒÙ„ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ</li>
                </ol>
                
                <h4>Ø±ÙˆØ´ 2: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Docker</h4>
                <div class="code bash">
<span class="comment"># Ø¯Ø§Ù†Ù„ÙˆØ¯ Ùˆ Ø§Ø¬Ø±Ø§ÛŒ PostGIS Ø¨Ø§ Docker</span>
docker pull postgis/postgis:<span class="number">14</span>-<span class="number">3.2</span>

docker run --name my-postgis \
  -e POSTGRES_PASSWORD=mypassword \
  -p <span class="number">5432</span>:<span class="number">5432</span> \
  -d postgis/postgis:<span class="number">14</span>-<span class="number">3.2</span>
                </div>
            </div>

            <h3><span class="emoji">ğŸ”§</span> Ø§ÛŒØ¬Ø§Ø¯ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ùˆ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ PostGIS</h3>
            
            <div class="example box">
                <div class="code bash">
<span class="comment"># ÙˆØ±ÙˆØ¯ Ø¨Ù‡ PostgreSQL</span>
sudo -u postgres psql

<span class="comment"># ÛŒØ§ Ø¨Ø§ ÛŒÙˆØ²Ø± Ø®ÙˆØ¯ØªØ§Ù†</span>
psql -U postgres
                </div>
                
                <div class="code">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¬Ø¯ÛŒØ¯</span>
<span class="keyword">CREATE DATABASE</span> gis_database;

<span class="comment">-- Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
\c gis_database

<span class="comment">-- ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ PostGIS Extension</span>
<span class="keyword">CREATE EXTENSION</span> postgis;

<span class="comment">-- ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Topology (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</span>
<span class="keyword">CREATE EXTENSION</span> postgis_topology;

<span class="comment">-- ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Raster (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</span>
<span class="keyword">CREATE EXTENSION</span> postgis_raster;

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø³Ø®Ù‡ PostGIS</span>
<span class="keyword">SELECT</span> PostGIS_Version();

<span class="comment">-- Ù„ÛŒØ³Øª Extension Ù‡Ø§ÛŒ Ù†ØµØ¨ Ø´Ø¯Ù‡</span>
\dx

<span class="comment">-- Ø®Ø±ÙˆØ¬ÛŒ Ù†Ù…ÙˆÙ†Ù‡:</span>
<span class="comment">-- postgis | 3.2.0 | public | PostGIS geometry and geography spatial types</span>
                </div>
            </div>

            <div class="success box">
                <h3><span class="emoji">âœ…</span> ØªØ³Øª Ù†ØµØ¨</h3>
                <div class="code">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÙˆÙ„ ØªØ³Øª</span>
<span class="keyword">CREATE TABLE</span> test_points (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    name <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    geom <span class="keyword">GEOMETRY</span>(Point, <span class="number">4326</span>)
);

<span class="comment">-- Ø¯Ø±Ø¬ ÛŒÚ© Ù†Ù‚Ø·Ù‡ ØªØ³Øª</span>
<span class="keyword">INSERT INTO</span> test_points (name, geom)
<span class="keyword">VALUES</span> (
    <span class="string">'ØªÙ‡Ø±Ø§Ù†'</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)
);

<span class="comment">-- Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ST_AsText</span>(geom) <span class="keyword">AS</span> location,
    <span class="function">ST_X</span>(geom) <span class="keyword">AS</span> longitude,
    <span class="function">ST_Y</span>(geom) <span class="keyword">AS</span> latitude
<span class="keyword">FROM</span> test_points;

<span class="comment">-- Ø®Ø±ÙˆØ¬ÛŒ:</span>
<span class="comment">--  name  |        location         | longitude | latitude</span>
<span class="comment">-- -------+-------------------------+-----------+----------</span>
<span class="comment">--  ØªÙ‡Ø±Ø§Ù† | POINT(51.4231 35.7219)  | 51.4231   | 35.7219</span>
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 3: Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ -->
        <div class="slide">
            <div class="slide-number">3</div>
            <h2>ğŸ“ Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø¯Ø± PostGIS</h2>
            
            <div class="definition box">
                <h3><span class="emoji">ğŸ“–</span> GEOMETRY vs GEOGRAPHY</h3>
                <div class="comparison">
                    <div class="comparison-item left">
                        <h4>GEOMETRY</h4>
                        <ul>
                            <li>ØµÙØ­Ù‡ Ù…Ø³Ø·Ø­ (Cartesian)</li>
                            <li>Ø³Ø±ÛŒØ¹â€ŒØªØ±</li>
                            <li>Ø¨Ø±Ø§ÛŒ Ù…Ù†Ø§Ø·Ù‚ Ú©ÙˆÚ†Ú©</li>
                            <li>ÙˆØ§Ø­Ø¯: Ø¯Ø±Ø¬Ù‡ ÛŒØ§ Ù…ØªØ±</li>
                        </ul>
                    </div>
                    <div class="comparison-item right">
                        <h4>GEOGRAPHY</h4>
                        <ul>
                            <li>Ú©Ø±ÙˆÛŒ (Spherical)</li>
                            <li>Ø¯Ù‚ÛŒÙ‚â€ŒØªØ±</li>
                            <li>Ø¨Ø±Ø§ÛŒ Ú©Ù„ Ø²Ù…ÛŒÙ†</li>
                            <li>ÙˆØ§Ø­Ø¯: Ù…ØªØ±</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3><span class="emoji">ğŸ“</span> Ø§Ù†ÙˆØ§Ø¹ Geometry</h3>
            
            <table>
                <thead>
                    <tr>
                        <th>Ù†ÙˆØ¹</th>
                        <th>ØªÙˆØ¶ÛŒØ­</th>
                        <th>Ù…Ø«Ø§Ù„</th>
                        <th>Ú©Ø§Ø±Ø¨Ø±Ø¯</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Point</strong></td>
                        <td>ÛŒÚ© Ù†Ù‚Ø·Ù‡</td>
                        <td>POINT(51.42 35.72)</td>
                        <td>Ù…Ú©Ø§Ù† Ø±Ø³ØªÙˆØ±Ø§Ù†ØŒ Ù…ØºØ§Ø²Ù‡</td>
                    </tr>
                    <tr>
                        <td><strong>LineString</strong></td>
                        <td>Ø®Ø· (Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ù†Ù‚Ø§Ø·)</td>
                        <td>LINESTRING(...)</td>
                        <td>Ø®ÛŒØ§Ø¨Ø§Ù†ØŒ Ø±ÙˆØ¯Ø®Ø§Ù†Ù‡</td>
                    </tr>
                    <tr>
                        <td><strong>Polygon</strong></td>
                        <td>Ú†Ù†Ø¯Ø¶Ù„Ø¹ÛŒ</td>
                        <td>POLYGON(...)</td>
                        <td>Ø³Ø§Ø®ØªÙ…Ø§Ù†ØŒ Ù¾Ø§Ø±Ú©</td>
                    </tr>
                    <tr>
                        <td><strong>MultiPoint</strong></td>
                        <td>Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù†Ù‚Ø§Ø·</td>
                        <td>MULTIPOINT(...)</td>
                        <td>Ø´Ø¹Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ ÛŒÚ© Ø¨Ø§Ù†Ú©</td>
                    </tr>
                    <tr>
                        <td><strong>MultiLineString</strong></td>
                        <td>Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø®Ø·ÙˆØ·</td>
                        <td>MULTILINESTRING(...)</td>
                        <td>Ø´Ø¨Ú©Ù‡ Ø±Ø§Ù‡</td>
                    </tr>
                    <tr>
                        <td><strong>MultiPolygon</strong></td>
                        <td>Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ú†Ù†Ø¯Ø¶Ù„Ø¹ÛŒ</td>
                        <td>MULTIPOLYGON(...)</td>
                        <td>Ø¬Ø²Ø§ÛŒØ±ØŒ Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§</td>
                    </tr>
                    <tr>
                        <td><strong>GeometryCollection</strong></td>
                        <td>ØªØ±Ú©ÛŒØ¨ÛŒ</td>
                        <td>GEOMETRYCOLLECTION(...)</td>
                        <td>ØªØ±Ú©ÛŒØ¨ Ø§Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„Ù</td>
                    </tr>
                </tbody>
            </table>

            <h3><span class="emoji">ğŸ’»</span> Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù†ÙˆØ§Ø¹ Geometry</h3>
            
            <div class="example box">
                <h4>1. Point - Ù†Ù‚Ø·Ù‡</h4>
                <div class="code">
<span class="comment">-- Ø±ÙˆØ´ 1: Ø¨Ø§ ST_MakePoint</span>
<span class="keyword">SELECT</span> <span class="function">ST_AsText</span>(
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)
);
<span class="comment">-- Ù†ØªÛŒØ¬Ù‡: POINT(51.4231 35.7219)</span>

<span class="comment">-- Ø±ÙˆØ´ 2: Ø¨Ø§ WKT (Well-Known Text)</span>
<span class="keyword">SELECT</span> <span class="function">ST_GeomFromText</span>(<span class="string">'POINT(51.4231 35.7219)'</span>, <span class="number">4326</span>);

<span class="comment">-- Ø±ÙˆØ´ 3: Ø¨Ø§ EWKT (Extended Well-Known Text)</span>
<span class="keyword">SELECT</span> <span class="function">ST_GeomFromEWKT</span>(<span class="string">'SRID=4326;POINT(51.4231 35.7219)'</span>);
                </div>
            </div>

            <div class="example box">
                <h4>2. LineString - Ø®Ø·</h4>
                <div class="code">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø®Ø· Ø¨ÛŒÙ† Ø¯Ùˆ Ù†Ù‚Ø·Ù‡</span>
<span class="keyword">SELECT</span> <span class="function">ST_AsText</span>(
    <span class="function">ST_MakeLine</span>(
        <span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>),  <span class="comment">-- ØªÙ‡Ø±Ø§Ù†</span>
        <span class="function">ST_MakePoint</span>(<span class="number">51.3347</span>, <span class="number">35.6892</span>)   <span class="comment">-- Ú©Ø±Ø¬</span>
    )
);
<span class="comment">-- Ù†ØªÛŒØ¬Ù‡: LINESTRING(51.4231 35.7219, 51.3347 35.6892)</span>

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø®Ø· Ø¨Ø§ Ú†Ù†Ø¯ Ù†Ù‚Ø·Ù‡</span>
<span class="keyword">SELECT</span> <span class="function">ST_GeomFromText</span>(
    <span class="string">'LINESTRING(
        51.4231 35.7219,
        51.3900 35.7100,
        51.3347 35.6892
    )'</span>,
    <span class="number">4326</span>
);
                </div>
            </div>

            <div class="example box">
                <h4>3. Polygon - Ú†Ù†Ø¯Ø¶Ù„Ø¹ÛŒ</h4>
                <div class="code">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø±Ø¨Ø¹</span>
<span class="keyword">SELECT</span>
<span class="function">ST_AsText</span>(
    <span class="function">ST_GeomFromText</span>(
        <span class="string">'POLYGON((
            51.4200 35.7200,
            51.4250 35.7200,
            51.4250 35.7250,
            51.4200 35.7250,
            51.4200 35.7200
        ))'</span>,
        <span class="number">4326</span>
    )
);

<span class="comment">-- Ù†Ú©ØªÙ‡: Ø§ÙˆÙ„ÛŒÙ† Ùˆ Ø¢Ø®Ø±ÛŒÙ† Ù†Ù‚Ø·Ù‡ Ø¨Ø§ÛŒØ¯ ÛŒÚ©Ø³Ø§Ù† Ø¨Ø§Ø´Ù†Ø¯</span>

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Polygon Ø¨Ø§ Ø³ÙˆØ±Ø§Ø® (hole)</span>
<span class="keyword">SELECT</span> <span class="function">ST_GeomFromText</span>(
    <span class="string">'POLYGON((
        -- Ø­Ù„Ù‚Ù‡ Ø¨ÛŒØ±ÙˆÙ†ÛŒ
        0 0, 10 0, 10 10, 0 10, 0 0
    ),(
        -- Ø­Ù„Ù‚Ù‡ Ø¯Ø§Ø®Ù„ÛŒ (Ø³ÙˆØ±Ø§Ø®)
        2 2, 8 2, 8 8, 2 8, 2 2
    ))'</span>,
    <span class="number">4326</span>
);
                </div>
            </div>

            <div class="example box">
                <h4>4. MultiPoint - Ú†Ù†Ø¯ Ù†Ù‚Ø·Ù‡</h4>
                <div class="code">
<span class="comment">-- Ú†Ù†Ø¯ Ø´Ø¹Ø¨Ù‡ Ø¨Ø§Ù†Ú©</span>
<span class="keyword">SELECT</span> <span class="function">ST_GeomFromText</span>(
    <span class="string">'MULTIPOINT(
        51.4231 35.7219,
        51.3347 35.6892,
        51.5000 35.7500
    )'</span>,
    <span class="number">4326</span>
);

<span class="comment">-- ÛŒØ§ Ø¨Ø§ Ù¾Ø±Ø§Ù†ØªØ²</span>
<span class="keyword">SELECT</span> <span class="function">ST_GeomFromText</span>(
    <span class="string">'MULTIPOINT((51.4231 35.7219), (51.3347 35.6892))'</span>,
    <span class="number">4326</span>
);
                </div>
            </div>

            <div class="key-point box">
                <h3><span class="emoji">ğŸ¯</span> SRID - Ø³ÛŒØ³ØªÙ… Ù…Ø®ØªØµØ§Øª</h3>
                <p><strong>SRID (Spatial Reference System Identifier)</strong> Ø´Ù†Ø§Ø³Ù‡ Ø³ÛŒØ³ØªÙ… Ù…Ø®ØªØµØ§Øª Ø§Ø³Øª:</p>
                <ul>
                    <li><strong>4326:</strong> WGS 84 (GPSØŒ Google Maps) - Ø±Ø§ÛŒØ¬â€ŒØªØ±ÛŒÙ†</li>
                    <li><strong>3857:</strong> Web Mercator (Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ¨)</li>
                    <li><strong>32639:</strong> UTM Zone 39N (Ø§ÛŒØ±Ø§Ù†)</li>
                    <li><strong>32640:</strong> UTM Zone 40N (Ø´Ø±Ù‚ Ø§ÛŒØ±Ø§Ù†)</li>
                </ul>
                
                <div class="code">
<span class="comment">-- ØªØ¨Ø¯ÛŒÙ„ Ø¨ÛŒÙ† SRID Ù‡Ø§</span>
<span class="keyword">SELECT</span> 
    <span class="function">ST_AsText</span>(geom) <span class="keyword">AS</span> wgs84,
    <span class="function">ST_AsText</span>(<span class="function">ST_Transform</span>(geom, <span class="number">3857</span>)) <span class="keyword">AS</span> web_mercator,
    <span class="function">ST_AsText</span>(<span class="function">ST_Transform</span>(geom, <span class="number">32639</span>)) <span class="keyword">AS</span> utm
<span class="keyword">FROM</span> (
    <span class="keyword">SELECT</span> <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>) <span class="keyword">AS</span> geom
) <span class="keyword">AS</span> t;
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 4: Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø¯Ø§ÙˆÙ„ -->
        <div class="slide">
            <div class="slide-number">4</div>
            <h2>ğŸ—‚ï¸ Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø¯Ø§ÙˆÙ„ Ù…Ú©Ø§Ù†ÛŒ</h2>
            
            <h3><span class="emoji">ğŸ“</span> Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÙˆÙ„ Ø¨Ø§ Ø³ØªÙˆÙ† Ù…Ú©Ø§Ù†ÛŒ</h3>
            
            <div class="example box">
                <h4>Ù…Ø«Ø§Ù„ 1: Ø¬Ø¯ÙˆÙ„ Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§</h4>
                <div class="code">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÙˆÙ„</span>
<span class="keyword">CREATE TABLE</span> restaurants (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    name <span class="keyword">VARCHAR</span>(<span class="number">200</span>) <span class="keyword">NOT NULL</span>,
    cuisine <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    rating <span class="keyword">DECIMAL</span>(<span class="number">3</span>, <span class="number">2</span>),
    phone <span class="keyword">VARCHAR</span>(<span class="number">20</span>),
    address <span class="keyword">TEXT</span>,
    created_at <span class="keyword">TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span>,
    location <span class="keyword">GEOMETRY</span>(Point, <span class="number">4326</span>) <span class="keyword">NOT NULL</span>
);

<span class="comment">-- Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ù…Ù†Øª</span>
<span class="keyword">COMMENT ON TABLE</span> restaurants <span class="keyword">IS</span> <span class="string">'Ø¬Ø¯ÙˆÙ„ Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§'</span>;
<span class="keyword">COMMENT ON COLUMN</span> restaurants.location <span class="keyword">IS</span> <span class="string">'Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ (WGS 84)'</span>;

<span class="comment">-- Ø¯Ø±Ø¬ Ø¯Ø§Ø¯Ù‡</span>
<span class="keyword">INSERT INTO</span> restaurants (name, cuisine, rating, phone, address, location)
<span class="keyword">VALUES</span> (
    <span class="string">'Ø±Ø³ØªÙˆØ±Ø§Ù† Ø³Ù†ØªÛŒ Ø´Ù…Ø§Ù„'</span>,
    <span class="string">'Ø§ÛŒØ±Ø§Ù†ÛŒ'</span>,
    <span class="number">4.5</span>,
    <span class="string">'021-12345678'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† ÙˆÙ„ÛŒØ¹ØµØ±'</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)
);

<span class="comment">-- Ø¯Ø±Ø¬ Ú†Ù†Ø¯ Ø±Ø³ØªÙˆØ±Ø§Ù† Ø¯ÛŒÚ¯Ø±</span>
<span class="keyword">INSERT INTO</span> restaurants (name, cuisine, rating, phone, address, location)
<span class="keyword">VALUES</span> 
    (
        <span class="string">'Ù¾ÛŒØªØ²Ø§ Ø§ÛŒØªØ§Ù„ÛŒØ§'</span>,
        <span class="string">'Ø§ÛŒØªØ§Ù„ÛŒØ§ÛŒÛŒ'</span>,
        <span class="number">4.3</span>,
        <span class="string">'021-87654321'</span>,
        <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ù…ÛŒØ¯Ø§Ù† ÙˆÙ†Ú©'</span>,
        <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4089</span>, <span class="number">35.7576</span>), <span class="number">4326</span>)
    ),
    (
        <span class="string">'Ø³ÙˆØ´ÛŒ ØªÙˆÚ©ÛŒÙˆ'</span>,
        <span class="string">'Ú˜Ø§Ù¾Ù†ÛŒ'</span>,
        <span class="number">4.7</span>,
        <span class="string">'021-99887766'</span>,
        <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ø§Ù„Ù‡ÛŒÙ‡'</span>,
        <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4413</span>, <span class="number">35.7897</span>), <span class="number">4326</span>)
    );
                </div>
            </div>

            <div class="example box">
                <h4>Ù…Ø«Ø§Ù„ 2: Ø¬Ø¯ÙˆÙ„ Ø®ÛŒØ§Ø¨Ø§Ù†â€ŒÙ‡Ø§ (LineString)</h4>
                <div class="code">
<span class="keyword">CREATE TABLE</span> streets (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    name <span class="keyword">VARCHAR</span>(<span class="number">200</span>) <span class="keyword">NOT NULL</span>,
    street_type <span class="keyword">VARCHAR</span>(<span class="number">50</span>), <span class="comment">-- Ø§ØªÙˆØ¨Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù†ØŒ Ú©ÙˆÚ†Ù‡</span>
    length_meters <span class="keyword">DECIMAL</span>(<span class="number">10</span>, <span class="number">2</span>),
    one_way <span class="keyword">BOOLEAN DEFAULT FALSE</span>,
    geom <span class="keyword">GEOMETRY</span>(LineString, <span class="number">4326</span>) <span class="keyword">NOT NULL</span>
);

<span class="comment">-- Ø¯Ø±Ø¬ ÛŒÚ© Ø®ÛŒØ§Ø¨Ø§Ù†</span>
<span class="keyword">INSERT INTO</span> streets (name, street_type, one_way, geom)
<span class="keyword">VALUES</span> (
    <span class="string">'Ø®ÛŒØ§Ø¨Ø§Ù† ÙˆÙ„ÛŒØ¹ØµØ±'</span>,
    <span class="string">'Ø®ÛŒØ§Ø¨Ø§Ù† Ø§ØµÙ„ÛŒ'</span>,
    <span class="keyword">FALSE</span>,
    <span class="function">ST_GeomFromText</span>(
        <span class="string">'LINESTRING(
            51.4231 35.7219,
            51.4200 35.7300,
            51.4180 35.7400,
            51.4160 35.7500
        )'</span>,
        <span class="number">4326</span>
    )
);

<span class="comment">-- Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø·ÙˆÙ„ ÙˆØ§Ù‚Ø¹ÛŒ Ø®ÛŒØ§Ø¨Ø§Ù†</span>
<span class="keyword">UPDATE</span> streets
<span class="keyword">SET</span> length_meters = <span class="function">ST_Length</span>(<span class="function">ST_Transform</span>(geom, <span class="number">32639</span>))
<span class="keyword">WHERE</span> length_meters <span class="keyword">IS NULL</span>;
                </div>
            </div>

            <div class="example box">
                <h4>Ù…Ø«Ø§Ù„ 3: Ø¬Ø¯ÙˆÙ„ Ù¾Ø§Ø±Ú©â€ŒÙ‡Ø§ (Polygon)</h4>
                <div class="code">
<span class="keyword">CREATE TABLE</span> parks (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    name <span class="keyword">VARCHAR</span>(<span class="number">200</span>) <span class="keyword">NOT NULL</span>,
    park_type <span class="keyword">VARCHAR</span>(<span class="number">50</span>), <span class="comment">-- Ø´Ù‡Ø±ÛŒØŒ Ø¬Ù†Ú¯Ù„ÛŒØŒ Ù…Ù„ÛŒ</span>
    area_sqm <span class="keyword">DECIMAL</span>(<span class="number">15</span>, <span class="number">2</span>),
    facilities <span class="keyword">TEXT</span>[], <span class="comment">-- Ø¢Ø±Ø§ÛŒÙ‡ Ø§Ø² Ø§Ù…Ú©Ø§Ù†Ø§Øª</span>
    opening_hours <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    geom <span class="keyword">GEOMETRY</span>(Polygon, <span class="number">4326</span>) <span class="keyword">NOT NULL</span>
);

<span class="comment">-- Ø¯Ø±Ø¬ ÛŒÚ© Ù¾Ø§Ø±Ú©</span>
<span class="keyword">INSERT INTO</span> parks (name, park_type, facilities, opening_hours, geom)
<span class="keyword">VALUES</span> (
    <span class="string">'Ù¾Ø§Ø±Ú© Ù…Ù„Øª'</span>,
    <span class="string">'Ø´Ù‡Ø±ÛŒ'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'Ø²Ù…ÛŒÙ† Ø¨Ø§Ø²ÛŒ'</span>, <span class="string">'Ø¯ÙˆÚ†Ø±Ø®Ù‡â€ŒØ³ÙˆØ§Ø±ÛŒ'</span>, <span class="string">'Ú©Ø§ÙÙ‡'</span>],
    <span class="string">'6:00 - 23:00'</span>,
    <span class="function">ST_GeomFromText</span>(
        <span class="string">'POLYGON((
            51.4200 35.7200,
            51.4250 35.7200,
            51.4250 35.7250,
            51.4200 35.7250,
            51.4200 35.7200
        ))'</span>,
        <span class="number">4326</span>
    )
);

<span class="comment">-- Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª</span>
<span class="keyword">UPDATE</span> parks
<span class="keyword">SET</span> area_sqm = <span class="function">ST_Area</span>(<span class="function">ST_Transform</span>(geom, <span class="number">32639</span>))
<span class="keyword">WHERE</span> area_sqm <span class="keyword">IS NULL</span>;
                </div>
            </div>

            <h3><span class="emoji">ğŸ”§</span> Ù…Ø¯ÛŒØ±ÛŒØª Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ</h3>
            
            <div class="example box">
                <h4>Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³ØªÙˆÙ† Ù…Ú©Ø§Ù†ÛŒ Ø¨Ù‡ Ø¬Ø¯ÙˆÙ„ Ù…ÙˆØ¬ÙˆØ¯</h4>
                <div class="code">
<span class="comment">-- ÙØ±Ø¶: Ø¬Ø¯ÙˆÙ„ customers Ø§Ø² Ù‚Ø¨Ù„ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯</span>
<span class="keyword">CREATE TABLE</span> customers (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    name <span class="keyword">VARCHAR</span>(<span class="number">200</span>),
    email <span class="keyword">VARCHAR</span>(<span class="number">100</span>)
);

<span class="comment">-- Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³ØªÙˆÙ† location</span>
<span class="keyword">SELECT</span> AddGeometryColumn(
    <span class="string">'customers'</span>,      <span class="comment">-- Ù†Ø§Ù… Ø¬Ø¯ÙˆÙ„</span>
    <span class="string">'location'</span>,       <span class="comment">-- Ù†Ø§Ù… Ø³ØªÙˆÙ†</span>
    <span class="number">4326</span>,              <span class="comment">-- SRID</span>
    <span class="string">'POINT'</span>,          <span class="comment">-- Ù†ÙˆØ¹</span>
    <span class="number">2</span>                  <span class="comment">-- Ø§Ø¨Ø¹Ø§Ø¯ (2D)</span>
);

<span class="comment">-- ÛŒØ§ Ø¨Ø§ ALTER TABLE</span>
<span class="keyword">ALTER TABLE</span> customers
<span class="keyword">ADD COLUMN</span> location <span class="keyword">GEOMETRY</span>(Point, <span class="number">4326</span>);

<span class="comment">-- Ø­Ø°Ù Ø³ØªÙˆÙ† Ù…Ú©Ø§Ù†ÛŒ</span>
<span class="keyword">ALTER TABLE</span> customers
<span class="keyword">DROP COLUMN</span> location;

<span class="comment">-- ØªØºÛŒÛŒØ± Ù†ÙˆØ¹ Ø³ØªÙˆÙ†</span>
<span class="keyword">ALTER TABLE</span> customers
<span class="keyword">ALTER COLUMN</span> location <span class="keyword">TYPE</span> <span class="keyword">GEOMETRY</span>(MultiPoint, <span class="number">4326</span>)
<span class="keyword">USING</span> <span class="function">ST_Multi</span>(location);
                </div>
            </div>

            <div class="info box">
                <h3><span class="emoji">ğŸ“Š</span> Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ø¯Ø§ÙˆÙ„ Ù…Ú©Ø§Ù†ÛŒ</h3>
                <div class="code">
<span class="comment">-- Ù„ÛŒØ³Øª ØªÙ…Ø§Ù… Ø¬Ø¯Ø§ÙˆÙ„ Ù…Ú©Ø§Ù†ÛŒ</span>
<span class="keyword">SELECT</span> 
    f_table_schema,
    f_table_name,
    f_geometry_column,
    coord_dimension,
    srid,
    type
<span class="keyword">FROM</span> geometry_columns;

<span class="comment">-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÛŒÚ© Ø¬Ø¯ÙˆÙ„ Ø®Ø§Øµ</span>
<span class="keyword">SELECT</span> * 
<span class="keyword">FROM</span> geometry_columns 
<span class="keyword">WHERE</span> f_table_name = <span class="string">'restaurants'</span>;

<span class="comment">-- ØªØ¹Ø¯Ø§Ø¯ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§</span>
<span class="keyword">SELECT</span> <span class="function">COUNT</span>(*) <span class="keyword">FROM</span> restaurants;

<span class="comment">-- Bounding Box Ú©Ù„ Ø¬Ø¯ÙˆÙ„</span>
<span class="keyword">SELECT</span> 
    <span class="function">ST_AsText</span>(<span class="function">ST_Extent</span>(location)) <span class="keyword">AS</span> bbox
<span class="keyword">FROM</span> restaurants;
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 5: ØªÙˆØ§Ø¨Ø¹ Ù¾Ø§ÛŒÙ‡ PostGIS -->
        <div class="slide">
            <div class="slide-number">5</div>
            <h2>ğŸ”§ ØªÙˆØ§Ø¨Ø¹ Ù¾Ø§ÛŒÙ‡ PostGIS</h2>
            
            <h3><span class="emoji">ğŸ“</span> Ø¯Ø³ØªÙ‡ 1: ØªÙˆØ§Ø¨Ø¹ Ø³Ø§Ø®Øª (Constructor)</h3>
            
            <div class="example box">
                <div class="code">
<span class="comment">-- ST_MakePoint: Ø³Ø§Ø®Øª Ù†Ù‚Ø·Ù‡</span>
<span class="keyword">SELECT</span> <span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>);

<span class="comment">-- ST_MakePoint Ø¨Ø§ Ø§Ø±ØªÙØ§Ø¹</span>
<span class="keyword">SELECT</span> <span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>, <span class="number">1200</span>); <span class="comment">-- Z = 1200 Ù…ØªØ±</span>

<span class="comment">-- ST_MakeLine: Ø³Ø§Ø®Øª Ø®Ø·</span>
<span class="keyword">SELECT</span> <span class="function">ST_MakeLine</span>(
    <span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>),
    <span class="function">ST_MakePoint</span>(<span class="number">51.3347</span>, <span class="number">35.6892</span>)
);

<span class="comment">-- ST_MakePolygon: Ø³Ø§Ø®Øª Ú†Ù†Ø¯Ø¶Ù„Ø¹ÛŒ</span>
<span class="keyword">SELECT</span> <span class="function">ST_MakePolygon</span>(
    <span class="function">ST_GeomFromText</span>(<span class="string">'LINESTRING(0 0, 10 0, 10 10, 0 10, 0 0)'</span>)
);

<span class="comment">-- ST_GeomFromText: Ø§Ø² WKT</span>
<span class="keyword">SELECT</span> <span class="function">ST_GeomFromText</span>(<span class="string">'POINT(51.4231 35.7219)'</span>, <span class="number">4326</span>);

<span class="comment">-- ST_GeomFromGeoJSON: Ø§Ø² GeoJSON</span>
<span class="keyword">SELECT</span> <span class="function">ST_GeomFromGeoJSON</span>(<span class="string">'{
    "type": "Point",
    "coordinates": [51.4231, 35.7219]
}'</span>);

<span class="comment">-- ST_GeomFromKML: Ø§Ø² KML</span>
<span class="keyword">SELECT</span> <span class="function">ST_GeomFromKML</span>(<span class="string">'<Point><coordinates>51.4231,35.7219</coordinates></Point>'</span>);
                </div>
            </div>

            <h3><span class="emoji">ğŸ”</span> Ø¯Ø³ØªÙ‡ 2: ØªÙˆØ§Ø¨Ø¹ Ø®Ø±ÙˆØ¬ÛŒ (Accessor)</h3>
            
            <div class="example box">
                <div class="code">
<span class="comment">-- ST_AsText: ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ WKT</span>
<span class="keyword">SELECT</span> <span class="function">ST_AsText</span>(location) <span class="keyword">FROM</span> restaurants;

<span class="comment">-- ST_AsGeoJSON: ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ GeoJSON</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ST_AsGeoJSON</span>(location) <span class="keyword">AS</span> geojson
<span class="keyword">FROM</span> restaurants;

<span class="comment">-- ST_AsKML: ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ KML</span>
<span class="keyword">SELECT</span> <span class="function">ST_AsKML</span>(location) <span class="keyword">FROM</span> restaurants;

<span class="comment">-- ST_X Ùˆ ST_Y: Ø¯Ø±ÛŒØ§ÙØª Ù…Ø®ØªØµØ§Øª</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ST_X</span>(location) <span class="keyword">AS</span> longitude,
    <span class="function">ST_Y</span>(location) <span class="keyword">AS</span> latitude
<span class="keyword">FROM</span> restaurants;

<span class="comment">-- ST_SRID: Ø¯Ø±ÛŒØ§ÙØª SRID</span>
<span class="keyword">SELECT</span> <span class="function">ST_SRID</span>(location) <span class="keyword">FROM</span> restaurants;

<span class="comment">-- ST_GeometryType: Ù†ÙˆØ¹ Ù‡Ù†Ø¯Ø³Ù‡</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ST_GeometryType</span>(location) <span class="keyword">AS</span> geom_type
<span class="keyword">FROM</span> restaurants;
<span class="comment">-- Ù†ØªÛŒØ¬Ù‡: ST_Point</span>

<span class="comment">-- ST_Dimension: Ø§Ø¨Ø¹Ø§Ø¯ (0=Point, 1=Line, 2=Polygon)</span>
<span class="keyword">SELECT</span> <span class="function">ST_Dimension</span>(location) <span class="keyword">FROM</span> restaurants;

<span class="comment">-- ST_NPoints: ØªØ¹Ø¯Ø§Ø¯ Ù†Ù‚Ø§Ø·</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ST_NPoints</span>(geom) <span class="keyword">AS</span> num_points
<span class="keyword">FROM</span> streets;
                </div>
            </div>

            <h3><span class="emoji">ğŸ“</span> Ø¯Ø³ØªÙ‡ 3: ØªÙˆØ§Ø¨Ø¹ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ (Measurement)</h3>
            
            <div class="example box">
                <div class="code">
<span class="comment">-- ST_Distance: ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ø¯Ùˆ Ù†Ù‚Ø·Ù‡ (Ø¯Ø±Ø¬Ù‡)</span>
<span class="keyword">SELECT</span> <span class="function">ST_Distance</span>(
    <span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>),
    <span class="function">ST_MakePoint</span>(<span class="number">51.3347</span>, <span class="number">35.6892</span>)
);
<span class="comment">-- Ù†ØªÛŒØ¬Ù‡: 0.0995... Ø¯Ø±Ø¬Ù‡</span>

<span class="comment">-- ST_Distance Ø¨Ø§ Geography (Ù…ØªØ±)</span>
<span class="keyword">SELECT</span> <span class="function">ST_Distance</span>(
    <span class="function">ST_GeographyFromText</span>(<span class="string">'POINT(51.4231 35.7219)'</span>),
    <span class="function">ST_GeographyFromText</span>(<span class="string">'POINT(51.3347 35.6892)'</span>)
) / <span class="number">1000</span> <span class="keyword">AS</span> distance_km;
<span class="comment">-- Ù†ØªÛŒØ¬Ù‡: ~12.5 Ú©ÛŒÙ„ÙˆÙ…ØªØ±</span>

<span class="comment">-- ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§</span>
<span class="keyword">SELECT</span> 
    r1.name <span class="keyword">AS</span> restaurant1,
    r2.name <span class="keyword">AS</span> restaurant2,
    <span class="function">ROUND</span>(
        <span class="function">ST_Distance</span>(
            r1.location::<span class="keyword">geography</span>,
            r2.location::<span class="keyword">geography</span>
        ) / <span class="number">1000</span>, 
        <span class="number">2</span>
    ) <span class="keyword">AS</span> distance_km
<span class="keyword">FROM</span> restaurants r1
<span class="keyword">CROSS JOIN</span> restaurants r2
<span class="keyword">WHERE</span> r1.id < r2.id;

<span class="comment">-- ST_Length: Ø·ÙˆÙ„ Ø®Ø· (Ù…ØªØ±)</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ROUND</span>(
        <span class="function">ST_Length</span>(<span class="function">ST_Transform</span>(geom, <span class="number">32639</span>)), 
        <span class="number">2</span>
    ) <span class="keyword">AS</span> length_meters
<span class="keyword">FROM</span> streets;

<span class="comment">-- ST_Area: Ù…Ø³Ø§Ø­Øª (Ù…ØªØ± Ù…Ø±Ø¨Ø¹)</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ROUND</span>(
        <span class="function">ST_Area</span>(<span class="function">ST_Transform</span>(geom, <span class="number">32639</span>)), 
        <span class="number">2</span>
    ) <span class="keyword">AS</span> area_sqm
<span class="keyword">FROM</span> parks;

<span class="comment">-- ST_Perimeter: Ù…Ø­ÛŒØ· (Ù…ØªØ±)</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ROUND</span>(
        <span class="function">ST_Perimeter</span>(<span class="function">ST_Transform</span>(geom, <span class="number">32639</span>)), 
        <span class="number">2</span>
    ) <span class="keyword">AS</span> perimeter_meters
<span class="keyword">FROM</span> parks;

<span class="comment">-- ST_Azimuth: Ø²Ø§ÙˆÛŒÙ‡ Ø¨ÛŒÙ† Ø¯Ùˆ Ù†Ù‚Ø·Ù‡ (Ø±Ø§Ø¯ÛŒØ§Ù†)</span>
<span class="keyword">SELECT</span> 
    <span class="function">DEGREES</span>(
        <span class="function">ST_Azimuth</span>(
            <span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>),
            <span class="function">ST_MakePoint</span>(<span class="number">51.3347</span>, <span class="number">35.6892</span>)
        )
    ) <span class="keyword">AS</span> bearing_degrees;
                </div>
            </div>

            <h3><span class="emoji">âœ‚ï¸</span> Ø¯Ø³ØªÙ‡ 4: ØªÙˆØ§Ø¨Ø¹ Ù¾Ø±Ø¯Ø§Ø²Ø´ (Processing)</h3>
            
            <div class="example box">
                <div class="code">
<span class="comment">-- ST_Buffer: Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§ÙØ± (Ø­Ø§Ø´ÛŒÙ‡)</span>
<span class="comment">-- 500 Ù…ØªØ± Ø¯ÙˆØ± ØªØ§ Ø¯ÙˆØ± ÛŒÚ© Ù†Ù‚Ø·Ù‡</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ST_AsText</span>(
        <span class="function">ST_Transform</span>(
            <span class="function">ST_Buffer</span>(
                <span class="function">ST_Transform</span>(location, <span class="number">32639</span>),
                <span class="number">500</span>
            ),
            <span class="number">4326</span>
        )
    ) <span class="keyword">AS</span> buffer_500m
<span class="keyword">FROM</span> restaurants
<span class="keyword">WHERE</span> name = <span class="string">'Ø±Ø³ØªÙˆØ±Ø§Ù† Ø³Ù†ØªÛŒ Ø´Ù…Ø§Ù„'</span>;

<span class="comment">-- ST_Centroid: Ù…Ø±Ú©Ø² Ù‡Ù†Ø¯Ø³Ù‡</span>
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ST_AsText</span>(<span class="function">ST_Centroid</span>(geom)) <span class="keyword">AS</span> center
<span class="keyword">FROM</span> parks;

<span class="comment">-- ST_Envelope: Ù…Ø³ØªØ·ÛŒÙ„ Ù…Ø­ÛŒØ·ÛŒ (Bounding Box)</span>
<span class="keyword">SELECT</span> 
    <span class="function">ST_AsText</span>(<span class="function">ST_Envelope</span>(geom)) <span class="keyword">AS</span> bbox
<span class="keyword">FROM</span> parks;

<span class="comment">-- ST_ConvexHull: Ù¾ÙˆØ³ØªÙ‡ Ù…Ø­Ø¯Ø¨</span>
<span class="keyword">SELECT</span> <span class="function">ST_AsText</span>(
    <span class="function">ST_ConvexHull</span>(
        <span class="function">ST_Collect</span>(<span class="keyword">ARRAY</span>[
            <span class="function">ST_MakePoint</span>(<span class="number">0</span>, <span class="number">0</span>),
            <span class="function">ST_MakePoint</span>(<span class="number">1</span>, <span class="number">1</span>),
            <span class="function">ST_MakePoint</span>(<span class="number">2</span>, <span class="number">0</span>)
        ])
    )
);

<span class="comment">-- ST_Simplify: Ø³Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù‡Ù†Ø¯Ø³Ù‡</span>
<span class="keyword">SELECT</span> 
    <span class="function">ST_NPoints</span>(geom) <span class="keyword">AS</span> original_points,
    <span class="function>ST_NPoints</span>(<span class="function">ST_Simplify</span>(geom, <span class="number">0.001</span>)) <span class="keyword">AS</span> simplified_points
<span class="keyword">FROM</span> streets;

<span class="comment">-- ST_Union: ØªØ±Ú©ÛŒØ¨ Ú†Ù†Ø¯ Ù‡Ù†Ø¯Ø³Ù‡</span>
<span class="keyword">SELECT</span> 
    <span class="function">ST_AsText</span>(
        <span class="function">ST_Union</span>(geom)
    ) <span class="keyword">AS</span> combined_parks
<span class="keyword">FROM</span> parks;

<span class="comment">-- ST_Intersection: Ø§Ø´ØªØ±Ø§Ú© Ø¯Ùˆ Ù‡Ù†Ø¯Ø³Ù‡</span>
<span class="keyword">SELECT</span> 
    <span class="function">ST_AsText</span>(
        <span class="function">ST_Intersection</span>(
            <span class="function">ST_GeomFromText</span>(<span class="string">'POLYGON((0 0, 2 0, 2 2, 0 2, 0 0))'</span>),
            <span class="function">ST_GeomFromText</span>(<span class="string">'POLYGON((1 1, 3 1, 3 3, 1 3, 1 1))'</span>)
        )
    );

<span class="comment">-- ST_Difference: ØªÙØ§Ø¶Ù„ Ø¯Ùˆ Ù‡Ù†Ø¯Ø³Ù‡</span>
<span class="keyword">SELECT</span> 
    <span class="function">ST_AsText</span>(
        <span class="function">ST_Difference</span>(
            <span class="function">ST_GeomFromText</span>(<span class="string">'POLYGON((0 0, 2 0, 2 2, 0 2, 0 0))'</span>),
            <span class="function">ST_GeomFromText</span>(<span class="string">'POLYGON((1 1, 3 1, 3 3, 1 3, 1 1))'</span>)
        )
    );
                </div>
            </div>

            <h3><span class="emoji">ğŸ”</span> Ø¯Ø³ØªÙ‡ 5: ØªÙˆØ§Ø¨Ø¹ Ø±Ø§Ø¨Ø·Ù‡â€ŒØ§ÛŒ (Relationship)</h3>
            
            <div class="example box">
                <div class="code">
<span class="comment">-- ST_Contains: Ø¢ÛŒØ§ A Ø´Ø§Ù…Ù„ B Ø§Ø³ØªØŸ</span>
<span class="keyword">SELECT</span> 
    p.name <span class="keyword">AS</span> park_name,
    r.name <span class="keyword">AS</span> restaurant_name
<span class="keyword">FROM</span> parks p
<span class="keyword">JOIN</span> restaurants r 
    <span class="keyword">ON</span> <span class="function">ST_Contains</span>(p.geom, r.location);

<span class="comment">-- ST_Within: Ø¢ÛŒØ§ A Ø¯Ø§Ø®Ù„ B Ø§Ø³ØªØŸ</span>
<span class="keyword">SELECT</span> 
    r.name <span class="keyword">AS</span> restaurant_name,
    p.name <span class="keyword">AS</span> park_name
<span class="keyword">FROM</span> restaurants r
<span class="keyword">JOIN</span> parks p 
    <span class="keyword">ON</span> <span class="function">ST_Within</span>(r.location, p.geom);

<span class="comment">-- ST_Intersects: Ø¢ÛŒØ§ A Ùˆ B ØªÙ‚Ø§Ø·Ø¹ Ø¯Ø§Ø±Ù†Ø¯ØŸ</span>
<span class="keyword">SELECT</span> 
    s1.name <span class="keyword">AS</span> street1,
    s2.name <span class="keyword">AS</span> street2
<span class="keyword">FROM</span> streets s1
<span class="keyword">JOIN</span> streets s2 
    <span class="keyword">ON</span> s1.id < s2.id 
    <span class="keyword">AND</span> <span class="function">ST_Intersects</span>(s1.geom, s2.geom);

<span class="comment">-- ST_Disjoint: Ø¢ÛŒØ§ A Ùˆ B Ø¬Ø¯Ø§ Ù‡Ø³ØªÙ†Ø¯ØŸ</span>
<span class="keyword">SELECT</span> <span class="function">ST_Disjoint</span>(
    <span class="function">ST_GeomFromText</span>(<span class="string">'POINT(0 0)'</span>),
    <span class="function">ST_GeomFromText</span>(<span class="string">'POINT(5 5)'</span>)
); <span class="comment">-- TRUE</span>

<span class="comment">-- ST_Touches: Ø¢ÛŒØ§ A Ùˆ B Ù…Ù…Ø§Ø³ Ù‡Ø³ØªÙ†Ø¯ØŸ</span>
<span class="keyword">SELECT</span> <span class="function">ST_Touches</span>(
    <span class="function">ST_GeomFromText</span>(<span class="string">'POLYGON((0 0, 1 0, 1 1, 0 1, 0 0))'</span>),
    <span class="function">ST_GeomFromText</span>(<span class="string">'POLYGON((1 0, 2 0, 2 1, 1 1, 1 0))'</span>)
); <span class="comment">-- TRUE</span>

<span class="comment">-- ST_Overlaps: Ø¢ÛŒØ§ A Ùˆ B Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø¯Ø§Ø±Ù†Ø¯ØŸ</span>
<span class="keyword">SELECT</span> <span class="function">ST_Overlaps</span>(
    <span class="function">ST_GeomFromText</span>(<span class="string">'POLYGON((0 0, 2 0, 2 2, 0 2, 0 0))'</span>),
    <span class="function">ST_GeomFromText</span>(<span class="string">'POLYGON((1 1, 3 1, 3 3, 1 3, 1 1))'</span>)
); <span class="comment">-- TRUE</span>

<span class="comment">-- ST_Crosses: Ø¢ÛŒØ§ A Ø§Ø² B Ø¹Ø¨ÙˆØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ</span>
<span class="keyword">SELECT</span> 
    s.name <span class="keyword">AS</span> street,
    p.name <span class="keyword">AS</span> park
<span class="keyword">FROM</span> streets s
<span class="keyword">JOIN</span> parks p 
    <span class="keyword">ON</span> <span class="function">ST_Crosses</span>(s.geom, p.geom);

<span class="comment">-- ST_Equals: Ø¢ÛŒØ§ A Ùˆ B Ø¨Ø±Ø§Ø¨Ø± Ù‡Ø³ØªÙ†Ø¯ØŸ</span>
<span class="keyword">SELECT</span> <span class="function">ST_Equals</span>(
    <span class="function">ST_GeomFromText</span>(<span class="string">'POINT(1 1)'</span>),
    <span class="function">ST_GeomFromText</span>(<span class="string">'POINT(1 1)'</span>)
); <span class="comment">-- TRUE</span>
                </div>
            </div>

            <div class="key-point box">
                <h3><span class="emoji">ğŸ’¡</span> Ø®Ù„Ø§ØµÙ‡ ØªÙˆØ§Ø¨Ø¹ Ù…Ù‡Ù…</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Ø¯Ø³ØªÙ‡</th>
                            <th>ØªØ§Ø¨Ø¹</th>
                            <th>Ú©Ø§Ø±Ø¨Ø±Ø¯</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="3"><strong>Ø³Ø§Ø®Øª</strong></td>
                            <td>ST_MakePoint</td>
                            <td>Ø³Ø§Ø®Øª Ù†Ù‚Ø·Ù‡</td>
                        </tr>
                        <tr>
                            <td>ST_GeomFromText</td>
                            <td>Ø§Ø² WKT</td>
                        </tr>
                        <tr>
                            <td>ST_GeomFromGeoJSON</td>
                            <td>Ø§Ø² GeoJSON</td>
                        </tr>
                        <tr>
                            <td rowspan="3"><strong>Ø®Ø±ÙˆØ¬ÛŒ</strong></td>
                            <td>ST_AsText</td>
                            <td>Ø¨Ù‡ WKT</td>
                        </tr>
                        <tr>
                            <td>ST_AsGeoJSON</td>
                            <td>Ø¨Ù‡ GeoJSON</td>
                        </tr>
                        <tr>
                            <td>ST_X, ST_Y</td>
                            <td>Ù…Ø®ØªØµØ§Øª</td>
                        </tr>
                        <tr>
                            <td rowspan="3"><strong>Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ</strong></td>
                            <td>ST_Distance</td>
                            <td>ÙØ§ØµÙ„Ù‡</td>
                        </tr>
                        <tr>
                            <td>ST_Length</td>
                            <td>Ø·ÙˆÙ„</td>
                        </tr>
                        <tr>
                            <td>ST_Area</td>
                            <td>Ù…Ø³Ø§Ø­Øª</td>
                        </tr>
                        <tr>
                            <td rowspan="3"><strong>Ù¾Ø±Ø¯Ø§Ø²Ø´</strong></td>
                            <td>ST_Buffer</td>
                            <td>Ø¨Ø§ÙØ±</td>
                        </tr>
                        <tr>
                            <td>ST_Intersection</td>
                            <td>Ø§Ø´ØªØ±Ø§Ú©</td>
                        </tr>
                        <tr>
                            <td>ST_Union</td>
                            <td>ØªØ±Ú©ÛŒØ¨</td>
                        </tr>
                        <tr>
                            <td rowspan="3"><strong>Ø±Ø§Ø¨Ø·Ù‡</strong></td>
                            <td>ST_Contains</td>
                            <td>Ø´Ø§Ù…Ù„ Ø¨ÙˆØ¯Ù†</td>
                        </tr>
                        <tr>
                            <td>ST_Intersects</td>
                            <td>ØªÙ‚Ø§Ø·Ø¹</td>
                        </tr>
                        <tr>
                            <td>ST_DWithin</td>
                            <td>Ø¯Ø± Ø´Ø¹Ø§Ø¹</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 6: ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ -->
        <div class="slide">
            <div class="slide-number">6</div>
            <h2>ğŸ”¬ ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h2>
            
            <h3><span class="emoji">ğŸ“</span> 1. Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† (Nearest Neighbor)</h3>
            
            <div class="example box">
                <h4>Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ø±Ø³ØªÙˆØ±Ø§Ù† Ø¨Ù‡ ÛŒÚ© Ù†Ù‚Ø·Ù‡</h4>
                <div class="code">
<span class="comment">-- Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ø±Ø³ØªÙˆØ±Ø§Ù† Ø¨Ù‡ Ù…ÛŒØ¯Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ</span>
<span class="keyword">WITH</span> target_point <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.3381</span>, <span class="number">35.6995</span>), <span class="number">4326</span>) <span class="keyword">AS</span> geom
)
<span class="keyword">SELECT</span> 
    r.name,
    r.cuisine,
    r.rating,
    <span class="function">ROUND</span>(
        <span class="function">ST_Distance</span>(
            r.location::<span class="keyword">geography</span>,
            tp.geom::<span class="keyword">geography</span>
        ) / <span class="number">1000</span>, 
        <span class="number">2</span>
    ) <span class="keyword">AS</span> distance_km
<span class="keyword">FROM</span> restaurants r, target_point tp
<span class="keyword">ORDER BY</span> r.location <-> tp.geom  <span class="comment">-- Ø¹Ù…Ù„Ú¯Ø± KNN</span>
<span class="keyword">LIMIT</span> <span class="number">5</span>;

<span class="comment">-- 3 Ø±Ø³ØªÙˆØ±Ø§Ù† Ù†Ø²Ø¯ÛŒÚ© Ø¨Ù‡ Ù‡Ø± Ù¾Ø§Ø±Ú©</span>
<span class="keyword">SELECT</span> 
    p.name <span class="keyword">AS</span> park_name,
    r.name <span class="keyword">AS</span> restaurant_name,
    <span class="function">ROUND</span>(
        <span class="function">ST_Distance</span>(
            p.geom::<span class="keyword">geography</span>,
            r.location::<span class="keyword">geography</span>
        ), 
        <span class="number">2</span>
    ) <span class="keyword">AS</span> distance_meters
<span class="keyword">FROM</span> parks p
<span class="keyword">CROSS JOIN LATERAL</span> (
    <span class="keyword">SELECT</span> *
    <span class="keyword">FROM</span> restaurants r
    <span class="keyword">ORDER BY</span> r.location <-> p.geom
    <span class="keyword">LIMIT</span> <span class="number">3</span>
) r
<span class="keyword">ORDER BY</span> p.name, distance_meters;
                </div>
            </div>

            <h3><span class="emoji">â­•</span> 2. Ø¬Ø³ØªØ¬ÙˆÛŒ Ø´Ø¹Ø§Ø¹ÛŒ (Radius Search)</h3>
            
            <div class="example box">
                <h4>Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø´Ø¹Ø§Ø¹ 2 Ú©ÛŒÙ„ÙˆÙ…ØªØ±ÛŒ</h4>
                <div class="code">
<span class="comment">-- Ø±ÙˆØ´ 1: Ø¨Ø§ ST_DWithin (Ø³Ø±ÛŒØ¹â€ŒØªØ±)</span>
<span class="keyword">SELECT</span> 
    name,
    cuisine,
    rating,
    <span class="function">ROUND</span>(
        <span class="function">ST_Distance</span>(
            location::<span class="keyword">geography</span>,
            <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)::<span class="keyword">geography</span>
        ) / <span class="number">1000</span>, 
        <span class="number">2</span>
    ) <span class="keyword">AS</span> distance_km
<span class="keyword">FROM</span> restaurants
<span class="keyword">WHERE</span> <span class="function">ST_DWithin</span>(
    location::<span class="keyword">geography</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)::<span class="keyword">geography</span>,
    <span class="number">2000</span>  <span class="comment">-- 2000 Ù…ØªØ±</span>
)
<span class="keyword">ORDER BY</span> distance_km;

<span class="comment">-- Ø±ÙˆØ´ 2: Ø¨Ø§ Buffer</span>
<span class="keyword">WITH</span> search_area <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> 
        <span class="function">ST_Buffer</span>(
            <span class="function">ST_Transform</span>(
                <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>),
                <span class="number">32639</span>
            ),
            <span class="number">2000</span>
        ) <span class="keyword">AS</span> geom
)
<span class="keyword">SELECT</span> 
    r.name,
    r.cuisine
<span class="keyword">FROM</span> restaurants r, search_area sa
<span class="keyword">WHERE</span> <span class="function">ST_Intersects</span>(
    <span class="function">ST_Transform</span>(r.location, <span class="number">32639</span>),
    sa.geom
);
                </div>
            </div>

            <h3><span class="emoji">ğŸ”·</span> 3. Point in Polygon</h3>
            
            <div class="example box">
                <h4>Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ Ù¾Ø§Ø±Ú©</h4>
                <div class="code">
<span class="comment">-- Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø§Ø®Ù„ Ù¾Ø§Ø±Ú© Ù‡Ø³ØªÙ†Ø¯</span>
<span class="keyword">SELECT</span> 
    p.name <span class="keyword">AS</span> park_name,
    r.name <span class="keyword">AS</span> restaurant_name,
    r.cuisine
<span class="keyword">FROM</span> parks p
<span class="keyword">JOIN</span> restaurants r 
    <span class="keyword">ON</span> <span class="function">ST_Contains</span>(p.geom, r.location);

<span class="comment">-- ØªØ¹Ø¯Ø§Ø¯ Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ Ø¯Ø± Ù‡Ø± Ù¾Ø§Ø±Ú©</span>
<span class="keyword">SELECT</span> 
    p.name <span class="keyword">AS</span> park_name,
    <span class="function">COUNT</span>(r.id) <span class="keyword">AS</span> restaurant_count
<span class="keyword">FROM</span> parks p
<span class="keyword">LEFT JOIN</span> restaurants r 
    <span class="keyword">ON</span> <span class="function">ST_Contains</span>(p.geom, r.location)
<span class="keyword">GROUP BY</span> p.name;

<span class="comment">-- Ú†Ú© Ú©Ø±Ø¯Ù† ÛŒÚ© Ù†Ù‚Ø·Ù‡ Ø®Ø§Øµ</span>
<span class="keyword">SELECT</span> 
    <span class="keyword">CASE</span> 
        <span class="keyword">WHEN EXISTS</span> (
            <span class="keyword">SELECT</span> <span class="number">1</span> 
            <span class="keyword">FROM</span> parks 
            <span class="keyword">WHERE</span> <span class="function">ST_Contains</span>(
                geom, 
                <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4220</span>, <span class="number">35.7220</span>), <span class="number">4326</span>)
            )
        ) 
        <span class="keyword">THEN</span> <span class="string">'Ø¯Ø§Ø®Ù„ Ù¾Ø§Ø±Ú©'</span>
        <span class="keyword">ELSE</span> <span class="string">'Ø®Ø§Ø±Ø¬ Ø§Ø² Ù¾Ø§Ø±Ú©'</span>
    <span class="keyword">END</span> <span class="keyword">AS</span> status;
                </div>
            </div>

            <h3><span class="emoji">ğŸ”—</span> 4. Spatial Join</h3>
            
            <div class="example box">
                <h4>Join Ù…Ú©Ø§Ù†ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h4>
                <div class="code">
<span class="comment">-- Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ Ùˆ Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ù¾Ø§Ø±Ú©</span>
<span class="keyword">SELECT</span> 
    r.name <span class="keyword">AS</span> restaurant,
    p.name <span class="keyword">AS</span> nearest_park,
    <span class="function">ROUND</span>(
        <span class="function">ST_Distance</span>(
            r.location::<span class="keyword">geography</span>,
            p.geom::<span class="keyword">geography</span>
        ), 
        <span class="number">2</span>
    ) <span class="keyword">AS</span> distance_meters
<span class="keyword">FROM</span> restaurants r
<span class="keyword">CROSS JOIN LATERAL</span> (
    <span class="keyword">SELECT</span> *
    <span class="keyword">FROM</span> parks
    <span class="keyword">ORDER BY</span> geom <-> r.location
    <span class="keyword">LIMIT</span> <span class="number">1</span>
) p;

<span class="comment">-- Ø®ÛŒØ§Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ø² Ù¾Ø§Ø±Ú© Ø¹Ø¨ÙˆØ± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯</span>
<span class="keyword">SELECT</span> 
    s.name <span class="keyword">AS</span> street_name,
    p.name <span class="keyword">AS</span> park_name,
    <span class="function">ST_AsText</span>(
        <span class="function">ST_Intersection</span>(s.geom, p.geom)
    ) <span class="keyword">AS</span> intersection_line
<span class="keyword">FROM</span> streets s
<span class="keyword">JOIN</span> parks p 
    <span class="keyword">ON</span> <span class="function">ST_Intersects</span>(s.geom, p.geom);

<span class="comment">-- Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ Ø¯Ø± Ø¨Ø§ÙØ± 500 Ù…ØªØ±ÛŒ Ø®ÛŒØ§Ø¨Ø§Ù†â€ŒÙ‡Ø§</span>
<span class="keyword">SELECT</span> 
    s.name <span class="keyword">AS</span> street,
    r.name <span class="keyword">AS</span> restaurant,
    <span class="function">ROUND</span>(
        <span class="function">ST_Distance</span>(
            <span class="function">ST_Transform</span>(s.geom, <span class="number">32639</span>),
            <span class="function">ST_Transform</span>(r.location, <span class="number">32639</span>)
        ), 
        <span class="number">2</span>
    ) <span class="keyword">AS</span> distance_meters
<span class="keyword">FROM</span> streets s
<span class="keyword">JOIN</span> restaurants r 
    <span class="keyword">ON</span> <span class="function">ST_DWithin</span>(
        <span class="function">ST_Transform</span>(s.geom, <span class="number">32639</span>),
        <span class="function">ST_Transform</span>(r.location, <span class="number">32639</span>),
        <span class="number">500</span>
    );
                </div>
            </div>

            <h3><span class="emoji">ğŸ“Š</span> 5. ØªØ­Ù„ÛŒÙ„ Ø®ÙˆØ´Ù‡â€ŒØ§ÛŒ (Clustering)</h3>
            
            <div class="example box">
                <h4>Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§</h4>
                <div class="code">
<span class="comment">-- Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø§ ST_ClusterKMeans</span>
<span class="keyword">SELECT</span> 
    <span class="function">ST_ClusterKMeans</span>(
        <span class="function">ST_Transform</span>(location, <span class="number">32639</span>), 
        <span class="number">3</span>  <span class="comment">-- ØªØ¹Ø¯Ø§Ø¯ Ø®ÙˆØ´Ù‡</span>
    ) <span class="keyword">OVER</span>() <span class="keyword">AS</span> cluster_id,
    name,
    cuisine,
    <span class="function">ST_X</span>(location) <span class="keyword">AS</span> lon,
    <span class="function">ST_Y</span>(location) <span class="keyword">AS</span> lat
<span class="keyword">FROM</span> restaurants
<span class="keyword">ORDER BY</span> cluster_id;

<span class="comment">-- Ø®ÙˆØ´Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø§ ST_ClusterDBSCAN</span>
<span class="keyword">SELECT</span> 
    <span class="function">ST_ClusterDBSCAN</span>(
        <span class="function">ST_Transform</span>(location, <span class="number">32639</span>),
        eps := <span class="number">1000</span>,      <span class="comment">-- Ø´Ø¹Ø§Ø¹ (Ù…ØªØ±)</span>
        minpoints := <span class="number">2</span>   <span class="comment">-- Ø­Ø¯Ø§Ù‚Ù„ Ù†Ù‚Ø§Ø·</span>
    ) <span class="keyword">OVER</span>() <span class="keyword">AS</span> cluster_id,
    name,
    cuisine
<span class="keyword">FROM</span> restaurants;

<span class="comment">-- Ù…Ø±Ú©Ø² Ù‡Ø± Ø®ÙˆØ´Ù‡</span>
<span class="keyword">WITH</span> clusters <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> 
        <span class="function">ST_ClusterKMeans</span>(location, <span class="number">3</span>) <span class="keyword">OVER</span>() <span class="keyword">AS</span> cid,
        location
    <span class="keyword">FROM</span> restaurants
)
<span class="keyword">SELECT</span> 
    cid <span class="keyword">AS</span> cluster_id,
    <span class="function">COUNT</span>(*) <span class="keyword">AS</span> count,
    <span class="function">ST_AsText</span>(
        <span class="function">ST_Centroid</span>(<span class="function">ST_Collect</span>(location))
    ) <span class="keyword">AS</span> cluster_center
<span class="keyword">FROM</span> clusters
<span class="keyword">GROUP BY</span> cid;
                </div>
            </div>

            <h3><span class="emoji">ğŸ—ºï¸</span> 6. Heatmap Ùˆ Density</h3>
            
            <div class="example box">
                <h4>ØªØ±Ø§Ú©Ù… Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§</h4>
                <div class="code">
<span class="comment">-- ØªØ¹Ø¯Ø§Ø¯ Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ Ø¯Ø± Ø´Ø¨Ú©Ù‡ 1km x 1km</span>
<span class="keyword">WITH</span> grid <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> 
        (<span class="function">ST_SquareGrid</span>(
            <span class="number">1000</span>,  <span class="comment">-- 1km</span>
            <span class="function">ST_Transform</span>(<span class="function">ST_Extent</span>(location), <span class="number">32639</span>)
        )).*
    <span class="keyword">FROM</span> restaurants
)
<span class="keyword">SELECT</span> 
    g.i,
    g.j,
    <span class="function">COUNT</span>(r.id) <span class="keyword">AS</span> restaurant_count,
    <span class="function">ST_AsText</span>(<span class="function">ST_Transform</span>(g.geom, <span class="number">4326</span>)) <span class="keyword">AS</span> cell
<span class="keyword">FROM</span> grid g
<span class="keyword">LEFT JOIN</span> restaurants r 
    <span class="keyword">ON</span> <span class="function">ST_Intersects</span>(
        g.geom,
        <span class="function">ST_Transform</span>(r.location, <span class="number">32639</span>)
    )
<span class="keyword">GROUP BY</span> g.i, g.j, g.geom
<span class="keyword">HAVING</span> <span class="function">COUNT</span>(r.id) > <span class="number">0</span>
<span class="keyword">ORDER BY</span> restaurant_count <span class="keyword">DESC</span>;
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 7: Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ -->
        <div class="slide">
            <div class="slide-number">7</div>
            <h2>âš¡ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ (Spatial Indexes)</h2>
            
            <div class="definition box">
                <h3><span class="emoji">ğŸ“–</span> Ø§ÛŒÙ†Ø¯Ú©Ø³ ÙØ¶Ø§ÛŒÛŒ Ú†ÛŒØ³ØªØŸ</h3>
                <p>
                    Ø§ÛŒÙ†Ø¯Ú©Ø³ ÙØ¶Ø§ÛŒÛŒ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¬Ø³ØªØ¬ÙˆÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ø±Ø§ <strong>Ø¨Ø³ÛŒØ§Ø± Ø³Ø±ÛŒØ¹â€ŒØªØ±</strong> Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                    PostGIS Ø§Ø² <strong>GiST (Generalized Search Tree)</strong> Ùˆ <strong>SP-GiST</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </p>
            </div>

            <h3><span class="emoji">ğŸ”§</span> Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³</h3>
            
            <div class="example box">
                <h4>1. Ø§ÛŒÙ†Ø¯Ú©Ø³ GiST (Ø±Ø§ÛŒØ¬â€ŒØªØ±ÛŒÙ†)</h4>
                <div class="code">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ø¬Ø¯ÙˆÙ„ restaurants</span>
<span class="keyword">CREATE INDEX</span> idx_restaurants_location
<span class="keyword">ON</span> restaurants
<span class="keyword">USING</span> GIST (location);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ø¬Ø¯ÙˆÙ„ parks</span>
<span class="keyword">CREATE INDEX</span> idx_parks_geom
<span class="keyword">ON</span> parks
<span class="keyword">USING</span> GIST (geom);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ø¬Ø¯ÙˆÙ„ streets</span>
<span class="keyword">CREATE INDEX</span> idx_streets_geom
<span class="keyword">ON</span> streets
<span class="keyword">USING</span> GIST (geom);

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</span>
\di

<span class="comment">-- Ø­Ø°Ù Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">DROP INDEX</span> idx_restaurants_location;
                </div>
            </div>

            <div class="example box">
                <h4>2. Ø§ÛŒÙ†Ø¯Ú©Ø³ SP-GiST (Ø¨Ø±Ø§ÛŒ Point)</h4>
                <div class="code">
<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ SP-GiST Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø§Ø·</span>
<span class="keyword">CREATE INDEX</span> idx_restaurants_location_spgist
<span class="keyword">ON</span> restaurants
<span class="keyword">USING</span> SPGIST (location);

<span class="comment">-- SP-GiST Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Point Ø³Ø±ÛŒØ¹â€ŒØªØ± Ø§Ø³Øª</span>
                </div>
            </div>

            <div class="example box">
                <h4>3. Ø§ÛŒÙ†Ø¯Ú©Ø³ BRIN (Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯)</h4>
                <div class="code">
<span class="comment">-- BRIN Ø¨Ø±Ø§ÛŒ Ø¬Ø¯Ø§ÙˆÙ„ Ø¨Ø³ÛŒØ§Ø± Ø¨Ø²Ø±Ú¯</span>
<span class="keyword">CREATE INDEX</span> idx_restaurants_location_brin
<span class="keyword">ON</span> restaurants
<span class="keyword">USING</span> BRIN (location);

<span class="comment">-- Ù…ØµØ±Ù Ø­Ø§ÙØ¸Ù‡ Ú©Ù…ØªØ±ØŒ Ø³Ø±Ø¹Øª Ú©Ù…ÛŒ Ú©Ù…ØªØ±</span></div>
            </div>

            <h3><span class="emoji">ğŸ“Š</span> ØªØ³Øª Ø¹Ù…Ù„Ú©Ø±Ø¯ (Performance Testing)</h3>
            
            <div class="example box">
                <h4>Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ Ùˆ Ø¨Ø¯ÙˆÙ† Ø§ÛŒÙ†Ø¯Ú©Ø³</h4>
                <div class="code">
<span class="comment">-- Ø­Ø°Ù Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¨Ø±Ø§ÛŒ ØªØ³Øª</span>
<span class="keyword">DROP INDEX IF EXISTS</span> idx_restaurants_location;

<span class="comment">-- ØªØ³Øª Ø¨Ø¯ÙˆÙ† Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">EXPLAIN ANALYZE</span>
<span class="keyword">SELECT</span> name, cuisine
<span class="keyword">FROM</span> restaurants
<span class="keyword">WHERE</span> <span class="function">ST_DWithin</span>(
    location::<span class="keyword">geography</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)::<span class="keyword">geography</span>,
    <span class="number">2000</span>
);
<span class="comment">-- Planning Time: 0.5 ms</span>
<span class="comment">-- Execution Time: 15.2 ms (Seq Scan)</span>

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">CREATE INDEX</span> idx_restaurants_location
<span class="keyword">ON</span> restaurants
<span class="keyword">USING</span> GIST (location);

<span class="comment">-- ØªØ³Øª Ø¨Ø§ Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">EXPLAIN ANALYZE</span>
<span class="keyword">SELECT</span> name, cuisine
<span class="keyword">FROM</span> restaurants
<span class="keyword">WHERE</span> <span class="function">ST_DWithin</span>(
    location::<span class="keyword">geography</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)::<span class="keyword">geography</span>,
    <span class="number">2000</span>
);
<span class="comment">-- Planning Time: 0.3 ms</span>
<span class="comment">-- Execution Time: 1.8 ms (Index Scan) - 8x Ø³Ø±ÛŒØ¹â€ŒØªØ±!</span>
                </div>
            </div>

            <div class="warning box">
                <h3><span class="emoji">âš ï¸</span> Ù†Ú©Ø§Øª Ù…Ù‡Ù… Ø§ÛŒÙ†Ø¯Ú©Ø³</h3>
                <ul>
                    <li>âœ… <strong>Ù‡Ù…ÛŒØ´Ù‡</strong> Ø¨Ø±Ø§ÛŒ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                    <li>âš¡ GiST Ø¨Ø±Ø§ÛŒ Ø§Ú©Ø«Ø± Ù…ÙˆØ§Ø±Ø¯ Ø¨Ù‡ØªØ±ÛŒÙ† Ø§Ø³Øª</li>
                    <li>ğŸ“ SP-GiST Ø¨Ø±Ø§ÛŒ Point Ø³Ø±ÛŒØ¹â€ŒØªØ± Ø§Ø³Øª</li>
                    <li>ğŸ’¾ BRIN Ø¨Ø±Ø§ÛŒ Ø¬Ø¯Ø§ÙˆÙ„ Ø¨Ø²Ø±Ú¯ (Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ø±Ú©ÙˆØ±Ø¯)</li>
                    <li>ğŸ”„ Ø¨Ø¹Ø¯ Ø§Ø² INSERT/UPDATE Ø²ÛŒØ§Ø¯ØŒ VACUUM Ú©Ù†ÛŒØ¯</li>
                    <li>ğŸ“Š Ø¨Ø§ EXPLAIN ANALYZE Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯</li>
                </ul>
            </div>

            <h3><span class="emoji">ğŸ”§</span> Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ø§ÛŒÙ†Ø¯Ú©Ø³</h3>
            
            <div class="example box">
                <div class="code">
<span class="comment">-- VACUUM Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</span>
<span class="keyword">VACUUM ANALYZE</span> restaurants;

<span class="comment">-- REINDEX Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ</span>
<span class="keyword">REINDEX INDEX</span> idx_restaurants_location;

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø§ÛŒØ² Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">SELECT</span> 
    indexname,
    <span class="function">pg_size_pretty</span>(<span class="function">pg_relation_size</span>(indexname::regclass)) <span class="keyword">AS</span> index_size
<span class="keyword">FROM</span> pg_indexes
<span class="keyword">WHERE</span> tablename = <span class="string">'restaurants'</span>;

<span class="comment">-- Ø¢Ù…Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">SELECT</span> 
    schemaname,
    tablename,
    indexname,
    idx_scan <span class="keyword">AS</span> index_scans,
    idx_tup_read <span class="keyword">AS</span> tuples_read,
    idx_tup_fetch <span class="keyword">AS</span> tuples_fetched
<span class="keyword">FROM</span> pg_stat_user_indexes
<span class="keyword">WHERE</span> tablename = <span class="string">'restaurants'</span>;
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 8: Import/Export -->
        <div class="slide">
            <div class="slide-number">8</div>
            <h2>ğŸ“¥ğŸ“¤ Import Ùˆ Export Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§</h2>
            
            <h3><span class="emoji">ğŸ“¥</span> Import Ø§Ø² ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù</h3>
            
            <div class="example box">
                <h4>1. Import Ø§Ø² Shapefile</h4>
                <div class="code bash">
<span class="comment"># Ù†ØµØ¨ Ø§Ø¨Ø²Ø§Ø± shp2pgsql</span>
sudo apt install postgis

<span class="comment"># Import ÙØ§ÛŒÙ„ Shapefile</span>
shp2pgsql -I -s <span class="number">4326</span> \
    /path/to/file.shp \
    public.imported_data \
    | psql -U postgres -d gis_database

<span class="comment"># Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§:</span>
<span class="comment"># -I : Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³ ÙØ¶Ø§ÛŒÛŒ</span>
<span class="comment"># -s : SRID</span>
<span class="comment"># -d : Ø­Ø°Ù Ø¬Ø¯ÙˆÙ„ Ù‚Ø¨Ù„ÛŒ</span>
<span class="comment"># -a : Append (Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù†)</span>
<span class="comment"># -c : Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÙˆÙ„ Ø¬Ø¯ÛŒØ¯</span>

<span class="comment"># Ù…Ø«Ø§Ù„ Ú©Ø§Ù…Ù„:</span>
shp2pgsql -I -s <span class="number">4326</span> -d \
    iran_provinces.shp \
    public.provinces \
    | psql -U postgres -d gis_database
                </div>
            </div>

            <div class="example box">
                <h4>2. Import Ø§Ø² GeoJSON</h4>
                <div class="code bash">
<span class="comment"># Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ogr2ogr</span>
ogr2ogr -f <span class="string">"PostgreSQL"</span> \
    PG:<span class="string">"host=localhost dbname=gis_database user=postgres password=mypass"</span> \
    restaurants.geojson \
    -nln restaurants \
    -overwrite

<span class="comment"># Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§:</span>
<span class="comment"># -f : ÙØ±Ù…Øª Ø®Ø±ÙˆØ¬ÛŒ</span>
<span class="comment"># -nln : Ù†Ø§Ù… Ø¬Ø¯ÙˆÙ„ (New Layer Name)</span>
<span class="comment"># -overwrite : Ø¨Ø§Ø²Ù†ÙˆÛŒØ³ÛŒ</span>
<span class="comment"># -append : Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù†</span>
                </div>
                
                <div class="code">
<span class="comment">-- ÛŒØ§ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¯Ø± SQL</span>
<span class="keyword">CREATE TABLE</span> temp_geojson (data jsonb);

<span class="comment">-- Ú©Ù¾ÛŒ Ù…Ø­ØªÙˆØ§ÛŒ GeoJSON</span>
\<span class="keyword">COPY</span> temp_geojson <span class="keyword">FROM</span> <span class="string">'/path/to/file.geojson'</span>;

<span class="comment">-- ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø¬Ø¯ÙˆÙ„ Ù…Ú©Ø§Ù†ÛŒ</span>
<span class="keyword">CREATE TABLE</span> restaurants_from_json <span class="keyword">AS</span>
<span class="keyword">SELECT</span> 
    (feature-><span class="string">'properties'</span>->><span class="string">'name'</span>)::<span class="keyword">varchar</span> <span class="keyword">AS</span> name,
    (feature-><span class="string">'properties'</span>->><span class="string">'cuisine'</span>)::<span class="keyword">varchar</span> <span class="keyword">AS</span> cuisine,
    <span class="function">ST_SetSRID</span>(
        <span class="function">ST_GeomFromGeoJSON</span>(feature-><span class="string">'geometry'</span>),
        <span class="number">4326</span>
    ) <span class="keyword">AS</span> location
<span class="keyword">FROM</span> (
    <span class="keyword">SELECT</span> jsonb_array_elements(data-><span class="string">'features'</span>) <span class="keyword">AS</span> feature
    <span class="keyword">FROM</span> temp_geojson
) features;
                </div>
            </div>

            <div class="example box">
                <h4>3. Import Ø§Ø² CSV Ø¨Ø§ Ù…Ø®ØªØµØ§Øª</h4>
                <div class="code">
<span class="comment">-- ÙØ±Ø¶: ÙØ§ÛŒÙ„ CSV Ø¨Ø§ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ: name, lat, lon</span>

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÙˆÙ„ Ù…ÙˆÙ‚Øª</span>
<span class="keyword">CREATE TEMP TABLE</span> temp_csv (
    name <span class="keyword">VARCHAR</span>(<span class="number">200</span>),
    latitude <span class="keyword">DECIMAL</span>(<span class="number">10</span>, <span class="number">8</span>),
    longitude <span class="keyword">DECIMAL</span>(<span class="number">11</span>, <span class="number">8</span>)
);

<span class="comment">-- Import Ø§Ø² CSV</span>
\<span class="keyword">COPY</span> temp_csv <span class="keyword">FROM</span> <span class="string">'/path/to/locations.csv'</span> 
<span class="keyword">WITH</span> (FORMAT csv, HEADER <span class="keyword">true</span>, DELIMITER <span class="string">','</span>);

<span class="comment">-- ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø¬Ø¯ÙˆÙ„ Ù…Ú©Ø§Ù†ÛŒ</span>
<span class="keyword">INSERT INTO</span> restaurants (name, location)
<span class="keyword">SELECT</span> 
    name,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(longitude, latitude), <span class="number">4326</span>)
<span class="keyword">FROM</span> temp_csv
<span class="keyword">WHERE</span> latitude <span class="keyword">IS NOT NULL</span> 
    <span class="keyword">AND</span> longitude <span class="keyword">IS NOT NULL</span>;

<span class="comment">-- Ø­Ø°Ù Ø¬Ø¯ÙˆÙ„ Ù…ÙˆÙ‚Øª</span>
<span class="keyword">DROP TABLE</span> temp_csv;
                </div>
            </div>

            <h3><span class="emoji">ğŸ“¤</span> Export Ø¨Ù‡ ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù</h3>
            
            <div class="example box">
                <h4>1. Export Ø¨Ù‡ Shapefile</h4>
                <div class="code bash">
<span class="comment"># Ø¨Ø§ pgsql2shp</span>
pgsql2shp -f output_file.shp \
    -h localhost \
    -u postgres \
    -P mypassword \
    gis_database \
    <span class="string">"SELECT * FROM restaurants"</span>

<span class="comment"># Ø¨Ø§ ogr2ogr</span>
ogr2ogr -f <span class="string">"ESRI Shapefile"</span> \
    restaurants.shp \
    PG:<span class="string">"host=localhost dbname=gis_database user=postgres"</span> \
    -sql <span class="string">"SELECT * FROM restaurants"</span>
                </div>
            </div>

            <div class="example box">
                <h4>2. Export Ø¨Ù‡ GeoJSON</h4>
                <div class="code">
<span class="comment">-- Ø±ÙˆØ´ 1: Ø¯Ø± SQL</span>
<span class="keyword">SELECT</span> jsonb_build_object(
    <span class="string">'type'</span>, <span class="string">'FeatureCollection'</span>,
    <span class="string">'features'</span>, jsonb_agg(
        jsonb_build_object(
            <span class="string">'type'</span>, <span class="string">'Feature'</span>,
            <span class="string">'geometry'</span>, <span class="function">ST_AsGeoJSON</span>(location)::jsonb,
            <span class="string">'properties'</span>, jsonb_build_object(
                <span class="string">'name'</span>, name,
                <span class="string">'cuisine'</span>, cuisine,
                <span class="string">'rating'</span>, rating
            )
        )
    )
) <span class="keyword">AS</span> geojson
<span class="keyword">FROM</span> restaurants;

<span class="comment">-- Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± ÙØ§ÛŒÙ„</span>
\o /path/to/output.geojson
<span class="keyword">SELECT</span> ... <span class="comment">-- Ú©ÙˆØ¦Ø±ÛŒ Ø¨Ø§Ù„Ø§</span>
\o
                </div>
                
                <div class="code bash">
<span class="comment"># Ø±ÙˆØ´ 2: Ø¨Ø§ ogr2ogr</span>
ogr2ogr -f GeoJSON \
    restaurants.geojson \
    PG:<span class="string">"host=localhost dbname=gis_database user=postgres"</span> \
    -sql <span class="string">"SELECT * FROM restaurants"</span>
                </div>
            </div>

            <div class="example box">
                <h4>3. Export Ø¨Ù‡ KML</h4>
                <div class="code">
<span class="comment">-- ØªÙˆÙ„ÛŒØ¯ KML</span>
<span class="keyword">SELECT</span> 
    <span class="string">'<?xml version="1.0" encoding="UTF-8"?>'</span> ||
    <span class="string">'<kml xmlns="http://www.opengis.net/kml/2.2">'</span> ||
    <span class="string">'<Document>'</span> ||
    <span class="function">string_agg</span>(
        <span class="string">'<Placemark>'</span> ||
        <span class="string">'<name>'</span> || name || <span class="string">'</name>'</span> ||
        <span class="string">'<description>'</span> || cuisine || <span class="string">'</description>'</span> ||
        <span class="function">ST_AsKML</span>(location) ||
        <span class="string">'</Placemark>'</span>,
        <span class="string">''</span>
    ) ||
    <span class="string">'</Document></kml>'</span> <span class="keyword">AS</span> kml
<span class="keyword">FROM</span> restaurants;
                </div>
            </div>

            <div class="example box">
                <h4>4. Export Ø¨Ù‡ CSV Ø¨Ø§ Ù…Ø®ØªØµØ§Øª</h4>
                <div class="code">
<span class="comment">-- Export Ø¨Ù‡ CSV</span>
\<span class="keyword">COPY</span> (
    <span class="keyword">SELECT</span> 
        name,
        cuisine,
        rating,
        <span class="function">ST_X</span>(location) <span class="keyword">AS</span> longitude,
        <span class="function">ST_Y</span>(location) <span class="keyword">AS</span> latitude
    <span class="keyword">FROM</span> restaurants
) <span class="keyword">TO</span> <span class="string">'/path/to/restaurants.csv'</span> 
<span class="keyword">WITH</span> (FORMAT CSV, HEADER <span class="keyword">true</span>);
                </div>
            </div>

            <div class="info box">
                <h3><span class="emoji">ğŸ› ï¸</span> Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ù…ÙÛŒØ¯</h3>
                <ul>
                    <li><strong>shp2pgsql / pgsql2shp:</strong> Shapefile â†” PostGIS</li>
                    <li><strong>ogr2ogr:</strong> ØªØ¨Ø¯ÛŒÙ„ Ø¨ÛŒÙ† ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù (GDAL)</li>
                    <li><strong>QGIS:</strong> Ø±Ø§Ø¨Ø· Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ Ø¨Ø±Ø§ÛŒ Import/Export</li>
                    <li><strong>pgAdmin:</strong> Ù…Ø¯ÛŒØ±ÛŒØª Ø¯ÛŒØªØ§Ø¨ÛŒØ³</li>
                    <li><strong>PostGIS Shapefile Import/Export Manager:</strong> GUI Ø³Ø§Ø¯Ù‡</li>
                </ul>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 9: Ø§Ø¯ØºØ§Ù… Ø¨Ø§ Django -->
        <div class="slide">
            <div class="slide-number">9</div>
            <h2>ğŸ Ø§Ø¯ØºØ§Ù… PostGIS Ø¨Ø§ Django</h2>
            
            <h3><span class="emoji">âš™ï¸</span> Ù†ØµØ¨ Ùˆ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ</h3>
            
            <div class="example box">
                <h4>1. Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§</h4>
                <div class="code bash">
<span class="comment"># Ù†ØµØ¨ Django Ùˆ GeoDjango</span>
pip install django
pip install psycopg2-binary

<span class="comment"># Ù†ØµØ¨ GDAL (Ø³ÛŒØ³ØªÙ…)</span>
sudo apt install gdal-bin libgdal-dev

<span class="comment"># Ù†ØµØ¨ GEOS (Ø³ÛŒØ³ØªÙ…)</span>
sudo apt install libgeos-dev
                </div>
            </div>

            <div class="example box">
                <h4>2. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Django (settings.py)</h4>
                <div class="code python">
<span class="comment"># settings.py</span>

<span class="keyword">INSTALLED_APPS</span> = [
    <span class="string">'django.contrib.admin'</span>,
    <span class="string">'django.contrib.auth'</span>,
    <span class="string">'django.contrib.contenttypes'</span>,
    <span class="string">'django.contrib.sessions'</span>,
    <span class="string">'django.contrib.messages'</span>,
    <span class="string">'django.contrib.staticfiles'</span>,
    
    <span class="comment"># GeoDjango</span>
    <span class="string">'django.contrib.gis'</span>,
    
    <span class="string">'myapp'</span>,
]

<span class="keyword">DATABASES</span> = {
    <span class="string">'default'</span>: {
        <span class="string">'ENGINE'</span>: <span class="string">'django.contrib.gis.db.backends.postgis'</span>,
        <span class="string">'NAME'</span>: <span class="string">'gis_database'</span>,
        <span class="string">'USER'</span>: <span class="string">'postgres'</span>,
        <span class="string">'PASSWORD'</span>: <span class="string">'mypassword'</span>,
        <span class="string">'HOST'</span>: <span class="string">'localhost'</span>,
        <span class="string">'PORT'</span>: <span class="string">'5432'</span>,
    }
}
                </div>
            </div>

            <h3><span class="emoji">ğŸ“</span> ØªØ¹Ø±ÛŒÙ Model</h3>
            
            <div class="example box">
                <h4>models.py</h4>
                <div class="code python">
<span class="keyword">from</span> django.contrib.gis.db <span class="keyword">import</span> models
<span class="keyword">from</span> django.contrib.gis.geos <span class="keyword">import</span> Point

<span class="keyword">class</span> <span class="function">Restaurant</span>(models.Model):
    name = models.CharField(max_length=<span class="number">200</span>)
    cuisine = models.CharField(max_length=<span class="number">100</span>)
    rating = models.DecimalField(max_digits=<span class="number">3</span>, decimal_places=<span class="number">2</span>)
    phone = models.CharField(max_length=<span class="number">20</span>, blank=<span class="keyword">True</span>)
    address = models.TextField(blank=<span class="keyword">True</span>)
    
    <span class="comment"># ÙÛŒÙ„Ø¯ Ù…Ú©Ø§Ù†ÛŒ</span>
    location = models.PointField(srid=<span class="number">4326</span>)
    
    created_at = models.DateTimeField(auto_now_add=<span class="keyword">True</span>)
    updated_at = models.DateTimeField(auto_now=<span class="keyword">True</span>)
    
    <span class="keyword">class</span> <span class="function">Meta</span>:
        db_table = <span class="string">'restaurants'</span>
        ordering = [<span class="string">'-rating'</span>]
    
    <span class="keyword">def</span> <span class="function">__str__</span>(<span class="keyword">self</span>):
        <span class="keyword">return</span> <span class="keyword">self</span>.name

<span class="keyword">class</span> <span class="function">Park</span>(models.Model):
    name = models.CharField(max_length=<span class="number">200</span>)
    park_type = models.CharField(max_length=<span class="number">50</span>)
    area_sqm = models.DecimalField(
        max_digits=<span class="number">15</span>, 
        decimal_places=<span class="number">2</span>,
        blank=<span class="keyword">True</span>,
        null=<span class="keyword">True</span>
    )
    facilities = models.JSONField(default=<span class="function">list</span>, blank=<span class="keyword">True</span>)
    opening_hours = models.CharField(max_length=<span class="number">100</span>, blank=<span class="keyword">True</span>)
    
    <span class="comment"># ÙÛŒÙ„Ø¯ Ù…Ú©Ø§Ù†ÛŒ Polygon</span>
    geom = models.PolygonField(srid=<span class="number">4326</span>)
    
    <span class="keyword">class</span> <span class="function">Meta</span>:
        db_table = <span class="string">'parks'</span>
    
    <span class="keyword">def</span> <span class="function">__str__</span>(<span class="keyword">self</span>):
        <span class="keyword">return</span> <span class="keyword">self</span>.name

<span class="keyword">class</span> <span class="function">Street</span>(models.Model):
    name = models.CharField(max_length=<span class="number">200</span>)
    street_type = models.CharField(max_length=<span class="number">50</span>)
    length_meters = models.DecimalField(
        max_digits=<span class="number">10</span>, 
        decimal_places=<span class="number">2</span>,
        blank=<span class="keyword">True</span>,
        null=<span class="keyword">True</span>
    )
    one_way = models.BooleanField(default=<span class="keyword">False</span>)
    
    <span class="comment"># ÙÛŒÙ„Ø¯ Ù…Ú©Ø§Ù†ÛŒ LineString</span>
    geom = models.LineStringField(srid=<span class="number">4326</span>)
    
    <span class="keyword">class</span> <span class="function">Meta</span>:
        db_table = <span class="string">'streets'</span>
    
    <span class="keyword">def</span> <span class="function">__str__</span>(<span class="keyword">self</span>):
        <span class="keyword">return</span> <span class="keyword">self</span>.name
                </div>
            </div>

            <h3><span class="emoji">ğŸ”</span> Query Ù‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ</h3>
            
            <div class="example box">
                <h4>views.py - Ø¬Ø³ØªØ¬ÙˆÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ</h4>
                <div class="code python">
<span class="keyword">from</span> django.contrib.gis.geos <span class="keyword">import</span> Point
<span class="keyword">from</span> django.contrib.gis.measure <span class="keyword">import</span> D
<span class="keyword">from</span> django.contrib.gis.db.models.functions <span class="keyword">import</span> Distance
<span class="keyword">from</span> .models <span class="keyword">import</span> Restaurant, Park

<span class="comment"># 1. Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø´Ø¹Ø§Ø¹ 2 Ú©ÛŒÙ„ÙˆÙ…ØªØ±ÛŒ</span>
<span class="keyword">def</span> <span class="function">restaurants_nearby</span>(request):
    <span class="comment"># Ù…ÙˆÙ‚Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±</span>
    user_location = Point(<span class="number">51.4231</span>, <span class="number">35.7219</span>, srid=<span class="number">4326</span>)
    
    restaurants = Restaurant.objects.filter(
        location__distance_lte=(user_location, D(km=<span class="number">2</span>))
    ).annotate(
        distance=Distance(<span class="string">'location'</span>, user_location)
    ).order_by(<span class="string">'distance'</span>)
    
    <span class="keyword">return</span> restaurants

<span class="comment"># 2. Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ø±Ø³ØªÙˆØ±Ø§Ù†</span>
<span class="keyword">def</span> <span class="function">nearest_restaurant</span>(lat, lon):
    user_location = Point(lon, lat, srid=<span class="number">4326</span>)
    
    nearest = Restaurant.objects.annotate(
        distance=Distance(<span class="string">'location'</span>, user_location)
    ).order_by(<span class="string">'distance'</span>).first()
    
    <span class="keyword">return</span> nearest

<span class="comment"># 3. Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ Ù¾Ø§Ø±Ú©</span>
<span class="keyword">def</span> <span class="function">restaurants_in_park</span>(park_id):
    park = Park.objects.get(id=park_id)
    
    restaurants = Restaurant.objects.filter(
        location__within=park.geom
    )
    
    <span class="keyword">return</span> restaurants

<span class="comment"># 4. Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø§ ÙÛŒÙ„ØªØ± Ù¾ÛŒØ´Ø±ÙØªÙ‡</span>
<span class="keyword">def</span> <span class="function">search_restaurants</span>(lat, lon, radius_km, cuisine=<span class="keyword">None</span>, min_rating=<span class="keyword">None</span>):
    user_location = Point(lon, lat, srid=<span class="number">4326</span>)
    
    <span class="comment"># Query Ø§ÙˆÙ„ÛŒÙ‡</span>
    qs = Restaurant.objects.filter(
        location__distance_lte=(user_location, D(km=radius_km))
    )
    
    <span class="comment"># ÙÛŒÙ„ØªØ± Ù†ÙˆØ¹ ØºØ°Ø§</span>
    <span class="keyword">if</span> cuisine:
        qs = qs.filter(cuisine__icontains=cuisine)
    
    <span class="comment"># ÙÛŒÙ„ØªØ± Ø§Ù…ØªÛŒØ§Ø²</span>
    <span class="keyword">if</span> min_rating:
        qs = qs.filter(rating__gte=min_rating)
    
    <span class="comment"># Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ Ùˆ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ</span>
    qs = qs.annotate(
        distance=Distance(<span class="string">'location'</span>, user_location)
    ).order_by(<span class="string">'distance'</span>)
    
    <span class="keyword">return</span> qs

<span class="comment"># 5. Buffer - Ù¾Ø§Ø±Ú©â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ù…Ø­Ø¯ÙˆØ¯Ù‡</span>
<span class="keyword">def</span> <span class="function">parks_in_buffer</span>(lat, lon, radius_meters):
    <span class="keyword">from</span> django.contrib.gis.geos <span class="keyword">import</span> Point
    <span class="keyword">from</span> django.contrib.gis.db.models.functions <span class="keyword">import</span> Transform
    
    point = Point(lon, lat, srid=<span class="number">4326</span>)
    
    <span class="comment"># ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ UTM Ø¨Ø±Ø§ÛŒ Buffer Ø¯Ù‚ÛŒÙ‚</span>
    point_utm = point.transform(<span class="number">32639</span>, clone=<span class="keyword">True</span>)
    buffer = point_utm.buffer(radius_meters)
    buffer.srid = <span class="number">32639</span>
    
    <span class="comment"># ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ WGS84</span>
    buffer_wgs84 = buffer.transform(<span class="number">4326</span>, clone=<span class="keyword">True</span>)
    
    parks = Park.objects.filter(
        geom__intersects=buffer_wgs84
    )
    
    <span class="keyword">return</span> parks
                </div>
            </div>

            <h3><span class="emoji">ğŸŒ</span> API View</h3>
            
            <div class="example box">
                <h4>Django REST Framework</h4>
                <div class="code python">
<span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers, viewsets
<span class="keyword">from</span> rest_framework_gis.serializers <span class="keyword">import</span> GeoFeatureModelSerializer
<span class="keyword">from</span> django.contrib.gis.geos <span class="keyword">import</span> Point
<span class="keyword">from</span> django.contrib.gis.measure <span class="keyword">import</span> D

<span class="comment"># Serializer</span>
<span class="keyword">class</span> <span class="function">RestaurantSerializer</span>(GeoFeatureModelSerializer):<span class="keyword">class</span> <span class="function">Meta</span>:
        model = Restaurant
        geo_field = <span class="string">'location'</span>
        fields = (<span class="string">'id'</span>, <span class="string">'name'</span>, <span class="string">'cuisine'</span>, <span class="string">'rating'</span>, <span class="string">'phone'</span>, <span class="string">'address'</span>)

<span class="comment"># ViewSet</span>
<span class="keyword">class</span> <span class="function">RestaurantViewSet</span>(viewsets.ModelViewSet):
    queryset = Restaurant.objects.all()
    serializer_class = RestaurantSerializer
    
    <span class="keyword">def</span> <span class="function">get_queryset</span>(<span class="keyword">self</span>):
        qs = <span class="keyword">super</span>().get_queryset()
        
        <span class="comment"># Ø¬Ø³ØªØ¬ÙˆÛŒ Ø´Ø¹Ø§Ø¹ÛŒ</span>
        lat = <span class="keyword">self</span>.request.query_params.get(<span class="string">'lat'</span>)
        lon = <span class="keyword">self</span>.request.query_params.get(<span class="string">'lon'</span>)
        radius = <span class="keyword">self</span>.request.query_params.get(<span class="string">'radius'</span>, <span class="number">5</span>)  <span class="comment"># Ú©ÛŒÙ„ÙˆÙ…ØªØ±</span>
        
        <span class="keyword">if</span> lat <span class="keyword">and</span> lon:
            point = Point(<span class="function">float</span>(lon), <span class="function">float</span>(lat), srid=<span class="number">4326</span>)
            qs = qs.filter(
                location__distance_lte=(point, D(km=<span class="function">float</span>(radius)))
            ).annotate(
                distance=Distance(<span class="string">'location'</span>, point)
            ).order_by(<span class="string">'distance'</span>)
        
        <span class="keyword">return</span> qs

<span class="comment"># urls.py</span>
<span class="keyword">from</span> rest_framework.routers <span class="keyword">import</span> DefaultRouter

router = DefaultRouter()
router.register(<span class="string">r'restaurants'</span>, RestaurantViewSet)

urlpatterns = [
    path(<span class="string">''</span>, include(router.urls)),
]

<span class="comment"># Ø§Ø³ØªÙØ§Ø¯Ù‡:</span>
<span class="comment"># GET /api/restaurants/?lat=35.7219&lon=51.4231&radius=2</span>
                </div>
            </div>

            <h3><span class="emoji">ğŸ—ºï¸</span> Admin Ø¨Ø§ Ù†Ù‚Ø´Ù‡</h3>
            
            <div class="example box">
                <h4>admin.py</h4>
                <div class="code python">
<span class="keyword">from</span> django.contrib.gis <span class="keyword">import</span> admin
<span class="keyword">from</span> .models <span class="keyword">import</span> Restaurant, Park, Street

<span class="comment"># Admin Ø¨Ø§ Ù†Ù‚Ø´Ù‡ OpenStreetMap</span>
<span class="keyword">class</span> <span class="function">RestaurantAdmin</span>(admin.GISModelAdmin):
    list_display = (<span class="string">'name'</span>, <span class="string">'cuisine'</span>, <span class="string">'rating'</span>, <span class="string">'phone'</span>)
    list_filter = (<span class="string">'cuisine'</span>, <span class="string">'rating'</span>)
    search_fields = (<span class="string">'name'</span>, <span class="string">'address'</span>)
    
    <span class="comment"># ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù†Ù‚Ø´Ù‡</span>
    default_lon = <span class="number">5716000</span>  <span class="comment"># ØªÙ‡Ø±Ø§Ù† Ø¯Ø± Web Mercator</span>
    default_lat = <span class="number">4240000</span>
    default_zoom = <span class="number">11</span>
    
    <span class="comment"># Ù†ÙˆØ¹ Ù†Ù‚Ø´Ù‡</span>
    map_template = <span class="string">'gis/admin/osm.html'</span>
    modifiable = <span class="keyword">True</span>

<span class="keyword">class</span> <span class="function">ParkAdmin</span>(admin.GISModelAdmin):
    list_display = (<span class="string">'name'</span>, <span class="string">'park_type'</span>, <span class="string">'area_sqm'</span>)
    list_filter = (<span class="string">'park_type'</span>,)
    
    default_lon = <span class="number">5716000</span>
    default_lat = <span class="number">4240000</span>
    default_zoom = <span class="number">11</span>

<span class="keyword">class</span> <span class="function">StreetAdmin</span>(admin.GISModelAdmin):
    list_display = (<span class="string">'name'</span>, <span class="string">'street_type'</span>, <span class="string">'length_meters'</span>, <span class="string">'one_way'</span>)
    list_filter = (<span class="string">'street_type'</span>, <span class="string">'one_way'</span>)

admin.site.register(Restaurant, RestaurantAdmin)
admin.site.register(Park, ParkAdmin)
admin.site.register(Street, StreetAdmin)
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 10: Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ -->
        <div class="slide">
            <div class="slide-number">10</div>
            <h2>ğŸ¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ: Ø³ÛŒØ³ØªÙ… ÛŒØ§Ø¨Ù†Ø¯Ù‡ Ø±Ø³ØªÙˆØ±Ø§Ù†</h2>
            
            <div class="highlight box">
                <h3 style="text-align: center;"><span class="emoji">ğŸ¯</span> Ù‡Ø¯Ù Ù¾Ø±ÙˆÚ˜Ù‡</h3>
                <p style="text-align: center; font-size: 1.3em;">
                    Ø³Ø§Ø®Øª ÛŒÚ© Ø³ÛŒØ³ØªÙ… Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬ÙˆØŒ ÙÛŒÙ„ØªØ±ØŒ Ùˆ ØªÙˆØµÛŒÙ‡ Ø±Ø³ØªÙˆØ±Ø§Ù† Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
                </p>
            </div>

            <h3><span class="emoji">1ï¸âƒ£</span> Ø§ÛŒØ¬Ø§Ø¯ Schema Ùˆ Ø¬Ø¯Ø§ÙˆÙ„</h3>
            
            <div class="example box">
                <div class="code">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
<span class="keyword">CREATE DATABASE</span> restaurant_finder;

<span class="comment">-- Ø§ØªØµØ§Ù„ Ùˆ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ PostGIS</span>
\c restaurant_finder
<span class="keyword">CREATE EXTENSION</span> postgis;

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§</span>
<span class="keyword">CREATE TABLE</span> restaurants (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    name <span class="keyword">VARCHAR</span>(<span class="number">200</span>) <span class="keyword">NOT NULL</span>,
    cuisine <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    rating <span class="keyword">DECIMAL</span>(<span class="number">3</span>, <span class="number">2</span>) <span class="keyword">CHECK</span> (rating >= <span class="number">0</span> <span class="keyword">AND</span> rating <= <span class="number">5</span>),
    price_range <span class="keyword">VARCHAR</span>(<span class="number">20</span>), <span class="comment">-- Ø§Ø±Ø²Ø§Ù†ØŒ Ù…ØªÙˆØ³Ø·ØŒ Ú¯Ø±Ø§Ù†</span>
    phone <span class="keyword">VARCHAR</span>(<span class="number">20</span>),
    address <span class="keyword">TEXT</span>,
    website <span class="keyword">VARCHAR</span>(<span class="number">200</span>),
    opening_hours <span class="keyword">JSONB</span>,
    features <span class="keyword">TEXT</span>[], <span class="comment">-- Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯ØŒ ÙˆØ§ÛŒâ€ŒÙØ§ÛŒØŒ ...</span>
    capacity <span class="keyword">INTEGER</span>,
    delivery <span class="keyword">BOOLEAN DEFAULT FALSE</span>,
    reservation <span class="keyword">BOOLEAN DEFAULT FALSE</span>,
    location <span class="keyword">GEOMETRY</span>(Point, <span class="number">4326</span>) <span class="keyword">NOT NULL</span>,
    created_at <span class="keyword">TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span>,
    updated_at <span class="keyword">TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span>
);

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ù†Ø¸Ø±Ø§Øª</span>
<span class="keyword">CREATE TABLE</span> reviews (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    restaurant_id <span class="keyword">INTEGER REFERENCES</span> restaurants(id) <span class="keyword">ON DELETE CASCADE</span>,
    user_name <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    rating <span class="keyword">INTEGER CHECK</span> (rating >= <span class="number">1</span> <span class="keyword">AND</span> rating <= <span class="number">5</span>),
    comment <span class="keyword">TEXT</span>,
    created_at <span class="keyword">TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span>
);

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ù…Ù†Ø§Ø·Ù‚ (Ù…Ø­Ù„Ù‡â€ŒÙ‡Ø§)</span>
<span class="keyword">CREATE TABLE</span> neighborhoods (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    name <span class="keyword">VARCHAR</span>(<span class="number">200</span>) <span class="keyword">NOT NULL</span>,
    city <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    population <span class="keyword">INTEGER</span>,
    geom <span class="keyword">GEOMETRY</span>(Polygon, <span class="number">4326</span>) <span class="keyword">NOT NULL</span>
);

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</span>
<span class="keyword">CREATE INDEX</span> idx_restaurants_location <span class="keyword">ON</span> restaurants <span class="keyword">USING</span> GIST (location);
<span class="keyword">CREATE INDEX</span> idx_restaurants_cuisine <span class="keyword">ON</span> restaurants (cuisine);
<span class="keyword">CREATE INDEX</span> idx_restaurants_rating <span class="keyword">ON</span> restaurants (rating);
<span class="keyword">CREATE INDEX</span> idx_neighborhoods_geom <span class="keyword">ON</span> neighborhoods <span class="keyword">USING</span> GIST (geom);
<span class="keyword">CREATE INDEX</span> idx_reviews_restaurant <span class="keyword">ON</span> reviews (restaurant_id);

<span class="comment">-- Trigger Ø¨Ø±Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ updated_at</span>
<span class="keyword">CREATE OR REPLACE FUNCTION</span> update_updated_at_column()
<span class="keyword">RETURNS TRIGGER AS</span> $$
<span class="keyword">BEGIN</span>
    NEW.updated_at = <span class="function">CURRENT_TIMESTAMP</span>;
    <span class="keyword">RETURN</span> NEW;
<span class="keyword">END</span>;
$$ <span class="keyword">LANGUAGE</span> plpgsql;

<span class="keyword">CREATE TRIGGER</span> update_restaurants_updated_at
<span class="keyword">BEFORE UPDATE ON</span> restaurants
<span class="keyword">FOR EACH ROW</span>
<span class="keyword">EXECUTE FUNCTION</span> update_updated_at_column();
                </div>
            </div>

            <h3><span class="emoji">2ï¸âƒ£</span> Ø¯Ø±Ø¬ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡</h3>
            
            <div class="example box">
                <div class="code">
<span class="comment">-- Ø¯Ø±Ø¬ Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡</span>
<span class="keyword">INSERT INTO</span> restaurants (
    name, cuisine, rating, price_range, phone, address, 
    features, capacity, delivery, reservation, location
) <span class="keyword">VALUES</span>
(
    <span class="string">'Ø±Ø³ØªÙˆØ±Ø§Ù† Ø³Ù†ØªÛŒ Ø´Ù…Ø§Ù„'</span>,
    <span class="string">'Ø§ÛŒØ±Ø§Ù†ÛŒ'</span>,
    <span class="number">4.5</span>,
    <span class="string">'Ù…ØªÙˆØ³Ø·'</span>,
    <span class="string">'021-12345678'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† ÙˆÙ„ÛŒØ¹ØµØ±ØŒ Ù†Ø±Ø³ÛŒØ¯Ù‡ Ø¨Ù‡ Ù…ÛŒØ¯Ø§Ù† ÙˆÙ†Ú©'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span>, <span class="string">'ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ'</span>, <span class="string">'ÙØ¶Ø§ÛŒ Ø¨Ø§Ø²'</span>],
    <span class="number">80</span>,
    <span class="keyword">TRUE</span>,
    <span class="keyword">TRUE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)
),
(
    <span class="string">'Ù¾ÛŒØªØ²Ø§ Ø§ÛŒØªØ§Ù„ÛŒØ§'</span>,
    <span class="string">'Ø§ÛŒØªØ§Ù„ÛŒØ§ÛŒÛŒ'</span>,
    <span class="number">4.3</span>,
    <span class="string">'Ù…ØªÙˆØ³Ø·'</span>,
    <span class="string">'021-87654321'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ù…ÛŒØ¯Ø§Ù† ÙˆÙ†Ú©'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ'</span>, <span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span>],
    <span class="number">50</span>,
    <span class="keyword">TRUE</span>,
    <span class="keyword">TRUE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4089</span>, <span class="number">35.7576</span>), <span class="number">4326</span>)
),
(
    <span class="string">'Ø³ÙˆØ´ÛŒ ØªÙˆÚ©ÛŒÙˆ'</span>,
    <span class="string">'Ú˜Ø§Ù¾Ù†ÛŒ'</span>,
    <span class="number">4.7</span>,
    <span class="string">'Ú¯Ø±Ø§Ù†'</span>,
    <span class="string">'021-99887766'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ø§Ù„Ù‡ÛŒÙ‡'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span>, <span class="string">'ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ'</span>, <span class="string">'Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ø²Ù†Ø¯Ù‡'</span>],
    <span class="number">40</span>,
    <span class="keyword">FALSE</span>,
    <span class="keyword">TRUE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4413</span>, <span class="number">35.7897</span>), <span class="number">4326</span>)
),
(
    <span class="string">'Ø¨Ø±Ú¯Ø± Ø§Ø³ØªÛŒØ´Ù†'</span>,
    <span class="string">'ÙØ³Øª ÙÙˆØ¯'</span>,
    <span class="number">4.0</span>,
    <span class="string">'Ø§Ø±Ø²Ø§Ù†'</span>,
    <span class="string">'021-55443322'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ø³Ø¹Ø§Ø¯Øªâ€ŒØ¢Ø¨Ø§Ø¯'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ'</span>, <span class="string">'Ø³Ø±ÙˆÛŒØ³ Ø¨ÛŒØ±ÙˆÙ†â€ŒØ¨Ø±'</span>],
    <span class="number">30</span>,
    <span class="keyword">TRUE</span>,
    <span class="keyword">FALSE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.3750</span>, <span class="number">35.7650</span>), <span class="number">4326</span>)
),
(
    <span class="string">'Ú©Ø§ÙÙ‡ Ø±Ø³ØªÙˆØ±Ø§Ù† ÙØ±Ø§Ù†Ø³ÙˆÛŒ'</span>,
    <span class="string">'ÙØ±Ø§Ù†Ø³ÙˆÛŒ'</span>,
    <span class="number">4.8</span>,
    <span class="string">'Ú¯Ø±Ø§Ù†'</span>,
    <span class="string">'021-22334455'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ ÙØ±Ù…Ø§Ù†ÛŒÙ‡'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span>, <span class="string">'ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ'</span>, <span class="string">'ÙØ¶Ø§ÛŒ VIP'</span>, <span class="string">'Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ø²Ù†Ø¯Ù‡'</span>],
    <span class="number">60</span>,
    <span class="keyword">FALSE</span>,
    <span class="keyword">TRUE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4680</span>, <span class="number">35.8010</span>), <span class="number">4326</span>)
);

<span class="comment">-- Ø¯Ø±Ø¬ Ù†Ø¸Ø±Ø§Øª</span>
<span class="keyword">INSERT INTO</span> reviews (restaurant_id, user_name, rating, comment)
<span class="keyword">VALUES</span>
    (<span class="number">1</span>, <span class="string">'Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ'</span>, <span class="number">5</span>, <span class="string">'ØºØ°Ø§ Ø¹Ø§Ù„ÛŒ Ø¨ÙˆØ¯ØŒ Ù…Ø­ÛŒØ· Ø¯Ù†Ø¬ Ùˆ Ø¢Ø±Ø§Ù…'</span>),
    (<span class="number">1</span>, <span class="string">'Ù…Ø±ÛŒÙ… Ø±Ø¶Ø§ÛŒÛŒ'</span>, <span class="number">4</span>, <span class="string">'Ú©ÛŒÙÛŒØª Ø®ÙˆØ¨ØŒ Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨'</span>),
    (<span class="number">2</span>, <span class="string">'Ø±Ø¶Ø§ Ù…Ø­Ù…Ø¯ÛŒ'</span>, <span class="number">4</span>, <span class="string">'Ù¾ÛŒØªØ²Ø§ Ø®ÙˆØ´Ù…Ø²Ù‡ØŒ Ø³Ø±ÙˆÛŒØ³ Ø³Ø±ÛŒØ¹'</span>),
    (<span class="number">3</span>, <span class="string">'Ø³Ø§Ø±Ø§ Ú©Ø±ÛŒÙ…ÛŒ'</span>, <span class="number">5</span>, <span class="string">'Ø¨Ù‡ØªØ±ÛŒÙ† Ø³ÙˆØ´ÛŒ ØªÙ‡Ø±Ø§Ù†!'</span>);
                </div>
            </div>

            <h3><span class="emoji">3ï¸âƒ£</span> ØªÙˆØ§Ø¨Ø¹ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ</h3>
            
            <div class="example box">
                <h4>ØªØ§Ø¨Ø¹: Ø¬Ø³ØªØ¬ÙˆÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø±Ø³ØªÙˆØ±Ø§Ù†</h4>
                <div class="code">
<span class="comment">-- ØªØ§Ø¨Ø¹ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</span>
<span class="keyword">CREATE OR REPLACE FUNCTION</span> search_restaurants(
    user_lat <span class="keyword">DECIMAL</span>,
    user_lon <span class="keyword">DECIMAL</span>,
    search_radius_km <span class="keyword">DECIMAL DEFAULT</span> <span class="number">5</span>,
    cuisine_filter <span class="keyword">VARCHAR DEFAULT NULL</span>,
    min_rating <span class="keyword">DECIMAL DEFAULT</span> <span class="number">0</span>,
    price_filter <span class="keyword">VARCHAR DEFAULT NULL</span>,
    has_delivery <span class="keyword">BOOLEAN DEFAULT NULL</span>,
    has_parking <span class="keyword">BOOLEAN DEFAULT NULL</span>
)
<span class="keyword">RETURNS TABLE</span> (
    id <span class="keyword">INTEGER</span>,
    name <span class="keyword">VARCHAR</span>,
    cuisine <span class="keyword">VARCHAR</span>,
    rating <span class="keyword">DECIMAL</span>,
    price_range <span class="keyword">VARCHAR</span>,
    phone <span class="keyword">VARCHAR</span>,
    address <span class="keyword">TEXT</span>,
    distance_km <span class="keyword">DECIMAL</span>,
    avg_review_rating <span class="keyword">DECIMAL</span>
) <span class="keyword">AS</span> $$
<span class="keyword">BEGIN</span>
    <span class="keyword">RETURN QUERY</span>
    <span class="keyword">SELECT</span> 
        r.id,
        r.name,
        r.cuisine,
        r.rating,
        r.price_range,
        r.phone,
        r.address,
        <span class="function">ROUND</span>(
            <span class="function">ST_Distance</span>(
                r.location::<span class="keyword">geography</span>,
                <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(user_lon, user_lat), <span class="number">4326</span>)::<span class="keyword">geography</span>
            ) / <span class="number">1000</span>,
            <span class="number">2</span>
        )::<span class="keyword">DECIMAL</span> <span class="keyword">AS</span> distance_km,
        <span class="function">COALESCE</span>(<span class="function">AVG</span>(rv.rating), <span class="number">0</span>)::<span class="keyword">DECIMAL</span> <span class="keyword">AS</span> avg_review_rating
    <span class="keyword">FROM</span> restaurants r
    <span class="keyword">LEFT JOIN</span> reviews rv <span class="keyword">ON</span> r.id = rv.restaurant_id
    <span class="keyword">WHERE</span> 
        <span class="comment">-- ÙÛŒÙ„ØªØ± ÙØ§ØµÙ„Ù‡</span>
        <span class="function">ST_DWithin</span>(
            r.location::<span class="keyword">geography</span>,
            <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(user_lon, user_lat), <span class="number">4326</span>)::<span class="keyword">geography</span>,
            search_radius_km * <span class="number">1000</span>
        )
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ù†ÙˆØ¹ ØºØ°Ø§</span>
        <span class="keyword">AND</span> (cuisine_filter <span class="keyword">IS NULL OR</span> r.cuisine <span class="keyword">ILIKE</span> <span class="string">'%'</span> || cuisine_filter || <span class="string">'%'</span>)
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ø§Ù…ØªÛŒØ§Ø²</span>
        <span class="keyword">AND</span> r.rating >= min_rating
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ù‚ÛŒÙ…Øª</span>
        <span class="keyword">AND</span> (price_filter <span class="keyword">IS NULL OR</span> r.price_range = price_filter)
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ø¯Ù„ÛŒÙˆØ±ÛŒ</span>
        <span class="keyword">AND</span> (has_delivery <span class="keyword">IS NULL OR</span> r.delivery = has_delivery)
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯</span>
        <span class="keyword">AND</span> (has_parking <span class="keyword">IS NULL OR</span> <span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span> = <span class="keyword">ANY</span>(r.features))
    <span class="keyword">GROUP BY</span> r.id
    <span class="keyword">ORDER BY</span> distance_km;
<span class="keyword">END</span>;
$$ <span class="keyword">LANGUAGE</span> plpgsql;

<span class="comment">-- Ø§Ø³ØªÙØ§Ø¯Ù‡:</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> search_restaurants(
    <span class="number">35.7219</span>,      <span class="comment">-- latitude</span>
    <span class="number">51.4231</span>,      <span class="comment">-- longitude</span>
    <span class="number">3</span>,             <span class="comment">-- Ø´Ø¹Ø§Ø¹ 3 Ú©ÛŒÙ„ÙˆÙ…ØªØ±</span>
    <span class="string">'Ø§ÛŒØ±Ø§Ù†ÛŒ'</span>,      <span class="comment">-- Ù†ÙˆØ¹ ØºØ°Ø§</span>
    <span class="number">4.0</span>,           <span class="comment">-- Ø­Ø¯Ø§Ù‚Ù„ Ø§Ù…ØªÛŒØ§Ø²</span>
    <span class="keyword">NULL</span>,          <span class="comment">-- Ù‚ÛŒÙ…Øª (Ù‡Ù…Ù‡)</span>
    <span class="keyword">TRUE</span>,          <span class="comment">-- Ø¯Ù„ÛŒÙˆØ±ÛŒ Ø¯Ø§Ø±Ø¯</span>
    <span class="keyword">TRUE</span>           <span class="comment">-- Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯ Ø¯Ø§Ø±Ø¯</span>
);
                </div>
            </div>

            <h3><span class="emoji">4ï¸âƒ£</span> Query Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h3>
            
            <div class="example box">
                <h4>ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø±ÛŒ</h4>
                <div class="code">
<span class="comment">-- 1. Ù…Ø­Ø¨ÙˆØ¨â€ŒØªØ±ÛŒÙ† Ù†ÙˆØ¹ ØºØ°Ø§ Ø¯Ø± Ù‡Ø± Ù…Ù†Ø·Ù‚Ù‡</span>
<span class="keyword">WITH</span> restaurant_stats <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> 
        n.name <span class="keyword">AS</span> neighborhood,
        r.cuisine,
        <span class="function">COUNT</span>(*) <span class="keyword">AS</span> restaurant_count,
        <span class="function">AVG</span>(r.rating) <span class="keyword">AS</span> avg_rating
    <span class="keyword">FROM</span> neighborhoods n
    <span class="keyword">JOIN</span> restaurants r 
        <span class="keyword">ON</span> <span class="function">ST_Contains</span>(n.geom, r.location)
    <span class="keyword">GROUP BY</span> n.name, r.cuisine
)
<span class="keyword">SELECT</span> 
    neighborhood,
    cuisine,
    restaurant_count,
    <span class="function">ROUND</span>(avg_rating, <span class="number">2</span>) <span class="keyword">AS</span> avg_rating
<span class="keyword">FROM</span> restaurant_stats
<span class="keyword">WHERE</span> (neighborhood, restaurant_count) <span class="keyword">IN</span> (
    <span class="keyword">SELECT</span> neighborhood, <span class="function">MAX</span>(restaurant_count)
    <span class="keyword">FROM</span> restaurant_stats
    <span class="keyword">GROUP BY</span> neighborhood
)
<span class="keyword">ORDER BY</span> restaurant_count <span class="keyword">DESC</span>;

<span class="comment">-- 2. ØªØ±Ø§Ú©Ù… Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ (ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø± Ù‡Ø± Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ù…Ø±Ø¨Ø¹)</span>
<span class="keyword">SELECT</span> 
    n.name <span class="keyword">AS</span> neighborhood,
    <span class="function">COUNT</span>(r.id) <span class="keyword">AS</span> restaurant_count,
    <span class="function">ROUND</span>(
        <span class="function">ST_Area</span>(<span class="function">ST_Transform</span>(n.geom, <span class="number">32639</span>)) / <span class="number">1000000</span>,
        <span class="number">2</span>
    ) <span class="keyword">AS</span> area_sqkm,
    <span class="function">ROUND</span>(
        <span class="function">COUNT</span>(r.id)::numeric / 
        (<span class="function">ST_Area</span>(<span class="function">ST_Transform</span>(n.geom, <span class="number">32639</span>)) / <span class="number">1000000</span>),
        <span class="number">2</span>
    ) <span class="keyword">AS</span> density_per_sqkm
<span class="keyword">FROM</span> neighborhoods n
<span class="keyword">LEFT JOIN</span> restaurants r 
    <span class="keyword">ON</span> <span class="function">ST_Contains</span>(n.geom, r.location)
<span class="keyword">GROUP BY</span> n.id, n.name, n.geom
<span class="keyword">ORDER BY</span> density_per_sqkm <span class="keyword">DESC</span>;

<span class="comment">-- 3. Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø·Ø±ÙØ¯Ø§Ø± (Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ù†Ø¸Ø±)</span>
<span class="keyword">SELECT</span> 
    r.name,
    r.cuisine,
    r.rating <span class="keyword">AS</span> official_rating,
    <span class="function">COUNT</span>(rv.id) <span class="keyword">AS</span> review_count,
    <span class="function">ROUND</span>(<span class="function">AVG</span>(rv.rating), <span class="number">2</span>) <span class="keyword">AS</span> user_avg_rating,
    <span class="function">ST_X</span>(r.location) <span class="keyword">AS</span> longitude,
    <span class="function">ST_Y</span>(r.location) <span class="keyword">AS</span> latitude
<span class="keyword">FROM</span> restaurants r
<span class="keyword">LEFT JOIN</span> reviews rv <span class="keyword">ON</span> r.id = rv.restaurant_id
<span class="keyword">GROUP BY</span> r.id
<span class="keyword">HAVING</span> <span class="function">COUNT</span>(rv.id) > <span class="number">0</span>
<span class="keyword">ORDER BY</span> review_count <span class="keyword">DESC</span>, user_avg_rating <span class="keyword">DESC</span>
<span class="keyword">LIMIT</span> <span class="number">10</span>;

<span class="comment">-- 4. ØªÙˆØµÛŒÙ‡ Ø±Ø³ØªÙˆØ±Ø§Ù† Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ§Ø±ÛŒØ®Ú†Ù‡</span>
<span class="comment">-- ÙØ±Ø¶: Ú©Ø§Ø±Ø¨Ø± Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†ÛŒ Ø¨Ø§ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø§Ù„Ø§ Ø±Ø§ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±Ø¯</span>
<span class="keyword">WITH</span> user_preferences <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> 
        cuisine,
        <span class="function">AVG</span>(rating) <span class="keyword">AS</span> avg_preferred_rating
    <span class="keywor```html
<span class="keyword">class</span> <span class="function">Meta</span>:
        model = Restaurant
        geo_field = <span class="string">'location'</span>
        fields = (<span class="string">'id'</span>, <span class="string">'name'</span>, <span class="string">'cuisine'</span>, <span class="string">'rating'</span>, <span class="string">'phone'</span>, <span class="string">'address'</span>)

<span class="comment"># ViewSet</span>
<span class="keyword">class</span> <span class="function">RestaurantViewSet</span>(viewsets.ModelViewSet):
    queryset = Restaurant.objects.all()
    serializer_class = RestaurantSerializer
    
    <span class="keyword">def</span> <span class="function">get_queryset</span>(<span class="keyword">self</span>):
        qs = <span class="keyword">super</span>().get_queryset()
        
        <span class="comment"># ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ÙˆÙ‚Ø¹ÛŒØª</span>
        lat = <span class="keyword">self</span>.request.query_params.get(<span class="string">'lat'</span>)
        lon = <span class="keyword">self</span>.request.query_params.get(<span class="string">'lon'</span>)
        radius = <span class="keyword">self</span>.request.query_params.get(<span class="string">'radius'</span>, <span class="number">5</span>)
        
        <span class="keyword">if</span> lat <span class="keyword">and</span> lon:
            point = Point(<span class="function">float</span>(lon), <span class="function">float</span>(lat), srid=<span class="number">4326</span>)
            qs = qs.filter(
                location__distance_lte=(point, D(km=<span class="function">float</span>(radius)))
            ).annotate(
                distance=Distance(<span class="string">'location'</span>, point)
            ).order_by(<span class="string">'distance'</span>)
        
        <span class="keyword">return</span> qs

<span class="comment"># urls.py</span>
<span class="keyword">from</span> rest_framework.routers <span class="keyword">import</span> DefaultRouter

router = DefaultRouter()
router.register(<span class="string">r'restaurants'</span>, RestaurantViewSet)

urlpatterns = [
    path(<span class="string">'api/'</span>, include(router.urls)),
]

<span class="comment"># Ø§Ø³ØªÙØ§Ø¯Ù‡:</span>
<span class="comment"># GET /api/restaurants/?lat=35.7219&lon=51.4231&radius=2</span>
                </div>
            </div>

            <div class="example box">
                <h4>Admin Panel Ø¨Ø§ Ù†Ù‚Ø´Ù‡</h4>
                <div class="code python">
<span class="keyword">from</span> django.contrib.gis <span class="keyword">import</span> admin
<span class="keyword">from</span> .models <span class="keyword">import</span> Restaurant, Park, Street

<span class="comment"># Admin Ø¨Ø§ Ù†Ù‚Ø´Ù‡</span>
<span class="keyword">class</span> <span class="function">RestaurantAdmin</span>(admin.GISModelAdmin):
    list_display = (<span class="string">'name'</span>, <span class="string">'cuisine'</span>, <span class="string">'rating'</span>, <span class="string">'phone'</span>)
    list_filter = (<span class="string">'cuisine'</span>, <span class="string">'rating'</span>)
    search_fields = (<span class="string">'name'</span>, <span class="string">'address'</span>)
    
    <span class="comment"># ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù†Ù‚Ø´Ù‡</span>
    default_lon = <span class="number">5716500</span>  <span class="comment"># ØªÙ‡Ø±Ø§Ù† Ø¯Ø± Web Mercator</span>
    default_lat = <span class="number">4260000</span>
    default_zoom = <span class="number">12</span>
    
    <span class="comment"># Ù†ÙˆØ¹ Ù†Ù‚Ø´Ù‡</span>
    map_template = <span class="string">'gis/admin/openlayers.html'</span>
    openlayers_url = <span class="string">'https://cdn.jsdelivr.net/npm/ol@v7.2.2/dist/ol.js'</span>

<span class="keyword">class</span> <span class="function">ParkAdmin</span>(admin.GISModelAdmin):
    list_display = (<span class="string">'name'</span>, <span class="string">'park_type'</span>, <span class="string">'area_sqm'</span>)
    list_filter = (<span class="string">'park_type'</span>,)
    search_fields = (<span class="string">'name'</span>,)

<span class="keyword">class</span> <span class="function">StreetAdmin</span>(admin.GISModelAdmin):
    list_display = (<span class="string">'name'</span>, <span class="string">'street_type'</span>, <span class="string">'one_way'</span>)
    list_filter = (<span class="string">'street_type'</span>, <span class="string">'one_way'</span>)

admin.site.register(Restaurant, RestaurantAdmin)
admin.site.register(Park, ParkAdmin)
admin.site.register(Street, StreetAdmin)
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 10: Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ -->
        <div class="slide">
            <div class="slide-number">10</div>
            <h2>ğŸ¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ: Ø³ÛŒØ³ØªÙ… ÛŒØ§Ø¨Ù†Ø¯Ù‡ Ø±Ø³ØªÙˆØ±Ø§Ù†</h2>
            
            <div class="highlight box">
                <h3 style="text-align: center;"><span class="emoji">ğŸ¯</span> Ù‡Ø¯Ù Ù¾Ø±ÙˆÚ˜Ù‡</h3>
                <p style="text-align: center; font-size: 1.3em;">
                    Ø³Ø§Ø®Øª ÛŒÚ© API Ø¨Ø±Ø§ÛŒ ÛŒØ§ÙØªÙ† Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù†Ø²Ø¯ÛŒÚ© Ø¨Ø§ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡
                </p>
            </div>

            <h3><span class="emoji">ğŸ“‹</span> ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡</h3>
            
            <div class="grid">
                <div class="card">
                    <h4>ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ø´Ø¹Ø§Ø¹ÛŒ</h4>
                    <p>Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ Ø¯Ø± Ø´Ø¹Ø§Ø¹ Ù…Ø´Ø®Øµ</p>
                </div>
                
                <div class="card">
                    <h4>â­ ÙÛŒÙ„ØªØ± Ø§Ù…ØªÛŒØ§Ø²</h4>
                    <p>ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ rating</p>
                </div>
                
                <div class="card">
                    <h4>ğŸ½ï¸ ÙÛŒÙ„ØªØ± Ù†ÙˆØ¹ ØºØ°Ø§</h4>
                    <p>Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ cuisine</p>
                </div>
                
                <div class="card">
                    <h4>ğŸ“ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ</h4>
                    <p>Ø¨Ø± Ø§Ø³Ø§Ø³ ÙØ§ØµÙ„Ù‡ ÛŒØ§ Ø§Ù…ØªÛŒØ§Ø²</p>
                </div>
            </div>

            <h3><span class="emoji">ğŸ’»</span> Ú©Ø¯ Ú©Ø§Ù…Ù„ Ù¾Ø±ÙˆÚ˜Ù‡</h3>
            
            <div class="example box">
                <h4>1. Schema Ø¯ÛŒØªØ§Ø¨ÛŒØ³</h4>
                <div class="code">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
<span class="keyword">CREATE DATABASE</span> restaurant_finder;

\c restaurant_finder

<span class="comment">-- ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ PostGIS</span>
<span class="keyword">CREATE EXTENSION</span> postgis;

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§</span>
<span class="keyword">CREATE TABLE</span> restaurants (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    name <span class="keyword">VARCHAR</span>(<span class="number">200</span>) <span class="keyword">NOT NULL</span>,
    cuisine <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    rating <span class="keyword">DECIMAL</span>(<span class="number">3</span>, <span class="number">2</span>) <span class="keyword">CHECK</span> (rating >= <span class="number">0</span> <span class="keyword">AND</span> rating <= <span class="number">5</span>),
    price_range <span class="keyword">VARCHAR</span>(<span class="number">20</span>), <span class="comment">-- Ø§Ø±Ø²Ø§Ù†ØŒ Ù…ØªÙˆØ³Ø·ØŒ Ú¯Ø±Ø§Ù†</span>
    phone <span class="keyword">VARCHAR</span>(<span class="number">20</span>),
    address <span class="keyword">TEXT</span>,
    website <span class="keyword">VARCHAR</span>(<span class="number">200</span>),
    opening_hours <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    features <span class="keyword">TEXT</span>[], <span class="comment">-- Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯ØŒ ÙˆØ§ÛŒâ€ŒÙØ§ÛŒØŒ ...</span>
    capacity <span class="keyword">INTEGER</span>,
    delivery <span class="keyword">BOOLEAN DEFAULT FALSE</span>,
    location <span class="keyword">GEOMETRY</span>(Point, <span class="number">4326</span>) <span class="keyword">NOT NULL</span>,
    created_at <span class="keyword">TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span>,
    updated_at <span class="keyword">TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span>
);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ ÙØ¶Ø§ÛŒÛŒ</span>
<span class="keyword">CREATE INDEX</span> idx_restaurants_location 
<span class="keyword">ON</span> restaurants <span class="keyword">USING</span> GIST (location);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒ</span>
<span class="keyword">CREATE INDEX</span> idx_restaurants_cuisine <span class="keyword">ON</span> restaurants(cuisine);
<span class="keyword">CREATE INDEX</span> idx_restaurants_rating <span class="keyword">ON</span> restaurants(rating);

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ù†Ø¸Ø±Ø§Øª</span>
<span class="keyword">CREATE TABLE</span> reviews (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    restaurant_id <span class="keyword">INTEGER REFERENCES</span> restaurants(id) <span class="keyword">ON DELETE CASCADE</span>,
    user_name <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    rating <span class="keyword">DECIMAL</span>(<span class="number">3</span>, <span class="number">2</span>),
    comment <span class="keyword">TEXT</span>,
    created_at <span class="keyword">TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span>
);

<span class="comment">-- Trigger Ø¨Ø±Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† rating</span>
<span class="keyword">CREATE OR REPLACE FUNCTION</span> update_restaurant_rating()
<span class="keyword">RETURNS TRIGGER AS</span> $$
<span class="keyword">BEGIN</span>
    <span class="keyword">UPDATE</span> restaurants
    <span class="keyword">SET</span> rating = (
        <span class="keyword">SELECT</span> <span class="function">AVG</span>(rating)
        <span class="keyword">FROM</span> reviews
        <span class="keyword">WHERE</span> restaurant_id = <span class="keyword">NEW</span>.restaurant_id
    )
    <span class="keyword">WHERE</span> id = <span class="keyword">NEW</span>.restaurant_id;
    
    <span class="keyword">RETURN NEW</span>;
<span class="keyword">END</span>;
$$ <span class="keyword">LANGUAGE</span> plpgsql;

<span class="keyword">CREATE TRIGGER</span> trg_update_rating
<span class="keyword">AFTER INSERT OR UPDATE ON</span> reviews
<span class="keyword">FOR EACH ROW</span>
<span class="keyword">EXECUTE FUNCTION</span> update_restaurant_rating();
                </div>
            </div>

            <div class="example box">
                <h4>2. Ø¯Ø±Ø¬ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡</h4>
                <div class="code">
<span class="comment">-- Ø¯Ø±Ø¬ Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡</span>
<span class="keyword">INSERT INTO</span> restaurants 
(name, cuisine, rating, price_range, phone, address, features, capacity, delivery, location)
<span class="keyword">VALUES</span> 
(
    <span class="string">'Ø±Ø³ØªÙˆØ±Ø§Ù† Ø³Ù†ØªÛŒ Ø´Ù…Ø§Ù„'</span>,
    <span class="string">'Ø§ÛŒØ±Ø§Ù†ÛŒ'</span>,
    <span class="number">4.5</span>,
    <span class="string">'Ù…ØªÙˆØ³Ø·'</span>,
    <span class="string">'021-12345678'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† ÙˆÙ„ÛŒØ¹ØµØ±ØŒ Ù†Ø±Ø³ÛŒØ¯Ù‡ Ø¨Ù‡ Ù…ÛŒØ¯Ø§Ù† ÙˆÙ†Ú©'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span>, <span class="string">'ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ'</span>, <span class="string">'ÙØ¶Ø§ÛŒ Ø¨Ø§Ø²'</span>],
    <span class="number">80</span>,
    <span class="keyword">TRUE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)
),
(
    <span class="string">'Ù¾ÛŒØªØ²Ø§ Ø§ÛŒØªØ§Ù„ÛŒØ§'</span>,
    <span class="string">'Ø§ÛŒØªØ§Ù„ÛŒØ§ÛŒÛŒ'</span>,
    <span class="number">4.3</span>,
    <span class="string">'Ù…ØªÙˆØ³Ø·'</span>,
    <span class="string">'021-87654321'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ù…ÛŒØ¯Ø§Ù† ÙˆÙ†Ú©'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span>, <span class="string">'Ø¯Ù„ÛŒÙˆØ±ÛŒ'</span>],
    <span class="number">50</span>,
    <span class="keyword">TRUE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4089</span>, <span class="number">35.7576</span>), <span class="number">4326</span>)
),
(
    <span class="string">'Ø³ÙˆØ´ÛŒ ØªÙˆÚ©ÛŒÙˆ'</span>,
    <span class="string">'Ú˜Ø§Ù¾Ù†ÛŒ'</span>,
    <span class="number">4.7</span>,
    <span class="string">'Ú¯Ø±Ø§Ù†'</span>,
    <span class="string">'021-99887766'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ø§Ù„Ù‡ÛŒÙ‡'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span>, <span class="string">'ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ'</span>, <span class="string">'Ø±Ø²Ø±Ùˆ Ø¢Ù†Ù„Ø§ÛŒÙ†'</span>],
    <span class="number">40</span>,
    <span class="keyword">FALSE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4413</span>, <span class="number">35.7897</span>), <span class="number">4326</span>)
),
(
    <span class="string">'Ø¨Ø±Ú¯Ø± Ù‡Ø§ÙˆØ³'</span>,
    <span class="string">'ÙØ³Øª ÙÙˆØ¯'</span>,
    <span class="number">4.0</span>,
    <span class="string">'Ø§Ø±Ø²Ø§Ù†'</span>,
    <span class="string">'021-55443322'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ø³Ø¹Ø§Ø¯Øªâ€ŒØ¢Ø¨Ø§Ø¯'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'Ø¯Ù„ÛŒÙˆØ±ÛŒ'</span>, <span class="string">'Ø¯Ø±Ø¨ Ù…Ù†Ø²Ù„'</span>],
    <span class="number">30</span>,
    <span class="keyword">TRUE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.3750</span>, <span class="number">35.7650</span>), <span class="number">4326</span>)
),
(
    <span class="string">'Ú©Ø§ÙÙ‡ Ø±Ø³ØªÙˆØ±Ø§Ù† Ø¢Ø±Ø§Ù…Ø´'</span>,
    <span class="string">'Ú©Ø§ÙÙ‡'</span>,
    <span class="number">4.6</span>,
    <span class="string">'Ù…ØªÙˆØ³Ø·'</span>,
    <span class="string">'021-66778899'</span>,
    <span class="string">'ØªÙ‡Ø±Ø§Ù†ØŒ Ù†ÛŒØ§ÙˆØ±Ø§Ù†'</span>,
    <span class="keyword">ARRAY</span>[<span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span>, <span class="string">'ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ'</span>, <span class="string">'ÙØ¶Ø§ÛŒ Ø¨Ø§Ø²'</span>, <span class="string">'Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ø²Ù†Ø¯Ù‡'</span>],
    <span class="number">60</span>,
    <span class="keyword">FALSE</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4700</span>, <span class="number">35.8100</span>), <span class="number">4326</span>)
);

<span class="comment">-- Ø¯Ø±Ø¬ Ù†Ø¸Ø±Ø§Øª Ù†Ù…ÙˆÙ†Ù‡</span>
<span class="keyword">INSERT INTO</span> reviews (restaurant_id, user_name, rating, comment)
<span class="keyword">VALUES</span> 
    (<span class="number">1</span>, <span class="string">'Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ÛŒ'</span>, <span class="number">4.5</span>, <span class="string">'ØºØ°Ø§ÛŒ Ø®ÙˆØ¨ÛŒ Ø¯Ø§Ø´ØªØŒ ÙØ¶Ø§ Ù‡Ù… Ø¯Ù„Ù†Ø´ÛŒÙ† Ø¨ÙˆØ¯'</span>),
    (<span class="number">1</span>, <span class="string">'Ø³Ø§Ø±Ø§ Ø§Ø­Ù…Ø¯ÛŒ'</span>, <span class="number">5.0</span>, <span class="string">'Ø¹Ø§Ù„ÛŒ! Ø­ØªÙ…Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ù…ÛŒØ§Ù…'</span>),
    (<span class="number">2</span>, <span class="string">'Ø±Ø¶Ø§ Ú©Ø±ÛŒÙ…ÛŒ'</span>, <span class="number">4.0</span>, <span class="string">'Ù¾ÛŒØªØ²Ø§ Ø®ÙˆØ¨ Ø¨ÙˆØ¯ ÙˆÙ„ÛŒ Ø³Ø±ÙˆÛŒØ³ Ú©Ù†Ø¯'</span>);
                </div>
            </div>

            <div class="example box">
                <h4>3. ØªÙˆØ§Ø¨Ø¹ Ø¬Ø³ØªØ¬Ùˆ</h4>
                <div class="code">
<span class="comment">-- ØªØ§Ø¨Ø¹ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</span>
<span class="keyword">CREATE OR REPLACE FUNCTION</span> search_restaurants(
    p_lat <span class="keyword">DECIMAL</span>,
    p_lon <span class="keyword">DECIMAL</span>,
    p_radius_km <span class="keyword">DECIMAL DEFAULT</span> <span class="number">5</span>,
    p_cuisine <span class="keyword">VARCHAR DEFAULT NULL</span>,
    p_min_rating <span class="keyword">DECIMAL DEFAULT</span> <span class="number">0</span>,
    p_max_price <span class="keyword">VARCHAR DEFAULT NULL</span>,
    p_delivery_only <span class="keyword">BOOLEAN DEFAULT FALSE</span>,
    p_required_features <span class="keyword">TEXT</span>[] <span class="keyword">DEFAULT NULL</span>
)
<span class="keyword">RETURNS TABLE</span> (
    id <span class="keyword">INTEGER</span>,
    name <span class="keyword">VARCHAR</span>,
    cuisine <span class="keyword">VARCHAR</span>,
    rating <span class="keyword">DECIMAL</span>,
    price_range <span class="keyword">VARCHAR</span>,
    phone <span class="keyword">VARCHAR</span>,
    address <span class="keyword">TEXT</span>,
    features <span class="keyword">TEXT</span>[],
    distance_km <span class="keyword">DECIMAL</span>,
    latitude <span class="keyword">DECIMAL</span>,
    longitude <span class="keyword">DECIMAL</span>
) <span class="keyword">AS</span> $$
<span class="keyword">BEGIN</span>
    <span class="keyword">RETURN QUERY</span>
    <span class="keyword">SELECT</span> 
        r.id,
        r.name,
        r.cuisine,
        r.rating,
        r.price_range,
        r.phone,
        r.address,
        r.features,
        <span class="function">ROUND</span>(
            <span class="function">ST_Distance</span>(
                r.location::<span class="keyword">geography</span>,
                <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(p_lon, p_lat), <span class="number">4326</span>)::<span class="keyword">geography</span>
            ) / <span class="number">1000</span>, 
            <span class="number">2</span>
        )::<span class="keyword">DECIMAL</span> <span class="keyword">AS</span> distance_km,
        <span class="function">ST_Y</span>(r.location)::<span class="keyword">DECIMAL</span> <span class="keyword">AS</span> latitude,
        <span class="function">ST_X</span>(r.location)::<span class="keyword">DECIMAL</span> <span class="keyword">AS</span> longitude
    <span class="keyword">FROM</span> restaurants r
    <span class="keyword">WHERE</span> 
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ø´Ø¹Ø§Ø¹</span>
        <span class="function">ST_DWithin</span>(
            r.location::<span class="keyword">geography</span>,
            <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(p_lon, p_lat), <span class="number">4326</span>)::<span class="keyword">geography</span>,
            p_radius_km * <span class="number">1000</span>
        )
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ù†ÙˆØ¹ ØºØ°Ø§</span>
        <span class="keyword">AND</span> (p_cuisine <span class="keyword">IS NULL OR</span> r.cuisine <span class="keyword">ILIKE</span> <span class="string">'%'</span> || p_cuisine || <span class="string">'%'</span>)
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ø§Ù…ØªÛŒØ§Ø²</span>
        <span class="keyword">AND</span> r.rating >= p_min_rating
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ù‚ÛŒÙ…Øª</span>
        <span class="keyword">AND</span> (p_max_price <span class="keyword">IS NULL OR</span> r.price_range = p_max_price)
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ø¯Ù„ÛŒÙˆØ±ÛŒ</span>
        <span class="keyword">AND</span> (<span class="keyword">NOT</span> p_delivery_only <span class="keyword">OR</span> r.delivery = <span class="keyword">TRUE</span>)
        <span class="comment">-- ÙÛŒÙ„ØªØ± Ø§Ù…Ú©Ø§Ù†Ø§Øª</span>
        <span class="keyword">AND</span> (
            p_required_features <span class="keyword">IS NULL OR</span> 
            r.features @> p_required_features
        )
    <span class="keyword">ORDER BY</span> distance_km, r.rating <span class="keyword">DESC</span>;
<span class="keyword">END</span>;
$$ <span class="keyword">LANGUAGE</span> plpgsql;

<span class="comment">-- Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØ§Ø¨Ø¹</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> search_restaurants(
    <span class="number">35.7219</span>,                    <span class="comment">-- latitude</span>
    <span class="number">51.4231</span>,                    <span class="comment">-- longitude</span>
    <span class="number">3</span>,                          <span class="comment">-- Ø´Ø¹Ø§Ø¹ 3 Ú©ÛŒÙ„ÙˆÙ…ØªØ±</span>
    <span class="string">'Ø§ÛŒØ±Ø§Ù†ÛŒ'</span>,                   <span class="comment">-- Ù†ÙˆØ¹ ØºØ°Ø§</span>
    <span class="number">4.0</span>,                        <span class="comment">-- Ø­Ø¯Ø§Ù‚Ù„ Ø§Ù…ØªÛŒØ§Ø²</span>
    <span class="keyword">NULL</span>,                       <span class="comment">-- Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù‚ÛŒÙ…Øª</span>
    <span class="keyword">FALSE</span>,                      <span class="comment">-- ÙÙ‚Ø· Ø¯Ù„ÛŒÙˆØ±ÛŒ</span>
    <span class="keyword">ARRAY</span>[<span class="string">'Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯'</span>, <span class="string">'ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ'</span>] <span class="comment">-- Ø§Ù…Ú©Ø§Ù†Ø§Øª Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²</span>
);
                </div>
            </div>

            <div class="example box">
                <h4>4. View Ù‡Ø§ÛŒ Ø¢Ù…Ø§Ø±ÛŒ</h4>
                <div class="code">
<span class="comment">-- View: Ø¢Ù…Ø§Ø± Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹</span>
<span class="keyword">CREATE OR REPLACE VIEW</span> restaurant_stats <span class="keyword">AS</span>
<span class="keyword">SELECT</span> 
    cuisine,
    <span class="function">COUNT</span>(*) <span class="keyword">AS</span> total_count,
    <span class="function">ROUND</span>(<span class="function">AVG</span>(rating), <span class="number">2</span>) <span class="keyword">AS</span> avg_rating,
    <span class="function">COUNT</span>(<span class="keyword">CASE WHEN</span> delivery = <span class="keyword">TRUE THEN</span> <span class="number">1</span> <span class="keyword">END</span>) <span class="keyword">AS</span> delivery_count
<span class="keyword">FROM</span> restaurants
<span class="keyword">GROUP BY</span> cuisine
<span class="keyword">ORDER BY</span> total_count <span class="keyword">DESC</span>;

<span class="comment">-- View: Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ØªØ±</span>
<span class="keyword">CREATE OR REPLACE VIEW</span> top_restaurants <span class="keyword">AS</span>
<span class="keyword">SELECT</span> 
    r.id,
    r.name,
    r.cuisine,
    r.rating,
    <span class="function">COUNT</span>(rv.id) <span class="keyword">AS</span> review_count,
    <span class="function">ST_X</span>(r.location) <span class="keyword">AS</span> longitude,
    <span class="function">ST_Y</span>(r.location) <span class="keyword">AS</span> latitude
<span class="keyword">FROM</span> restaurants r
<span class="keyword">LEFT JOIN</span> reviews rv <span class="keyword">ON</span> r.id = rv.restaurant_id
<span class="keyword">WHERE</span> r.rating >= <span class="number">4.5</span>
<span class="keyword">GROUP BY</span> r.id
<span class="keyword">ORDER BY</span> r.rating <span class="keyword">DESC</span>, review_count <span class="keyword">DESC</span>
<span class="keyword">LIMIT</span> <span class="number">10</span>;

<span class="comment">-- Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¢Ù…Ø§Ø±</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> restaurant_stats;
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> top_restaurants;
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 11: Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ -->
        <div class="slide">
            <div class="slide-number">11</div>
            <h2>âš¡ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ùˆ Performance</h2>
            
            <h3><span class="emoji">ğŸ¯</span> ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h3>
            
            <div class="example box">
                <h4>1. Ø§Ø³ØªÙØ§Ø¯Ù‡ ØµØ­ÛŒØ­ Ø§Ø² SRID</h4>
                <div class="code">
<span class="comment">-- âŒ Ø¨Ø¯: Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ Ø¨Ø§ SRID 4326</span>
<span class="keyword">SELECT</span> <span class="function">ST_Distance</span>(
    <span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>),
    location
) <span class="keyword">FROM</span> restaurants;
<span class="comment">-- Ù†ØªÛŒØ¬Ù‡ Ø¨Ù‡ Ø¯Ø±Ø¬Ù‡ Ø§Ø³ØªØŒ Ù†Ù‡ Ù…ØªØ±!</span>

<span class="comment">-- âœ… Ø®ÙˆØ¨: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Geography</span>
<span class="keyword">SELECT</span> <span class="function">ST_Distance</span>(
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)::<span class="keyword">geography</span>,
    location::<span class="keyword">geography</span>
) / <span class="number">1000</span> <span class="keyword">AS</span> distance_km
<span class="keyword">FROM</span> restaurants;

<span class="comment">-- âœ… Ø¨Ù‡ØªØ±: Transform Ø¨Ù‡ UTM</span>
<span class="keyword">SELECT</span> <span class="function">ST_Distance</span>(
    <span class="function">ST_Transform</span>(<span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>), <span class="number">32639</span>),
    <span class="function">ST_Transform</span>(location, <span class="number">32639</span>)
) / <span class="number">1000</span> <span class="keyword">AS</span> distance_km
<span class="keyword">FROM</span> restaurants;
                </div>
            </div>

            <div class="example box">
                <h4>2. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Bounding Box</h4>
                <div class="code">
<span class="comment">-- âŒ Ú©Ù†Ø¯: Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> restaurants
<span class="keyword">WHERE</span> <span class="function">ST_Distance</span>(location::<span class="keyword">geography</span>, point::<span class="keyword">geography</span>) < <span class="number">5000</span>;

<span class="comment">-- âœ… Ø³Ø±ÛŒØ¹: Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ Bounding Box ÙÛŒÙ„ØªØ±</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> restaurants
<span class="keyword">WHERE</span> location && <span class="function">ST_Expand</span>(point, <span class="number">0.05</span>)  <span class="comment">-- Bounding Box</span>
  <span class="keyword">AND</span> <span class="function">ST_DWithin</span>(location::<span class="keyword">geography</span>, point::<span class="keyword">geography</span>, <span class="number">5000</span>);

<span class="comment">-- âœ… Ø¨Ù‡ØªØ±ÛŒÙ†: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ST_DWithin Ø¨Ø§ Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> restaurants
<span class="keyword">WHERE</span> <span class="function">ST_DWithin</span>(
    location::<span class="keyword">geography</span>,
    <span class="function">ST_SetSRID</span>(<span class="function">ST_MakePoint</span>(<span class="number">51.4231</span>, <span class="number">35.7219</span>), <span class="number">4326</span>)::<span class="keyword">geography</span>,
    <span class="number">5000</span>
);
                </div>
            </div>

            <div class="example box">
                <h4>3. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Materialized View</h4>
                <div class="code">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Materialized View Ø¨Ø±Ø§ÛŒ Ø¢Ù…Ø§Ø±</span>
<span class="keyword">CREATE MATERIALIZED VIEW</span> mv_restaurant_stats <span class="keyword">AS</span>
<span class="keyword">SELECT</span> 
    cuisine,
    <span class="function">COUNT</span>(*) <span class="keyword">AS</span> total_count,
    <span class="function">ROUND</span>(<span class="function">AVG</span>(rating), <span class="number">2</span>) <span class="keyword">AS</span> avg_rating,
    <span class="function">MIN</span>(rating) <span class="keyword">AS</span> min_rating,
    <span class="function">MAX</span>(rating) <span class="keyword">AS</span> max_rating,
    <span class="function">ST_Extent</span>(location) <span class="keyword">AS</span> bbox
<span class="keyword">FROM</span> restaurants
<span class="keyword">GROUP BY</span> cuisine;

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">CREATE INDEX</span> idx_mv_restaurant_stats_cuisine 
<span class="keyword">ON</span> mv_restaurant_stats(cuisine);

<span class="comment">-- Ø§Ø³ØªÙØ§Ø¯Ù‡ (Ø®ÛŒÙ„ÛŒ Ø³Ø±ÛŒØ¹)</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> mv_restaurant_stats;

<span class="comment">-- Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ (Ù‡Ø± Ø´Ø¨ ÛŒØ§ Ù‡Ø± Ø³Ø§Ø¹Øª)</span>
<span class="keyword">REFRESH MATERIALIZED VIEW</span> mv_restaurant_stats;

<span class="comment">-- Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Concurrent (Ø¨Ø¯ÙˆÙ† Ù‚ÙÙ„)</span>
<span class="keyword">REFRESH MATERIALIZED VIEW CONCURRENTLY</span> mv_restaurant_stats;
                </div>
            </div>

            <div class="example box">
                <h4>4. Partitioning Ø¨Ø±Ø§ÛŒ Ø¬Ø¯Ø§ÙˆÙ„ Ø¨Ø²Ø±Ú¯</h4>
                <div class="code">
<span class="comment">-- Partitioning Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ù‡Ø±</span>
<span class="keyword">CREATE TABLE</span> restaurants_partitioned (
    id <span class="keyword">SERIAL</span>,
    name <span class="keyword">VARCHAR</span>(<span class="number">200</span>),
    city <span class="keyword">VARCHAR</span>(<span class="number">100</span>),
    location <span class="keyword">GEOMETRY</span>(Point, <span class="number">4326</span>)
) <span class="keyword">PARTITION BY LIST</span> (city);

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ partition Ù‡Ø§</span>
<span class="keyword">CREATE TABLE</span> restaurants_tehran 
<span class="keyword">PARTITION OF</span> restaurants_partitioned 
<span class="keyword">FOR VALUES IN</span> (<span class="string">'ØªÙ‡Ø±Ø§Ù†'</span>);

<span class="keyword">CREATE TABLE</span> restaurants_mashhad 
<span class="keyword">PARTITION OF</span> restaurants_partitioned 
<span class="keyword">FOR VALUES IN</span> (<span class="string">'Ù…Ø´Ù‡Ø¯'</span>);

<span class="keyword">CREATE TABLE</span> restaurants_isfahan 
<span class="keyword">PARTITION OF</span> restaurants_partitioned 
<span class="keyword">FOR VALUES IN</span> (<span class="string">'Ø§ØµÙÙ‡Ø§Ù†'</span>);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ù‡Ø± partition</span>
<span class="keyword">CREATE INDEX</span> idx_restaurants_tehran_location 
<span class="keyword">ON</span> restaurants_tehran <span class="keyword">USING</span> GIST(location);

<span class="keyword">CREATE INDEX</span> idx_restaurants_mashhad_location 
<span class="keyword">ON</span> restaurants_mashhad <span class="keyword">USING</span> GIST(location);
                </div>
            </div>

            <div class="warning box">
                <h3><span class="emoji">âš ï¸</span> Ù†Ú©Ø§Øª Ù…Ù‡Ù… Performance</h3>
                <ul>
                    <li>âœ… <strong>Ù‡Ù…ÛŒØ´Ù‡ Ø§ÛŒÙ†Ø¯Ú©Ø³ GIST Ø¨Ø³Ø§Ø²ÛŒØ¯</strong></li>
                    <li>âš¡ Ø§Ø² ST_DWithin Ø¨Ù‡ Ø¬Ø§ÛŒ ST_Distance Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                    <li>ğŸ“¦ Ø¨Ø±Ø§ÛŒ Ø¬Ø¯Ø§ÙˆÙ„ Ø¨Ø²Ø±Ú¯ (>1M) Ø§Ø² Partitioning Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                    <li>ğŸ”„ Materialized View Ø¨Ø±Ø§ÛŒ Ø¢Ù…Ø§Ø±</li>
                    <li>ğŸ¯ Bounding Box Ù‚Ø¨Ù„ Ø§Ø² Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø¯Ù‚ÛŒÙ‚</li>
                    <li>ğŸ“Š VACUUM Ùˆ ANALYZE Ù…Ù†Ø¸Ù…</li>
                    <li>ğŸ’¾ Ø§Ø² Connection Pooling Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                </ul>
            </div>

            <h3><span class="emoji">ğŸ“Š</span> Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯</h3>
            
            <div class="example box">
                <div class="code">
<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø§ÛŒØ² Ø¬Ø¯Ø§ÙˆÙ„</span>
<span class="keyword">SELECT</span> 
    schemaname,
    tablename,
    <span class="function">pg_size_pretty</span>(<span class="function">pg_total_relation_size</span>(schemaname||<span class="string">'.'</span>||tablename)) <span class="keyword">AS</span> size
<span class="keyword">FROM</span> pg_tables
<span class="keyword">WHERE</span> schemaname = <span class="string">'public'</span>
<span class="keyword">ORDER BY</span> <span class="function">pg_total_relation_size</span>(schemaname||<span class="string">'.'</span>||tablename) <span class="keyword">DESC</span>;

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø§ÛŒØ² Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</span>
<span class="keyword">SELECT</span> 
    indexname,
    tablename,
    <span class="function">pg_size_pretty</span>(<span class="function">pg_relation_size</span>(indexname::regclass)) <span class="keyword">AS</span> index_size
<span class="keyword">FROM</span> pg_indexes
<span class="keyword">WHERE</span> schemaname = <span class="string">'public'</span>
<span class="keyword">ORDER BY</span> <span class="function">pg_relation_size</span>(indexname::regclass) <span class="keyword">DESC</span>;

<span class="comment">-- Query Ù‡Ø§ÛŒ Ú©Ù†Ø¯</span>
<span class="keyword">SELECT</span> 
    query,
    calls,
    <span class="function">ROUND</span>(total_time::numeric, <span class="number">2</span>) <span class="keyword">AS</span> total_time_ms,
    <span class="function">ROUND</span>(mean_time::numeric, <span class="number">2</span>) <span class="keyword">AS</span> mean_time_ms,
    <span class="function">ROUND</span>((total_time / <span class="function">SUM</span>(total_time) <span class="keyword">OVER</span>()) * <span class="number">100</span>, <span class="number">2</span>) <span class="keyword">AS</span> percentage
<span class="keyword">FROM</span> pg_stat_statements
<span class="keyword">WHERE</span> query <span class="keyword">LIKE</span> <span class="string">'%restaurants%'</span>
<span class="keyword">ORDER BY</span> total_time <span class="keyword">DESC</span>
<span class="keyword">LIMIT</span> <span class="number">10</span>;

<span class="comment">-- Cache Hit Ratio</span>
<span class="keyword">SELECT</span> 
    <span class="function">SUM</span>(heap_blks_read) <span class="keyword">AS</span> heap_read,
    <span class="function">SUM</span>(heap_blks_hit) <span class="keyword">AS</span> heap_hit,
    <span class="function">ROUND</span>(
        (<span class="function">SUM</span>(heap_blks_hit) / (<span class="function">SUM</span>(heap_blks_hit) + <span class="function">SUM</span>(heap_blks_read))) * <span class="number">100</span>,
        <span class="number">2</span>
    ) <span class="keyword">AS</span> cache_hit_ratio
<span class="keyword">FROM</span> pg_statio_user_tables;
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 12: Ø®Ù„Ø§ØµÙ‡ Ùˆ Ù…Ù†Ø§Ø¨Ø¹ -->
        <div class="slide">
            <div class="slide-number">12</div>
            <h2>ğŸ“š Ø®Ù„Ø§ØµÙ‡ Ùˆ Ù…Ù†Ø§Ø¨Ø¹</h2>
            
            <div class="architecture-diagram">
                <h3 style="color: #2ecc71; margin-bottom: 30px;">Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ø§Ù…Ù„ PostGIS</h3>
                
                <div class="component-box" style="background: #e8f5e9;">
                    <strong>PostgreSQL</strong><br>
                    Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø±Ø§Ø¨Ø·Ù‡â€ŒØ§ÛŒ
                </div>
                <div class="arrow">â¬‡ï¸</div>
                
                <div class="component-box" style="background: #c8e6c9;">
                    <strong>PostGIS Extension</strong><br>
                    Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
                </div>
                <div class="arrow">â¬‡ï¸</div>
                
                <div class="component-box" style="background: #a5d6a7;">
                    <strong>Spatial Data Types</strong><br>
                    Point, LineString, Polygon
                </div>
                <div class="arrow">â¬‡ï¸</div>
                
                <div class="component-box" style="background: #81c784;">
                    <strong>Spatial Functions</strong><br>
                    2000+ ØªØ§Ø¨Ø¹ ØªØ­Ù„ÛŒÙ„ÛŒ
                </div>
                <div class="arrow">â¬‡ï¸</div>
                
                <div class="component-box" style="background: #66bb6a;">
                    <strong>Spatial Indexes</strong><br>
                    GiST, SP-GiST, BRIN
                </div>
                <div class="arrow">â¬‡ï¸</div>
                
                <div class="component-box" style="background: #4caf50;">
                    <strong>Applications</strong><br>
                    Django, Node.js, Python
                </div>
            </div>

            <div class="grid" style="margin-top: 50px;">
                <div class="success box">
                    <h3><span class="emoji">âœ…</span> Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ú©Ù‡ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÛŒÙ…</h3>
                    <ul>
                        <li>âœ… Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ PostGIS</li>
                        <li>âœ… Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ</li>
                        <li>âœ… Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø¯Ø§ÙˆÙ„</li>
                        <li>âœ… ØªÙˆØ§Ø¨Ø¹ Ù¾Ø§ÛŒÙ‡ Ùˆ Ù¾ÛŒØ´Ø±ÙØªÙ‡</li>
                        <li>âœ… ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ</li>
                        <li>âœ… Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ</li>
                        <li>âœ… Import/Export Ø¯Ø§Ø¯Ù‡</li>
                        <li>âœ… Ø§Ø¯ØºØ§Ù… Ø¨Ø§ Django</li>
                        <li>âœ… Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</li>
                        <li>âœ… Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ</li>
                    </ul>
                </div>
                
                <div class="key-point box">
                    <h3><span class="emoji">ğŸ¯</span> Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ</h3>
                    <ul>
                        <li>ğŸ—ºï¸ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ GIS</li>
                        <li>ğŸ“ Location-Based Services</li>
                        <li>ğŸš— Ù†Ø§ÙˆØ¨Ø±ÛŒ Ùˆ Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ</li>
                        <li>ğŸª ÛŒØ§Ø¨Ù†Ø¯Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡/Ø±Ø³ØªÙˆØ±Ø§Ù†</li>
                        <li>ğŸ˜ï¸ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ø´Ù‡Ø±ÛŒ</li>
                        <li>ğŸŒ ØªØ­Ù„ÛŒÙ„ Ù…Ø­ÛŒØ· Ø²ÛŒØ³Øª</li>
                        <li>ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ</li>
                        <li>ğŸš• Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ ØªØ§Ú©Ø³ÛŒ</li>
                    </ul>
                </div>
            </div>

            <div class="info box" style="margin-top: 40px;">
                <h3><span class="emoji">ğŸ“–</span> Ù…Ù†Ø§Ø¨Ø¹ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ</h3>
                
                <h4>Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø±Ø³Ù…ÛŒ:</h4>
                <ul>
                    <li>ğŸ”— <a href="https://postgis.net/docs/" target="_blank">PostGIS Documentation</a></li>
                    <li>ğŸ”— <a href="https://www.postgresql.org/docs/" target="_blank">PostgreSQL Documentation</a></li>
                    <li>ğŸ”— <a href="https://docs.djangoproject.com/en/stable/ref/contrib/gis/" target="_blank">GeoDjango Documentation</a></li>
                </ul>
                
                <h4>Ú©ØªØ§Ø¨â€ŒÙ‡Ø§:</h4>
                <ul>
                    <li>ğŸ“š PostGIS in Action (3rd Edition)</li>
                    <li>ğŸ“š PostgreSQL: Up and Running</li>
                    <li>ğŸ“š Learning PostgreSQL</li>
                </ul>
                
                <h4>Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§:</h4>
                <ul>
                    <li>ğŸ› ï¸ <strong>QGIS:</strong> Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± GIS Ù…ØªÙ†â€ŒØ¨Ø§Ø²</li>
                    <li>ğŸ› ï¸ <strong>pgAdmin:</strong> Ù…Ø¯ÛŒØ±ÛŒØª PostgreSQL</li>
                    <li>ğŸ› ï¸ <strong>DBeaver:</strong> Database IDE</li>
                    <li>ğŸ› ï¸ <strong>PostGIS Shapefile Import/Export:</strong> GUI Ø³Ø§Ø¯Ù‡</li>
                </ul>
                
                <h4>ÙˆØ¨â€ŒØ³Ø§ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯:</h4>
                <ul>
                    <li>ğŸŒ <a href="https://postgis.net/" target="_blank">PostGIS Official</a></li>
                    <li>ğŸŒ <a href="https://www.crunchydata.com/developers/tutorials" target="_blank">Crunchy Data Tutorials</a></li>
                    <li>ğŸŒ <a href="https://github.com/postgis/postgis" target="_blank">PostGIS GitHub</a></li>
                </ul>
            </div>

            <div class="highlight box" style="margin-top: 40px;">
                <h3 style="text-align: center;"><span class="emoji">ğŸ’¡</span> Ù†Ú©Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Ù…ÙˆØ¶ÙˆØ¹</th>
                            <th>Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…</th>
                            <th>ØªÙˆØµÛŒÙ‡</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>SRID</strong></td>
                            <td>4326 Ø¨Ø±Ø§ÛŒ GPS</td>
                            <td>ğŸ”´ Ø­ÛŒØ§ØªÛŒ</td>
                        </tr>
                        <tr>
                            <td><strong>Ø§ÛŒÙ†Ø¯Ú©Ø³</strong></td>
                            <td>Ù‡Ù…ÛŒØ´Ù‡ GIST Ø¨Ø³Ø§Ø²ÛŒØ¯</td>
                            <td>ğŸ”´ Ø­ÛŒØ§ØªÛŒ</td>
                        </tr>
                        <tr>
                            <td><strong>Geography</strong></td>
                            <td>Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø¯Ù‚ÛŒÙ‚</td>
                            <td>ğŸŸ¡ ØªÙˆØµÛŒÙ‡</td>
                        </tr>
                        <tr>
                            <td><strong>ST_DWithin</strong></td>
                            <td>Ø³Ø±ÛŒØ¹â€ŒØªØ± Ø§Ø² ST_Distance</td>
                            <td>ğŸ”´ Ø­ÛŒØ§ØªÛŒ</td>
                        </tr>
                        <tr>
                            <td><strong>VACUUM</strong></td>
                            <td>Ù…Ù†Ø¸Ù… Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯</td>
                            <td>ğŸŸ¡ ØªÙˆØµÛŒÙ‡</td>
                        </tr>
                        <tr>
                            <td><strong>Backup</strong></td>
                            <td>Ø¨Ø§ pg_dump</td>
                            <td>ğŸ”´ Ø­ÛŒØ§ØªÛŒ</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="warning box" style="margin-top: 40px;">
                <h3><span class="emoji">âš ï¸</span> Ø§Ø´ØªØ¨Ø§Ù‡Ø§Øª Ø±Ø§ÛŒØ¬</h3>
                <ol style="font-size: 1.2em; line-height: 2.5;">
                    <li>âŒ ÙØ±Ø§Ù…ÙˆØ´ Ú©Ø±Ø¯Ù† Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³ ÙØ¶Ø§ÛŒÛŒ</li>
                    <li>âŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ø§Ø¯Ø±Ø³Øª Ø§Ø² SRID</li>
                    <li>âŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ Ø¨Ø§ Geometry Ø¨Ù‡ Ø¬Ø§ÛŒ Geography</li>
                    <li>âŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ST_Distance Ø¨Ø±Ø§ÛŒ ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù†</li>
                    <li>âŒ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ† Bounding Box</li>
                    <li>âŒ Ø¹Ø¯Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² EXPLAIN ANALYZE</li>
                    <li>âŒ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ù†Ú©Ø±Ø¯Ù† VACUUM</li>
                </ol>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 13: ØµÙØ­Ù‡ Ù¾Ø§ÛŒØ§Ù†ÛŒ -->
        <div class="slide">
            <div class="slide-number">13</div>
            <h1 style="text-align: center; color: #2ecc71; margin-top: 80px;">
                <span class="emoji">ğŸ‰</span>
                <br>
                ØªØ¨Ø±ÛŒÚ©!
                <br>
                <span style="font-size: 0.6em; color: #27ae60;">
                    Ø´Ù…Ø§ PostGIS Ø±Ø§ Ø§Ø² ØµÙØ± ØªØ§ ØµØ¯ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÛŒØ¯
                </span>
            </h1>
            
            <div class="highlight box" style="margin-top: 60px;">
                <h2 style="text-align: center; border: none; color: #2ecc71;">
                    <span class="emoji">ğŸ†</span> Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§
                </h2>
                <div style="text-align: center; font-size: 1.3em; line-height: 2.5; margin-top: 40px;">
                    <ul style="list-style: none; padding: 0;">
                        <li>âœ… Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ PostGIS</li>
                        <li>âœ… Ú©Ø§Ø± Ø¨Ø§ Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ</li>
                        <li>âœ… ØªØ³Ù„Ø· Ø¨Ø± ØªÙˆØ§Ø¨Ø¹ PostGIS</li>
                        <li>âœ… ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</li>
                        <li>âœ… Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ùˆ Performance</li>
                        <li>âœ… Ø§Ø¯ØºØ§Ù… Ø¨Ø§ Django</li>
                        <li>âœ… Ø³Ø§Ø®Øª Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ</li>
                    </ul>
                </div>
            </div>
            
            <div class="grid" style="margin-top: 60px;">
                <div class="card" style="text-align: center;">
                    <h3 style="color: #2ecc71;">ğŸ“Š Ø¢Ù…Ø§Ø±</h3>
                    <p style="font-size: 2.5em; font-weight: 700; color: #27ae60; margin: 20px 0;">13</p>
                    <p style="font-size: 1.2em;">Ø§Ø³Ù„Ø§ÛŒØ¯ Ø¢Ù…ÙˆØ²Ø´ÛŒ</p>
                </div>
                
                <div class="card" style="text-align: center;">
                    <h3 style="color: #2ecc71;">ğŸ’» Ú©Ø¯Ù‡Ø§</h3>
                    <p style="font-size: 2.5em; font-weight: 700; color: #27ae60; margin: 20px 0;">50+</p>
                    <p style="font-size: 1.2em;">Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÛŒ</p>
                </div>
                
                <div class="card" style="text-align: center;">
                    <h3 style="color: #2ecc71;">ğŸ¯ Ù¾Ø±ÙˆÚ˜Ù‡</h3>
                    <p style="font-size: 2.5em; font-weight: 700; color: #27ae60; margin: 20px 0;">1</p>
                    <p style="font-size: 1.2em;">Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ø§Ù…Ù„</p>
                </div>
                
                <div class="card" style="text-align: center;">
                    <h3 style="color: #2ecc71;">â±ï¸ Ø²Ù…Ø§Ù†</h3>
                    <p style="font-size: 2.5em; font-weight: 700; color: #27ae60; margin: 20px 0;">~3</p>
                    <p style="font-size: 1.2em;">Ø³Ø§Ø¹Øª Ø¢Ù…ÙˆØ²Ø´</p>
                </div>
            </div>
            
            <div class="key-point box" style="margin-top: 60px; text-align: center;">
                <h2 style="color: #2ecc71; border: none;">
                    <span class="emoji">ğŸš€</span> Ø­Ø§Ù„Ø§ Ù†ÙˆØ¨Øª Ø´Ù…Ø§Ø³Øª!
                </h2>
                <p style="font-size: 1.5em; line-height: 2.5; margin-top: 30px;">
                    Ø¨Ø§ Ø§ÛŒÙ† Ø¯Ø§Ù†Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯:
                </p>
                <ul style="list-style: none; font-size: 1.4em; line-height: 2.8; padding: 0;">
                    <li>ğŸ—ºï¸ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ GIS Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                    <li>ğŸ“ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Location-Based Ø·Ø±Ø§Ø­ÛŒ Ú©Ù†ÛŒØ¯</li>
                    <li>ğŸš— Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ù¾ÛŒØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                    <li>ğŸ“Š ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯</li>
                    <li>ğŸª Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ ÛŒØ§Ø¨Ù†Ø¯Ù‡ Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                </ul>
            </div>
            
            <div style="text-align: center; margin-top: 80px; font-size: 2em; color: #2ecc71; font-weight: 700;">
                <p>Ù…ÙˆÙÙ‚ Ùˆ Ù¾ÛŒØ±ÙˆØ² Ø¨Ø§Ø´ÛŒØ¯! ğŸŒŸ</p>
                <p style="font-size: 0.6em; color: #27ae60; margin-top: 30px;">
                    Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† GIS
                </p>
                <p style="font-size: 0.4em; color: #81c784; margin-top: 40px;">
                    Ø¢Ø°Ø± 1403 | Ù†Ø³Ø®Ù‡ 1.0
                </p>
            </div>
        </div>

    </div>

    <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ -->
    <div style="position: fixed; bottom: 30px; right: 30px; z-index: 1000;">
        <button id="backToTop" style="
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.4);
            display: none;
            transition: all 0.3s ease;
        ">â¬†ï¸</button>
    </div>

    <!-- Progress Bar -->
    <div style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: rgba(255,255,255,0.3);
        z-index: 9999;
    ">
        <div id="progressFill" style="
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #2ecc71 0%, #27ae60 100%);
            transition: width 0.3s ease;
        "></div>
    </div>

    <!-- Toast -->
    <div id="copyToast" style="
        position: fixed;
        top: 20px;
        right: 20px;
        background: #2ecc71;
        color: white;
        padding: 15px 30px;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        display: none;
        z-index: 10000;
        font-weight: 600;
        font-size: 1.1em;
    ">âœ… Ú©Ø¯ Ú©Ù¾ÛŒ Ø´Ø¯!</div>

    <script>
        // Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† Ú©Ø¯
        document.querySelectorAll('.code').forEach(code => {
            code.style.cursor = 'pointer';
            code.title = 'Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ ØªØ§ Ú©Ù¾ÛŒ Ø´ÙˆØ¯';
            
            code.addEventListener('click', () => {
                const text = code.innerText;
                navigator.clipboard.writeText(text).then(() => {
                    const toast = document.getElementById('copyToast');
                    toast.style.display = 'block';
                    
                    code.style.background = '#1e4620';
                    
                    setTimeout(() => {
                        toast.style.display = 'none';
                        code.style.background = '#1e293b';
                    }, 2000);
                });
            });
        });

        // Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§
        const backToTop = document.getElementById('backToTop');
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTop.style.display = 'block';
            } else {
                backToTop.style.display = 'none';
            }
        });

        backToTop.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        backToTop.addEventListener('mouseenter', () => {
            backToTop.style.transform = 'scale(1.1)';
        });

        backToTop.addEventListener('mouseleave', () => {
            backToTop.style.transform = 'scale(1)';
        });

        // Progress Bar
        window.addEventListener('scroll', () => {
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight;
            const scrollTop = window.scrollY;
            const progress = (scrollTop / (documentHeight - windowHeight)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        });

        // Intersection Observer
        const slides = document.querySelectorAll('.slide');
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '0';
                    entry.target.style.transform = 'translateY(20px)';
                    
                    setTimeout(() => {
                        entry.target.style.transition = 'all 0.6s ease-out';
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }, 100);
                }
            });
        }, {
            threshold: 0.1
        });

        slides.forEach(slide => {
            observer.observe(slide);
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'p') {
                e.preventDefault();
                window.print();
            }
        });

        // Ø¢Ù…Ø§Ø±
        console.log('ğŸ—ºï¸ Ø¢Ù…ÙˆØ²Ø´ Ø¬Ø§Ù…Ø¹ PostGIS');
        console.log(`ğŸ“„ ØªØ¹Ø¯Ø§Ø¯ Ø§Ø³Ù„Ø§ÛŒØ¯Ù‡Ø§: ${slides.length}`);
        console.log(`ğŸ’» ØªØ¹Ø¯Ø§Ø¯ Ú©Ø¯Ù‡Ø§: ${document.querySelectorAll('.code').length}`);
        console.log(`ğŸ“¦ ØªØ¹Ø¯Ø§Ø¯ Box Ù‡Ø§: ${document.querySelectorAll('.box').length}`);
        console.log('âœ… ÙØ§ÛŒÙ„ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!');
    </script>

    <style media="print">
        body {
            background: white !important;
        }
        
        .slide {
            page-break-after: always;
            box-shadow: none !important;
            margin: 0 !important;
            padding: 40px !important;
        }
        
        .slide-number {
            display: none;
        }
        
        #progressFill, #backToTop, #copyToast {
            display: none !important;
        }
        
        .code {
            page-break-inside: avoid;
            font-size: 0.75em;
            background: #f5f5f5 !important;
            color: #333 !important;
            border: 1px solid #ddd !important;
        }
        
        .grid, .comparison {
            page-break-inside: avoid;
        }
        
        table {
            page-break-inside: avoid;
            font-size: 0.9em;
        }
        
        .box {
            page-break-inside: avoid;
        }
        
        .keyword {
            color: #8b008b !important;
        }
        
        .string {
            color: #006400 !important;
        }
        
        .comment {
            color: #808080 !important;
        }
        
        .function {
            color: #00008b !important;
        }
        
        .number {
            color: #b22222 !important;
        }
        
        h1, h2, h3 {
            color: #2ecc71 !important;
        }
        
        a {
            color: #2ecc71 !important;
        }
    </style>
</body>
</html>
