<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¢Ù…ÙˆØ²Ø´ Ø¬Ø§Ù…Ø¹ MobilityDB - Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø­Ø±Ú©Øª Ùˆ Ù…Ø³ÛŒØ±</title>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn-font@v33.003/dist/font-face.css');

        :root {
            --primary-color: #6366f1;
            --secondary-color: #8b5cf6;
            --accent-color: #06b6d4;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --dark-color: #1e1b4b;
            --light-bg: #f5f3ff;
            --card-bg: #ffffff;
            --text-primary: #1e1b4b;
            --text-secondary: #6b7280;
            --gradient-1: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --gradient-2: linear-gradient(135deg, #06b6d4 0%, #10b981 100%);
            --shadow-sm: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', system-ui, sans-serif;
            background: var(--light-bg);
            color: var(--text-primary);
            line-height: 1.8;
            min-height: 100vh;
        }

        /* Header */
        header {
            background: var(--gradient-1);
            color: white;
            padding: 100px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 5 L55 30 L30 55 L5 30 Z' fill='none' stroke='rgba(255,255,255,0.1)' stroke-width='1'/%3E%3C/svg%3E") repeat;
            opacity: 0.5;
        }

        header h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
            position: relative;
            text-shadow: 2px 4px 8px rgba(0,0,0,0.2);
        }

        header p {
            font-size: 1.4em;
            opacity: 0.95;
            position: relative;
            max-width: 700px;
            margin: 0 auto;
        }

        .header-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.2);
            padding: 12px 28px;
            border-radius: 50px;
            margin-top: 30px;
            font-size: 1.1em;
            backdrop-filter: blur(10px);
            position: relative;
        }

        /* Navigation */
        nav {
            background: var(--dark-color);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-md);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            max-width: 1400px;
            margin: 0 auto;
        }

        nav ul li a {
            color: rgba(255,255,255,0.85);
            text-decoration: none;
            padding: 10px 18px;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }

        nav ul li a:hover {
            background: var(--primary-color);
            color: white;
        }

        /* Container */
        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 50px 20px;
        }

        /* Slides */
        .slide {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 50px;
            margin-bottom: 50px;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(99, 102, 241, 0.1);
        }

        .slide::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 6px;
            height: 100%;
            background: var(--gradient-1);
        }

        .slide-number {
            position: absolute;
            top: 25px;
            left: 25px;
            background: var(--gradient-1);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5em;
            box-shadow: var(--shadow-sm);
        }

        h2 {
            color: var(--primary-color);
            font-size: 2.2em;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--light-bg);
            padding-right: 70px;
        }

        h3 {
            color: var(--secondary-color);
            font-size: 1.5em;
            margin: 35px 0 20px;
            padding-right: 15px;
            border-right: 4px solid var(--accent-color);
        }

        h4 {
            color: var(--dark-color);
            font-size: 1.2em;
            margin: 25px 0 15px;
        }

        p {
            margin: 15px 0;
            font-size: 1.1em;
            color: var(--text-primary);
        }

        /* Info Boxes */
        .info-box {
            background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
            border: 2px solid var(--primary-color);
            border-radius: 16px;
            padding: 25px;
            margin: 25px 0;
            border-right: 6px solid var(--primary-color);
        }

        .tip-box {
            background: linear-gradient(135deg, #ccfbf1 0%, #a7f3d0 100%);
            border: 2px solid var(--success-color);
            border-radius: 16px;
            padding: 25px;
            margin: 25px 0;
            border-right: 6px solid var(--success-color);
        }

        .warning-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px solid var(--warning-color);
            border-radius: 16px;
            padding: 25px;
            margin: 25px 0;
            border-right: 6px solid var(--warning-color);
        }

        .danger-box {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border: 2px solid var(--danger-color);
            border-radius: 16px;
            padding: 25px;
            margin: 25px 0;
            border-right: 6px solid var(--danger-color);
        }

        /* Grid Layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        /* Cards */
        .card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-color);
        }

        .card .icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .card h4 {
            color: var(--primary-color);
            margin: 10px 0;
        }

        .card p {
            font-size: 0.95em;
            color: var(--text-secondary);
        }

        /* Feature Cards */
        .feature-card {
            background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);
            border: 2px solid var(--primary-color);
            border-radius: 16px;
            padding: 30px;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .feature-card h4 {
            color: var(--primary-color);
            font-size: 1.3em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feature-card .badge {
            background: var(--primary-color);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75em;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        th, td {
            padding: 16px 20px;
            text-align: center;
            border-bottom: 1px solid #e5e7eb;
        }

        th {
            background: var(--gradient-1);
            color: white;
            font-weight: 600;
            font-size: 1em;
        }

        tr:nth-child(even) {
            background: #f9fafb;
        }

        tr:hover {
            background: #f3f4f6;
        }

        /* Lists */
        ul, ol {
            margin: 20px 0;
            padding-right: 25px;
        }

        ul li, ol li {
            margin: 12px 0;
            line-height: 1.8;
        }

        /* Code Blocks */
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 0.95em;
            overflow-x: auto;
            direction: ltr;
            text-align: left;
            line-height: 1.7;
            box-shadow: var(--shadow-md);
        }

        .code-header {
            background: var(--dark-color);
            color: white;
            padding: 10px 20px;
            border-radius: 12px 12px 0 0;
            font-size: 0.9em;
            margin-bottom: -12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .code-header::before {
            content: '';
            display: inline-flex;
            gap: 6px;
        }

        .code-header .dots {
            display: flex;
            gap: 6px;
        }

        .code-header .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .code-header .dot.red { background: #ef4444; }
        .code-header .dot.yellow { background: #eab308; }
        .code-header .dot.green { background: #22c55e; }

        .keyword { color: #c084fc; }
        .string { color: #86efac; }
        .comment { color: #64748b; }
        .function { color: #67e8f9; }
        .number { color: #fdba74; }
        .type { color: #f472b6; }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: var(--gradient-1);
            color: white;
            padding: 30px 20px;
            border-radius: 16px;
            text-align: center;
            box-shadow: var(--shadow-md);
        }

        .stat-card .number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-card .label {
            font-size: 1em;
            opacity: 0.9;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            right: 20px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--gradient-1);
            border-radius: 2px;
        }

        .timeline-item {
            position: relative;
            padding-right: 60px;
            margin-bottom: 30px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            right: 12px;
            top: 5px;
            width: 20px;
            height: 20px;
            background: var(--primary-color);
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 0 0 4px var(--primary-color);
        }

        .timeline-year {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.2em;
            margin-bottom: 5px;
        }

        /* Architecture Diagram */
        .architecture {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
        }

        .arch-layer {
            background: white;
            border: 2px solid var(--primary-color);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            text-align: center;
            box-shadow: var(--shadow-sm);
        }

        .arch-layer h4 {
            color: var(--primary-color);
            margin: 0 0 10px 0;
        }

        .arch-arrow {
            text-align: center;
            font-size: 2em;
            color: var(--primary-color);
            margin: 10px 0;
        }

        /* Footer */
        footer {
            background: var(--dark-color);
            color: white;
            padding: 60px 20px;
            text-align: center;
            margin-top: 50px;
        }

        footer h3 {
            color: white;
            border: none;
            font-size: 2em;
            margin-bottom: 20px;
        }

        footer a {
            color: var(--accent-color);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2.2em;
            }

            .slide {
                padding: 30px 20px;
            }

            h2 {
                font-size: 1.7em;
                padding-right: 50px;
            }

            .slide-number {
                width: 45px;
                height: 45px;
                font-size: 1.2em;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
            }

            .code-block {
                font-size: 0.85em;
                padding: 15px;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Print Styles */
        @media print {
            nav { display: none; }
            .slide { break-inside: avoid; }
        }
    </style>
</head>
<body>

    <header>
        <h1>ğŸš— Ø¢Ù…ÙˆØ²Ø´ Ø¬Ø§Ù…Ø¹ MobilityDB</h1>
        <p>Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ ØªØ®ØµØµÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ Ùˆ Ù…Ø³ÛŒØ±</p>
        <p style="font-size: 1.1em; margin-top: 15px; opacity: 0.9;">
            Moving Objects Database Extension for PostgreSQL/PostGIS
        </p>
        <div class="header-badge">
            ğŸ›°ï¸ Ø±Ø¯ÛŒØ§Ø¨ÛŒ | ğŸ“ Ù…Ø³ÛŒØ± | â±ï¸ Ø²Ù…Ø§Ù† | ğŸ—ºï¸ Ù…Ú©Ø§Ù†
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#intro">Ù…Ø¹Ø±ÙÛŒ</a></li>
            <li><a href="#install">Ù†ØµØ¨</a></li>
            <li><a href="#types">Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡</a></li>
            <li><a href="#temporal">Temporal</a></li>
            <li><a href="#spatial">Spatial</a></li>
            <li><a href="#queries">Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ</a></li>
            <li><a href="#functions">ØªÙˆØ§Ø¨Ø¹</a></li>
            <li><a href="#project">Ù¾Ø±ÙˆÚ˜Ù‡</a></li>
        </ul>
    </nav>

    <div class="container">

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 1: Ù…Ø¹Ø±ÙÛŒ MobilityDB -->
        <div class="slide" id="intro">
            <div class="slide-number">1</div>
            <h2>ğŸš— MobilityDB Ú†ÛŒØ³ØªØŸ</h2>

            <div class="info-box">
                <h4>ğŸ“– ØªØ¹Ø±ÛŒÙ</h4>
                <p>
                    <strong>MobilityDB</strong> ÛŒÚ© Ø§ÙØ²ÙˆÙ†Ù‡ Ù…ØªÙ†â€ŒØ¨Ø§Ø² Ø¨Ø±Ø§ÛŒ <strong>PostgreSQL</strong> Ùˆ 
                    <strong>PostGIS</strong> Ø§Ø³Øª Ú©Ù‡ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª <strong>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ 
                    (Moving Objects)</strong> Ùˆ <strong>Ø³Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ù…Ú©Ø§Ù†ÛŒ (Spatiotemporal Data)</strong> 
                    Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </p>
            </div>

            <h3>ğŸ¯ MobilityDB Ø¨Ø±Ø§ÛŒ Ú†Ù‡ Ú©Ø§Ø±ÛŒ Ø§Ø³ØªØŸ</h3>
            <p>
                ÙˆÙ‚ØªÛŒ ÛŒÚ© Ø´ÛŒØ¡ Ø¯Ø± Ø·ÙˆÙ„ Ø²Ù…Ø§Ù† Ø­Ø±Ú©Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (Ù…Ø«Ù„ ÛŒÚ© ØªØ§Ú©Ø³ÛŒØŒ Ú©Ø´ØªÛŒØŒ ÛŒØ§ Ø´Ø®Øµ)ØŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¢Ù† 
                ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø°Ø®ÛŒØ±Ù‡ Ùˆ ØªØ­Ù„ÛŒÙ„ Ø§ÛŒÙ† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒ Ø¯Ø´ÙˆØ§Ø± Ø§Ø³Øª. 
                MobilityDB Ø§ÛŒÙ† Ù…Ø´Ú©Ù„ Ø±Ø§ Ø­Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
            </p>

            <div class="grid-2">
                <div class="card">
                    <div class="icon">ğŸš•</div>
                    <h4>Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§</h4>
                    <p>ØªØ§Ú©Ø³ÛŒØŒ Ú©Ø§Ù…ÛŒÙˆÙ†ØŒ Ù†Ø§ÙˆÚ¯Ø§Ù† Ø­Ù…Ù„â€ŒÙˆÙ†Ù‚Ù„</p>
                </div>
                <div class="card">
                    <div class="icon">ğŸš¢</div>
                    <h4>Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§</h4>
                    <p>AIS dataØŒ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¯Ø±ÛŒØ§ÛŒÛŒ</p>
                </div>
                <div class="card">
                    <div class="icon">âœˆï¸</div>
                    <h4>Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ù‡ÙˆØ§Ù¾ÛŒÙ…Ø§</h4>
                    <p>ADS-B dataØŒ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ù¾Ø±ÙˆØ§Ø²ÛŒ</p>
                </div>
                <div class="card">
                    <div class="icon">ğŸ“±</div>
                    <h4>Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„</h4>
                    <p>GPS trackingØŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„</p>
                </div>
                <div class="card">
                    <div class="icon">ğŸ¦</div>
                    <h4>Ø­ÛŒØ§Øª ÙˆØ­Ø´</h4>
                    <p>Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø­ÛŒÙˆØ§Ù†Ø§ØªØŒ Ù…Ù‡Ø§Ø¬Ø±Øª</p>
                </div>
                <div class="card">
                    <div class="icon">ğŸƒ</div>
                    <h4>ÙˆØ±Ø²Ø´ Ùˆ Ø³Ù„Ø§Ù…Øª</h4>
                    <p>ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±Ø²Ø´ÛŒØŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ±ÙˆÛŒ</p>
                </div>
            </div>

            <h3>ğŸ’¡ Ú†Ø±Ø§ MobilityDBØŸ</h3>
            <div class="grid-2">
                <div class="feature-card">
                    <h4>
                        <span>ğŸ”„</span>
                        Ø±ÙˆØ´ Ø³Ù†ØªÛŒ (Ø¨Ø¯ÙˆÙ† MobilityDB)
                    </h4>
                    <ul>
                        <li>Ø°Ø®ÛŒØ±Ù‡ Ù‡Ø± Ù†Ù‚Ø·Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡</li>
                        <li>Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ø±Ú©ÙˆØ±Ø¯ Ø¨Ø±Ø§ÛŒ ÛŒÚ© Ù…Ø³ÛŒØ±</li>
                        <li>Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÙ‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ùˆ Ú©Ù†Ø¯</li>
                        <li>Ù…ØµØ±Ù Ø¨Ø§Ù„Ø§ÛŒ Ø­Ø§ÙØ¸Ù‡</li>
                        <li>Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ Ø²ÛŒØ§Ø¯ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>
                        <span>âœ¨</span>
                        Ø¨Ø§ MobilityDB
                        <span class="badge">Ø¨Ù‡ÛŒÙ†Ù‡</span>
                    </h4>
                    <ul>
                        <li>Ø°Ø®ÛŒØ±Ù‡ Ú©Ù„ Ù…Ø³ÛŒØ± Ø¯Ø± ÛŒÚ© ÙÛŒÙ„Ø¯</li>
                        <li>ÙØ´Ø±Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§</li>
                        <li>ØªÙˆØ§Ø¨Ø¹ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„</li>
                        <li>Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ</li>
                        <li>Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§ Ø¯Ø± Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ“Š Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø­Ø¬Ù… Ø¯Ø§Ø¯Ù‡</h3>
            <table>
                <thead>
                    <tr>
                        <th>Ø³Ù†Ø§Ø±ÛŒÙˆ</th>
                        <th>Ø±ÙˆØ´ Ø³Ù†ØªÛŒ</th>
                        <th>MobilityDB</th>
                        <th>Ú©Ø§Ù‡Ø´</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1000 ØªØ§Ú©Ø³ÛŒØŒ 1 Ø±ÙˆØ²</td>
                        <td>86 Ù…ÛŒÙ„ÛŒÙˆÙ† Ø±Ú©ÙˆØ±Ø¯</td>
                        <td>1000 Ø±Ú©ÙˆØ±Ø¯</td>
                        <td>99.99%</td>
                    </tr>
                    <tr>
                        <td>ÛŒÚ© Ú©Ø´ØªÛŒØŒ 1 Ù…Ø§Ù‡</td>
                        <td>2.6 Ù…ÛŒÙ„ÛŒÙˆÙ† Ø±Ú©ÙˆØ±Ø¯</td>
                        <td>1 Ø±Ú©ÙˆØ±Ø¯</td>
                        <td>99.99%</td>
                    </tr>
                    <tr>
                        <td>GPS TrackerØŒ 1 Ø³Ø§Ù„</td>
                        <td>31 Ù…ÛŒÙ„ÛŒÙˆÙ† Ø±Ú©ÙˆØ±Ø¯</td>
                        <td>365 Ø±Ú©ÙˆØ±Ø¯</td>
                        <td>99.99%</td>
                    </tr>
                </tbody>
            </table>

            <div class="tip-box">
                <h4>ğŸ’¡ Ù†Ú©ØªÙ‡ Ú©Ù„ÛŒØ¯ÛŒ</h4>
                <p>
                    MobilityDB Ù…Ø³ÛŒØ± ÛŒÚ© Ø´ÛŒØ¡ Ù…ØªØ­Ø±Ú© Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª ÛŒÚ© <strong>ØªØ§Ø¨Ø¹ Ù¾ÛŒÙˆØ³ØªÙ‡ Ø§Ø² Ø²Ù…Ø§Ù†</strong> 
                    Ù…Ø¯Ù„â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ù†Ù‡ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø§Ø² Ù†Ù‚Ø§Ø· Ú¯Ø³Ø³ØªÙ‡. Ø§ÛŒÙ† Ø±ÙˆÛŒÚ©Ø±Ø¯ Ø¨Ø§Ø¹Ø« Ú©Ø§Ù‡Ø´ Ú†Ø´Ù…Ú¯ÛŒØ± 
                    Ø­Ø¬Ù… Ø¯Ø§Ø¯Ù‡ Ùˆ Ø§ÙØ²Ø§ÛŒØ´ Ø³Ø±Ø¹Øª ØªØ­Ù„ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                </p>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 2: Ù…Ø¹Ù…Ø§Ø±ÛŒ Ùˆ Ù…ÙØ§Ù‡ÛŒÙ… -->
        <div class="slide" id="architecture">
            <div class="slide-number">2</div>
            <h2>ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ùˆ Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡</h2>

            <div class="architecture">
                <h3 style="text-align: center; border: none; margin-bottom: 30px;">Ù¾Ø´ØªÙ‡ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±ÛŒ MobilityDB</h3>
                
                <div class="arch-layer" style="background: linear-gradient(135deg, #ddd6fe, #c4b5fd);">
                    <h4>ğŸš— MobilityDB</h4>
                    <p>Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡ Ø­Ø±Ú©ØªÛŒØŒ ØªÙˆØ§Ø¨Ø¹ Ø²Ù…Ø§Ù†ÛŒ-Ù…Ú©Ø§Ù†ÛŒØŒ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ</p>
                </div>
                
                <div class="arch-arrow">â¬‡ï¸</div>
                
                <div class="arch-layer" style="background: linear-gradient(135deg, #bbf7d0, #86efac);">
                    <h4>ğŸ—ºï¸ PostGIS</h4>
                    <p>Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡ Ù…Ú©Ø§Ù†ÛŒØŒ ØªÙˆØ§Ø¨Ø¹ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒØŒ GiST Index</p>
                </div>
                
                <div class="arch-arrow">â¬‡ï¸</div>
                
                <div class="arch-layer" style="background: linear-gradient(135deg, #bfdbfe, #93c5fd);">
                    <h4>ğŸ˜ PostgreSQL</h4>
                    <p>Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø±Ø§Ø¨Ø·Ù‡â€ŒØ§ÛŒØŒ ACIDØŒ Ø§Ù…Ù†ÛŒØªØŒ Replication</p>
                </div>
            </div>

            <h3>ğŸ“š Ù…ÙØ§Ù‡ÛŒÙ… Ú©Ù„ÛŒØ¯ÛŒ</h3>

            <div class="grid-2">
                <div class="feature-card">
                    <h4>â±ï¸ Temporal Types (Ø§Ù†ÙˆØ§Ø¹ Ø²Ù…Ø§Ù†ÛŒ)</h4>
                    <p>
                        Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ú©Ù‡ Ø¯Ø± Ø·ÙˆÙ„ Ø²Ù…Ø§Ù† ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯. Ù…Ø«Ù„Ø§Ù‹ Ø¯Ù…Ø§ÛŒ ÛŒÚ© Ø³Ù†Ø³ÙˆØ± ÛŒØ§ 
                        Ø³Ø±Ø¹Øª ÛŒÚ© Ø®ÙˆØ¯Ø±Ùˆ Ú©Ù‡ Ù‡Ø± Ù„Ø­Ø¸Ù‡ Ù…ØªÙØ§ÙˆØª Ø§Ø³Øª.
                    </p>
                    <ul>
                        <li><code>tint</code> - Ø¹Ø¯Ø¯ ØµØ­ÛŒØ­ Ø²Ù…Ø§Ù†ÛŒ</li>
                        <li><code>tfloat</code> - Ø¹Ø¯Ø¯ Ø§Ø¹Ø´Ø§Ø±ÛŒ Ø²Ù…Ø§Ù†ÛŒ</li>
                        <li><code>tbool</code> - Ø¨ÙˆÙ„ÛŒÙ† Ø²Ù…Ø§Ù†ÛŒ</li>
                        <li><code>ttext</code> - Ù…ØªÙ† Ø²Ù…Ø§Ù†ÛŒ</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“ Spatiotemporal Types (Ø²Ù…Ø§Ù†ÛŒ-Ù…Ú©Ø§Ù†ÛŒ)</h4>
                    <p>
                        Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± Ø·ÙˆÙ„ Ø²Ù…Ø§Ù† ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯. Ø§ÛŒÙ† Ù†ÙˆØ¹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ 
                        Ø¨Ø±Ø§ÛŒ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø§Ø´ÛŒØ§Ø¡ Ù…ØªØ­Ø±Ú© Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
                    </p>
                    <ul>
                        <li><code>tgeompoint</code> - Ù†Ù‚Ø·Ù‡ Ù‡Ù†Ø¯Ø³ÛŒ Ø²Ù…Ø§Ù†ÛŒ</li>
                        <li><code>tgeogpoint</code> - Ù†Ù‚Ø·Ù‡ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø²Ù…Ø§Ù†ÛŒ</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ”¤ Temporal Subtypes (Ø²ÛŒØ±Ù†ÙˆØ¹â€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Ø²ÛŒØ±Ù†ÙˆØ¹</th>
                        <th>ØªÙˆØ¶ÛŒØ­</th>
                        <th>Ù…Ø«Ø§Ù„</th>
                        <th>Ú©Ø§Ø±Ø¨Ø±Ø¯</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Instant</strong></td>
                        <td>ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø± ÛŒÚ© Ù„Ø­Ø¸Ù‡ Ø®Ø§Øµ</td>
                        <td><code>25@2024-01-15 10:30:00</code></td>
                        <td>Ø«Ø¨Øª ÛŒÚ© Ø±ÙˆÛŒØ¯Ø§Ø¯</td>
                    </tr>
                    <tr>
                        <td><strong>Sequence</strong></td>
                        <td>Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒØ§ÛŒ Ø§Ø² Ù…Ù‚Ø§Ø¯ÛŒØ± Ù¾ÛŒÙˆØ³ØªÙ‡</td>
                        <td><code>[10@t1, 20@t2, 15@t3]</code></td>
                        <td>ÛŒÚ© Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ù¾ÛŒÙˆØ³ØªÙ‡</td>
                    </tr>
                    <tr>
                        <td><strong>SequenceSet</strong></td>
                        <td>Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø§Ø² Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§</td>
                        <td><code>{[...], [...], [...]}</code></td>
                        <td>Ø¨Ø§Ø²Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù¾ÛŒÙˆØ³ØªÙ‡</td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸ“ Interpolation (Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ)</h3>
            <div class="grid-2">
                <div class="card">
                    <div class="icon">ğŸ“Š</div>
                    <h4>Stepwise (Ù¾Ù„Ù‡â€ŒØ§ÛŒ)</h4>
                    <p>Ù…Ù‚Ø¯Ø§Ø± ØªØ§ Ù†Ù‚Ø·Ù‡ Ø¨Ø¹Ø¯ÛŒ Ø«Ø§Ø¨Øª Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯</p>
                    <p style="font-family: monospace; background: #f3f4f6; padding: 10px; border-radius: 8px; direction: ltr;">
                        â–â–â–â–ƒâ–ƒâ–ƒâ–ƒâ–…â–…â–…â–…â–‡â–‡â–‡
                    </p>
                </div>
                <div class="card">
                    <div class="icon">ğŸ“ˆ</div>
                    <h4>Linear (Ø®Ø·ÛŒ)</h4>
                    <p>Ù…Ù‚Ø¯Ø§Ø± Ø¨Ù‡ ØµÙˆØ±Øª Ø®Ø·ÛŒ Ø¨ÛŒÙ† Ù†Ù‚Ø§Ø· ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯</p>
                    <p style="font-family: monospace; background: #f3f4f6; padding: 10px; border-radius: 8px; direction: ltr;">
                        â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆâ–‡â–†â–…â–„â–ƒâ–‚â–
                    </p>
                </div>
            </div>

            <div class="info-box">
                <h4>ğŸ¯ Ú©Ø¯Ø§Ù… Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒÙ…ØŸ</h4>
                <ul>
                    <li><strong>Stepwise:</strong> Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ± Ú¯Ø³Ø³ØªÙ‡ Ù…Ø«Ù„ ÙˆØ¶Ø¹ÛŒØª (Ø±ÙˆØ´Ù†/Ø®Ø§Ù…ÙˆØ´)ØŒ gear Ø®ÙˆØ¯Ø±Ùˆ</li>
                    <li><strong>Linear:</strong> Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ± Ù¾ÛŒÙˆØ³ØªÙ‡ Ù…Ø«Ù„ Ù…ÙˆÙ‚Ø¹ÛŒØª GPSØŒ Ø¯Ù…Ø§ØŒ Ø³Ø±Ø¹Øª</li>
                </ul>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 3: Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ -->
        <div class="slide" id="install">
            <div class="slide-number">3</div>
            <h2>âš™ï¸ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ</h2>

            <h3>ğŸ³ Ø±ÙˆØ´ 1: Docker (Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ)</h3>
            <p>Ø³Ø§Ø¯Ù‡â€ŒØªØ±ÛŒÙ† Ùˆ Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø±ÙˆØ´ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ú©Ø§Ø± Ø¨Ø§ MobilityDB:</p>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Terminal - Docker</span>
            </div>
            <div class="code-block">
<span class="comment"># Ø¯Ø§Ù†Ù„ÙˆØ¯ Ùˆ Ø§Ø¬Ø±Ø§ÛŒ MobilityDB Ø¨Ø§ Docker</span>
docker pull mobilitydb/mobilitydb:14-3.2-develop

<span class="comment"># Ø§Ø¬Ø±Ø§ÛŒ container</span>
docker run --name mobilitydb \
    -e POSTGRES_PASSWORD=mysecretpassword \
    -p 5432:5432 \
    -d mobilitydb/mobilitydb:14-3.2-develop

<span class="comment"># Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª</span>
docker ps

<span class="comment"># Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
docker exec -it mobilitydb psql -U postgres
            </div>

            <h3>ğŸ³ Ø±ÙˆØ´ 2: Docker Compose (Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ)</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>docker-compose.yml</span>
            </div>
            <div class="code-block">
<span class="keyword">version</span>: <span class="string">'3.8'</span>

<span class="keyword">services</span>:
  <span class="function">mobilitydb</span>:
    <span class="keyword">image</span>: mobilitydb/mobilitydb:14-3.2-develop
    <span class="keyword">container_name</span>: mobilitydb
    <span class="keyword">environment</span>:
      <span class="keyword">POSTGRES_DB</span>: mobility
      <span class="keyword">POSTGRES_USER</span>: mobility_user
      <span class="keyword">POSTGRES_PASSWORD</span>: mobility_pass
    <span class="keyword">ports</span>:
      - <span class="string">"5432:5432"</span>
    <span class="keyword">volumes</span>:
      - mobilitydb_data:/var/lib/postgresql/data
      - ./init:/docker-entrypoint-initdb.d
    <span class="keyword">restart</span>: unless-stopped

<span class="keyword">volumes</span>:
  <span class="function">mobilitydb_data</span>:
            </div>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>init/01_setup.sql</span>
            </div>
            <div class="code-block">
<span class="comment">-- ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§</span>
<span class="keyword">CREATE EXTENSION IF NOT EXISTS</span> postgis;
<span class="keyword">CREATE EXTENSION IF NOT EXISTS</span> mobilitydb;

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø³Ø®Ù‡</span>
<span class="keyword">SELECT</span> <span class="function">mobilitydb_version</span>();
<span class="keyword">SELECT</span> <span class="function">postgis_version</span>();
            </div>

            <h3>ğŸ“¦ Ø±ÙˆØ´ 3: Ù†ØµØ¨ Ø¯Ø³ØªÛŒ Ø±ÙˆÛŒ Ubuntu</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Terminal - Ubuntu Installation</span>
            </div>
            <div class="code-block">
<span class="comment"># Ù†ØµØ¨ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§</span>
sudo apt update
sudo apt install -y postgresql-14 postgresql-14-postgis-3

<span class="comment"># Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ÛŒ build</span>
sudo apt install -y build-essential cmake libproj-dev libjson-c-dev \
    libgsl-dev libgeos-dev postgresql-server-dev-14

<span class="comment"># Ø¯Ø§Ù†Ù„ÙˆØ¯ MobilityDB</span>
git clone https://github.com/MobilityDB/MobilityDB.git
cd MobilityDB
git checkout master

<span class="comment"># Build Ùˆ Ù†ØµØ¨</span>
mkdir build && cd build
cmake ..
make -j$(nproc)
sudo make install

<span class="comment"># ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø± PostgreSQL</span>
sudo -u postgres psql -c "CREATE EXTENSION mobilitydb CASCADE;"
            </div>

            <h3>ğŸ Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Python</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Terminal - Python</span>
            </div>
            <div class="code-block">
<span class="comment"># Ù†ØµØ¨ PyMEOS (Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Python Ø¨Ø±Ø§ÛŒ MobilityDB)</span>
pip install pymeos

<span class="comment"># ÛŒØ§ Ø¨Ø§ conda</span>
conda install -c conda-forge pymeos

<span class="comment"># Ù†ØµØ¨ psycopg2 Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
pip install psycopg2-binary

<span class="comment"># Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù…Ú©ÛŒ</span>
pip install geopandas pandas movingpandas
            </div>

            <h3>âœ… ØªØ³Øª Ù†ØµØ¨</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Test Installation</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
\c mobility

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> pg_extension 
<span class="keyword">WHERE</span> extname <span class="keyword">IN</span> (<span class="string">'postgis'</span>, <span class="string">'mobilitydb'</span>);

<span class="comment">-- ØªØ³Øª Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ù†ÙˆØ¹ temporal</span>
<span class="keyword">SELECT</span> tint <span class="string">'10@2024-01-15 10:00:00'</span>;

<span class="comment">-- ØªØ³Øª Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© trajectory</span>
<span class="keyword">SELECT</span> tgeompoint <span class="string">'[Point(0 0)@2024-01-15 10:00:00, Point(1 1)@2024-01-15 10:01:00]'</span>;

<span class="comment">-- Ù†Ù…Ø§ÛŒØ´ Ù†Ø³Ø®Ù‡</span>
<span class="keyword">SELECT</span> <span class="function">mobilitydb_full_version</span>();
            </div>

            <div class="tip-box">
                <h4>âœ… Ø®Ø±ÙˆØ¬ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø±</h4>
                <p>Ø§Ú¯Ø± Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¯Ø±Ø³Øª Ù†ØµØ¨ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¨Ø§ÛŒØ¯ Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø´Ø§Ø¨Ù‡ Ø²ÛŒØ± Ø¨Ø¨ÛŒÙ†ÛŒØ¯:</p>
                <div class="code-block" style="margin-top: 15px;">
mobilitydb_full_version
---------------------------------------------------------
MobilityDB 1.1.0, PostGIS 3.3.2, PostgreSQL 14.9
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 4: Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡ Temporal -->
        <div class="slide" id="types">
            <div class="slide-number">4</div>
            <h2>ğŸ“Š Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡ Temporal</h2>

            <div class="info-box">
                <h4>ğŸ“– Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡ Ø²Ù…Ø§Ù†ÛŒ (Temporal Types)</h4>
                <p>
                    MobilityDB Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡ Ù¾Ø§ÛŒÙ‡ PostgreSQL Ø±Ø§ Ø¨Ù‡ Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. 
                    Ù‡Ø± Ù…Ù‚Ø¯Ø§Ø± Ø²Ù…Ø§Ù†ÛŒ Ø´Ø§Ù…Ù„ ÛŒÚ© <strong>Ù…Ù‚Ø¯Ø§Ø±</strong> Ùˆ ÛŒÚ© <strong>Ø²Ù…Ø§Ù†</strong> Ø§Ø³Øª.
                </p>
            </div>

            <h3>ğŸ”¢ Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡ Ù¾Ø§ÛŒÙ‡</h3>
            <table>
                <thead>
                    <tr>
                        <th>Ù†ÙˆØ¹ PostgreSQL</th>
                        <th>Ù†ÙˆØ¹ MobilityDB</th>
                        <th>ØªÙˆØ¶ÛŒØ­</th>
                        <th>Ù…Ø«Ø§Ù„</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>boolean</code></td>
                        <td><code>tbool</code></td>
                        <td>Ø¨ÙˆÙ„ÛŒÙ† Ø²Ù…Ø§Ù†ÛŒ</td>
                        <td><code>true@2024-01-15</code></td>
                    </tr>
                    <tr>
                        <td><code>integer</code></td>
                        <td><code>tint</code></td>
                        <td>Ø¹Ø¯Ø¯ ØµØ­ÛŒØ­ Ø²Ù…Ø§Ù†ÛŒ</td>
                        <td><code>25@2024-01-15</code></td>
                    </tr>
                    <tr>
                        <td><code>float</code></td>
                        <td><code>tfloat</code></td>
                        <td>Ø¹Ø¯Ø¯ Ø§Ø¹Ø´Ø§Ø±ÛŒ Ø²Ù…Ø§Ù†ÛŒ</td>
                        <td><code>3.14@2024-01-15</code></td>
                    </tr>
                    <tr>
                        <td><code>text</code></td>
                        <td><code>ttext</code></td>
                        <td>Ù…ØªÙ† Ø²Ù…Ø§Ù†ÛŒ</td>
                        <td><code>'active'@2024-01-15</code></td>
                    </tr>
                    <tr>
                        <td><code>geometry</code></td>
                        <td><code>tgeompoint</code></td>
                        <td>Ù†Ù‚Ø·Ù‡ Ù‡Ù†Ø¯Ø³ÛŒ Ø²Ù…Ø§Ù†ÛŒ</td>
                        <td><code>Point(0 0)@2024-01-15</code></td>
                    </tr>
                    <tr>
                        <td><code>geography</code></td>
                        <td><code>tgeogpoint</code></td>
                        <td>Ù†Ù‚Ø·Ù‡ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø²Ù…Ø§Ù†ÛŒ</td>
                        <td><code>Point(51.38 35.68)@...</code></td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸ“ Ø§ÛŒØ¬Ø§Ø¯ Ù…Ù‚Ø§Ø¯ÛŒØ± Temporal</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Creating Temporal Values</span>
            </div>
            <div class="code-block">
<span class="comment">-- Instant: ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø± ÛŒÚ© Ù„Ø­Ø¸Ù‡</span>
<span class="keyword">SELECT</span> tint <span class="string">'25@2024-01-15 10:30:00'</span>;
<span class="keyword">SELECT</span> tfloat <span class="string">'36.5@2024-01-15 10:30:00'</span>;
<span class="keyword">SELECT</span> tbool <span class="string">'true@2024-01-15 10:30:00'</span>;
<span class="keyword">SELECT</span> ttext <span class="string">'"running"@2024-01-15 10:30:00'</span>;

<span class="comment">-- Sequence: Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒØ§ÛŒ Ø§Ø² Ù…Ù‚Ø§Ø¯ÛŒØ± (Ø¨Ø§ Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ø®Ø·ÛŒ)</span>
<span class="keyword">SELECT</span> tfloat <span class="string">'[10.0@2024-01-15 10:00:00, 20.0@2024-01-15 10:30:00, 
               15.0@2024-01-15 11:00:00]'</span>;

<span class="comment">-- Sequence Ø¨Ø§ Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ù¾Ù„Ù‡â€ŒØ§ÛŒ</span>
<span class="keyword">SELECT</span> tint <span class="string">'Interp=Step;[1@2024-01-15 10:00:00, 2@2024-01-15 10:30:00, 
             3@2024-01-15 11:00:00]'</span>;

<span class="comment">-- SequenceSet: Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø§Ø² Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§ (Ø¨Ø§Ø²Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù¾ÛŒÙˆØ³ØªÙ‡)</span>
<span class="keyword">SELECT</span> tfloat <span class="string">'{[10@2024-01-15 10:00:00, 20@2024-01-15 10:30:00],
               [15@2024-01-15 12:00:00, 25@2024-01-15 12:30:00]}'</span>;
            </div>

            <h3>ğŸ“ Ø§ÛŒØ¬Ø§Ø¯ Trajectories (Ù…Ø³ÛŒØ±Ù‡Ø§)</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Creating Trajectories</span>
            </div>
            <div class="code-block">
<span class="comment">-- ÛŒÚ© Ù†Ù‚Ø·Ù‡ Ø¯Ø± ÛŒÚ© Ù„Ø­Ø¸Ù‡</span>
<span class="keyword">SELECT</span> tgeompoint <span class="string">'Point(51.3890 35.6892)@2024-01-15 10:00:00'</span>;

<span class="comment">-- ÛŒÚ© Ù…Ø³ÛŒØ± Ø³Ø§Ø¯Ù‡ (Sequence)</span>
<span class="keyword">SELECT</span> tgeompoint <span class="string">'[Point(0 0)@2024-01-15 10:00:00, 
                     Point(1 1)@2024-01-15 10:10:00,
                     Point(2 1)@2024-01-15 10:20:00,
                     Point(3 2)@2024-01-15 10:30:00]'</span>;

<span class="comment">-- Ù…Ø³ÛŒØ± Ø¨Ø§ SRID (Ø³ÛŒØ³ØªÙ… Ù…Ø®ØªØµØ§Øª)</span>
<span class="keyword">SELECT</span> tgeompoint <span class="string">'SRID=4326;[Point(51.38 35.68)@2024-01-15 10:00:00,
                              Point(51.40 35.70)@2024-01-15 10:30:00]'</span>;

<span class="comment">-- Ù…Ø³ÛŒØ± Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ (Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø¯Ù‚ÛŒÙ‚ ÙØ§ØµÙ„Ù‡)</span>
<span class="keyword">SELECT</span> tgeogpoint <span class="string">'[Point(51.3890 35.6892)@2024-01-15 10:00:00,
                     Point(51.4200 35.7100)@2024-01-15 10:30:00]'</span>;

<span class="comment">-- Ù…Ø³ÛŒØ± Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ (Ø¨Ø§ Ø§Ø±ØªÙØ§Ø¹)</span>
<span class="keyword">SELECT</span> tgeompoint <span class="string">'[Point(0 0 100)@2024-01-15 10:00:00,
                     Point(1 1 150)@2024-01-15 10:10:00,
                     Point(2 2 200)@2024-01-15 10:20:00]'</span>;
            </div>

            <h3>ğŸ—ï¸ Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÙˆÙ„ Ø¨Ø§ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Temporal</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Table with Temporal Fields</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§</span>
<span class="keyword">CREATE TABLE</span> vehicles (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    plate_number <span class="type">VARCHAR</span>(20) <span class="keyword">NOT NULL</span>,
    vehicle_type <span class="type">VARCHAR</span>(50),
    trajectory <span class="type">tgeompoint</span>,           <span class="comment">-- Ù…Ø³ÛŒØ± Ø­Ø±Ú©Øª</span>
    speed <span class="type">tfloat</span>,                      <span class="comment">-- Ø³Ø±Ø¹Øª Ø¯Ø± Ø·ÙˆÙ„ Ø²Ù…Ø§Ù†</span>
    engine_status <span class="type">tbool</span>,              <span class="comment">-- ÙˆØ¶Ø¹ÛŒØª Ù…ÙˆØªÙˆØ±</span>
    driver_name <span class="type">ttext</span>                  <span class="comment">-- Ù†Ø§Ù… Ø±Ø§Ù†Ù†Ø¯Ù‡ (Ù…Ù…Ú©Ù† Ø§Ø³Øª ØªØºÛŒÛŒØ± Ú©Ù†Ø¯)</span>
);

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§ (AIS Data)</span>
<span class="keyword">CREATE TABLE</span> ships (
    mmsi <span class="type">INTEGER PRIMARY KEY</span>,         <span class="comment">-- Ø´Ù†Ø§Ø³Ù‡ ÛŒÚ©ØªØ§ÛŒ Ú©Ø´ØªÛŒ</span>
    ship_name <span class="type">VARCHAR</span>(100),
    ship_type <span class="type">INTEGER</span>,
    trajectory <span class="type">tgeogpoint</span>,            <span class="comment">-- Ù…Ø³ÛŒØ± (Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ù‚Øª)</span>
    sog <span class="type">tfloat</span>,                        <span class="comment">-- Speed Over Ground</span>
    cog <span class="type">tfloat</span>,                        <span class="comment">-- Course Over Ground</span>
    heading <span class="type">tint</span>,                      <span class="comment">-- Ø¬Ù‡Øª</span>
    nav_status <span class="type">ttext</span>                   <span class="comment">-- ÙˆØ¶Ø¹ÛŒØª Ù†Ø§ÙˆØ¨Ø±ÛŒ</span>
);

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ-Ø²Ù…Ø§Ù†ÛŒ</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_traj <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> GiST(trajectory);
<span class="keyword">CREATE INDEX</span> idx_ships_traj <span class="keyword">ON</span> ships <span class="keyword">USING</span> GiST(trajectory);
            </div>

            <div class="warning-box">
                <h4>âš ï¸ Ù†Ú©Ø§Øª Ù…Ù‡Ù…</h4>
                <ul>
                    <li>Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ ØµØ¹ÙˆØ¯ÛŒ Ø¨Ø§Ø´Ù†Ø¯</li>
                    <li>Ø¯Ø± ÛŒÚ© Sequence Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¯Ùˆ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ Ø²Ù…Ø§Ù† ÛŒÚ©Ø³Ø§Ù† Ø¯Ø§Ø´Øª</li>
                    <li>Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø² <code>tgeogpoint</code> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                    <li>Ù‡Ù…ÛŒØ´Ù‡ SRID Ù…Ù†Ø§Ø³Ø¨ Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯ (Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ 4326 Ø¨Ø±Ø§ÛŒ GPS)</li>
                </ul>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 5: ØªÙˆØ§Ø¨Ø¹ Temporal -->
        <div class="slide" id="temporal">
            <div class="slide-number">5</div>
            <h2>â±ï¸ ØªÙˆØ§Ø¨Ø¹ Temporal</h2>

            <div class="info-box">
                <h4>ğŸ“– ØªÙˆØ§Ø¨Ø¹ Ø²Ù…Ø§Ù†ÛŒ</h4>
                <p>
                    MobilityDB Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ú¯Ø³ØªØ±Ø¯Ù‡â€ŒØ§ÛŒ Ø§Ø² ØªÙˆØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. 
                    Ø§ÛŒÙ† ØªÙˆØ§Ø¨Ø¹ Ø§Ù…Ú©Ø§Ù† Ø§Ø³ØªØ®Ø±Ø§Ø¬ØŒ ØªØ¨Ø¯ÛŒÙ„ØŒ Ùˆ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ temporal Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.
                </p>
            </div>

            <h3>ğŸ“¤ ØªÙˆØ§Ø¨Ø¹ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø·Ù„Ø§Ø¹Ø§Øª</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Extraction Functions</span>
            </div>
            <div class="code-block">
<span class="comment">-- ØªØ¹Ø±ÛŒÙ ÛŒÚ© Ù…Ø³ÛŒØ± Ù†Ù…ÙˆÙ†Ù‡</span>
<span class="keyword">WITH</span> sample <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> tgeompoint <span class="string">'[Point(0 0)@2024-01-15 10:00:00,
                         Point(1 2)@2024-01-15 10:30:00,
                         Point(3 3)@2024-01-15 11:00:00,
                         Point(5 2)@2024-01-15 11:30:00]'</span> <span class="keyword">AS</span> trip
)

<span class="keyword">SELECT</span>
    <span class="comment">-- Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ</span>
    <span class="function">duration</span>(trip) <span class="keyword">AS</span> total_duration,      <span class="comment">-- Ù…Ø¯Øª Ú©Ù„: 01:30:00</span>
    <span class="function">timespan</span>(trip) <span class="keyword">AS</span> time_span,           <span class="comment">-- Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ</span>
    
    <span class="comment">-- Ø²Ù…Ø§Ù† Ø´Ø±ÙˆØ¹ Ùˆ Ù¾Ø§ÛŒØ§Ù†</span>
    <span class="function">startTimestamp</span>(trip) <span class="keyword">AS</span> start_time,   <span class="comment">-- 2024-01-15 10:00:00</span>
    <span class="function">endTimestamp</span>(trip) <span class="keyword">AS</span> end_time,       <span class="comment">-- 2024-01-15 11:30:00</span>
    
    <span class="comment">-- Ù…Ù‚Ø§Ø¯ÛŒØ± Ø´Ø±ÙˆØ¹ Ùˆ Ù¾Ø§ÛŒØ§Ù†</span>
    <span class="function">startValue</span>(trip) <span class="keyword">AS</span> start_point,      <span class="comment">-- POINT(0 0)</span>
    <span class="function">endValue</span>(trip) <span class="keyword">AS</span> end_point,          <span class="comment">-- POINT(5 2)</span>
    
    <span class="comment">-- ØªØ¹Ø¯Ø§Ø¯ Ù†Ù‚Ø§Ø· Ùˆ instants</span>
    <span class="function">numInstants</span>(trip) <span class="keyword">AS</span> num_points,      <span class="comment">-- 4</span>
    <span class="function">numSequences</span>(trip) <span class="keyword">AS</span> num_sequences   <span class="comment">-- 1</span>
<span class="keyword">FROM</span> sample;
            </div>

            <h3>ğŸ” ØªÙˆØ§Ø¨Ø¹ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ±</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Value Access Functions</span>
            </div>
            <div class="code-block">
<span class="keyword">WITH</span> sample <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> tfloat <span class="string">'[10@2024-01-15 10:00:00, 30@2024-01-15 10:30:00,
                    20@2024-01-15 11:00:00]'</span> <span class="keyword">AS</span> speed
)
<span class="keyword">SELECT</span>
    <span class="comment">-- Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø± ÛŒÚ© Ø²Ù…Ø§Ù† Ø®Ø§Øµ</span>
    <span class="function">valueAtTimestamp</span>(speed, <span class="string">'2024-01-15 10:15:00'</span>) <span class="keyword">AS</span> val_at_time,  <span class="comment">-- 20 (Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ)</span>
    
    <span class="comment">-- Ù‡Ù…Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ±</span>
    <span class="function">values</span>(speed) <span class="keyword">AS</span> all_values,              <span class="comment">-- {10, 30, 20}</span>
    
    <span class="comment">-- Ù‡Ù…Ù‡ Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§</span>
    <span class="function">timestamps</span>(speed) <span class="keyword">AS</span> all_times,          <span class="comment">-- Ø¢Ø±Ø§ÛŒÙ‡ Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§</span>
    
    <span class="comment">-- Ø­Ø¯Ø§Ù‚Ù„ Ùˆ Ø­Ø¯Ø§Ú©Ø«Ø±</span>
    <span class="function">minValue</span>(speed) <span class="keyword">AS</span> min_speed,            <span class="comment">-- 10</span>
    <span class="function">maxValue</span>(speed) <span class="keyword">AS</span> max_speed,            <span class="comment">-- 30</span>
    
    <span class="comment">-- Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ instant Ø®Ø§Øµ</span>
    <span class="function">instantN</span>(speed, 2) <span class="keyword">AS</span> second_instant,   <span class="comment">-- 30@2024-01-15 10:30:00</span>
    
    <span class="comment">-- ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø¢Ø±Ø§ÛŒÙ‡</span>
    <span class="function">instants</span>(speed) <span class="keyword">AS</span> instant_array
<span class="keyword">FROM</span> sample;
            </div>

            <h3>âœ‚ï¸ ØªÙˆØ§Ø¨Ø¹ Ø¨Ø±Ø´ Ø²Ù…Ø§Ù†ÛŒ</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Temporal Restriction Functions</span>
            </div>
            <div class="code-block">
<span class="keyword">WITH</span> sample <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> tgeompoint <span class="string">'[Point(0 0)@2024-01-15 10:00:00,
                         Point(5 5)@2024-01-15 12:00:00,
                         Point(10 10)@2024-01-15 14:00:00]'</span> <span class="keyword">AS</span> trip
)
<span class="keyword">SELECT</span>
    <span class="comment">-- Ø¨Ø±Ø´ Ø¯Ø± ÛŒÚ© Ø²Ù…Ø§Ù† Ø®Ø§Øµ</span>
    <span class="function">atTimestamp</span>(trip, <span class="string">'2024-01-15 11:00:00'</span>) <span class="keyword">AS</span> at_time,
    
    <span class="comment">-- Ø¨Ø±Ø´ Ø¯Ø± ÛŒÚ© Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ</span>
    <span class="function">atPeriod</span>(trip, <span class="string">'[2024-01-15 10:30:00, 2024-01-15 13:00:00]'</span>) <span class="keyword">AS</span> in_period,
    
    <span class="comment">-- Ø­Ø°Ù ÛŒÚ© Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ</span>
    <span class="function">minusTimestamp</span>(trip, <span class="string">'2024-01-15 11:00:00'</span>) <span class="keyword">AS</span> without_time,
    <span class="function">minusPeriod</span>(trip, <span class="string">'[2024-01-15 11:00:00, 2024-01-15 12:00:00]'</span>) <span class="keyword">AS</span> without_period,
    
    <span class="comment">-- Ø¨Ø±Ø´ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ù‚Ø¯Ø§Ø±</span>
    <span class="function">atValues</span>(tfloat <span class="string">'[10@t1, 20@t2, 10@t3]'</span>, 10) <span class="keyword">AS</span> when_value_10,
    
    <span class="comment">-- Ø¨Ø±Ø´ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ù…Ù‚Ø¯Ø§Ø±</span>
    <span class="function">atRange</span>(tfloat <span class="string">'[0@t1, 50@t2, 100@t3]'</span>, floatrange <span class="string">'[20, 80]'</span>) <span class="keyword">AS</span> in_range
<span class="keyword">FROM</span> sample;
            </div>

            <h3>ğŸ”„ ØªÙˆØ§Ø¨Ø¹ ØªØ¨Ø¯ÛŒÙ„ Ùˆ Resample</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Transformation Functions</span>
            </div>
            <div class="code-block">
<span class="comment">-- ØªØºÛŒÛŒØ± Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ø§Ø² Ø®Ø·ÛŒ Ø¨Ù‡ Ù¾Ù„Ù‡â€ŒØ§ÛŒ</span>
<span class="keyword">SELECT</span> <span class="function">toStepwise</span>(
    tfloat <span class="string">'[10@2024-01-15 10:00:00, 20@2024-01-15 11:00:00]'</span>
);

<span class="comment">-- ØªØºÛŒÛŒØ± Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ø§Ø² Ù¾Ù„Ù‡â€ŒØ§ÛŒ Ø¨Ù‡ Ø®Ø·ÛŒ</span>
<span class="keyword">SELECT</span> <span class="function">toLinear</span>(
    tfloat <span class="string">'Interp=Step;[10@2024-01-15 10:00:00, 20@2024-01-15 11:00:00]'</span>
);

<span class="comment">-- Ù†Ù…ÙˆÙ†Ù‡â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§ ÙØ§ØµÙ„Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø«Ø§Ø¨Øª</span>
<span class="keyword">SELECT</span> <span class="function">tsample</span>(
    tgeompoint <span class="string">'[Point(0 0)@2024-01-15 10:00:00, Point(100 100)@2024-01-15 12:00:00]'</span>,
    <span class="string">'15 minutes'</span>,                    <span class="comment">-- Ù‡Ø± 15 Ø¯Ù‚ÛŒÙ‚Ù‡ ÛŒÚ© Ù†Ù…ÙˆÙ†Ù‡</span>
    <span class="string">'2024-01-15 10:00:00'</span>             <span class="comment">-- Ø²Ù…Ø§Ù† Ø´Ø±ÙˆØ¹</span>
);

<span class="comment">-- Ø³Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø³ÛŒØ± (Ø­Ø°Ù Ù†Ù‚Ø§Ø· Ø§Ø¶Ø§ÙÛŒ)</span>
<span class="keyword">SELECT</span> <span class="function">simplify</span>(
    tgeompoint <span class="string">'[Point(0 0)@t1, Point(0.1 0.1)@t2, Point(1 1)@t3, 
                  Point(1.1 1.1)@t4, Point(2 2)@t5]'</span>,
    0.5                                  <span class="comment">-- tolerance</span>
);

<span class="comment">-- Shift Ø²Ù…Ø§Ù†ÛŒ (Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ Ø¯Ø± Ø²Ù…Ø§Ù†)</span>
<span class="keyword">SELECT</span> <span class="function">shiftTime</span>(
    tgeompoint <span class="string">'[Point(0 0)@2024-01-15 10:00:00, Point(1 1)@2024-01-15 11:00:00]'</span>,
    <span class="string">'1 day'</span>                           <span class="comment">-- ÛŒÚ© Ø±ÙˆØ² Ø¨Ù‡ Ø¬Ù„Ùˆ</span>
);

<span class="comment">-- Scale Ø²Ù…Ø§Ù†ÛŒ (ØªØºÛŒÛŒØ± Ù…Ù‚ÛŒØ§Ø³ Ø²Ù…Ø§Ù†)</span>
<span class="keyword">SELECT</span> <span class="function">scaleTime</span>(
    tgeompoint <span class="string">'[Point(0 0)@2024-01-15 10:00:00, Point(1 1)@2024-01-15 12:00:00]'</span>,
    <span class="string">'30 minutes'</span>                      <span class="comment">-- ÙØ´Ø±Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ù‡ 30 Ø¯Ù‚ÛŒÙ‚Ù‡</span>
);
            </div>

            <h3>ğŸ“Š ØªÙˆØ§Ø¨Ø¹ ØªØ¬Ù…ÛŒØ¹ÛŒ (Aggregate)</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Aggregate Functions</span>
            </div>
            <div class="code-block">
<span class="comment">-- ØªØ±Ú©ÛŒØ¨ Ú†Ù†Ø¯ Ù…Ø³ÛŒØ± Ø¨Ù‡ ÛŒÚ© Ù…Ø³ÛŒØ±</span>
<span class="keyword">SELECT</span> <span class="function">tUnion</span>(trajectory) <span class="keyword">AS</span> merged_trajectory
<span class="keyword">FROM</span> vehicle_trips
<span class="keyword">WHERE</span> vehicle_id = 1;

<span class="comment">-- Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø²Ù…Ø§Ù†ÛŒ</span>
<span class="keyword">SELECT</span> <span class="function">tAvg</span>(speed) <span class="keyword">AS</span> avg_speed_over_time
<span class="keyword">FROM</span> vehicle_data;

<span class="comment">-- ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø± Ù‡Ø± Ù„Ø­Ø¸Ù‡</span>
<span class="keyword">SELECT</span> <span class="function">tCount</span>(trajectory) <span class="keyword">AS</span> vehicle_count_over_time
<span class="keyword">FROM</span> vehicles;

<span class="comment">-- Ù…Ø±Ú©Ø² Ø«Ù‚Ù„ Ø²Ù…Ø§Ù†ÛŒ</span>
<span class="keyword">SELECT</span> <span class="function">tCentroid</span>(trajectory) <span class="keyword">AS</span> centroid_over_time
<span class="keyword">FROM</span> vehicle_fleet;

<span class="comment">-- extent Ø²Ù…Ø§Ù†ÛŒ-Ù…Ú©Ø§Ù†ÛŒ</span>
<span class="keyword">SELECT</span> <span class="function">extent</span>(trajectory) <span class="keyword">AS</span> spatiotemporal_extent
<span class="keyword">FROM</span> ships;
            </div>

            <div class="tip-box">
                <h4>ğŸ’¡ Ù†Ú©ØªÙ‡ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ</h4>
                <p>
                    ØªÙˆØ§Ø¨Ø¹ ØªØ¬Ù…ÛŒØ¹ÛŒ MobilityDB Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ú†Ù†Ø¯ÛŒÙ† Ù…Ø³ÛŒØ± Ø±Ø§ ØªØ±Ú©ÛŒØ¨ Ú©Ù†Ù†Ø¯ ÛŒØ§ Ø¢Ù…Ø§Ø± 
                    Ø²Ù…Ø§Ù†ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ù†Ù†Ø¯. Ø§ÛŒÙ† ØªÙˆØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ù†Ø§ÙˆÚ¯Ø§Ù† Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ ÛŒØ§ 
                    Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ Ø¨Ø³ÛŒØ§Ø± Ù…ÙÛŒØ¯ Ù‡Ø³ØªÙ†Ø¯.
                </p>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 6: ØªÙˆØ§Ø¨Ø¹ Ù…Ú©Ø§Ù†ÛŒ -->
        <div class="slide" id="spatial">
            <div class="slide-number">6</div>
            <h2>ğŸ“ ØªÙˆØ§Ø¨Ø¹ Ù…Ú©Ø§Ù†ÛŒ Ùˆ Ù…Ø³ÛŒØ±</h2>

            <div class="info-box">
                <h4>ğŸ“– ØªÙˆØ§Ø¨Ø¹ Trajectory</h4>
                <p>
                    MobilityDB ØªÙˆØ§Ø¨Ø¹ ØªØ®ØµØµÛŒ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ù…Ø³ÛŒØ±Ù‡Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. Ø§ÛŒÙ† ØªÙˆØ§Ø¨Ø¹ 
                    Ø§Ù…Ú©Ø§Ù† Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ØŒ Ø³Ø±Ø¹ØªØŒ Ø´ØªØ§Ø¨ØŒ Ùˆ Ø³Ø§ÛŒØ± ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.
                </p>
            </div>

            <h3>ğŸ“ Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ Ùˆ Ø·ÙˆÙ„</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Distance and Length Functions</span>
            </div>
            <div class="code-block">
<span class="keyword">WITH</span> trip <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> tgeogpoint <span class="string">'[Point(51.3890 35.6892)@2024-01-15 10:00:00,
                         Point(51.4200 35.7100)@2024-01-15 10:30:00,
                         Point(51.4500 35.7300)@2024-01-15 11:00:00]'</span> <span class="keyword">AS</span> trajectory
)
<span class="keyword">SELECT</span>
    <span class="comment">-- Ø·ÙˆÙ„ Ú©Ù„ Ù…Ø³ÛŒØ± (Ù…ØªØ±)</span>
    <span class="function">length</span>(trajectory) <span class="keyword">AS</span> total_length_m,
    
    <span class="comment">-- Ø·ÙˆÙ„ ØªØ¬Ù…Ø¹ÛŒ Ø¯Ø± Ø·ÙˆÙ„ Ø²Ù…Ø§Ù†</span>
    <span class="function">cumulativeLength</span>(trajectory) <span class="keyword">AS</span> cumulative_length,
    
    <span class="comment">-- ÙØ§ØµÙ„Ù‡ Ø§Ø² Ù†Ù‚Ø·Ù‡ Ø´Ø±ÙˆØ¹ ØªØ§ Ù¾Ø§ÛŒØ§Ù† (Ø®Ø· Ù…Ø³ØªÙ‚ÛŒÙ…)</span>
    <span class="function">ST_Distance</span>(
        <span class="function">startValue</span>(trajectory)::geography,
        <span class="function">endValue</span>(trajectory)::geography
    ) <span class="keyword">AS</span> straight_distance,
    
    <span class="comment">-- Ù†Ø³Ø¨Øª Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ù…Ø³ÛŒØ±</span>
    <span class="function">length</span>(trajectory) / <span class="function">ST_Distance</span>(
        <span class="function">startValue</span>(trajectory)::geography,
        <span class="function">endValue</span>(trajectory)::geography
    ) <span class="keyword">AS</span> sinuosity
<span class="keyword">FROM</span> trip;
            </div>

            <h3>ğŸš€ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø³Ø±Ø¹Øª Ùˆ Ø´ØªØ§Ø¨</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Speed and Acceleration</span>
            </div>
            <div class="code-block">
<span class="keyword">WITH</span> trip <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> tgeogpoint <span class="string">'[Point(51.3890 35.6892)@2024-01-15 10:00:00,
                         Point(51.4200 35.7100)@2024-01-15 10:30:00,
                         Point(51.4800 35.7500)@2024-01-15 11:00:00]'</span> <span class="keyword">AS</span> trajectory
)
<span class="keyword">SELECT</span>
    <span class="comment">-- Ø³Ø±Ø¹Øª Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø·ÙˆÙ„ Ø²Ù…Ø§Ù† (Ù…ØªØ± Ø¨Ø± Ø«Ø§Ù†ÛŒÙ‡)</span>
    <span class="function">speed</span>(trajectory) <span class="keyword">AS</span> speed_mps,
    
    <span class="comment">-- Ø³Ø±Ø¹Øª Ø¨Ù‡ Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª</span>
    <span class="function">speed</span>(trajectory) * 3.6 <span class="keyword">AS</span> speed_kmh,
    
    <span class="comment">-- Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø³Ø±Ø¹Øª</span>
    <span class="function">twAvg</span>(<span class="function">speed</span>(trajectory)) <span class="keyword">AS</span> avg_speed,
    
    <span class="comment">-- Ø­Ø¯Ø§Ú©Ø«Ø± Ø³Ø±Ø¹Øª</span>
    <span class="function">maxValue</span>(<span class="function">speed</span>(trajectory)) <span class="keyword">AS</span> max_speed,
    
    <span class="comment">-- Ø³Ø±Ø¹Øª Ø¯Ø± ÛŒÚ© Ø²Ù…Ø§Ù† Ø®Ø§Øµ</span>
    <span class="function">valueAtTimestamp</span>(<span class="function">speed</span>(trajectory), <span class="string">'2024-01-15 10:15:00'</span>) <span class="keyword">AS</span> speed_at_time
<span class="keyword">FROM</span> trip;

<span class="comment">-- Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´ØªØ§Ø¨ (ØªØºÛŒÛŒØ±Ø§Øª Ø³Ø±Ø¹Øª)</span>
<span class="keyword">WITH</span> vehicle_data <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> 
        <span class="function">speed</span>(trajectory) <span class="keyword">AS</span> spd
    <span class="keyword">FROM</span> vehicles 
    <span class="keyword">WHERE</span> id = 1
)
<span class="keyword">SELECT</span>
    <span class="comment">-- ØªØºÛŒÛŒØ±Ø§Øª Ø³Ø±Ø¹Øª (Ù…Ø´ØªÙ‚)</span>
    <span class="function">derivative</span>(spd) <span class="keyword">AS</span> acceleration
<span class="keyword">FROM</span> vehicle_data;
            </div>

            <h3>ğŸ§­ Ø¬Ù‡Øª Ùˆ Ø²Ø§ÙˆÛŒÙ‡ Ø­Ø±Ú©Øª</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Direction and Bearing</span>
            </div>
            <div class="code-block">
<span class="keyword">WITH</span> trip <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> tgeompoint <span class="string">'[Point(0 0)@2024-01-15 10:00:00,
                         Point(1 1)@2024-01-15 10:30:00,
                         Point(2 0)@2024-01-15 11:00:00]'</span> <span class="keyword">AS</span> trajectory
)
<span class="keyword">SELECT</span>
    <span class="comment">-- Ø²Ø§ÙˆÛŒÙ‡ Ø­Ø±Ú©Øª (Azimuth) Ø¯Ø± Ø·ÙˆÙ„ Ø²Ù…Ø§Ù†</span>
    <span class="function">azimuth</span>(trajectory) <span class="keyword">AS</span> direction,
    
    <span class="comment">-- ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø¯Ø±Ø¬Ù‡</span>
    <span class="function">degrees</span>(<span class="function">azimuth</span>(trajectory)) <span class="keyword">AS</span> direction_degrees,
    
    <span class="comment">-- Ø¬Ù‡Øª Ø¯Ø± ÛŒÚ© Ø²Ù…Ø§Ù† Ø®Ø§Øµ</span>
    <span class="function">valueAtTimestamp</span>(
        <span class="function">degrees</span>(<span class="function">azimuth</span>(trajectory)), 
        <span class="string">'2024-01-15 10:15:00'</span>
    ) <span class="keyword">AS</span> bearing_at_time
<span class="keyword">FROM</span> trip;
            </div>

            <h3>ğŸ—ºï¸ ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù‡Ù†Ø¯Ø³Ù‡â€ŒÙ‡Ø§ÛŒ PostGIS</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Converting to PostGIS Geometries</span>
            </div>
            <div class="code-block">
<span class="keyword">WITH</span> trip <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> tgeompoint <span class="string">'SRID=4326;[Point(51.38 35.68)@2024-01-15 10:00:00,
                                   Point(51.40 35.70)@2024-01-15 10:30:00,
                                   Point(51.42 35.72)@2024-01-15 11:00:00]'</span> <span class="keyword">AS</span> trajectory
)
<span class="keyword">SELECT</span>
    <span class="comment">-- ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ LineString</span>
    <span class="function">trajectory</span>(trajectory) <span class="keyword">AS</span> linestring,
    
    <span class="comment">-- Bounding Box</span>
    <span class="function">stbox</span>(trajectory) <span class="keyword">AS</span> bounding_box,
    
    <span class="comment">-- ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù†Ù‚Ø§Ø·</span>
    <span class="function">ST_Collect</span>(<span class="function">array_agg</span>(
        (<span class="function">unnest</span>(<span class="function">instants</span>(trajectory)))::geometry
    )) <span class="keyword">AS</span> point_collection,
    
    <span class="comment">-- Convex Hull Ù…Ø³ÛŒØ±</span>
    <span class="function">ST_ConvexHull</span>(<span class="function">trajectory</span>(trajectory)) <span class="keyword">AS</span> convex_hull,
    
    <span class="comment">-- Buffer Ø§Ø·Ø±Ø§Ù Ù…Ø³ÛŒØ±</span>
    <span class="function">ST_Buffer</span>(<span class="function">trajectory</span>(trajectory)::geography, 100) <span class="keyword">AS</span> buffer_100m
<span class="keyword">FROM</span> trip;
            </div>

            <h3>ğŸ“Š Ø¬Ø¯ÙˆÙ„ ØªÙˆØ§Ø¨Ø¹ Ù…Ú©Ø§Ù†ÛŒ Ù¾Ø±Ú©Ø§Ø±Ø¨Ø±Ø¯</h3>
            <table>
                <thead>
                    <tr>
                        <th>ØªØ§Ø¨Ø¹</th>
                        <th>ØªÙˆØ¶ÛŒØ­</th>
                        <th>Ø®Ø±ÙˆØ¬ÛŒ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>trajectory(tgeompoint)</code></td>
                        <td>ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ LineString</td>
                        <td><code>geometry</code></td>
                    </tr>
                    <tr>
                        <td><code>length(tgeogpoint)</code></td>
                        <td>Ø·ÙˆÙ„ Ú©Ù„ Ù…Ø³ÛŒØ±</td>
                        <td><code>float</code> (Ù…ØªØ±)</td>
                    </tr>
                    <tr>
                        <td><code>speed(tgeogpoint)</code></td>
                        <td>Ø³Ø±Ø¹Øª Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ</td>
                        <td><code>tfloat</code></td>
                    </tr>
                    <tr>
                        <td><code>azimuth(tgeompoint)</code></td>
                        <td>Ø¬Ù‡Øª Ø­Ø±Ú©Øª</td>
                        <td><code>tfloat</code></td>
                    </tr>
                    <tr>
                        <td><code>cumulativeLength()</code></td>
                        <td>Ø·ÙˆÙ„ ØªØ¬Ù…Ø¹ÛŒ</td>
                        <td><code>tfloat</code></td>
                    </tr>
                    <tr>
                        <td><code>stbox(tgeompoint)</code></td>
                        <td>Bounding Box Ø²Ù…Ø§Ù†ÛŒ-Ù…Ú©Ø§Ù†ÛŒ</td>
                        <td><code>stbox</code></td>
                    </tr>
                    <tr>
                        <td><code>twCentroid(tgeompoint)</code></td>
                        <td>Ù…Ø±Ú©Ø² Ø«Ù‚Ù„ ÙˆØ²Ù†ÛŒ Ø²Ù…Ø§Ù†ÛŒ</td>
                        <td><code>geometry</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 7: Ø±ÙˆØ§Ø¨Ø· Ù…Ú©Ø§Ù†ÛŒ-Ø²Ù…Ø§Ù†ÛŒ -->
        <div class="slide" id="queries">
            <div class="slide-number">7</div>
            <h2>ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ù…Ú©Ø§Ù†ÛŒ-Ø²Ù…Ø§Ù†ÛŒ</h2>

            <div class="info-box">
                <h4>ğŸ“– Spatiotemporal Relationships</h4>
                <p>
                    MobilityDB Ø§Ù…Ú©Ø§Ù† Ø¨Ø±Ø±Ø³ÛŒ Ø±ÙˆØ§Ø¨Ø· Ø¨ÛŒÙ† Ø§Ø´ÛŒØ§Ø¡ Ù…ØªØ­Ø±Ú© Ø±Ø§ Ø¯Ø± Ù‡Ø± Ø¯Ùˆ Ø¨Ø¹Ø¯ Ù…Ú©Ø§Ù† Ùˆ Ø²Ù…Ø§Ù† 
                    ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§ÛŒÙ† Ø±ÙˆØ§Ø¨Ø· Ø´Ø§Ù…Ù„ ØªÙ‚Ø§Ø·Ø¹ØŒ Ù†Ø²Ø¯ÛŒÚ©ÛŒØŒ Ùˆ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ù‡Ø³ØªÙ†Ø¯.
                </p>
            </div>

            <h3>ğŸ” Ø±ÙˆØ§Ø¨Ø· ØªÙˆÙ¾ÙˆÙ„ÙˆÚ˜ÛŒÚ©ÛŒ</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Topological Relationships</span>
            </div>
            <div class="code-block">
<span class="comment">-- ØªØ¹Ø±ÛŒÙ Ø¯Ùˆ Ù…Ø³ÛŒØ± Ù†Ù…ÙˆÙ†Ù‡</span>
<span class="keyword">WITH</span> trips <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> 
        tgeompoint <span class="string">'[Point(0 0)@2024-01-15 10:00:00, Point(10 10)@2024-01-15 11:00:00]'</span> <span class="keyword">AS</span> trip1,
        tgeompoint <span class="string">'[Point(5 0)@2024-01-15 10:00:00, Point(5 10)@2024-01-15 11:00:00]'</span> <span class="keyword">AS</span> trip2,
        <span class="function">ST_MakeEnvelope</span>(0, 0, 8, 8, 4326) <span class="keyword">AS</span> region
)
<span class="keyword">SELECT</span>
    <span class="comment">-- Ø¢ÛŒØ§ Ø¯Ùˆ Ù…Ø³ÛŒØ± ØªÙ‚Ø§Ø·Ø¹ Ø¯Ø§Ø±Ù†Ø¯ØŸ</span>
    <span class="function">eIntersects</span>(trip1, trip2) <span class="keyword">AS</span> ever_intersects,
    
    <span class="comment">-- Ø¢ÛŒØ§ Ù‡Ù…ÛŒØ´Ù‡ ØªÙ‚Ø§Ø·Ø¹ Ø¯Ø§Ø±Ù†Ø¯ØŸ</span>
    <span class="function">aIntersects</span>(trip1, trip2) <span class="keyword">AS</span> always_intersects,
    
    <span class="comment">-- Ø¢ÛŒØ§ Ù…Ø³ÛŒØ± 1 ÙˆØ§Ø±Ø¯ Ù…Ù†Ø·Ù‚Ù‡ Ø´Ø¯Ù‡ØŸ</span>
    <span class="function">eIntersects</span>(trip1, region) <span class="keyword">AS</span> enters_region,
    
    <span class="comment">-- Ø¢ÛŒØ§ Ù…Ø³ÛŒØ± 1 Ù‡Ù…ÛŒØ´Ù‡ Ø¯Ø± Ù…Ù†Ø·Ù‚Ù‡ Ø¨ÙˆØ¯Ù‡ØŸ</span>
    <span class="function">aContains</span>(region, trip1) <span class="keyword">AS</span> always_in_region,
    
    <span class="comment">-- Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ù…Ø³ÛŒØ± Ø¯Ø± Ù…Ù†Ø·Ù‚Ù‡ Ø¨ÙˆØ¯Ù‡</span>
    <span class="function">atGeometry</span>(trip1, region) <span class="keyword">AS</span> time_in_region
<span class="keyword">FROM</span> trips;
            </div>

            <h3>ğŸ“ ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ø§Ø´ÛŒØ§Ø¡ Ù…ØªØ­Ø±Ú©</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Distance Between Moving Objects</span>
            </div>
            <div class="code-block">
<span class="keyword">WITH</span> vehicles <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> 
        tgeogpoint <span class="string">'[Point(51.38 35.68)@2024-01-15 10:00:00, 
                     Point(51.42 35.72)@2024-01-15 11:00:00]'</span> <span class="keyword">AS</span> car1,
        tgeogpoint <span class="string">'[Point(51.40 35.68)@2024-01-15 10:00:00, 
                     Point(51.40 35.75)@2024-01-15 11:00:00]'</span> <span class="keyword">AS</span> car2
)
<span class="keyword">SELECT</span>
    <span class="comment">-- ÙØ§ØµÙ„Ù‡ Ø¯Ø± Ø·ÙˆÙ„ Ø²Ù…Ø§Ù†</span>
    <span class="function">distance</span>(car1, car2) <span class="keyword">AS</span> distance_over_time,
    
    <span class="comment">-- Ø­Ø¯Ø§Ù‚Ù„ ÙØ§ØµÙ„Ù‡</span>
    <span class="function">minValue</span>(<span class="function">distance</span>(car1, car2)) <span class="keyword">AS</span> min_distance,
    
    <span class="comment">-- Ø²Ù…Ø§Ù† Ø­Ø¯Ø§Ù‚Ù„ ÙØ§ØµÙ„Ù‡</span>
    <span class="function">minTimestamp</span>(<span class="function">distance</span>(car1, car2)) <span class="keyword">AS</span> time_of_closest,
    
    <span class="comment">-- Ù†Ù‚Ø·Ù‡ Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† ÙØ§ØµÙ„Ù‡</span>
    <span class="function">nearestApproachInstant</span>(car1, car2) <span class="keyword">AS</span> nearest_approach,
    
    <span class="comment">-- ÙØ§ØµÙ„Ù‡ Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ù†Ù‚Ø·Ù‡</span>
    <span class="function">nearestApproachDistance</span>(car1, car2) <span class="keyword">AS</span> nad,
    
    <span class="comment">-- Ù…Ø³ÛŒØ± Ú©ÙˆØªØ§Ù‡â€ŒØªØ±ÛŒÙ† ÙØ§ØµÙ„Ù‡</span>
    <span class="function">shortestLine</span>(car1, car2) <span class="keyword">AS</span> shortest_line
<span class="keyword">FROM</span> vehicles;
            </div>

            <h3>âš ï¸ ØªØ´Ø®ÛŒØµ Ù†Ø²Ø¯ÛŒÚ©ÛŒ Ùˆ Ù‡Ø´Ø¯Ø§Ø±</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Proximity Detection</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ù‡ Ù‡Ù… Ù†Ø²Ø¯ÛŒÚ© Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">SELECT</span> 
    v1.plate_number <span class="keyword">AS</span> vehicle1,
    v2.plate_number <span class="keyword">AS</span> vehicle2,
    <span class="function">nearestApproachDistance</span>(v1.trajectory, v2.trajectory) <span class="keyword">AS</span> min_distance,
    <span class="function">nearestApproachInstant</span>(v1.trajectory, v2.trajectory) <span class="keyword">AS</span> when_closest
<span class="keyword">FROM</span> vehicles v1
<span class="keyword">JOIN</span> vehicles v2 <span class="keyword">ON</span> v1.id < v2.id
<span class="keyword">WHERE</span> 
    <span class="comment">-- ÙÙ‚Ø· Ø§Ú¯Ø± Ø¯Ø± Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ù…Ø´ØªØ±Ú© Ù‡Ø³ØªÙ†Ø¯</span>
    <span class="function">timespan</span>(v1.trajectory) && <span class="function">timespan</span>(v2.trajectory)
    <span class="comment">-- Ùˆ ÙØ§ØµÙ„Ù‡ Ú©Ù…ØªØ± Ø§Ø² 50 Ù…ØªØ± Ø¯Ø§Ø´ØªÙ‡â€ŒØ§Ù†Ø¯</span>
    <span class="keyword">AND</span> <span class="function">eDwithin</span>(v1.trajectory, v2.trajectory, 50)
<span class="keyword">ORDER BY</span> min_distance;

<span class="comment">-- Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ùˆ Ø®ÙˆØ¯Ø±Ùˆ Ú©Ù…ØªØ± Ø§Ø² 100 Ù…ØªØ± ÙØ§ØµÙ„Ù‡ Ø¯Ø§Ø´ØªÙ‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">SELECT</span> 
    v1.plate_number,
    v2.plate_number,
    <span class="function">tDwithin</span>(v1.trajectory, v2.trajectory, 100) <span class="keyword">AS</span> times_within_100m
<span class="keyword">FROM</span> vehicles v1, vehicles v2
<span class="keyword">WHERE</span> v1.id < v2.id
    <span class="keyword">AND</span> <span class="function">eDwithin</span>(v1.trajectory, v2.trajectory, 100);
            </div>

            <h3>ğŸ  ÙˆØ±ÙˆØ¯ Ùˆ Ø®Ø±ÙˆØ¬ Ø§Ø² Ù…Ù†Ø§Ø·Ù‚</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span></div>
            <div class="code-block">
<span class="comment">-- ØªØ¹Ø±ÛŒÙ Ù…Ù†Ø§Ø·Ù‚ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ</span>
<span class="keyword">CREATE TABLE</span> zones (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    name <span class="type">VARCHAR</span>(100),
    geom <span class="type">geometry</span>(Polygon, 4326)
);

<span class="keyword">INSERT INTO</span> zones (name, geom) <span class="keyword">VALUES</span>
(<span class="string">'Ù…Ù†Ø·Ù‚Ù‡ A'</span>, <span class="function">ST_MakeEnvelope</span>(51.35, 35.65, 51.40, 35.70, 4326)),
(<span class="string">'Ù…Ù†Ø·Ù‚Ù‡ B'</span>, <span class="function">ST_MakeEnvelope</span>(51.40, 35.70, 51.45, 35.75, 4326));

<span class="comment">-- Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø²Ù…Ø§Ù† ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù…Ù†Ø·Ù‚Ù‡</span>
<span class="keyword">SELECT</span> 
    v.plate_number,
    z.name <span class="keyword">AS</span> zone_name,
    <span class="function">startTimestamp</span>(<span class="function">atGeometry</span>(v.trajectory, z.geom)) <span class="keyword">AS</span> entry_time,
    <span class="function">endTimestamp</span>(<span class="function">atGeometry</span>(v.trajectory, z.geom)) <span class="keyword">AS</span> exit_time,
    <span class="function">duration</span>(<span class="function">atGeometry</span>(v.trajectory, z.geom)) <span class="keyword">AS</span> time_in_zone
<span class="keyword">FROM</span> vehicles v, zones z
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(v.trajectory, z.geom);

<span class="comment">-- Ø´Ù…Ø§Ø±Ø´ ØªØ¹Ø¯Ø§Ø¯ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù‡Ø± Ù…Ù†Ø·Ù‚Ù‡</span>
<span class="keyword">SELECT</span> 
    z.name,
    <span class="function">COUNT</span>(*) <span class="keyword">AS</span> entry_count
<span class="keyword">FROM</span> vehicles v, zones z
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(v.trajectory, z.geom)
<span class="keyword">GROUP BY</span> z.name
<span class="keyword">ORDER BY</span> entry_count <span class="keyword">DESC</span>;

<span class="comment">-- Ù…Ø³ÛŒØ± Ø¯Ø§Ø®Ù„ ÛŒÚ© Ù…Ù†Ø·Ù‚Ù‡ Ø®Ø§Øµ</span>
<span class="keyword">SELECT</span> 
    v.plate_number,
    <span class="function">atGeometry</span>(v.trajectory, z.geom) <span class="keyword">AS</span> trajectory_in_zone
<span class="keyword">FROM</span> vehicles v, zones z
<span class="keyword">WHERE</span> z.name = <span class="string">'Ù…Ù†Ø·Ù‚Ù‡ A'</span>
    <span class="keyword">AND</span> <span class="function">eIntersects</span>(v.trajectory, z.geom);
            </div>

            <h3>ğŸ“Š Ø¬Ø¯ÙˆÙ„ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ø±Ø§Ø¨Ø·Ù‡â€ŒØ§ÛŒ</h3>
            <table>
                <thead>
                    <tr>
                        <th>Ø¹Ù…Ù„Ú¯Ø±</th>
                        <th>ØªÙˆØ¶ÛŒØ­</th>
                        <th>Ù¾ÛŒØ´ÙˆÙ†Ø¯</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>eIntersects</code></td>
                        <td>Ø¢ÛŒØ§ Ù‡Ø±Ú¯Ø² ØªÙ‚Ø§Ø·Ø¹ Ø¯Ø§Ø±Ù†Ø¯ØŸ</td>
                        <td>e = ever (Ù‡Ø±Ú¯Ø²)</td>
                    </tr>
                    <tr>
                        <td><code>aIntersects</code></td>
                        <td>Ø¢ÛŒØ§ Ù‡Ù…ÛŒØ´Ù‡ ØªÙ‚Ø§Ø·Ø¹ Ø¯Ø§Ø±Ù†Ø¯ØŸ</td>
                        <td>a = always (Ù‡Ù…ÛŒØ´Ù‡)</td>
                    </tr>
                    <tr>
                        <td><code>eContains</code></td>
                        <td>Ø¢ÛŒØ§ Ù‡Ø±Ú¯Ø² Ø´Ø§Ù…Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ</td>
                        <td>e = ever</td>
                    </tr>
                    <tr>
                        <td><code>eDwithin</code></td>
                        <td>Ø¢ÛŒØ§ Ù‡Ø±Ú¯Ø² Ø¯Ø± ÙØ§ØµÙ„Ù‡ X Ø¨ÙˆØ¯Ù‡ØŸ</td>
                        <td>e = ever</td>
                    </tr>
                    <tr>
                        <td><code>tIntersects</code></td>
                        <td>Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ ØªÙ‚Ø§Ø·Ø¹</td>
                        <td>t = temporal (Ø²Ù…Ø§Ù†ÛŒ)</td>
                    </tr>
                    <tr>
                        <td><code>tDwithin</code></td>
                        <td>Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯Ø± ÙØ§ØµÙ„Ù‡ X</td>
                        <td>t = temporal</td>
                    </tr>
                </tbody>
            </table>

            <div class="tip-box">
                <h4>ğŸ’¡ Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…</h4>
                <p>
                    <strong>Ù¾ÛŒØ´ÙˆÙ†Ø¯ e (ever):</strong> Ø¢ÛŒØ§ Ø´Ø±Ø· Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø¨Ø§Ø± Ø¨Ø±Ù‚Ø±Ø§Ø± Ø¨ÙˆØ¯Ù‡ØŸ â†’ Ø®Ø±ÙˆØ¬ÛŒ: boolean<br>
                    <strong>Ù¾ÛŒØ´ÙˆÙ†Ø¯ a (always):</strong> Ø¢ÛŒØ§ Ø´Ø±Ø· Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ø±Ù‚Ø±Ø§Ø± Ø¨ÙˆØ¯Ù‡ØŸ â†’ Ø®Ø±ÙˆØ¬ÛŒ: boolean<br>
                    <strong>Ù¾ÛŒØ´ÙˆÙ†Ø¯ t (temporal):</strong> Ú†Ù‡ Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ø´Ø±Ø· Ø¨Ø±Ù‚Ø±Ø§Ø± Ø¨ÙˆØ¯Ù‡ØŸ â†’ Ø®Ø±ÙˆØ¬ÛŒ: tbool
                </p>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 8: Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ -->
        <div class="slide" id="functions">
            <div class="slide-number">8</div>
            <h2>âš¡ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h2>

            <div class="info-box">
                <h4>ğŸ“– Ø§Ù‡Ù…ÛŒØª Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¯Ø± MobilityDB</h4>
                <p>
                    Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ø±Ú©ÙˆØ±Ø¯ Ø­Ø±Ú©ØªÛŒØŒ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø§Ø³Ø¨ Ø¶Ø±ÙˆØ±ÛŒ Ù‡Ø³ØªÙ†Ø¯. 
                    MobilityDB Ø§Ø² Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ GiST Ùˆ SP-GiST Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ 
                    Ø²Ù…Ø§Ù†ÛŒ-Ù…Ú©Ø§Ù†ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </p>
            </div>

            <h3>ğŸ—‚ï¸ Ø§Ù†ÙˆØ§Ø¹ Ø§ÛŒÙ†Ø¯Ú©Ø³</h3>

            <div class="grid-3">
                <div class="card">
                    <div class="icon">ğŸ“¦</div>
                    <h4>GiST Index</h4>
                    <p>Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¹Ù…ÙˆÙ…ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ-Ø²Ù…Ø§Ù†ÛŒ</p>
                    <p><small>Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ: ØªÙ‚Ø§Ø·Ø¹ØŒ ÙØ§ØµÙ„Ù‡ØŒ Ù…Ø­Ø¯ÙˆØ¯Ù‡</small></p>
                </div>
                <div class="card">
                    <div class="icon">ğŸŒ³</div>
                    <h4>SP-GiST Index</h4>
                    <p>Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¯Ø±Ø®ØªÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù‚Ø·Ù‡â€ŒØ§ÛŒ</p>
                    <p><small>Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ: Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†Ù‚Ø·Ù‡â€ŒØ§ÛŒ</small></p>
                </div>
                <div class="card">
                    <div class="icon">ğŸ”¤</div>
                    <h4>B-tree Index</h4>
                    <p>Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ PostgreSQL</p>
                    <p><small>Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ: IDØŒ timestamp</small></p>
                </div>
            </div>

            <h3>ğŸ“ Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Creating Indexes</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ GiST Ø±ÙˆÛŒ Ù…Ø³ÛŒØ± (Ù¾Ø±Ú©Ø§Ø±Ø¨Ø±Ø¯ØªØ±ÛŒÙ†)</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_traj 
    <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> GiST(trajectory);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ GiST Ø±ÙˆÛŒ Ø³Ø±Ø¹Øª</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_speed 
    <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> GiST(speed);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø±ÙˆÛŒ Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ù…Ø³ÛŒØ±</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_period 
    <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> GiST(<span class="function">period</span>(trajectory));

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø±ÙˆÛŒ Bounding Box</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_stbox 
    <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> GiST(<span class="function">stbox</span>(trajectory));

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ ØªØ±Ú©ÛŒØ¨ÛŒ B-tree Ø¨Ø±Ø§ÛŒ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒ</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_plate 
    <span class="keyword">ON</span> vehicles(plate_number);

<span class="keyword">CREATE INDEX</span> idx_vehicles_type 
    <span class="keyword">ON</span> vehicles(vehicle_type);

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯</span>
<span class="keyword">SELECT</span> indexname, indexdef 
<span class="keyword">FROM</span> pg_indexes 
<span class="keyword">WHERE</span> tablename = <span class="string">'vehicles'</span>;
            </div>

            <h3>ğŸ” Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ†Ø¯Ú©Ø³</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Query Analysis</span>
            </div>
            <div class="code-block">
<span class="comment">-- ØªØ­Ù„ÛŒÙ„ query Ø¨Ø§ EXPLAIN ANALYZE</span>
<span class="keyword">EXPLAIN ANALYZE</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> vehicles
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(
    trajectory, 
    <span class="function">ST_MakeEnvelope</span>(51.35, 35.65, 51.45, 35.75, 4326)
);

<span class="comment">-- Ù†Ù…ÙˆÙ†Ù‡ Ø®Ø±ÙˆØ¬ÛŒ:</span>
<span class="comment">-- Bitmap Heap Scan on vehicles (cost=4.29..12.76 rows=2 width=100)</span>
<span class="comment">--   Recheck Cond: (trajectory && 'STBOX ...')</span>
<span class="comment">--   ->  Bitmap Index Scan on idx_vehicles_traj (cost=0.00..4.29 rows=2 width=0)</span>
<span class="comment">--         Index Cond: (trajectory && 'STBOX ...')</span>
<span class="comment">-- Planning Time: 0.156 ms</span>
<span class="comment">-- Execution Time: 0.089 ms</span>

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</span>
<span class="keyword">SELECT</span> 
    indexname,
    <span class="function">pg_size_pretty</span>(<span class="function">pg_relation_size</span>(indexname::regclass)) <span class="keyword">AS</span> size
<span class="keyword">FROM</span> pg_indexes
<span class="keyword">WHERE</span> tablename = <span class="string">'vehicles'</span>;
            </div>

            <h3>âš™ï¸ Ù†Ú©Ø§Øª Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h3>

            <div class="grid-2">
                <div class="feature-card">
                    <h4>âœ… Ø¨Ù‡ØªØ±ÛŒÙ† Ø´ÛŒÙˆÙ‡â€ŒÙ‡Ø§</h4>
                    <ul>
                        <li>Ù‡Ù…ÛŒØ´Ù‡ Ø±ÙˆÛŒ <code>trajectory</code> Ø§ÛŒÙ†Ø¯Ú©Ø³ GiST Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                        <li>Ø§Ø² <code>stbox</code> Ø¨Ø±Ø§ÛŒ ÙÛŒÙ„ØªØ± Ø§ÙˆÙ„ÛŒÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø²Ù…Ø§Ù† Ù¾Ø§Ø±ØªÛŒØ´Ù† Ú©Ù†ÛŒØ¯</li>
                        <li>Ø§Ø² <code>ANALYZE</code> Ø¨Ø¹Ø¯ Ø§Ø² Ø¯Ø±Ø¬ Ø¯Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø­Ø§ÙØ¸Ù‡ <code>work_mem</code> Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ù‡ÛŒØ¯</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>âŒ Ø§Ø´ØªØ¨Ø§Ù‡Ø§Øª Ø±Ø§ÛŒØ¬</h4>
                    <ul>
                        <li>ÙØ±Ø§Ù…ÙˆØ´ Ú©Ø±Ø¯Ù† Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø±ÙˆÛŒ trajectory</li>
                        <li>Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ú©Ø±Ø¯Ù† Ø§Ø² ÙÛŒÙ„ØªØ± Ù…Ú©Ø§Ù†ÛŒ Ø§ÙˆÙ„ÛŒÙ‡</li>
                        <li>Ø°Ø®ÛŒØ±Ù‡ Ù†Ù‚Ø§Ø· Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø¨Ù‡ Ø¬Ø§ÛŒ trajectory</li>
                        <li>Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø²Ù…Ø§Ù†ÛŒ</li>
                        <li>Ø¹Ø¯Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <code>LIMIT</code></li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ“Š Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø²Ù…Ø§Ù†ÛŒ</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Time-based Partitioning</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÙˆÙ„ Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø´Ø¯Ù‡</span>
<span class="keyword">CREATE TABLE</span> vehicle_trips (
    id <span class="type">SERIAL</span>,
    vehicle_id <span class="type">INTEGER</span>,
    trajectory <span class="type">tgeompoint</span>,
    trip_date <span class="type">DATE</span>
) <span class="keyword">PARTITION BY RANGE</span> (trip_date);

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù…Ø§Ù‡</span>
<span class="keyword">CREATE TABLE</span> vehicle_trips_2024_01 
    <span class="keyword">PARTITION OF</span> vehicle_trips
    <span class="keyword">FOR VALUES FROM</span> (<span class="string">'2024-01-01'</span>) <span class="keyword">TO</span> (<span class="string">'2024-02-01'</span>);

<span class="keyword">CREATE TABLE</span> vehicle_trips_2024_02 
    <span class="keyword">PARTITION OF</span> vehicle_trips
    <span class="keyword">FOR VALUES FROM</span> (<span class="string">'2024-02-01'</span>) <span class="keyword">TO</span> (<span class="string">'2024-03-01'</span>);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø±ÙˆÛŒ Ù‡Ø± Ù¾Ø§Ø±ØªÛŒØ´Ù†</span>
<span class="keyword">CREATE INDEX</span> idx_trips_2024_01_traj 
    <span class="keyword">ON</span> vehicle_trips_2024_01 <span class="keyword">USING</span> GiST(trajectory);

<span class="keyword">CREATE INDEX</span> idx_trips_2024_02_traj 
    <span class="keyword">ON</span> vehicle_trips_2024_02 <span class="keyword">USING</span> GiST(trajectory);
            </div>

            <div class="warning-box">
                <h4>âš ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª PostgreSQL</h4>
                <p>Ø¨Ø±Ø§ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ù‡ØªØ±ØŒ Ø§ÛŒÙ† ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ø§ Ø¯Ø± <code>postgresql.conf</code> Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†ÛŒØ¯:</p>
                <div class="code-block" style="margin-top: 15px;">
<span class="comment"># Ø§ÙØ²Ø§ÛŒØ´ Ø­Ø§ÙØ¸Ù‡</span>
shared_buffers = 4GB
work_mem = 256MB
maintenance_work_mem = 1GB

<span class="comment"># ØªÙ†Ø¸ÛŒÙ…Ø§Øª planner</span>
effective_cache_size = 12GB
random_page_cost = 1.1

<span class="comment"># Ù…ÙˆØ§Ø²ÛŒâ€ŒØ³Ø§Ø²ÛŒ</span>
max_parallel_workers_per_gather = 4
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 9: Ú©Ø§Ø± Ø¨Ø§ Python -->
        <div class="slide" id="python">
            <div class="slide-number">9</div>
            <h2>ğŸ Ú©Ø§Ø± Ø¨Ø§ Python</h2>

            <div class="info-box">
                <h4>ğŸ“– PyMEOS Ùˆ Python</h4>
                <p>
                    <strong>PyMEOS</strong> Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Python Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ MobilityDB Ø§Ø³Øª. 
                    Ø§ÛŒÙ† Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø§Ù…Ú©Ø§Ù† Ø§ÛŒØ¬Ø§Ø¯ØŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ØŒ Ùˆ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ Ø¯Ø± Python 
                    Ø±Ø§ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </p>
            </div>

            <h3>ğŸ“¦ Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Terminal - Installation</span>
            </div>
            <div class="code-block">
<span class="comment"># Ù†ØµØ¨ PyMEOS</span>
pip install pymeos

<span class="comment"># Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù…Ú©ÛŒ</span>
pip install psycopg2-binary  <span class="comment"># Ø§ØªØµØ§Ù„ Ø¨Ù‡ PostgreSQL</span>
pip install geopandas        <span class="comment"># Ú©Ø§Ø± Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ</span>
pip install movingpandas     <span class="comment"># ØªØ­Ù„ÛŒÙ„ Ù…Ø³ÛŒØ±</span>
pip install folium           <span class="comment"># Ù†Ù‚Ø´Ù‡ ØªØ¹Ø§Ù…Ù„ÛŒ</span>
pip install matplotlib       <span class="comment"># Ø±Ø³Ù… Ù†Ù…ÙˆØ¯Ø§Ø±</span>
            </div>

            <h3>ğŸš€ Ø´Ø±ÙˆØ¹ Ú©Ø§Ø± Ø¨Ø§ PyMEOS</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Python - PyMEOS Basics</span>
            </div>
            <div class="code-block">
<span class="keyword">from</span> pymeos <span class="keyword">import</span> pymeos_initialize, pymeos_finalize
<span class="keyword">from</span> pymeos.main <span class="keyword">import</span> TGeomPointInst, TGeomPointSeq, TFloatInst, TFloatSeq
<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timedelta

<span class="comment"># Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ PyMEOS (Ø§Ù„Ø²Ø§Ù…ÛŒ)</span>
pymeos_initialize()

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ù†Ù‚Ø·Ù‡ Ø²Ù…Ø§Ù†ÛŒ (Instant)</span>
point1 = TGeomPointInst(<span class="string">'Point(51.3890 35.6892)@2024-01-15 10:00:00'</span>)
print(<span class="string">f"Ù†Ù‚Ø·Ù‡: </span>{point1.value()}<span class="string">"</span>)
print(<span class="string">f"Ø²Ù…Ø§Ù†: </span>{point1.timestamp()}<span class="string">"</span>)

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ù…Ø³ÛŒØ± (Sequence)</span>
trajectory = TGeomPointSeq(<span class="string">'''[
    Point(51.3890 35.6892)@2024-01-15 10:00:00,
    Point(51.4000 35.7000)@2024-01-15 10:30:00,
    Point(51.4200 35.7100)@2024-01-15 11:00:00
]'''</span>)

<span class="comment"># Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø³ÛŒØ±</span>
print(<span class="string">f"Ù…Ø¯Øª: </span>{trajectory.duration()}<span class="string">"</span>)
print(<span class="string">f"ØªØ¹Ø¯Ø§Ø¯ Ù†Ù‚Ø§Ø·: </span>{trajectory.num_instants()}<span class="string">"</span>)
print(<span class="string">f"Ø´Ø±ÙˆØ¹: </span>{trajectory.start_timestamp()}<span class="string">"</span>)
print(<span class="string">f"Ù¾Ø§ÛŒØ§Ù†: </span>{trajectory.end_timestamp()}<span class="string">"</span>)

<span class="comment"># Ù¾Ø§ÛŒØ§Ù† Ú©Ø§Ø± Ø¨Ø§ PyMEOS</span>
pymeos_finalize()
            </div>

            <h3>ğŸ—„ï¸ Ø§ØªØµØ§Ù„ Ø¨Ù‡ MobilityDB</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Python - Database Connection</span>
            </div>
            <div class="code-block">
<span class="keyword">import</span> psycopg2
<span class="keyword">from</span> pymeos <span class="keyword">import</span> pymeos_initialize
<span class="keyword">from</span> pymeos.db.psycopg2 <span class="keyword">import</span> MobilityDB

pymeos_initialize()

<span class="comment"># Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
conn = psycopg2.connect(
    host=<span class="string">"localhost"</span>,
    database=<span class="string">"mobility"</span>,
    user=<span class="string">"mobility_user"</span>,
    password=<span class="string">"mobility_pass"</span>
)

<span class="comment"># Ø«Ø¨Øª type handlers Ø¨Ø±Ø§ÛŒ MobilityDB</span>
MobilityDB.register(conn)

<span class="comment"># Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ</span>
cursor = conn.cursor()
cursor.execute(<span class="string">"""
    SELECT plate_number, trajectory 
    FROM vehicles 
    WHERE eIntersects(
        trajectory, 
        ST_MakeEnvelope(51.35, 35.65, 51.45, 35.75, 4326)
    )
    LIMIT 10
"""</span>)

<span class="comment"># Ø¯Ø±ÛŒØ§ÙØª Ù†ØªØ§ÛŒØ¬ Ø¨Ù‡ ØµÙˆØ±Øª Ø§Ø´ÛŒØ§Ø¡ Python</span>
<span class="keyword">for</span> row <span class="keyword">in</span> cursor.fetchall():
    plate, traj = row
    print(<span class="string">f"Ø®ÙˆØ¯Ø±Ùˆ: </span>{plate}<span class="string">"</span>)
    print(<span class="string">f"  Ø·ÙˆÙ„ Ù…Ø³ÛŒØ±: </span>{traj.length():.2f}<span class="string"> Ù…ØªØ±"</span>)
    print(<span class="string">f"  Ù…Ø¯Øª: </span>{traj.duration()}<span class="string">"</span>)

cursor.close()
conn.close()
            </div>

            <h3>ğŸ“Š ØªØ­Ù„ÛŒÙ„ Ø¨Ø§ MovingPandas</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Python - MovingPandas Analysis</span>
            </div>
            <div class="code-block">
<span class="keyword">import</span> pandas <span class="keyword">as</span> pd
<span class="keyword">import</span> geopandas <span class="keyword">as</span> gpd
<span class="keyword">import</span> movingpandas <span class="keyword">as</span> mpd
<span class="keyword">from</span> shapely.geometry <span class="keyword">import</span> Point
<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÙˆÙ†Ù‡</span>
data = {
    <span class="string">'timestamp'</span>: [
        datetime(2024, 1, 15, 10, 0),
        datetime(2024, 1, 15, 10, 15),
        datetime(2024, 1, 15, 10, 30),
        datetime(2024, 1, 15, 10, 45),
        datetime(2024, 1, 15, 11, 0),
    ],
    <span class="string">'latitude'</span>: [35.6892, 35.7000, 35.7100, 35.7200, 35.7300],
    <span class="string">'longitude'</span>: [51.3890, 51.4000, 51.4100, 51.4200, 51.4300],
    <span class="string">'vehicle_id'</span>: [<span class="string">'A'</span>] * 5
}

df = pd.DataFrame(data)

<span class="comment"># ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ GeoDataFrame</span>
gdf = gpd.GeoDataFrame(
    df,
    geometry=gpd.points_from_xy(df.longitude, df.latitude),
    crs=<span class="string">"EPSG:4326"</span>
)
gdf = gdf.set_index(<span class="string">'timestamp'</span>)

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Trajectory</span>
traj = mpd.Trajectory(gdf, traj_id=<span class="string">'vehicle_A'</span>)

<span class="comment"># ØªØ­Ù„ÛŒÙ„ Ù…Ø³ÛŒØ±</span>
print(<span class="string">f"Ø·ÙˆÙ„ Ù…Ø³ÛŒØ±: </span>{traj.get_length():.2f}<span class="string"> Ù…ØªØ±"</span>)
print(<span class="string">f"Ù…Ø¯Øª: </span>{traj.get_duration()}<span class="string">"</span>)
print(<span class="string">f"Ø³Ø±Ø¹Øª Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†: </span>{traj.get_length() / traj.get_duration().total_seconds():.2f}<span class="string"> m/s"</span>)

<span class="comment"># Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø±Ø¹Øª Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§</span>
traj.add_speed(overwrite=True)
print(traj.df[<span class="string">'speed'</span>])

<span class="comment"># ØªÙ‚Ø³ÛŒÙ… Ù…Ø³ÛŒØ± Ø¨Ø± Ø§Ø³Ø§Ø³ ØªÙˆÙ‚Ù</span>
stops = mpd.TrajectoryStopDetector(traj)
stop_points = stops.get_stop_points(
    min_duration=timedelta(minutes=5),
    max_diameter=100
)
            </div>

            <h3>ğŸ—ºï¸ Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡ Ø¨Ø§ Folium</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Python - Map Visualization</span>
            </div>
            <div class="code-block">
<span class="keyword">import</span> folium
<span class="keyword">from</span> folium.plugins <span class="keyword">import</span> TimestampedGeoJson

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù‚Ø´Ù‡ Ù¾Ø§ÛŒÙ‡</span>
m = folium.Map(
    location=[35.7, 51.4],
    zoom_start=12,
    tiles=<span class="string">'cartodbpositron'</span>
)

<span class="comment"># Ø±Ø³Ù… Ù…Ø³ÛŒØ± Ø¨Ù‡ ØµÙˆØ±Øª Ø®Ø·</span>
trajectory_coords = [
    [35.6892, 51.3890],
    [35.7000, 51.4000],
    [35.7100, 51.4200],
    [35.7200, 51.4400]
]

folium.PolyLine(
    trajectory_coords,
    color=<span class="string">'blue'</span>,
    weight=3,
    opacity=0.8,
    popup=<span class="string">'Ù…Ø³ÛŒØ± Ø®ÙˆØ¯Ø±Ùˆ A'</span>
).add_to(m)

<span class="comment"># Ø§ÙØ²ÙˆØ¯Ù† Ù†Ù‚Ø§Ø· Ø´Ø±ÙˆØ¹ Ùˆ Ù¾Ø§ÛŒØ§Ù†</span>
folium.Marker(
    trajectory_coords[0],
    popup=<span class="string">'Ø´Ø±ÙˆØ¹'</span>,
    icon=folium.Icon(color=<span class="string">'green'</span>, icon=<span class="string">'play'</span>)
).add_to(m)

folium.Marker(
    trajectory_coords[-1],
    popup=<span class="string">'Ù¾Ø§ÛŒØ§Ù†'</span>,
    icon=folium.Icon(color=<span class="string">'red'</span>, icon=<span class="string">'stop'</span>)
).add_to(m)

<span class="comment"># Ø°Ø®ÛŒØ±Ù‡ Ù†Ù‚Ø´Ù‡</span>
m.save(<span class="string">'trajectory_map.html'</span>)
print(<span class="string">"Ù†Ù‚Ø´Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯: trajectory_```html
</div>
            <div class="code-block">
<span class="comment">-- ØªØ¹Ø±ÛŒÙ Ù…Ù†Ø§Ø·Ù‚ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ</span>
<span class="keyword">CREATE TABLE</span> geofences (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    name <span class="type">VARCHAR</span>(100),
    geom <span class="type">geometry</span>(Polygon, 4326)
);

<span class="comment">-- Ø¯Ø±Ø¬ ÛŒÚ© Ù…Ù†Ø·Ù‚Ù‡ (Ù…Ø­Ø¯ÙˆØ¯Ù‡ ØªÙ‡Ø±Ø§Ù†)</span>
<span class="keyword">INSERT INTO</span> geofences (name, geom) <span class="keyword">VALUES</span> (
    <span class="string">'ØªÙ‡Ø±Ø§Ù†'</span>,
    <span class="function">ST_MakeEnvelope</span>(51.2, 35.5, 51.6, 35.9, 4326)
);

<span class="comment">-- Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒÛŒ Ú©Ù‡ ÙˆØ§Ø±Ø¯ Ù…Ù†Ø·Ù‚Ù‡ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">SELECT</span> 
    v.plate_number,
    g.name <span class="keyword">AS</span> zone_name,
    <span class="function">atGeometry</span>(v.trajectory, g.geom) <span class="keyword">AS</span> time_in_zone,
    <span class="function">duration</span>(<span class="function">atGeometry</span>(v.trajectory, g.geom)) <span class="keyword">AS</span> duration_in_zone
<span class="keyword">FROM</span> vehicles v, geofences g
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(v.trajectory, g.geom);

<span class="comment">-- Ø²Ù…Ø§Ù† ÙˆØ±ÙˆØ¯ Ùˆ Ø®Ø±ÙˆØ¬ Ø§Ø² Ù…Ù†Ø·Ù‚Ù‡</span>
<span class="keyword">WITH</span> zone_visits <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> 
        v.plate_number,
        g.name,
        <span class="function">atGeometry</span>(v.trajectory, g.geom) <span class="keyword">AS</span> in_zone
    <span class="keyword">FROM</span> vehicles v, geofences g
    <span class="keyword">WHERE</span> <span class="function">eIntersects</span>(v.trajectory, g.geom)
)
<span class="keyword">SELECT</span>
    plate_number,
    name <span class="keyword">AS</span> zone,
    <span class="function">startTimestamp</span>(in_zone) <span class="keyword">AS</span> entry_time,
    <span class="function">endTimestamp</span>(in_zone) <span class="keyword">AS</span> exit_time,
    <span class="function">duration</span>(in_zone) <span class="keyword">AS</span> time_spent
<span class="keyword">FROM</span> zone_visits
<span class="keyword">WHERE</span> in_zone <span class="keyword">IS NOT NULL</span>
<span class="keyword">ORDER BY</span> entry_time;

<span class="comment">-- ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø§Ø² Ù‡Ø± Ù…Ù†Ø·Ù‚Ù‡</span>
<span class="keyword">SELECT</span> 
    g.name,
    <span class="function">COUNT</span>(<span class="keyword">DISTINCT</span> v.id) <span class="keyword">AS</span> unique_vehicles,
    <span class="function">SUM</span>(<span class="function">numSequences</span>(<span class="function">atGeometry</span>(v.trajectory, g.geom))) <span class="keyword">AS</span> total_visits
<span class="keyword">FROM</span> vehicles v, geofences g
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(v.trajectory, g.geom)
<span class="keyword">GROUP BY</span> g.name;
            </div>

            <h3>ğŸ“Š Ø¬Ø¯ÙˆÙ„ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ-Ø²Ù…Ø§Ù†ÛŒ</h3>
            <table>
                <thead>
                    <tr>
                        <th>Ø¹Ù…Ù„Ú¯Ø±</th>
                        <th>ØªÙˆØ¶ÛŒØ­</th>
                        <th>Ù…Ø«Ø§Ù„</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>eIntersects</code></td>
                        <td>Ø¢ÛŒØ§ ØªØ§ Ø¨Ù‡ Ø­Ø§Ù„ ØªÙ‚Ø§Ø·Ø¹ Ø¯Ø§Ø´ØªÙ‡â€ŒØ§Ù†Ø¯ØŸ</td>
                        <td><code>eIntersects(trip, region)</code></td>
                    </tr>
                    <tr>
                        <td><code>aIntersects</code></td>
                        <td>Ø¢ÛŒØ§ Ù‡Ù…ÛŒØ´Ù‡ ØªÙ‚Ø§Ø·Ø¹ Ø¯Ø§Ø±Ù†Ø¯ØŸ</td>
                        <td><code>aIntersects(trip1, trip2)</code></td>
                    </tr>
                    <tr>
                        <td><code>tIntersects</code></td>
                        <td>Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ ØªÙ‚Ø§Ø·Ø¹ (tbool)</td>
                        <td><code>tIntersects(trip, region)</code></td>
                    </tr>
                    <tr>
                        <td><code>eDwithin</code></td>
                        <td>Ø¢ÛŒØ§ ØªØ§ Ø¨Ù‡ Ø­Ø§Ù„ Ø¯Ø± ÙØ§ØµÙ„Ù‡ X Ø¨ÙˆØ¯Ù‡â€ŒØ§Ù†Ø¯ØŸ</td>
                        <td><code>eDwithin(t1, t2, 100)</code></td>
                    </tr>
                    <tr>
                        <td><code>tDwithin</code></td>
                        <td>Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± ÙØ§ØµÙ„Ù‡ X Ø¨ÙˆØ¯Ù‡â€ŒØ§Ù†Ø¯</td>
                        <td><code>tDwithin(t1, t2, 100)</code></td>
                    </tr>
                    <tr>
                        <td><code>eContains</code></td>
                        <td>Ø¢ÛŒØ§ ØªØ§ Ø¨Ù‡ Ø­Ø§Ù„ Ø´Ø§Ù…Ù„ Ø¨ÙˆØ¯Ù‡ØŸ</td>
                        <td><code>eContains(region, trip)</code></td>
                    </tr>
                    <tr>
                        <td><code>aContains</code></td>
                        <td>Ø¢ÛŒØ§ Ù‡Ù…ÛŒØ´Ù‡ Ø´Ø§Ù…Ù„ Ø§Ø³ØªØŸ</td>
                        <td><code>aContains(region, trip)</code></td>
                    </tr>
                </tbody>
            </table>

            <div class="tip-box">
                <h4>ğŸ’¡ Ù‚Ø§Ø¹Ø¯Ù‡ Ù†Ø§Ù…â€ŒÚ¯Ø°Ø§Ø±ÛŒ</h4>
                <ul>
                    <li><strong>e</strong> = Ever (Ø¢ÛŒØ§ ØªØ§ Ø¨Ù‡ Ø­Ø§Ù„): Ø®Ø±ÙˆØ¬ÛŒ <code>boolean</code></li>
                    <li><strong>a</strong> = Always (Ø¢ÛŒØ§ Ù‡Ù…ÛŒØ´Ù‡): Ø®Ø±ÙˆØ¬ÛŒ <code>boolean</code></li>
                    <li><strong>t</strong> = Temporal (Ø²Ù…Ø§Ù†ÛŒ): Ø®Ø±ÙˆØ¬ÛŒ <code>tbool</code></li>
                </ul>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 8: Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ -->
        <div class="slide" id="indexing">
            <div class="slide-number">8</div>
            <h2>âš¡ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h2>

            <div class="info-box">
                <h4>ğŸ“– Ø§Ù‡Ù…ÛŒØª Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÚ¯Ø°Ø§Ø±ÛŒ</h4>
                <p>
                    Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ Ø¨Ø§ Ø­Ø¬Ù… Ø¨Ø§Ù„Ø§ØŒ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÚ¯Ø°Ø§Ø±ÛŒ ØµØ­ÛŒØ­ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø³Ø±Ø¹Øª 
                    Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÙ‡Ø§ Ø±Ø§ ØµØ¯Ù‡Ø§ Ø¨Ø±Ø§Ø¨Ø± Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ù‡Ø¯. MobilityDB Ø§Ø² Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ GiST Ùˆ 
                    SP-GiST Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ-Ù…Ú©Ø§Ù†ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </p>
            </div>

            <h3>ğŸ—ï¸ Ø§ÛŒØ¬Ø§Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Creating Indexes</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ GiST Ø¨Ø±Ø§ÛŒ trajectory (Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ)</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_traj 
    <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> GiST(trajectory);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ SP-GiST (Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø®ÛŒ Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÙ‡Ø§ Ø³Ø±ÛŒØ¹â€ŒØªØ±)</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_traj_spgist 
    <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> SPGiST(trajectory);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¨Ø±Ø§ÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ temporal Ø¯ÛŒÚ¯Ø±</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_speed 
    <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> GiST(speed);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ ØªØ±Ú©ÛŒØ¨ÛŒ (B-tree + GiST)</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_plate 
    <span class="keyword">ON</span> vehicles(plate_number);
<span class="keyword">CREATE INDEX</span> idx_vehicles_type_traj 
    <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> GiST(trajectory) 
    <span class="keyword">WHERE</span> vehicle_type = <span class="string">'taxi'</span>;

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¨Ø± Ø±ÙˆÛŒ Bounding Box Ø²Ù…Ø§Ù†ÛŒ-Ù…Ú©Ø§Ù†ÛŒ</span>
<span class="keyword">CREATE INDEX</span> idx_vehicles_stbox 
    <span class="keyword">ON</span> vehicles <span class="keyword">USING</span> GiST(<span class="function">stbox</span>(trajectory));
            </div>

            <h3>ğŸ“Š Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</h3>
            <table>
                <thead>
                    <tr>
                        <th>Ù†ÙˆØ¹ Ø§ÛŒÙ†Ø¯Ú©Ø³</th>
                        <th>Ù…Ø²Ø§ÛŒØ§</th>
                        <th>Ù…Ø¹Ø§ÛŒØ¨</th>
                        <th>Ø¨Ù‡ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø¯</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>GiST</strong></td>
                        <td>Ù‡Ù…Ù‡â€ŒÚ©Ø§Ø±Ù‡ØŒ Ù¾Ø§ÛŒØ¯Ø§Ø±</td>
                        <td>Ú©Ù†Ø¯ØªØ± Ø¯Ø± Ù†Ù‚Ø§Ø·</td>
                        <td>Ø§Ú©Ø«Ø± Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÙ‡Ø§</td>
                    </tr>
                    <tr>
                        <td><strong>SP-GiST</strong></td>
                        <td>Ø³Ø±ÛŒØ¹ Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø§Ø·</td>
                        <td>Ù…Ø­Ø¯ÙˆØ¯ØªØ±</td>
                        <td>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù‚Ø·Ù‡â€ŒØ§ÛŒ</td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸ” ØªØ­Ù„ÛŒÙ„ Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ Ø¨Ø§ EXPLAIN</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Query Analysis</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">EXPLAIN ANALYZE</span>
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> vehicles
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(
    trajectory, 
    <span class="function">ST_MakeEnvelope</span>(51.3, 35.6, 51.5, 35.8, 4326)
);

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø§ ÙÛŒÙ„ØªØ± Ø²Ù…Ø§Ù†ÛŒ</span>
<span class="keyword">EXPLAIN ANALYZE</span>
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> vehicles
<span class="keyword">WHERE</span> trajectory && <span class="function">stbox</span>(
    <span class="function">ST_MakeEnvelope</span>(51.3, 35.6, 51.5, 35.8, 4326),
    <span class="function">tstzspan</span>(<span class="string">'[2024-01-15, 2024-01-16]'</span>)
);

<span class="comment">-- Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø·Ù„ÙˆØ¨ Ø¨Ø§ÛŒØ¯ Ø´Ø§Ù…Ù„ "Index Scan" Ø¨Ø§Ø´Ø¯</span>
            </div>

            <h3>âš¡ ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h3>

            <div class="grid-2">
                <div class="feature-card">
                    <h4>ğŸ¯ ÙÛŒÙ„ØªØ± Bounding Box</h4>
                    <p>
                        Ù‚Ø¨Ù„ Ø§Ø² Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÙ‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ØŒ Ø§Ø² Ø¹Ù…Ù„Ú¯Ø± <code>&&</code> Ø¨Ø±Ø§ÛŒ 
                        ÙÛŒÙ„ØªØ± Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø§ Bounding Box Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.
                    </p>
                    <div class="code-block" style="font-size: 0.85em;">
<span class="comment">-- Ø³Ø±ÛŒØ¹â€ŒØªØ±</span>
<span class="keyword">WHERE</span> trajectory && stbox(...)
  <span class="keyword">AND</span> <span class="function">eIntersects</span>(trajectory, ...)
                    </div>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“… Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø²Ù…Ø§Ù†ÛŒ</h4>
                    <p>
                        Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ§Ø±ÛŒØ®ÛŒØŒ Ø¬Ø¯Ø§ÙˆÙ„ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø²Ù…Ø§Ù† Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ú©Ù†ÛŒØ¯.
                    </p>
                    <div class="code-block" style="font-size: 0.85em;">
<span class="keyword">CREATE TABLE</span> trips (
    ...
) <span class="keyword">PARTITION BY RANGE</span> (
    <span class="function">startTimestamp</span>(trajectory)
);
                    </div>
                </div>
            </div>

            <h3>ğŸ—ƒï¸ Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø¬Ø¯Ø§ÙˆÙ„</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Table Partitioning</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ø§ØµÙ„ÛŒ Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø´Ø¯Ù‡</span>
<span class="keyword">CREATE TABLE</span> vehicle_trips (
    id <span class="type">SERIAL</span>,
    vehicle_id <span class="type">INTEGER</span>,
    trajectory <span class="type">tgeompoint</span>,
    trip_date <span class="type">DATE</span>
) <span class="keyword">PARTITION BY RANGE</span> (trip_date);

<span class="comment">-- Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒÙ‡Ø§</span>
<span class="keyword">CREATE TABLE</span> trips_2024_01 <span class="keyword">PARTITION OF</span> vehicle_trips
    <span class="keyword">FOR VALUES FROM</span> (<span class="string">'2024-01-01'</span>) <span class="keyword">TO</span> (<span class="string">'2024-02-01'</span>);

<span class="keyword">CREATE TABLE</span> trips_2024_02 <span class="keyword">PARTITION OF</span> vehicle_trips
    <span class="keyword">FOR VALUES FROM</span> (<span class="string">'2024-02-01'</span>) <span class="keyword">TO</span> (<span class="string">'2024-03-01'</span>);

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø±ÙˆÛŒ Ù‡Ø± Ù¾Ø§Ø±ØªÛŒØ´Ù†</span>
<span class="keyword">CREATE INDEX</span> idx_trips_2024_01_traj 
    <span class="keyword">ON</span> trips_2024_01 <span class="keyword">USING</span> GiST(trajectory);

<span class="comment">-- ÛŒØ§ Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø±ÙˆÛŒ Ø¬Ø¯ÙˆÙ„ Ø§ØµÙ„ÛŒ (Ø§Ø¹Ù…Ø§Ù„ Ø±ÙˆÛŒ Ù‡Ù…Ù‡ Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒÙ‡Ø§)</span>
<span class="keyword">CREATE INDEX</span> idx_vehicle_trips_traj 
    <span class="keyword">ON</span> vehicle_trips <span class="keyword">USING</span> GiST(trajectory);
            </div>

            <h3>ğŸ“ˆ Ø¢Ù…Ø§Ø± Ùˆ Vacuum</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Statistics and Maintenance</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²</span>
<span class="keyword">ANALYZE</span> vehicles;

<span class="comment">-- ØªÙ†Ø¸ÛŒÙ… statistics target Ø¨Ø±Ø§ÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ temporal</span>
<span class="keyword">ALTER TABLE</span> vehicles 
    <span class="keyword">ALTER COLUMN</span> trajectory <span class="keyword">SET STATISTICS</span> 1000;

<span class="comment">-- Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ùˆ ÙØ´Ø±Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ</span>
<span class="keyword">VACUUM ANALYZE</span> vehicles;

<span class="comment">-- Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</span>
<span class="keyword">SELECT</span> 
    indexname,
    <span class="function">pg_size_pretty</span>(<span class="function">pg_relation_size</span>(indexname::regclass)) <span class="keyword">AS</span> size
<span class="keyword">FROM</span> pg_indexes
<span class="keyword">WHERE</span> tablename = <span class="string">'vehicles'</span>;
            </div>

            <div class="warning-box">
                <h4>âš ï¸ Ù†Ú©Ø§Øª Ù…Ù‡Ù… Ø¹Ù…Ù„Ú©Ø±Ø¯</h4>
                <ul>
                    <li>Ù‡Ù…ÛŒØ´Ù‡ Ø±ÙˆÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ <code>tgeompoint</code> Ùˆ <code>tgeogpoint</code> Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯</li>
                    <li>Ø§Ø² Ø¹Ù…Ù„Ú¯Ø± <code>&&</code> (Bounding Box) Ø¨Ø±Ø§ÛŒ ÙÛŒÙ„ØªØ± Ø§ÙˆÙ„ÛŒÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                    <li>Ø¨Ø±Ø§ÛŒ Ø¬Ø¯Ø§ÙˆÙ„ Ø¨Ø²Ø±Ú¯ØŒ Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯</li>
                    <li>Ù¾Ø³ Ø§Ø² Ø¯Ø±Ø¬ Ø­Ø¬Ù… Ø²ÛŒØ§Ø¯ Ø¯Ø§Ø¯Ù‡ØŒ <code>ANALYZE</code> Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯</li>
                    <li>Ù…Ù‚Ø¯Ø§Ø± <code>work_mem</code> Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÙ‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ù‡ÛŒØ¯</li>
                </ul>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 9: Python Ùˆ PyMEOS -->
        <div class="slide" id="python">
            <div class="slide-number">9</div>
            <h2>ğŸ Ú©Ø§Ø± Ø¨Ø§ Python Ùˆ PyMEOS</h2>

            <div class="info-box">
                <h4>ğŸ“– PyMEOS Ú†ÛŒØ³ØªØŸ</h4>
                <p>
                    <strong>PyMEOS</strong> Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Python Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ Ø§Ø³Øª Ú©Ù‡ 
                    Ø§Ø² Ù…ÙˆØªÙˆØ± MEOS (MobilityDB Engine for Open Source) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. 
                    Ø§ÛŒÙ† Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø§Ù…Ú©Ø§Ù† Ú©Ø§Ø± Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ temporal Ø±Ø§ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </p>
            </div>

            <h3>ğŸ“¦ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Terminal - Installation</span>
            </div>
            <div class="code-block">
<span class="comment"># Ù†ØµØ¨ PyMEOS</span>
pip install pymeos

<span class="comment"># Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù…Ú©ÛŒ</span>
pip install psycopg2-binary geopandas pandas movingpandas matplotlib

<span class="comment"># Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ MobilityDB</span>
pip install sqlalchemy geoalchemy2
            </div>

            <h3>ğŸš€ Ø´Ø±ÙˆØ¹ Ú©Ø§Ø± Ø¨Ø§ PyMEOS</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Python - Getting Started</span>
            </div>
            <div class="code-block">
<span class="keyword">from</span> pymeos <span class="keyword">import</span> pymeos_initialize, pymeos_finalize
<span class="keyword">from</span> pymeos.main <span class="keyword">import</span> TGeomPointInst, TGeomPointSeq, TFloatInst, TFloatSeq
<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timedelta

<span class="comment"># Ø§ÙˆÙ„ÛŒÙ† Ù‚Ø¯Ù…: Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡</span>
pymeos_initialize()

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ù†Ù‚Ø·Ù‡ Ø²Ù…Ø§Ù†ÛŒ (Instant)</span>
point1 = TGeomPointInst(<span class="string">'Point(51.3890 35.6892)@2024-01-15 10:00:00'</span>)
<span class="keyword">print</span>(f<span class="string">"Point: {point1}"</span>)
<span class="keyword">print</span>(f<span class="string">"Value: {point1.value()}"</span>)
<span class="keyword">print</span>(f<span class="string">"Timestamp: {point1.timestamp()}"</span>)

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ù…Ø³ÛŒØ± (Sequence)</span>
trajectory = TGeomPointSeq(<span class="string">'''
    [Point(51.3890 35.6892)@2024-01-15 10:00:00,
     Point(51.4000 35.7000)@2024-01-15 10:30:00,
     Point(51.4200 35.7100)@2024-01-15 11:00:00]
'''</span>)

<span class="keyword">print</span>(f<span class="string">"Duration: {trajectory.duration()}"</span>)
<span class="keyword">print</span>(f<span class="string">"Num Points: {trajectory.num_instants()}"</span>)
<span class="keyword">print</span>(f<span class="string">"Start: {trajectory.start_instant()}"</span>)
<span class="keyword">print</span>(f<span class="string">"End: {trajectory.end_instant()}"</span>)

<span class="comment"># Ù¾Ø§ÛŒØ§Ù† Ú©Ø§Ø±</span>
pymeos_finalize()
            </div>

            <h3>ğŸ“Š Ú©Ø§Ø± Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Temporal</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Python - Temporal Operations</span>
            </div>
            <div class="code-block">
<span class="keyword">from</span> pymeos <span class="keyword">import</span> pymeos_initialize
<span class="keyword">from</span> pymeos.main <span class="keyword">import</span> TGeomPointSeq, TGeogPointSeq
<span class="keyword">from</span> shapely.geometry <span class="keyword">import</span> Point, Polygon

pymeos_initialize()

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø³ÛŒØ±</span>
trip = TGeogPointSeq(<span class="string">'''
    [Point(51.3890 35.6892)@2024-01-15 10:00:00,
     Point(51.4200 35.7100)@2024-01-15 10:30:00,
     Point(51.4500 35.7300)@2024-01-15 11:00:00,
     Point(51.4800 35.7500)@2024-01-15 11:30:00]
'''</span>)

<span class="comment"># Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡</span>
<span class="keyword">print</span>(f<span class="string">"Ø·ÙˆÙ„ Ù…Ø³ÛŒØ±: {trip.length():.2f} Ù…ØªØ±"</span>)
<span class="keyword">print</span>(f<span class="string">"Ù…Ø¯Øª Ø²Ù…Ø§Ù†: {trip.duration()}"</span>)
<span class="keyword">print</span>(f<span class="string">"ØªØ¹Ø¯Ø§Ø¯ Ù†Ù‚Ø§Ø·: {trip.num_instants()}"</span>)

<span class="comment"># Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø± ÛŒÚ© Ø²Ù…Ø§Ù† Ø®Ø§Øµ</span>
<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime
time = datetime(2024, 1, 15, 10, 15, 0)
point_at_time = trip.value_at_timestamp(time)
<span class="keyword">print</span>(f<span class="string">"Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø± 10:15: {point_at_time}"</span>)

<span class="comment"># Ø³Ø±Ø¹Øª</span>
speed = trip.speed()
<span class="keyword">print</span>(f<span class="string">"Ø³Ø±Ø¹Øª: {speed}"</span>)
<span class="keyword">print</span>(f<span class="string">"Ø­Ø¯Ø§Ú©Ø«Ø± Ø³Ø±Ø¹Øª: {speed.max_value():.2f} m/s"</span>)
<span class="keyword">print</span>(f<span class="string">"Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø³Ø±Ø¹Øª: {speed.time_weighted_average():.2f} m/s"</span>)

<span class="comment"># ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ LineString</span>
linestring = trip.trajectory()
<span class="keyword">print</span>(f<span class="string">"Ù…Ø³ÛŒØ±: {linestring}"</span>)
            </div>

            <h3>ğŸ”— Ø§ØªØµØ§Ù„ Ø¨Ù‡ MobilityDB</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Python - Database Connection</span>
            </div>
            <div class="code-block">
<span class="keyword">import</span> psycopg2
<span class="keyword">from</span> pymeos <span class="keyword">import</span> pymeos_initialize
<span class="keyword">from</span> pymeos.db.psycopg2 <span class="keyword">import</span> MobilityDB

pymeos_initialize()

<span class="comment"># Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
conn = MobilityDB.connect(
    host=<span class="string">'localhost'</span>,
    port=5432,
    database=<span class="string">'mobility'</span>,
    user=<span class="string">'mobility_user'</span>,
    password=<span class="string">'mobility_pass'</span>
)

cursor = conn.cursor()

<span class="comment"># Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÛŒ Ø³Ø§Ø¯Ù‡</span>
cursor.execute(<span class="string">"""
    SELECT plate_number, trajectory 
    FROM vehicles 
    WHERE eDwithin(trajectory, ST_MakePoint(51.4, 35.7)::geography, 1000)
    LIMIT 10
"""</span>)

<span class="keyword">for</span> row <span class="keyword">in</span> cursor.fetchall():
    plate, traj = row
    <span class="keyword">print</span>(f<span class="string">"Ø®ÙˆØ¯Ø±Ùˆ {plate}: Ø·ÙˆÙ„ Ù…Ø³ÛŒØ± = {traj.length():.0f}m"</span>)

<span class="comment"># Ø¯Ø±Ø¬ Ø¯Ø§Ø¯Ù‡</span>
<span class="keyword">from</span> pymeos.main <span class="keyword">import</span> TGeomPointSeq

new_trip = TGeomPointSeq(<span class="string">'''
    SRID=4326;[Point(51.38 35.68)@2024-01-20 09:00:00,
               Point(51.42 35.72)@2024-01-20 10:00:00]
'''</span>)

cursor.execute(<span class="string">"""
    INSERT INTO vehicles (plate_number, trajectory)
    VALUES (%s, %s)
"""</span>, (<span class="string">'12Ø·345-22'</span>, new_trip))

conn.commit()
cursor.close()
conn.close()
            </div>

            <h3>ğŸ“ˆ ØªØ¬Ø³Ù… Ø¨Ø§ MovingPandas</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Python - Visualization</span>
            </div>
            <div class="code-block">
<span class="keyword">import</span> pandas <span class="keyword">as</span> pd
<span class="keyword">import</span> geopandas <span class="keyword">as</span> gpd
<span class="keyword">import</span> movingpandas <span class="keyword">as</span> mpd
<span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt<span class="keyword">from</span> shapely.geometry <span class="keyword">import</span> Point
<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timedelta

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÙˆÙ†Ù‡</span>
data = {
    <span class="string">'timestamp'</span>: pd.date_range(<span class="string">'2024-01-15 10:00'</span>, periods=20, freq=<span class="string">'5min'</span>),
    <span class="string">'latitude'</span>: [35.68 + i*0.005 + (i%3)*0.002 <span class="keyword">for</span> i <span class="keyword">in</span> range(20)],
    <span class="string">'longitude'</span>: [51.38 + i*0.004 <span class="keyword">for</span> i <span class="keyword">in</span> range(20)],
    <span class="string">'speed'</span>: [30 + (i%5)*10 <span class="keyword">for</span> i <span class="keyword">in</span> range(20)],
    <span class="string">'vehicle_id'</span>: [<span class="string">'taxi_001'</span>] * 20
}
df = pd.DataFrame(data)

<span class="comment"># ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ GeoDataFrame</span>
gdf = gpd.GeoDataFrame(
    df,
    geometry=gpd.points_from_xy(df.longitude, df.latitude),
    crs=<span class="string">"EPSG:4326"</span>
)
gdf = gdf.set_index(<span class="string">'timestamp'</span>)

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Trajectory</span>
traj = mpd.Trajectory(gdf, traj_id=<span class="string">'taxi_001'</span>)

<span class="comment"># Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø³ÛŒØ±</span>
<span class="keyword">print</span>(f<span class="string">"Ø·ÙˆÙ„ Ù…Ø³ÛŒØ±: {traj.get_length():.2f} Ù…ØªØ±"</span>)
<span class="keyword">print</span>(f<span class="string">"Ù…Ø¯Øª Ø²Ù…Ø§Ù†: {traj.get_duration()}"</span>)
<span class="keyword">print</span>(f<span class="string">"Ø³Ø±Ø¹Øª Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†: {traj.get_length()/traj.get_duration().total_seconds()*3.6:.1f} km/h"</span>)

<span class="comment"># Ø±Ø³Ù… Ù…Ø³ÛŒØ±</span>
fig, ax = plt.subplots(figsize=(10, 8))
traj.plot(ax=ax, color=<span class="string">'blue'</span>, linewidth=2, capstyle=<span class="string">'round'</span>)
plt.title(<span class="string">'Ù…Ø³ÛŒØ± Ø­Ø±Ú©Øª ØªØ§Ú©Ø³ÛŒ'</span>, fontsize=14)
plt.xlabel(<span class="string">'Ø·ÙˆÙ„ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ'</span>)
plt.ylabel(<span class="string">'Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ'</span>)
plt.grid(<span class="keyword">True</span>, alpha=0.3)
plt.savefig(<span class="string">'trajectory_plot.png'</span>, dpi=150, bbox_inches=<span class="string">'tight'</span>)
plt.show()
            </div>

            <h3>ğŸ—ºï¸ Ù†Ù‚Ø´Ù‡ ØªØ¹Ø§Ù…Ù„ÛŒ Ø¨Ø§ Folium</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Python - Interactive Map</span>
            </div>
            <div class="code-block">
<span class="keyword">import</span> folium
<span class="keyword">from</span> folium.plugins <span class="keyword">import</span> TimestampedGeoJson, AntPath

<span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù‚Ø´Ù‡</span>
center_lat = df[<span class="string">'latitude'</span>].mean()
center_lon = df[<span class="string">'longitude'</span>].mean()

m = folium.Map(
    location=[center_lat, center_lon],
    zoom_start=13,
    tiles=<span class="string">'cartodbpositron'</span>
)

<span class="comment"># Ø±Ø³Ù… Ù…Ø³ÛŒØ± Ø¨Ø§ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†</span>
coords = list(zip(df[<span class="string">'latitude'</span>], df[<span class="string">'longitude'</span>]))
AntPath(
    coords,
    color=<span class="string">'#3388ff'</span>,
    weight=4,
    opacity=0.8,
    delay=1000
).add_to(m)

<span class="comment"># Ù†Ù‚Ø·Ù‡ Ø´Ø±ÙˆØ¹</span>
folium.Marker(
    [df[<span class="string">'latitude'</span>].iloc[0], df[<span class="string">'longitude'</span>].iloc[0]],
    popup=<span class="string">'ğŸš• Ø´Ø±ÙˆØ¹ Ø³ÙØ±'</span>,
    icon=folium.Icon(color=<span class="string">'green'</span>, icon=<span class="string">'play'</span>)
).add_to(m)

<span class="comment"># Ù†Ù‚Ø·Ù‡ Ù¾Ø§ÛŒØ§Ù†</span>
folium.Marker(
    [df[<span class="string">'latitude'</span>].iloc[-1], df[<span class="string">'longitude'</span>].iloc[-1]],
    popup=<span class="string">'ğŸ Ù¾Ø§ÛŒØ§Ù† Ø³ÙØ±'</span>,
    icon=folium.Icon(color=<span class="string">'red'</span>, icon=<span class="string">'stop'</span>)
).add_to(m)

<span class="comment"># Ø°Ø®ÛŒØ±Ù‡ Ù†Ù‚Ø´Ù‡</span>
m.save(<span class="string">'interactive_trajectory.html'</span>)
<span class="keyword">print</span>(<span class="string">"Ù†Ù‚Ø´Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯: interactive_trajectory.html"</span>)
            </div>

            <div class="tip-box">
                <h4>ğŸ’¡ Ù†Ú©ØªÙ‡: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² GeoPandas Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„</h4>
                <p>
                    Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ MobilityDB Ø±Ø§ Ø¨Ø§ GeoPandas ØªØ±Ú©ÛŒØ¨ Ú©Ù†ÛŒØ¯ ØªØ§ Ø§Ø² Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ 
                    ØªØ­Ù„ÛŒÙ„ Ù…Ú©Ø§Ù†ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯. Ø§ÛŒÙ† ØªØ±Ú©ÛŒØ¨ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§Ú©ØªØ´Ø§ÙÛŒ Ø¨Ø³ÛŒØ§Ø± Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ Ø§Ø³Øª.
                </p>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 10: Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ -->
        <div class="slide" id="project">
            <div class="slide-number">10</div>
            <h2>ğŸ› ï¸ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ: Ø±Ø¯ÛŒØ§Ø¨ÛŒ ØªØ§Ú©Ø³ÛŒ</h2>

            <div class="info-box">
                <h4>ğŸ“– Ù‡Ø¯Ù Ù¾Ø±ÙˆÚ˜Ù‡</h4>
                <p>
                    Ø¯Ø± Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒÚ© Ø³ÛŒØ³ØªÙ… Ø±Ø¯ÛŒØ§Ø¨ÛŒ ØªØ§Ú©Ø³ÛŒ Ù…ÛŒâ€ŒØ³Ø§Ø²ÛŒÙ… Ú©Ù‡ Ø´Ø§Ù…Ù„ Ø°Ø®ÛŒØ±Ù‡ Ù…Ø³ÛŒØ±Ù‡Ø§ØŒ 
                    ØªØ­Ù„ÛŒÙ„ Ø³ÙØ±Ù‡Ø§ØŒ ØªØ´Ø®ÛŒØµ ØªÙˆÙ‚ÙØŒ Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ Ø§Ø³Øª.
                </p>
            </div>

            <h3>ğŸ“ Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Project Structure</span>
            </div>
            <div class="code-block">
taxi-tracking/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ init/
â”‚   â””â”€â”€ 01_schema.sql
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ tracker.py
â”‚   â””â”€â”€ analysis.py
â”œâ”€â”€ data/
â”‚   â””â”€â”€ sample_gps.csv
â”œâ”€â”€ notebooks/
â”‚   â””â”€â”€ analysis.ipynb
â””â”€â”€ requirements.txt
            </div>

            <h3>ğŸ³ Docker Compose</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>docker-compose.yml</span>
            </div>
            <div class="code-block">
<span class="keyword">version</span>: <span class="string">'3.8'</span>

<span class="keyword">services</span>:
  <span class="function">mobilitydb</span>:
    <span class="keyword">image</span>: mobilitydb/mobilitydb:14-3.2-develop
    <span class="keyword">container_name</span>: taxi-mobilitydb
    <span class="keyword">environment</span>:
      <span class="keyword">POSTGRES_DB</span>: taxi_tracking
      <span class="keyword">POSTGRES_USER</span>: taxi_user
      <span class="keyword">POSTGRES_PASSWORD</span>: taxi_pass
    <span class="keyword">ports</span>:
      - <span class="string">"5432:5432"</span>
    <span class="keyword">volumes</span>:
      - mobilitydb_data:/var/lib/postgresql/data
      - ./init:/docker-entrypoint-initdb.d
    <span class="keyword">healthcheck</span>:
      <span class="keyword">test</span>: [<span class="string">"CMD-SHELL"</span>, <span class="string">"pg_isready -U taxi_user -d taxi_tracking"</span>]
      <span class="keyword">interval</span>: 10s
      <span class="keyword">timeout</span>: 5s
      <span class="keyword">retries</span>: 5

<span class="keyword">volumes</span>:
  <span class="function">mobilitydb_data</span>:
            </div>

            <h3>ğŸ—„ï¸ Ø·Ø±Ø§Ø­ÛŒ Schema</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>init/01_schema.sql</span>
            </div>
            <div class="code-block">
<span class="comment">-- ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§</span>
<span class="keyword">CREATE EXTENSION IF NOT EXISTS</span> postgis;
<span class="keyword">CREATE EXTENSION IF NOT EXISTS</span> mobilitydb;

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ ØªØ§Ú©Ø³ÛŒâ€ŒÙ‡Ø§</span>
<span class="keyword">CREATE TABLE</span> taxis (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    plate_number <span class="type">VARCHAR</span>(20) <span class="keyword">UNIQUE NOT NULL</span>,
    driver_name <span class="type">VARCHAR</span>(100),
    car_model <span class="type">VARCHAR</span>(50),
    created_at <span class="type">TIMESTAMPTZ</span> <span class="keyword">DEFAULT</span> <span class="function">NOW</span>()
);

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ø³ÙØ±Ù‡Ø§</span>
<span class="keyword">CREATE TABLE</span> trips (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    taxi_id <span class="type">INTEGER REFERENCES</span> taxis(id),
    trajectory <span class="type">tgeogpoint</span>,
    speed <span class="type">tfloat</span>,
    trip_date <span class="type">DATE</span>,
    passenger_count <span class="type">INTEGER</span>,
    fare <span class="type">DECIMAL</span>(10,2),
    status <span class="type">VARCHAR</span>(20) <span class="keyword">DEFAULT</span> <span class="string">'completed'</span>
);

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ù…Ù†Ø§Ø·Ù‚ (Geofences)</span>
<span class="keyword">CREATE TABLE</span> zones (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    name <span class="type">VARCHAR</span>(100) <span class="keyword">NOT NULL</span>,
    zone_type <span class="type">VARCHAR</span>(50),
    geom <span class="type">geometry</span>(Polygon, 4326)
);

<span class="comment">-- Ø¯Ø±Ø¬ Ù…Ù†Ø§Ø·Ù‚ Ù†Ù…ÙˆÙ†Ù‡</span>
<span class="keyword">INSERT INTO</span> zones (name, zone_type, geom) <span class="keyword">VALUES</span>
(<span class="string">'ÙØ±ÙˆØ¯Ú¯Ø§Ù‡ Ù…Ù‡Ø±Ø¢Ø¨Ø§Ø¯'</span>, <span class="string">'airport'</span>, 
 <span class="function">ST_MakeEnvelope</span>(51.30, 35.68, 51.33, 35.70, 4326)),
(<span class="string">'Ù…ÛŒØ¯Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ'</span>, <span class="string">'landmark'</span>, 
 <span class="function">ST_Buffer</span>(<span class="function">ST_MakePoint</span>(51.3378, 35.6997)::geography, 500)::geometry),
(<span class="string">'Ù…Ù†Ø·Ù‚Ù‡ 1'</span>, <span class="string">'district'</span>, 
 <span class="function">ST_MakeEnvelope</span>(51.40, 35.78, 51.50, 35.85, 4326));

<span class="comment">-- Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</span>
<span class="keyword">CREATE INDEX</span> idx_trips_trajectory <span class="keyword">ON</span> trips <span class="keyword">USING</span> GiST(trajectory);
<span class="keyword">CREATE INDEX</span> idx_trips_taxi_date <span class="keyword">ON</span> trips(taxi_id, trip_date);
<span class="keyword">CREATE INDEX</span> idx_zones_geom <span class="keyword">ON</span> zones <span class="keyword">USING</span> GiST(geom);

<span class="comment">-- View Ø¨Ø±Ø§ÛŒ Ø¢Ù…Ø§Ø± Ø±ÙˆØ²Ø§Ù†Ù‡</span>
<span class="keyword">CREATE VIEW</span> daily_stats <span class="keyword">AS</span>
<span class="keyword">SELECT</span> 
    t.plate_number,
    tr.trip_date,
    <span class="function">COUNT</span>(*) <span class="keyword">AS</span> trip_count,
    <span class="function">SUM</span>(<span class="function">length</span>(tr.trajectory)) <span class="keyword">AS</span> total_distance,
    <span class="function">SUM</span>(<span class="function">duration</span>(tr.trajectory)) <span class="keyword">AS</span> total_duration,
    <span class="function">SUM</span>(tr.fare) <span class="keyword">AS</span> total_fare,
    <span class="function">AVG</span>(<span class="function">twAvg</span>(tr.speed)) <span class="keyword">AS</span> avg_speed
<span class="keyword">FROM</span> trips tr
<span class="keyword">JOIN</span> taxis t <span class="keyword">ON</span> tr.taxi_id = t.id
<span class="keyword">GROUP BY</span> t.plate_number, tr.trip_date;
            </div>

            <h3>ğŸ Ú©Ø¯ Python - Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>src/database.py</span>
            </div>
            <div class="code-block">
<span class="keyword">import</span> psycopg2
<span class="keyword">from</span> psycopg2.extras <span class="keyword">import</span> RealDictCursor
<span class="keyword">from</span> pymeos <span class="keyword">import</span> pymeos_initialize
<span class="keyword">from</span> pymeos.db.psycopg2 <span class="keyword">import</span> MobilityDB
<span class="keyword">from</span> contextlib <span class="keyword">import</span> contextmanager
<span class="keyword">import</span> os

<span class="comment"># ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ØªØµØ§Ù„</span>
DB_CONFIG = {
    <span class="string">'host'</span>: os.getenv(<span class="string">'DB_HOST'</span>, <span class="string">'localhost'</span>),
    <span class="string">'port'</span>: os.getenv(<span class="string">'DB_PORT'</span>, 5432),
    <span class="string">'database'</span>: os.getenv(<span class="string">'DB_NAME'</span>, <span class="string">'taxi_tracking'</span>),
    <span class="string">'user'</span>: os.getenv(<span class="string">'DB_USER'</span>, <span class="string">'taxi_user'</span>),
    <span class="string">'password'</span>: os.getenv(<span class="string">'DB_PASSWORD'</span>, <span class="string">'taxi_pass'</span>)
}

<span class="comment"># Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ PyMEOS</span>
pymeos_initialize()

<span class="keyword">class</span> <span class="function">Database</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self.conn = <span class="keyword">None</span>
    
    <span class="keyword">def</span> <span class="function">connect</span>(self):
        <span class="keyword">if</span> self.conn <span class="keyword">is None or</span> self.conn.closed:
            self.conn = MobilityDB.connect(**DB_CONFIG)
        <span class="keyword">return</span> self.conn
    
    <span class="keyword">def</span> <span class="function">close</span>(self):
        <span class="keyword">if</span> self.conn <span class="keyword">and not</span> self.conn.closed:
            self.conn.close()
    
    @contextmanager
    <span class="keyword">def</span> <span class="function">cursor</span>(self, dict_cursor=<span class="keyword">False</span>):
        conn = self.connect()
        cursor_factory = RealDictCursor <span class="keyword">if</span> dict_cursor <span class="keyword">else None</span>
        cursor = conn.cursor(cursor_factory=cursor_factory)
        <span class="keyword">try</span>:
            <span class="keyword">yield</span> cursor
            conn.commit()
        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:
            conn.rollback()
            <span class="keyword">raise</span> e
        <span class="keyword">finally</span>:
            cursor.close()

<span class="comment"># Singleton instance</span>
db = Database()
            </div>

            <h3>ğŸš• Ú©Ø¯ Ø«Ø¨Øª Ø³ÙØ±</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>src/tracker.py</span>
            </div>
            <div class="code-block">
<span class="keyword">from</span> database <span class="keyword">import</span> db
<span class="keyword">from</span> pymeos.main <span class="keyword">import</span> TGeogPointSeq, TFloatSeq
<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime
<span class="keyword">from</span> typing <span class="keyword">import</span> List, Tuple
<span class="keyword">import</span> json

<span class="keyword">class</span> <span class="function">TaxiTracker</span>:
    
    <span class="keyword">def</span> <span class="function">create_taxi</span>(self, plate_number: str, driver_name: str, car_model: str) -> int:
        <span class="string">"""Ø«Ø¨Øª ØªØ§Ú©Ø³ÛŒ Ø¬Ø¯ÛŒØ¯"""</span>
        <span class="keyword">with</span> db.cursor() <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                INSERT INTO taxis (plate_number, driver_name, car_model)
                VALUES (%s, %s, %s)
                RETURNING id
            """</span>, (plate_number, driver_name, car_model))
            <span class="keyword">return</span> cur.fetchone()[0]
    
    <span class="keyword">def</span> <span class="function">record_trip</span>(
        self, 
        taxi_id: int,
        gps_points: List[Tuple[float, float, datetime]],
        speeds: List[Tuple[float, datetime]] = <span class="keyword">None</span>,
        passenger_count: int = 1,
        fare: float = <span class="keyword">None</span>
    ) -> int:
        <span class="string">"""Ø«Ø¨Øª ÛŒÚ© Ø³ÙØ± Ú©Ø§Ù…Ù„"""</span>
        
        <span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ trajectory Ø§Ø² Ù†Ù‚Ø§Ø· GPS</span>
        traj_str = <span class="string">'['</span> + <span class="string">','</span>.join([
            f<span class="string">"Point({lon} {lat})@{ts.isoformat()}"</span>
            <span class="keyword">for</span> lat, lon, ts <span class="keyword">in</span> gps_points
        ]) + <span class="string">']'</span>
        trajectory = TGeogPointSeq(traj_str)
        
        <span class="comment"># Ø§ÛŒØ¬Ø§Ø¯ Ø³Ø±Ø¹Øª temporal (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</span>
        speed_data = <span class="keyword">None</span>
        <span class="keyword">if</span> speeds:
            speed_str = <span class="string">'['</span> + <span class="string">','</span>.join([
                f<span class="string">"{spd}@{ts.isoformat()}"</span>
                <span class="keyword">for</span> spd, ts <span class="keyword">in</span> speeds
            ]) + <span class="string">']'</span>
            speed_data = TFloatSeq(speed_str)
        
        <span class="comment"># Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
        <span class="keyword">with</span> db.cursor() <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                INSERT INTO trips (taxi_id, trajectory, speed, trip_date, passenger_count, fare)
                VALUES (%s, %s, %s, %s, %s, %s)
                RETURNING id
            """</span>, (
                taxi_id, 
                trajectory, 
                speed_data,
                gps_points[0][2].date(),
                passenger_count,
                fare
            ))
            <span class="keyword">return</span> cur.fetchone()[0]
    
    <span class="keyword">def</span> <span class="function">get_taxi_trips</span>(self, taxi_id: int, date: datetime.date = <span class="keyword">None</span>) -> list:
        <span class="string">"""Ø¯Ø±ÛŒØ§ÙØª Ø³ÙØ±Ù‡Ø§ÛŒ ÛŒÚ© ØªØ§Ú©Ø³ÛŒ"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            query = <span class="string">"""
                SELECT 
                    id,
                    trajectory,
                    length(trajectory) AS distance_m,
                    duration(trajectory) AS duration,
                    twAvg(speed) AS avg_speed,
                    fare
                FROM trips
                WHERE taxi_id = %s
            """</span>
            params = [taxi_id]
            
            <span class="keyword">if</span> date:
                query += <span class="string">" AND trip_date = %s"</span>
                params.append(date)
            
            cur.execute(query, params)
            <span class="keyword">return</span> cur.fetchall()

<span class="comment"># Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡</span>
<span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:
    tracker = TaxiTracker()
    
    <span class="comment"># Ø«Ø¨Øª ØªØ§Ú©Ø³ÛŒ</span>
    taxi_id = tracker.create_taxi(<span class="string">'11Ø·222-33'</span>, <span class="string">'Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ'</span>, <span class="string">'Ù¾Ú˜Ùˆ 405'</span>)
    
    <span class="comment"># Ù†Ù‚Ø§Ø· GPS Ù†Ù…ÙˆÙ†Ù‡</span>
    gps_points = [
        (35.6892, 51.3890, datetime(2024, 1, 15, 10, 0, 0)),
        (35.6950, 51.3950, datetime(2024, 1, 15, 10, 10, 0)),
        (35.7010, 51.4020, datetime(2024, 1, 15, 10, 20, 0)),
        (35.7100, 51.4100, datetime(2024, 1, 15, 10, 30, 0)),
    ]
    
    <span class="comment"># Ø«Ø¨Øª Ø³ÙØ±</span>
    trip_id = tracker.record_trip(
        taxi_id=taxi_id,
        gps_points=gps_points,
        passenger_count=2,
        fare=85000
    )
    <span class="keyword">print</span>(f<span class="string">"Ø³ÙØ± Ø¨Ø§ ID {trip_id} Ø«Ø¨Øª Ø´Ø¯"</span>)
            </div>

            <h3>ğŸ“Š ØªØ­Ù„ÛŒÙ„ Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>src/analysis.py</span>
            </div>
            <div class="code-block">
<span class="keyword">from</span> database <span class="keyword">import</span> db
<span class="keyword">from</span> datetime <span class="keyword">import</span> date, timedelta
<span class="keyword">from</span> typing <span class="keyword">import</span> List, Dict

<span class="keyword">class</span> <span class="function">TripAnalyzer</span>:
    
    <span class="keyword">def</span> <span class="function">get_trips_in_zone</span>(self, zone_name: str, trip_date: date = <span class="keyword">None</span>) -> List[Dict]:
        <span class="string">"""Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø³ÙØ±Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ø² ÛŒÚ© Ù…Ù†Ø·Ù‚Ù‡ Ø¹Ø¨ÙˆØ± Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                SELECT 
                    t.plate_number,
                    tr.id AS trip_id,
                    z.name AS zone_name,
                    startTimestamp(atGeometry(tr.trajectory, z.geom)) AS entry_time,
                    endTimestamp(atGeometry(tr.trajectory, z.geom)) AS exit_time,
                    duration(atGeometry(tr.trajectory, z.geom)) AS time_in_zone
                FROM trips tr
                JOIN taxis t ON tr.taxi_id = t.id
                JOIN zones z ON eIntersects(tr.trajectory, z.geom)
                WHERE z.name = %s
                  AND (%s IS NULL OR tr.trip_date = %s)
                ORDER BY entry_time
            """</span>, (zone_name, trip_date, trip_date))
            <span class="keyword">return</span> cur.fetchall()
    
    <span class="keyword">def</span> <span class="function">find_nearby_taxis</span>(
        self, 
        lat: float, 
        lon: float, 
        radius_m: float = 500,
        at_time: datetime = <span class="keyword">None</span>
    ) -> List[Dict]:
        <span class="string">"""Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† ØªØ§Ú©Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ù†Ø²Ø¯ÛŒÚ© ÛŒÚ© Ù†Ù‚Ø·Ù‡"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                SELECT 
                    t.plate_number,
                    t.driver_name,
                    valueAtTimestamp(tr.trajectory, %s)::geography AS position,
                    ST_Distance(
                        valueAtTimestamp(tr.trajectory, %s)::geography,
                        ST_MakePoint(%s, %s)::geography
                    ) AS distance_m
                FROM trips tr
                JOIN taxis t ON tr.taxi_id = t.id
                WHERE tr.trajectory @> %s::timestamptz
                  AND eDwithin(
                      tr.trajectory, 
                      ST_MakePoint(%s, %s)::geography, 
                      %s
                  )
                ORDER BY distance_m
            """</span>, (at_time, at_time, lon, lat, at_time, lon, lat, radius_m))
            <span class="keyword">return</span> cur.fetchall()
    
    <span class="keyword">def</span> <span class="function">detect_stops</span>(
        self, 
        trip_id: int, 
        min_duration_sec: int = 120,
        max_distance_m: float = 50
    ) -> List[Dict]:
        <span class="string">"""ØªØ´Ø®ÛŒØµ ØªÙˆÙ‚Ùâ€ŒÙ‡Ø§ Ø¯Ø± ÛŒÚ© Ø³ÙØ±"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            <span class="comment"># Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³Ø±Ø¹Øª Ø¨Ø±Ø§ÛŒ ØªØ´Ø®ÛŒØµ ØªÙˆÙ‚Ù</span>
            cur.execute(<span class="string">"""
                WITH trip_data AS (
                    SELECT trajectory, speed FROM trips WHERE id = %s
                ),
                low_speed_periods AS (
                    SELECT atRange(speed, floatrange '[0, 2]') AS stopped
                    FROM trip_data
                    WHERE speed IS NOT NULL
                )
                SELECT 
                    startTimestamp(stopped) AS stop_start,
                    endTimestamp(stopped) AS stop_end,
                    duration(stopped) AS stop_duration,
                    twCentroid(atPeriod(
                        (SELECT trajectory FROM trip_data),
                        period(stopped)
                    )) AS stop_location
                FROM low_speed_periods
                WHERE duration(stopped) >= interval '%s seconds'
            """</span>, (trip_id, min_duration_sec))
            <span class="keyword">return</span> cur.fetchall()
    
    <span class="keyword">def</span> <span class="function">daily_fleet_stats</span>(self, report_date: date) -> Dict:
        <span class="string">"""Ø¢Ù…Ø§Ø± Ø±ÙˆØ²Ø§Ù†Ù‡ Ú©Ù„ Ù†Ø§ÙˆÚ¯Ø§Ù†"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                SELECT 
                    COUNT(DISTINCT taxi_id) AS active_taxis,
                    COUNT(*) AS total_trips,
                    SUM(length(trajectory))/1000 AS total_distance_km,
                    SUM(EXTRACT(EPOCH FROM duration(trajectory)))/3600 AS total_hours,
                    SUM(fare) AS total_revenue,
                    AVG(length(trajectory))/1000 AS avg_trip_distance_km,
                    AVG(twAvg(speed)) * 3.6 AS avg_speed_kmh
                FROM trips
                WHERE trip_date = %s
            """</span>, (report_date,))
            <span class="keyword">return</span> cur.fetchone()
    
    <span class="keyword">def</span> <span class="function">hotspot_analysis</span>(self, report_date: date, grid_size: float = 0.01) -> List[Dict]:
        <span class="string">"""ØªØ­Ù„ÛŒÙ„ Ù†Ù‚Ø§Ø· Ù¾Ø±ØªØ±Ø¯Ø¯"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                WITH points AS (
                    SELECT (dp).geom AS geom
                    FROM trips, 
                         LATERAL ST_DumpPoints(trajectory(trajectory)::geometry) AS dp
                    WHERE trip_date = %s
                ),
                grid AS (
                    SELECT 
                        ST_SnapToGrid(geom, %s) AS cell,
                        COUNT(*) AS point_count
                    FROM points
                    GROUP BY cell
                )
                SELECT 
                    ST_X(cell) AS lon,
                    ST_Y(cell) AS lat,
                    point_count AS density
                FROM grid
                WHERE point_count > 10
                ORDER BY point_count DESC
                LIMIT 100
            """</span>, (report_date, grid_size))
            <span class="keyword">return</span> cur.fetchall()

<span class="comment"># Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡</span>
<span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:
    analyzer = TripAnalyzer()
    
    <span class="comment"># Ø¢Ù…Ø§Ø± Ø±ÙˆØ²Ø§Ù†Ù‡</span>
    stats = analyzer.daily_fleet_stats(date(2024, 1, 15))
    <span class="keyword">print</span>(<span class="string">"Ø¢Ù…Ø§Ø± Ø±ÙˆØ²Ø§Ù†Ù‡:"</span>)
    <span class="keyword">print</span>(f<span class="string">"  ØªØ§Ú©Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„: {stats['active_taxis']}"</span>)
    <span class="keyword">print</span>(f<span class="string">"  Ú©Ù„ Ø³ÙØ±Ù‡Ø§: {stats['total_trips']}"</span>)
    <span class="keyword">print</span>(f<span class="string">"  Ù…Ø³Ø§ÙØª Ú©Ù„: {stats['total_distance_km']:.1f} km"</span>)
    <span class="keyword">print</span>(f<span class="string">"  Ø¯Ø±Ø¢Ù…Ø¯ Ú©Ù„: {stats['total_revenue']:,.0f} Ø±ÛŒØ§Ù„"</span>)
            </div>

            <div class="tip-box">
                <h4>ğŸ’¡ Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡</h4>
                <div class="code-block" style="margin-top: 15px;">
<span class="comment"># 1. Ø§Ø¬Ø±Ø§ÛŒ Docker</span>
docker-compose up -d

<span class="comment"># 2. Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§</span>
pip install -r requirements.txt

<span class="comment"># 3. Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯</span>
python src/tracker.py
python src/analysis.py
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 11: Ù…ÙˆØ§Ø±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡ -->
        <div class="slide" id="advanced">
            <div class="slide-number">11</div>
            <h2>ğŸš€ Ù…ÙˆØ§Ø±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h2>

            <h3>ğŸš¢ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ AIS (Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§)</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - AIS Ship Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§</span>
<span class="keyword">CREATE TABLE</span> ships (
    mmsi <span class="type">INTEGER PRIMARY KEY</span>,
    ship_name <span class="type">VARCHAR</span>(100),
    ship_type <span class="type">INTEGER</span>,
    flag <span class="type">VARCHAR</span>(50),
    trajectory <span class="type">tgeogpoint</span>,
    sog <span class="type">tfloat</span>,                <span class="comment">-- Speed Over Ground (knots)</span>
    cog <span class="type">tfloat</span>,                <span class="comment">-- Course Over Ground (degrees)</span>
    heading <span class="type">tint</span>,              <span class="comment">-- True Heading</span>
    nav_status <span class="type">ttext</span>           <span class="comment">-- Navigation Status</span>
);

<span class="comment">-- Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± Ø¢Ø¨â€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø²Ù…ÛŒÙ†ÛŒ Ø§ÛŒØ±Ø§Ù† Ø¨ÙˆØ¯Ù‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">WITH</span> iran_waters <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> <span class="function">ST_Buffer</span>(
        <span class="function">ST_MakeLine</span>(
            <span class="function">ST_MakePoint</span>(48.5, 29.5),
            <span class="function">ST_MakePoint</span>(61.5, 25.0)
        )::geography,
        22224  <span class="comment">-- 12 nautical miles in meters</span>
    )::geometry <span class="keyword">AS</span> geom
)
<span class="keyword">SELECT</span> 
    s.mmsi,
    s.ship_name,
    s.ship_type,
    <span class="function">length</span>(<span class="function">atGeometry</span>(s.trajectory, iw.geom)) / 1852.0 <span class="keyword">AS</span> distance_nm,
    <span class="function">duration</span>(<span class="function">atGeometry</span>(s.trajectory, iw.geom)) <span class="keyword">AS</span> time_in_waters
<span class="keyword">FROM</span> ships s, iran_waters iw
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(s.trajectory, iw.geom);

<span class="comment">-- ØªØ´Ø®ÛŒØµ ØªÙˆÙ‚Ù Ø¯Ø± Ø¨Ù†Ø¯Ø± (Ù„Ù†Ú¯Ø± Ø§Ù†Ø¯Ø§Ø®ØªÙ†)</span>
<span class="keyword">SELECT</span> 
    mmsi,
    ship_name,
    <span class="function">atRange</span>(sog, floatrange <span class="string">'[0, 0.5]'</span>) <span class="keyword">AS</span> anchored_periods
<span class="keyword">FROM</span> ships
<span class="keyword">WHERE</span> <span class="function">duration</span>(<span class="function">atRange</span>(sog, floatrange <span class="string">'[0, 0.5]'</span>)) > <span class="string">'1 hour'</span>::interval;
            </div>

            <h3>âœˆï¸ ØªØ­Ù„ÛŒÙ„ Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Flight Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§ (ADS-B data)</span>
<span class="keyword">CREATE TABLE</span> flights (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    icao24 <span class="type">VARCHAR</span>(10),
    callsign <span class="type">VARCHAR</span>(20),
    trajectory <span class="type">tgeompoint</span>,     <span class="comment">-- 3D trajectory (with altitude)</span>
    altitude <span class="type">tfloat</span>,            <span class="comment">-- Altitude in feet</span>
    ground_speed <span class="type">tfloat</span>,        <span class="comment">-- Speed in knots</span>
    vertical_rate <span class="type">tfloat</span>,      <span class="comment">-- Climb/descent rate ft/min</span>
    origin <span class="type">VARCHAR</span>(4),
    destination <span class="type">VARCHAR</span>(4)
);

<span class="comment">-- Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ø² Ø¢Ø³Ù…Ø§Ù† ØªÙ‡Ø±Ø§Ù† Ø¹Ø¨ÙˆØ± Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">WITH</span> tehran_airspace <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> <span class="function">ST_Buffer</span>(
        <span class="function">ST_MakePoint</span>(51.3, 35.7)::geography, 
        100000  <span class="comment">-- 100 km radius</span>
    )::geometry <span class="keyword">AS</span> geom
)
<span class="keyword">SELECT</span> 
    f.callsign,
    f.origin,
    f.destination,
    <span class="function">minValue</span>(<span class="function">altitude</span>) <span class="keyword">AS</span> min_altitude_ft,
    <span class="function">maxValue</span>(<span class="function">altitude</span>) <span class="keyword">AS</span> max_altitude_ft,
    <span class="function">duration</span>(<span class="function">atGeometry</span>(f.trajectory, ta.geom)) <span class="keyword">AS</span> time_overhead
<span class="keyword">FROM</span> flights f, tehran_airspace ta
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(f.trajectory, ta.geom)
<span class="keyword">ORDER BY</span> time_overhead <span class="keyword">DESC</span>;

<span class="comment">-- ØªØ´Ø®ÛŒØµ ÙØ±ÙˆØ¯ (Ú©Ø§Ù‡Ø´ Ø§Ø±ØªÙØ§Ø¹ Ù…Ø¯Ø§ÙˆÙ…)</span>
<span class="keyword">SELECT</span> 
    callsign,
    <span class="function">atRange</span>(vertical_rate, floatrange <span class="string">'[-3000, -500]'</span>) <span class="keyword">AS</span> descent_phases
<span class="keyword">FROM</span> flights
<span class="keyword">WHERE</span> destination = <span class="string">'OIIE'</span>;  <span class="comment">-- IKA Airport</span>
            </div>

            <h3>ğŸ¦ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø­ÛŒØ§Øª ÙˆØ­Ø´</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Wildlife Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ø­ÛŒÙˆØ§Ù†Ø§Øª</span>
<span class="keyword">CREATE TABLE</span> animals (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    name <span class="type">VARCHAR</span>(50),
    species <span class="type">VARCHAR</span>(100),
    collar_id <span class="type">VARCHAR</span>(20),
    trajectory <span class="type">tgeogpoint</span>,
    activity <span class="type">ttext</span>           <span class="comment">-- 'resting', 'moving', 'feeding'</span>
);

<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ù…Ù†Ø§Ø·Ù‚ Ø­ÙØ§Ø¸Øª Ø´Ø¯Ù‡</span>
<span class="keyword">CREATE TABLE</span> protected_areas (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    name <span class="type">VARCHAR</span>(100),
    geom <span class="type">geometry</span>(Polygon, 4326)
);

<span class="comment">-- ØªØ­Ù„ÛŒÙ„ Home Range (Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø²ÛŒØ³Øª)</span>
<span class="keyword">SELECT</span> 
    a.name,
    a.species,
    <span class="function">ST_ConvexHull</span>(<span class="function">trajectory</span>(a.trajectory)::geometry) <span class="keyword">AS</span> home_range,
    <span class="function">ST_Area</span>(<span class="function">ST_ConvexHull</span>(<span class="function">trajectory</span>(a.trajectory)::geometry)::geography) / 1000000 
        <span class="keyword">AS</span> home_range_km2
<span class="keyword">FROM</span> animals a
<span class="keyword">GROUP BY</span> a.id;

<span class="comment">-- Ø¢ÛŒØ§ Ø­ÛŒÙˆØ§Ù† Ø§Ø² Ù…Ù†Ø·Ù‚Ù‡ Ø­ÙØ§Ø¸Øª Ø´Ø¯Ù‡ Ø®Ø§Ø±Ø¬ Ø´Ø¯Ù‡ØŸ</span>
<span class="keyword">SELECT</span> 
    a.name,
    p.name <span class="keyword">AS</span> protected_area,
    <span class="function">minusGeometry</span>(a.trajectory, p.geom) <span class="keyword">AS</span> outside_periods
<span class="keyword">FROM</span> animals a, protected_areas p
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="function">aContains</span>(p.geom, a.trajectory);

<span class="comment">-- ØªØ´Ø®ÛŒØµ ØªØ¹Ø§Ù…Ù„ Ø¨ÛŒÙ† Ø¯Ùˆ Ø­ÛŒÙˆØ§Ù† (Ù†Ø²Ø¯ÛŒÚ© Ø´Ø¯Ù†)</span>
<span class="keyword">SELECT</span> 
    a1.name <span class="keyword">AS</span> animal1,
    a2.name <span class="keyword">AS</span> animal2,
    <span class="function">nearestApproachDistance</span>(a1.trajectory, a2.trajectory) <span class="keyword">AS</span> min_distance_m,
    <span class="function">nearestApproachInstant</span>(a1.trajectory, a2.trajectory) <span class="keyword">AS</span> when_closest
<span class="keyword">FROM</span> animals a1, animals a2
<span class="keyword">WHERE</span> a1.id < a2.id
    <span class="keyword">AND</span> a1.species = a2.species
    <span class="keyword">AND</span> <span class="function">eDwithin</span>(a1.trajectory, a2.trajectory, 100)
<span class="keyword">ORDER BY</span> min_distance_m;
            </div>

            <h3>ğŸš´ ØªØ­Ù„ÛŒÙ„ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±Ø²Ø´ÛŒ</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Sports Activity Analysis</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±Ø²Ø´ÛŒ</span>
<span class="keyword">CREATE TABLE</span> activities (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    user_id <span class="type">INTEGER</span>,
    activity_type <span class="type">VARCHAR</span>(20),   <span class="comment">-- 'running', 'cycling', 'walking'</span>
    trajectory <span class="type">tgeogpoint</span>,
    heart_rate <span class="type">tint</span>,              <span class="comment">-- Ø¶Ø±Ø¨Ø§Ù† Ù‚Ù„Ø¨</span>
    elevation <span class="type">tfloat</span>,             <span class="comment">-- Ø§Ø±ØªÙØ§Ø¹</span>
    cadence <span class="type">tint</span>                  <span class="comment">-- ØªØ¹Ø¯Ø§Ø¯ Ù‚Ø¯Ù…/Ø¯ÙˆØ±</span>
);

<span class="comment">-- Ø¢Ù…Ø§Ø± ÛŒÚ© ÙØ¹Ø§Ù„ÛŒØª</span>
<span class="keyword">SELECT</span> 
    id,
    activity_type,
    <span class="function">length</span>(trajectory) / 1000 <span class="keyword">AS</span> distance_km,
    <span class="function">duration</span>(trajectory) <span class="keyword">AS</span> duration,
    <span class="function">twAvg</span>(<span class="function">speed</span>(trajectory)) * 3.6 <span class="keyword">AS</span> avg_speed_kmh,
    <span class="function">maxValue</span>(<span class="function">speed</span>(trajectory)) * 3.6 <span class="keyword">AS</span> max_speed_kmh,
    <span class="function">twAvg</span>(heart_rate) <span class="keyword">AS</span> avg_heart_rate,
    <span class="function">maxValue</span>(heart_rate) <span class="keyword">AS</span> max_heart_rate,
    <span class="function">maxValue</span>(elevation) - <span class="function">minValue</span>(elevation) <span class="keyword">AS</span> elevation_gain
<span class="keyword">FROM</span> activities
<span class="keyword">WHERE</span> id = 1;

<span class="comment">-- ØªØ­Ù„ÛŒÙ„ splits (Ù‡Ø± Ú©ÛŒÙ„ÙˆÙ…ØªØ±)</span>
<span class="comment">-- Ø§ÛŒÙ† ÛŒÚ© Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø§Ø³Øª Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¨ÛŒØ´ØªØ± Ø¯Ø§Ø±Ø¯</span>
<span class="keyword">WITH</span> activity <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> trajectory, <span class="function">cumulativeLength</span>(trajectory) <span class="keyword">AS</span> cum_dist
    <span class="keyword">FROM</span> activities <span class="keyword">WHERE</span> id = 1
)
<span class="keyword">SELECT</span> 
    km,
    time_at_km - <span class="function">LAG</span>(time_at_km) <span class="keyword">OVER</span> (<span class="keyword">ORDER BY</span> km) <span class="keyword">AS</span> split_time
<span class="keyword">FROM</span> (
    <span class="keyword">SELECT</span> 
        generate_series(1, 10) <span class="keyword">AS</span> km,
        <span class="function">minTimestamp</span>(<span class="function">atRange</span>(cum_dist, floatrange(km*1000, (km+1)*1000))) <span class="keyword">AS</span> time_at_km
    <span class="keyword">FROM</span> activity
) splits;
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 12: Ù†Ú©Ø§Øª Ùˆ Ø¨Ù‡ØªØ±ÛŒÙ† Ø´ÛŒÙˆÙ‡â€ŒÙ‡Ø§ -->
        <div class="slide" id="best-practices">
            <div class="slide-number">12</div>
            <h2>ğŸ“‹ Ù†Ú©Ø§Øª Ùˆ Ø¨Ù‡ØªØ±ÛŒÙ† Ø´ÛŒÙˆÙ‡â€ŒÙ‡Ø§</h2>

            <h3>âœ… Ø¨Ù‡ØªØ±ÛŒÙ† Ø´ÛŒÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Ø·Ø±Ø§Ø­ÛŒ</h3>

            <div class="grid-2">
                <div class="feature-card">
                    <h4>ğŸ—„ï¸ Ø·Ø±Ø§Ø­ÛŒ Schema</h4>
                    <ul>
                        <li>Ø§Ø² <code>tgeogpoint</code> Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ GPS ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>SRID Ø±Ø§ Ù‡Ù…ÛŒØ´Ù‡ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯ (Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ 4326)</li>
                        <li>ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ temporal Ø±Ø§ Ø¬Ø¯Ø§ Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒØ¯ (speed, heading, ...)</li>
                        <li>Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø³ÙØ± ÛŒÚ© Ø±Ú©ÙˆØ±Ø¯ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯ØŒ Ù†Ù‡ Ù‡Ø± Ù†Ù‚Ø·Ù‡</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>âš¡ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h4>
                    <ul>
                        <li>Ù‡Ù…ÛŒØ´Ù‡ Ø§ÛŒÙ†Ø¯Ú©Ø³ GiST Ø±ÙˆÛŒ trajectory Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                        <li>Ø§Ø² ÙÛŒÙ„ØªØ± Bounding Box (<code>&&</code>) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø¬Ø¯Ø§ÙˆÙ„ Ø¨Ø²Ø±Ú¯ Ø±Ø§ Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø¨Ø¹Ø¯ Ø§Ø² Ø¯Ø±Ø¬ Ø¯Ø§Ø¯Ù‡ØŒ ANALYZE Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯</li>
                    </ul>
                </div>
            </div>

            <h3>âš ï¸ Ø§Ø´ØªØ¨Ø§Ù‡Ø§Øª Ø±Ø§ÛŒØ¬</h3>

            <div class="danger-box">
                <h4>âŒ Ø§ÛŒÙ† Ú©Ø§Ø±Ù‡Ø§ Ø±Ø§ Ù†Ú©Ù†ÛŒØ¯:</h4>
                <ul>
                    <li><strong>Ø°Ø®ÛŒØ±Ù‡ Ù†Ù‚Ø§Ø· Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡:</strong> Ø¨Ù‡ Ø¬Ø§ÛŒ Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ù†Ù‚Ø·Ù‡ØŒ Ø§Ø² ÛŒÚ© trajectory Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                    <li><strong>Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² tgeompoint Ø¨Ø±Ø§ÛŒ GPS:</strong> Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø² tgeogpoint Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                    <li><strong>Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª:</strong> Ù‡Ù…ÛŒØ´Ù‡ ÙÛŒÙ„ØªØ± Ø²Ù…Ø§Ù†ÛŒ ÛŒØ§ Ù…Ú©Ø§Ù†ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯</li>
                    <li><strong>Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ† Ø§ÛŒÙ†Ø¯Ú©Ø³:</strong> Ø¨Ø¯ÙˆÙ† Ø§ÛŒÙ†Ø¯Ú©Ø³ØŒ Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÙ‡Ø§ Ø¨Ø³ÛŒØ§Ø± Ú©Ù†Ø¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</li>
                    <li><strong>Ø°Ø®ÛŒØ±Ù‡ Ø²Ù…Ø§Ù† Ø¨Ø¯ÙˆÙ† timezone:</strong> Ù‡Ù…ÛŒØ´Ù‡ Ø§Ø² TIMESTAMPTZ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                </ul>
            </div>

            <h3>ğŸ“Š Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ø¯Ø§Ø¯Ù‡ Ù…Ù†Ø§Ø³Ø¨</h3>

            <table>
                <thead>
                    <tr>
                        <th>Ø³Ù†Ø§Ø±ÛŒÙˆ</th>
                        <th>Ù†ÙˆØ¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ</th>
                        <th>Ø¯Ù„ÛŒÙ„</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>GPS Ø®ÙˆØ¯Ø±Ùˆ/Ú©Ø´ØªÛŒ</td>
                        <td><code>tgeogpoint</code></td>
                        <td>Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ù‚ÛŒÙ‚ ÙØ§ØµÙ„Ù‡ Ø±ÙˆÛŒ Ú©Ø±Ù‡ Ø²Ù…ÛŒÙ†</td>
                    </tr>
                    <tr>
                        <td>Ø¨Ø§Ø²ÛŒ/Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ</td>
                        <td><code>tgeompoint</code></td>
                        <td>Ø³Ø±Ø¹Øª Ø¨ÛŒØ´ØªØ±ØŒ Ø³ÛŒØ³ØªÙ… Ù…Ø®ØªØµØ§Øª Ø¯Ú©Ø§Ø±ØªÛŒ</td>
                    </tr>
                    <tr>
                        <td>Ø³Ø±Ø¹Øª Ø®ÙˆØ¯Ø±Ùˆ</td>
                        <td><code>tfloat</code></td>
                        <td>Ù…Ù‚Ø¯Ø§Ø± Ù¾ÛŒÙˆØ³ØªÙ‡ Ø¨Ø§ Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ Ø®Ø·ÛŒ</td>
                    </tr>
                    <tr>
                        <td>ÙˆØ¶Ø¹ÛŒØª Ù…ÙˆØªÙˆØ±</td>
                        <td><code>tbool</code></td>
                        <td>Ø±ÙˆØ´Ù†/Ø®Ø§Ù…ÙˆØ´</td>
                    </tr>
                    <tr>
                        <td>Ø¯Ù†Ø¯Ù‡ Ø®ÙˆØ¯Ø±Ùˆ</td>
                        <td><code>tint</code> (Stepwise)</td>
                        <td>Ù…Ù‚Ø¯Ø§Ø± Ú¯Ø³Ø³ØªÙ‡ Ø¨Ø¯ÙˆÙ† Ø¯Ø±ÙˆÙ†â€ŒÛŒØ§Ø¨ÛŒ</td>
                    </tr>
                    <tr>
                        <td>ÙˆØ¶Ø¹ÛŒØª Ø±Ø§Ù†Ù†Ø¯Ù‡</td>
                        <td><code>ttext</code></td>
                        <td>Ù…ØªÙ† Ù…ØªØºÛŒØ± Ø¯Ø± Ø²Ù…Ø§Ù†</td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸ”§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª PostgreSQL</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>postgresql.conf - Recommended Settings</span>
            </div>
            <div class="code-block">
<span class="comment"># Ø­Ø§ÙØ¸Ù‡</span>
shared_buffers = 4GB                   <span class="comment"># 25% RAM</span>
work_mem = 256MB                       <span class="comment"># Ø¨Ø±Ø§ÛŒ sort Ùˆ hash</span>
maintenance_work_mem = 1GB             <span class="comment"># Ø¨Ø±Ø§ÛŒ VACUUM Ùˆ CREATE INDEX</span>
effective_cache_size = 12GB            <span class="comment"># 75% RAM</span>

<span class="comment"># Ù…ÙˆØ§Ø²ÛŒâ€ŒØ³Ø§Ø²ÛŒ</span>
max_parallel_workers_per_gather = 4
max_parallel_workers = 8
parallel_tuple_cost = 0.01
parallel_setup_cost = 100

<span class="comment"># WAL</span>
wal_buffers = 64MB
checkpoint_completion_target = 0.9
max_wal_size = 4GB

<span class="comment"># Planner</span>
random_page_cost = 1.1                 <span class="comment"># Ø¨Ø±Ø§ÛŒ SSD</span>
effective_io_concurrency = 200         <span class="comment"># Ø¨Ø±Ø§ÛŒ SSD</span>
default_statistics_target = 500

<span class="comment"># MobilityDB specific</span>
<span class="comment"># Ø§ÙØ²Ø§ÛŒØ´ memory Ø¨Ø±Ø§ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª temporal</span>
            </div>

            <h3>ğŸ“ˆ Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø¹Ù…Ù„Ú©Ø±Ø¯</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Performance Monitoring</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÙ‡Ø§ÛŒ Ú©Ù†Ø¯</span>
<span class="keyword">SELECT</span> 
    query,
    calls,
    mean_exec_time,
    total_exec_time
<span class="keyword">FROM</span> pg_stat_statements
<span class="keyword">WHERE</span> query <span class="keyword">LIKE</span> <span class="string">'%trajectory%'</span>
<span class="keyword">ORDER BY</span> mean_exec_time <span class="keyword">DESC</span>
<span class="keyword">LIMIT</span> 10;

<span class="comment">-- Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ†Ø¯Ú©Ø³</span>
<span class="keyword">SELECT</span> 
    schemaname,
    tablename,
    indexname,
    idx_scan,
    idx_tup_read,
    idx_tup_fetch
<span class="keyword">FROM</span> pg_stat_user_indexes
<span class="keyword">WHERE</span> tablename = <span class="string">'trips'</span>;

<span class="comment">-- Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø¬Ø¯Ø§ÙˆÙ„</span>
<span class="keyword">SELECT</span> 
    tablename,
    <span class="function">pg_size_pretty</span>(<span class="function">pg_total_relation_size</span>(tablename::regclass)) <span class="keyword">AS</span> total_size,
    <span class="function">pg_size_pretty</span>(<span class="function">pg_relation_size</span>(tablename::regclass)) <span class="keyword">AS</span> table_size
<span class="keyword">FROM</span> pg_tables
<span class="keyword">WHERE</span> schemaname = <span class="string">'public'</span>
<span class="keyword">ORDER BY</span> <span class="function">pg_total_relation_size</span>(tablename::regclass) <span class="keyword">DESC</span>;
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 13: Ù…Ù†Ø§Ø¨Ø¹ Ùˆ Ù…Ø±Ø§Ø¬Ø¹ -->
        <div class="slide" id="resources">
            <div class="slide-number">13</div>
            <h2>ğŸ“š Ù…Ù†Ø§Ø¨Ø¹ Ùˆ Ù…Ø±Ø§Ø¬Ø¹</h2>

            <h3>ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…</h3>

            <table>
                <thead>
                    <tr>
                        <th>Ù…Ù†Ø¨Ø¹</th>
                        <th>Ø¢Ø¯Ø±Ø³</th>
                        <th>ØªÙˆØ¶ÛŒØ­Ø§Øª</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø±Ø³Ù…ÛŒ</strong></td>
                        <td><a href="https://mobilitydb.com" target="_blank">mobilitydb.com</a></td>
                        <td>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ù„ÛŒ Ùˆ Ø¯Ø§Ù†Ù„ÙˆØ¯</td>
                    </tr>
                    <tr>
                        <td><strong>Ù…Ø³ØªÙ†Ø¯Ø§Øª</strong></td>
                        <td><a href="https://docs.mobilitydb.com" target="_blank">docs.mobilitydb.com</a></td>
                        <td>Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„</td>
                    </tr>
                    <tr>
                        <td><strong>GitHub</strong></td>
                        <td><a href="https://github```html
<span class="string">"""
                WITH trip_data AS (
                    SELECT trajectory, speed
                    FROM trips
                    WHERE id = %s
                ),
                slow_periods AS (
                    SELECT 
                        atRange(speed, floatrange '[0, 2]') AS stopped
                    FROM trip_data
                    WHERE speed IS NOT NULL
                )
                SELECT 
                    startTimestamp(stopped) AS stop_start,
                    endTimestamp(stopped) AS stop_end,
                    duration(stopped) AS stop_duration,
                    twCentroid(atPeriod(
                        (SELECT trajectory FROM trip_data),
                        period(stopped)
                    )) AS stop_location
                FROM slow_periods
                WHERE duration(stopped) >= interval '%s seconds'
                ORDER BY stop_start
            """</span>, (trip_id, min_duration_sec))
            <span class="keyword">return</span> cur.fetchall()
    
    <span class="keyword">def</span> <span class="function">daily_report</span>(self, report_date: date) -> Dict:
        <span class="string">"""Ú¯Ø²Ø§Ø±Ø´ Ø±ÙˆØ²Ø§Ù†Ù‡ Ù†Ø§ÙˆÚ¯Ø§Ù†"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                SELECT 
                    COUNT(DISTINCT taxi_id) AS active_taxis,
                    COUNT(*) AS total_trips,
                    SUM(length(trajectory))::numeric / 1000 AS total_km,
                    AVG(length(trajectory))::numeric / 1000 AS avg_trip_km,
                    SUM(fare) AS total_revenue,
                    AVG(fare) AS avg_fare,
                    SUM(EXTRACT(EPOCH FROM duration(trajectory))) / 3600 AS total_hours
                FROM trips
                WHERE trip_date = %s
            """</span>, (report_date,))
            <span class="keyword">return</span> cur.fetchone()
    
    <span class="keyword">def</span> <span class="function">hotspot_analysis</span>(self, trip_date: date, cell_size: float = 0.01) -> List[Dict]:
        <span class="string">"""ØªØ­Ù„ÛŒÙ„ Ù†Ù‚Ø§Ø· Ù¾Ø±ØªØ±Ø¯Ø¯"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                WITH all_points AS (
                    SELECT 
                        (dp).geom AS point
                    FROM trips,
                    LATERAL ST_DumpPoints(trajectory(trajectory)::geometry) AS dp
                    WHERE trip_date = %s
                ),
                grid_cells AS (
                    SELECT 
                        ST_SnapToGrid(point, %s) AS cell,
                        COUNT(*) AS point_count
                    FROM all_points
                    GROUP BY ST_SnapToGrid(point, %s)
                )
                SELECT 
                    ST_X(cell) AS lon,
                    ST_Y(cell) AS lat,
                    point_count,
                    ST_Buffer(cell::geography, %s / 2 * 111000)::geometry AS cell_geom
                FROM grid_cells
                ORDER BY point_count DESC
                LIMIT 20
            """</span>, (trip_date, cell_size, cell_size, cell_size))
            <span class="keyword">return</span> cur.fetchall()

<span class="comment"># Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡</span>
<span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:
    analyzer = TripAnalyzer()
    
    <span class="comment"># Ú¯Ø²Ø§Ø±Ø´ Ø±ÙˆØ²Ø§Ù†Ù‡</span>
    report = analyzer.daily_report(date(2024, 1, 15))
    <span class="keyword">print</span>(<span class="string">"=== Ú¯Ø²Ø§Ø±Ø´ Ø±ÙˆØ²Ø§Ù†Ù‡ ==="</span>)
    <span class="keyword">print</span>(f<span class="string">"ØªØ§Ú©Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„: {report['active_taxis']}"</span>)
    <span class="keyword">print</span>(f<span class="string">"ØªØ¹Ø¯Ø§Ø¯ Ø³ÙØ±: {report['total_trips']}"</span>)
    <span class="keyword">print</span>(f<span class="string">"Ù…Ø³Ø§ÙØª Ú©Ù„: {report['total_km']:.1f} Ú©ÛŒÙ„ÙˆÙ…ØªØ±"</span>)
    <span class="keyword">print</span>(f<span class="string">"Ø¯Ø±Ø¢Ù…Ø¯ Ú©Ù„: {report['total_revenue']:,.0f} ØªÙˆÙ…Ø§Ù†"</span>)
            </div>

            <h3>ğŸ§ª ØªØ³Øª Ù¾Ø±ÙˆÚ˜Ù‡</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>Terminal - Running the Project</span>
            </div>
            <div class="code-block">
<span class="comment"># Ø§Ø¬Ø±Ø§ÛŒ Docker</span>
docker-compose up -d

<span class="comment"># Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª</span>
docker-compose ps
docker-compose logs mobilitydb

<span class="comment"># Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³</span>
docker exec -it taxi-mobilitydb psql -U taxi_user -d taxi_tracking

<span class="comment"># Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯ Python</span>
cd src
python tracker.py
python analysis.py

<span class="comment"># ØªÙˆÙ‚Ù</span>
docker-compose down
            </div>

            <div class="tip-box">
                <h4>âœ… Ù†ØªÛŒØ¬Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡</h4>
                <p>
                    Ø´Ù…Ø§ ÛŒÚ© Ø³ÛŒØ³ØªÙ… Ø±Ø¯ÛŒØ§Ø¨ÛŒ ØªØ§Ú©Ø³ÛŒ Ú©Ø§Ù…Ù„ Ø³Ø§Ø®ØªÛŒØ¯ Ú©Ù‡ Ø´Ø§Ù…Ù„ Ù…ÙˆØ§Ø±Ø¯ Ø²ÛŒØ± Ø§Ø³Øª:
                </p>
                <ul>
                    <li>Ø°Ø®ÛŒØ±Ù‡ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ Ø¨Ø§ MobilityDB</li>
                    <li>Ø«Ø¨Øª Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ±Ù‡Ø§</li>
                    <li>ØªØ­Ù„ÛŒÙ„ ÙˆØ±ÙˆØ¯/Ø®Ø±ÙˆØ¬ Ø§Ø² Ù…Ù†Ø§Ø·Ù‚</li>
                    <li>ØªØ´Ø®ÛŒØµ ØªÙˆÙ‚Ùâ€ŒÙ‡Ø§</li>
                    <li>Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡</li>
                    <li>ØªØ­Ù„ÛŒÙ„ Ù†Ù‚Ø§Ø· Ù¾Ø±ØªØ±Ø¯Ø¯</li>
                </ul>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 11: Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ -->
        <div class="slide" id="advanced">
            <div class="slide-number">11</div>
            <h2>ğŸš€ Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h2>

            <div class="info-box">
                <h4>ğŸ“– Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ</h4>
                <p>
                    MobilityDB Ø¯Ø± ØµÙ†Ø§ÛŒØ¹ Ù…Ø®ØªÙ„Ù Ú©Ø§Ø±Ø¨Ø±Ø¯ Ø¯Ø§Ø±Ø¯. Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ú†Ù†Ø¯ Ø³Ù†Ø§Ø±ÛŒÙˆÛŒ 
                    Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ùˆ ÙˆØ§Ù‚Ø¹ÛŒ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….
                </p>
            </div>

            <h3>ğŸš¢ Ø³Ù†Ø§Ø±ÛŒÙˆ 1: Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§ (AIS Data)</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Ship Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§</span>
<span class="keyword">CREATE TABLE</span> ships (
    mmsi <span class="type">INTEGER PRIMARY KEY</span>,        <span class="comment">-- Maritime Mobile Service Identity</span>
    ship_name <span class="type">VARCHAR</span>(100),
    ship_type <span class="type">VARCHAR</span>(50),
    flag <span class="type">VARCHAR</span>(50),
    trajectory <span class="type">tgeogpoint</span>,             <span class="comment">-- Ù…Ø³ÛŒØ± Ø­Ø±Ú©Øª</span>
    sog <span class="type">tfloat</span>,                        <span class="comment">-- Speed Over Ground (knots)</span>
    cog <span class="type">tfloat</span>,                        <span class="comment">-- Course Over Ground (degrees)</span>
    heading <span class="type">tint</span>,                      <span class="comment">-- Ø¬Ù‡Øª Ø³ÛŒÙ†Ù‡ Ú©Ø´ØªÛŒ</span>
    nav_status <span class="type">ttext</span>                   <span class="comment">-- ÙˆØ¶Ø¹ÛŒØª Ù†Ø§ÙˆØ¨Ø±ÛŒ</span>
);

<span class="comment">-- ØªØ´Ø®ÛŒØµ Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ ÙˆØ§Ø±Ø¯ Ø¢Ø¨â€ŒÙ‡Ø§ÛŒ Ø§ÛŒØ±Ø§Ù† Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">WITH</span> iran_waters <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> <span class="function">ST_MakeEnvelope</span>(51, 24, 60, 30, 4326) <span class="keyword">AS</span> geom
)
<span class="keyword">SELECT</span> 
    s.mmsi,
    s.ship_name,
    s.ship_type,
    <span class="function">startTimestamp</span>(<span class="function">atGeometry</span>(s.trajectory, iw.geom)) <span class="keyword">AS</span> entry_time,
    <span class="function">endTimestamp</span>(<span class="function">atGeometry</span>(s.trajectory, iw.geom)) <span class="keyword">AS</span> exit_time,
    <span class="function">length</span>(<span class="function">atGeometry</span>(s.trajectory, iw.geom)) / 1852 <span class="keyword">AS</span> distance_nm
<span class="keyword">FROM</span> ships s, iran_waters iw
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(s.trajectory, iw.geom)
<span class="keyword">ORDER BY</span> entry_time;

<span class="comment">-- ØªØ´Ø®ÛŒØµ Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ù‡ Ù‡Ù… Ù†Ø²Ø¯ÛŒÚ© Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ (Ø®Ø·Ø± ØªØµØ§Ø¯Ù)</span>
<span class="keyword">SELECT</span> 
    s1.ship_name <span class="keyword">AS</span> ship1,
    s2.ship_name <span class="keyword">AS</span> ship2,
    <span class="function">nearestApproachDistance</span>(s1.trajectory, s2.trajectory) / 1852 <span class="keyword">AS</span> min_distance_nm,
    <span class="function">nearestApproachInstant</span>(s1.trajectory, s2.trajectory) <span class="keyword">AS</span> when_closest
<span class="keyword">FROM</span> ships s1
<span class="keyword">JOIN</span> ships s2 <span class="keyword">ON</span> s1.mmsi < s2.mmsi
<span class="keyword">WHERE</span> <span class="function">eDwithin</span>(s1.trajectory, s2.trajectory, 500)  <span class="comment">-- 500 Ù…ØªØ±</span>
<span class="keyword">ORDER BY</span> min_distance_nm;
            </div>

            <h3>âœˆï¸ Ø³Ù†Ø§Ø±ÛŒÙˆ 2: Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Flight Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§ (Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ Ø¨Ø§ Ø§Ø±ØªÙØ§Ø¹)</span>
<span class="keyword">CREATE TABLE</span> flights (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    flight_number <span class="type">VARCHAR</span>(20),
    aircraft_type <span class="type">VARCHAR</span>(50),
    airline <span class="type">VARCHAR</span>(100),
    origin <span class="type">VARCHAR</span>(10),
    destination <span class="type">VARCHAR</span>(10),
    trajectory <span class="type">tgeompoint</span>,             <span class="comment">-- Ù…Ø³ÛŒØ± 3D (Ø´Ø§Ù…Ù„ Ø§Ø±ØªÙØ§Ø¹)</span>
    altitude <span class="type">tfloat</span>,                    <span class="comment">-- Ø§Ø±ØªÙØ§Ø¹ (ÙÙˆØª)</span>
    ground_speed <span class="type">tfloat</span>,               <span class="comment">-- Ø³Ø±Ø¹Øª Ø²Ù…ÛŒÙ†ÛŒ (Ù†Ø§Øª)</span>
    vertical_rate <span class="type">tfloat</span>               <span class="comment">-- Ù†Ø±Ø® ØµØ¹ÙˆØ¯/Ù†Ø²ÙˆÙ„ (ft/min)</span>
);

<span class="comment">-- Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ø² Ø¢Ø³Ù…Ø§Ù† ØªÙ‡Ø±Ø§Ù† Ø¹Ø¨ÙˆØ± Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">WITH</span> tehran_airspace <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> <span class="function">ST_Buffer</span>(
        <span class="function">ST_MakePoint</span>(51.3, 35.7)::geography, 
        100000  <span class="comment">-- Ø´Ø¹Ø§Ø¹ 100 Ú©ÛŒÙ„ÙˆÙ…ØªØ±</span>
    )::geometry <span class="keyword">AS</span> geom
)
<span class="keyword">SELECT</span> 
    f.flight_number,
    f.airline,
    f.origin || <span class="string">' â†’ '</span> || f.destination <span class="keyword">AS</span> route,
    <span class="function">valueAtTimestamp</span>(
        f.altitude, 
        <span class="function">startTimestamp</span>(<span class="function">atGeometry</span>(f.trajectory, ta.geom))
    ) <span class="keyword">AS</span> altitude_at_entry,
    <span class="function">duration</span>(<span class="function">atGeometry</span>(f.trajectory, ta.geom)) <span class="keyword">AS</span> time_over_tehran
<span class="keyword">FROM</span> flights f, tehran_airspace ta
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(f.trajectory, ta.geom)
<span class="keyword">ORDER BY</span> <span class="function">startTimestamp</span>(<span class="function">atGeometry</span>(f.trajectory, ta.geom));

<span class="comment">-- ØªØ´Ø®ÛŒØµ ØµØ¹ÙˆØ¯ Ùˆ Ù†Ø²ÙˆÙ„</span>
<span class="keyword">SELECT</span> 
    flight_number,
    <span class="function">atRange</span>(vertical_rate, floatrange <span class="string">'[500, 6000]'</span>) <span class="keyword">AS</span> climbing_periods,
    <span class="function">atRange</span>(vertical_rate, floatrange <span class="string">'[-6000, -500]'</span>) <span class="keyword">AS</span> descending_periods
<span class="keyword">FROM</span> flights
<span class="keyword">WHERE</span> flight_number = <span class="string">'IR721'</span>;
            </div>

            <h3>ğŸš´ Ø³Ù†Ø§Ø±ÛŒÙˆ 3: Ø±Ø¯ÛŒØ§Ø¨ÛŒ ÙˆØ±Ø²Ø´Ú©Ø§Ø±Ø§Ù†</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Sports Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±Ø²Ø´ÛŒ</span>
<span class="keyword">CREATE TABLE</span> activities (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    user_id <span class="type">INTEGER</span>,
    activity_type <span class="type">VARCHAR</span>(50),      <span class="comment">-- running, cycling, hiking</span>
    trajectory <span class="type">tgeogpoint</span>,
    heart_rate <span class="type">tint</span>,                <span class="comment">-- Ø¶Ø±Ø¨Ø§Ù† Ù‚Ù„Ø¨</span>
    cadence <span class="type">tint</span>,                   <span class="comment">-- Ø±ÛŒØªÙ… Ù‚Ø¯Ù…/Ù¾Ø¯Ø§Ù„</span>
    elevation <span class="type">tfloat</span>,               <span class="comment">-- Ø§Ø±ØªÙØ§Ø¹</span>
    activity_date <span class="type">DATE</span>
);

<span class="comment">-- ØªØ­Ù„ÛŒÙ„ ÛŒÚ© Ø¯ÙˆÛŒ Ù…Ø§Ø±Ø§ØªÙ†</span>
<span class="keyword">WITH</span> marathon <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> activities
    <span class="keyword">WHERE</span> id = 123
)
<span class="keyword">SELECT</span>
    <span class="comment">-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ù„ÛŒ</span>
    <span class="function">length</span>(trajectory) / 1000 <span class="keyword">AS</span> distance_km,
    <span class="function">duration</span>(trajectory) <span class="keyword">AS</span> total_time,
    
    <span class="comment">-- Ø³Ø±Ø¹Øª</span>
    <span class="function">twAvg</span>(<span class="function">speed</span>(trajectory)) * 3.6 <span class="keyword">AS</span> avg_speed_kmh,
    <span class="function">maxValue</span>(<span class="function">speed</span>(trajectory)) * 3.6 <span class="keyword">AS</span> max_speed_kmh,
    
    <span class="comment">-- Pace (Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø± Ú©ÛŒÙ„ÙˆÙ…ØªØ±)</span>
    <span class="function">EXTRACT</span>(<span class="keyword">EPOCH FROM</span> <span class="function">duration</span>(trajectory)) / 60 / 
        (<span class="function">length</span>(trajectory) / 1000) <span class="keyword">AS</span> avg_pace,
    
    <span class="comment">-- Ø¶Ø±Ø¨Ø§Ù† Ù‚Ù„Ø¨</span>
    <span class="function">twAvg</span>(heart_rate) <span class="keyword">AS</span> avg_hr,
    <span class="function">maxValue</span>(heart_rate) <span class="keyword">AS</span> max_hr,
    
    <span class="comment">-- Ø§Ø±ØªÙØ§Ø¹</span>
    <span class="function">maxValue</span>(elevation) - <span class="function">minValue</span>(elevation) <span class="keyword">AS</span> elevation_gain
<span class="keyword">FROM</span> marathon;

<span class="comment">-- ØªØ­Ù„ÛŒÙ„ splits (Ù‡Ø± 5 Ú©ÛŒÙ„ÙˆÙ…ØªØ±)</span>
<span class="comment">-- Ø§ÛŒÙ† Ú©Ø§Ø± Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø§Ø³Øª Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¨ÛŒØ´ØªØ± Ø¯Ø§Ø±Ø¯</span>
            </div>

            <h3>ğŸ¦ Ø³Ù†Ø§Ø±ÛŒÙˆ 4: Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø­ÛŒØ§Øª ÙˆØ­Ø´</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Wildlife Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø­ÛŒÙˆØ§Ù†Ø§Øª</span>
<span class="keyword">CREATE TABLE</span> animal_tracking (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    animal_id <span class="type">VARCHAR</span>(50),
    species <span class="type">VARCHAR</span>(100),
    collar_id <span class="type">VARCHAR</span>(50),
    trajectory <span class="type">tgeogpoint</span>,
    activity <span class="type">ttext</span>,                 <span class="comment">-- resting, moving, hunting</span>
    temperature <span class="type">tfloat</span>               <span class="comment">-- Ø¯Ù…Ø§ÛŒ Ø¨Ø¯Ù† (Ø¨Ø±Ø®ÛŒ collars)</span>
);

<span class="comment">-- Ù…Ù†Ø§Ø·Ù‚ Ø­ÙØ§Ø¸Øª Ø´Ø¯Ù‡</span>
<span class="keyword">CREATE TABLE</span> protected_areas (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    name <span class="type">VARCHAR</span>(200),
    geom <span class="type">geometry</span>(Polygon, 4326)
);

<span class="comment">-- ØªØ´Ø®ÛŒØµ Ø®Ø±ÙˆØ¬ Ø§Ø² Ù…Ù†Ø·Ù‚Ù‡ Ø­ÙØ§Ø¸Øª Ø´Ø¯Ù‡</span>
<span class="keyword">SELECT</span> 
    at.animal_id,
    at.species,
    pa.name <span class="keyword">AS</span> protected_area,
    <span class="function">endTimestamp</span>(<span class="function">atGeometry</span>(at.trajectory, pa.geom)) <span class="keyword">AS</span> exit_time,
    <span class="function">startTimestamp</span>(<span class="function">minusGeometry</span>(at.trajectory, pa.geom)) <span class="keyword">AS</span> outside_since,
    <span class="function">duration</span>(<span class="function">minusGeometry</span>(at.trajectory, pa.geom)) <span class="keyword">AS</span> time_outside
<span class="keyword">FROM</span> animal_tracking at
<span class="keyword">CROSS JOIN</span> protected_areas pa
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(at.trajectory, pa.geom)
  <span class="keyword">AND</span> <span class="keyword">NOT</span> <span class="function">aContains</span>(pa.geom, at.trajectory)  <span class="comment">-- Ø®Ø§Ø±Ø¬ Ø´Ø¯Ù‡</span>
<span class="keyword">ORDER BY</span> exit_time <span class="keyword">DESC</span>;

<span class="comment">-- Ù…Ø­Ø§Ø³Ø¨Ù‡ Home Range (Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø²ÛŒØ³ØªÛŒ)</span>
<span class="keyword">SELECT</span> 
    animal_id,
    species,
    <span class="function">ST_ConvexHull</span>(<span class="function">trajectory</span>(trajectory)::geometry) <span class="keyword">AS</span> home_range,
    <span class="function">ST_Area</span>(
        <span class="function">ST_ConvexHull</span>(<span class="function">trajectory</span>(trajectory)::geometry)::geography
    ) / 1000000 <span class="keyword">AS</span> home_range_km2
<span class="keyword">FROM</span> animal_tracking
<span class="keyword">GROUP BY</span> animal_id, species;
            </div>

            <div class="grid-2">
                <div class="tip-box">
                    <h4>ğŸ’¡ Ù†Ú©Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ</h4>
                    <ul>
                        <li>Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø±ÛŒØ§ÛŒÛŒ Ø§Ø² <code>tgeogpoint</code> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§ØŒ Ù…Ø®ØªØµØ§Øª Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø§Ø³Ø¨ ÙØ±Ø§Ù…ÙˆØ´ Ù†Ø´ÙˆØ¯</li>
                        <li>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø²Ù…Ø§Ù† Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ú©Ù†ÛŒØ¯</li>
                    </ul>
                </div>
                <div class="warning-box">
                    <h4>âš ï¸ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§</h4>
                    <ul>
                        <li>Ø­Ø¬Ù… Ø¨Ø§Ù„Ø§ÛŒ Ø¯Ø§Ø¯Ù‡ Ø¯Ø± Ø±Ø¯ÛŒØ§Ø¨ÛŒ real-time</li>
                        <li>Ù†ÙˆÛŒØ² Ùˆ Ø®Ø·Ø§ÛŒ GPS</li>
                        <li>Ù‚Ø·Ø¹ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ùˆ gaps Ø¯Ø± Ø¯Ø§Ø¯Ù‡</li>
                        <li>Ù‡Ù…Ø§Ù‡Ù†Ú¯â€ŒØ³Ø§Ø²ÛŒ timezone Ù‡Ø§</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 12: Ù…Ù†Ø§Ø¨Ø¹ Ùˆ Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ -->
        <div class="slide" id="resources">
            <div class="slide-number">12</div>
            <h2>ğŸ“š Ù…Ù†Ø§Ø¨Ø¹ Ùˆ Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ</h2>

            <h3>ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…</h3>
            <table>
                <thead>
                    <tr>
                        <th>Ù…Ù†Ø¨Ø¹</th>
                        <th>Ø¢Ø¯Ø±Ø³</th>
                        <th>ØªÙˆØ¶ÛŒØ­Ø§Øª</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>MobilityDB</strong></td>
                        <td><a href="https://mobilitydb.com" target="_blank">mobilitydb.com</a></td>
                        <td>ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø±Ø³Ù…ÛŒ</td>
                    </tr>
                    <tr>
                        <td><strong>GitHub</strong></td>
                        <td><a href="https://github.com/MobilityDB/MobilityDB" target="_blank">github.com/MobilityDB</a></td>
                        <td>Ú©Ø¯ Ù…Ù†Ø¨Ø¹</td>
                    </tr>
                    <tr>
                        <td><strong>Documentation</strong></td>
                        <td><a href="https://mobilitydb.github.io/MobilityDB/master/" target="_blank">MobilityDB Docs</a></td>
                        <td>Ù…Ø³ØªÙ†Ø¯Ø§Øª Ú©Ø§Ù…Ù„</td>
                    </tr>
                    <tr>
                        <td><strong>PyMEOS</strong></td>
                        <td><a href="https://github.com/MobilityDB/PyMEOS" target="_blank">github.com/MobilityDB/PyMEOS</a></td>
                        <td>Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Python</td>
                    </tr>
                    <tr>
                        <td><strong>Docker Hub</strong></td>
                        <td><a href="https://hub.docker.com/r/mobilitydb/mobilitydb" target="_blank">Docker Image</a></td>
                        <td>Ø§ÛŒÙ…ÛŒØ¬ Docker</td>
                    </tr>
                    <tr>
                        <td><strong>MovingPandas</strong></td>
                        <td><a href="https://movingpandas.org" target="_blank">movingpandas.org</a></td>
                        <td>ØªØ­Ù„ÛŒÙ„ Ù…Ø³ÛŒØ± Ø¯Ø± Python</td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸ“– Ù…Ù‚Ø§Ù„Ø§Øª Ùˆ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§</h3>
            <div class="grid-2">
                <div class="card">
                    <div class="icon">ğŸ“„</div>
                    <h4>MobilityDB Paper</h4>
                    <p>"MobilityDB: A Mobility Database built on PostgreSQL and PostGIS"</p>
                    <small>ZimÃ¡nyi et al., 2019</small>
                </div>
                <div class="card">
                    <div class="icon">ğŸ“˜</div>
                    <h4>Moving Objects Databases</h4>
                    <p>Ú©ØªØ§Ø¨ Ù…Ø±Ø¬Ø¹ Ø¨Ø±Ø§ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø´ÛŒØ§Ø¡ Ù…ØªØ­Ø±Ú©</p>
                    <small>GÃ¼ting & Schneider</small>
                </div>
            </div>

            <h3>ğŸ“‹ Ø®Ù„Ø§ØµÙ‡ Ø¢Ù…ÙˆØ²Ø´</h3>
            <div class="grid-3">
                <div class="card">
                    <div class="icon">1ï¸âƒ£</div>
                    <h4>Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡</h4>
                    <p>Temporal TypesØŒ TrajectoryØŒ Interpolation</p>
                </div>
                <div class="card">
                    <div class="icon">2ï¸âƒ£</div>
                    <h4>Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ</h4>
                    <p>DockerØŒ PostgreSQLØŒ PostGIS</p>
                </div>
                <div class="card">
                    <div class="icon">3ï¸âƒ£</div>
                    <h4>Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡</h4>
                    <p>tint, tfloat, tgeompoint, tgeogpoint</p>
                </div>
                <div class="card">
                    <div class="icon">4ï¸âƒ£</div>
                    <h4>ØªÙˆØ§Ø¨Ø¹ Temporal</h4>
                    <p>Ø§Ø³ØªØ®Ø±Ø§Ø¬ØŒ Ø¨Ø±Ø´ØŒ ØªØ¨Ø¯ÛŒÙ„</p>
                </div>
                <div class="card">
                    <div class="icon">5ï¸âƒ£</div>
                    <h4>ØªÙˆØ§Ø¨Ø¹ Ù…Ú©Ø§Ù†ÛŒ</h4>
                    <p>ÙØ§ØµÙ„Ù‡ØŒ Ø³Ø±Ø¹ØªØŒ Ø·ÙˆÙ„ Ù…Ø³ÛŒØ±</p>
                </div>
                <div class="card">
                    <div class="icon">6ï¸âƒ£</div>
                    <h4>Ø±ÙˆØ§Ø¨Ø·</h4>
                    <p>ØªÙ‚Ø§Ø·Ø¹ØŒ Ù†Ø²Ø¯ÛŒÚ©ÛŒØŒ Geofencing</p>
                </div>
                <div class="card">
                    <div class="icon">7ï¸âƒ£</div>
                    <h4>Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§</h4>
                    <p>GiSTØŒ SP-GiSTØŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</p>
                </div>
                <div class="card">
                    <div class="icon">8ï¸âƒ£</div>
                    <h4>Python</h4>
                    <p>PyMEOSØŒ MovingPandas</p>
                </div>
                <div class="card">
                    <div class="icon">9ï¸âƒ£</div>
                    <h4>Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ</h4>
                    <p>Ø³ÛŒØ³ØªÙ… Ø±Ø¯ÛŒØ§Ø¨ÛŒ ØªØ§Ú©Ø³ÛŒ</p>
                </div>
            </div>

            <h3>ğŸ¯ Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ</h3>
            <div class="info-box">
                <ol>
                    <li><strong>Ù†ØµØ¨ Ù…Ø­ÛŒØ·:</strong> Ø¨Ø§ Docker Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ Ùˆ MobilityDB Ø±Ø§ Ù†ØµØ¨ Ú©Ù†ÛŒØ¯</li>
                    <li><strong>ØªÙ…Ø±ÛŒÙ†:</strong> Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ ØªÙ…Ø±ÛŒÙ† Ú©Ù†ÛŒØ¯</li>
                    <li><strong>Ù¾Ø±ÙˆÚ˜Ù‡:</strong> ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒØ¯</li>
                    <li><strong>Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ:</strong> Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§```html
<span class="string">"""
                WITH trip_data AS (
                    SELECT trajectory, speed
                    FROM trips
                    WHERE id = %s
                ),
                stop_periods AS (
                    SELECT 
                        (sp).startTimestamp AS stop_start,
                        (sp).endTimestamp AS stop_end,
                        (sp).endTimestamp - (sp).startTimestamp AS stop_duration
                    FROM (
                        SELECT unnest(sequences(atValues(speed, floatrange '[0, 2]'))) AS sp
                        FROM trip_data
                        WHERE speed IS NOT NULL
                    ) sub
                    WHERE (sp).endTimestamp - (sp).startTimestamp >= interval '%s seconds'
                )
                SELECT 
                    stop_start,
                    stop_end,
                    stop_duration,
                    valueAtTimestamp(td.trajectory, stop_start) AS stop_location
                FROM stop_periods, trip_data td
            """</span>, (trip_id, min_duration_sec))
            <span class="keyword">return</span> cur.fetchall()
    
    <span class="keyword">def</span> <span class="function">daily_report</span>(self, report_date: date) -> Dict:
        <span class="string">"""Ú¯Ø²Ø§Ø±Ø´ Ø±ÙˆØ²Ø§Ù†Ù‡ Ú©Ù„ Ù†Ø§ÙˆÚ¯Ø§Ù†"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                SELECT 
                    COUNT(DISTINCT taxi_id) AS active_taxis,
                    COUNT(*) AS total_trips,
                    SUM(passenger_count) AS total_passengers,
                    SUM(length(trajectory))::numeric / 1000 AS total_km,
                    SUM(EXTRACT(EPOCH FROM duration(trajectory))) / 3600 AS total_hours,
                    SUM(fare) AS total_revenue,
                    AVG(length(trajectory))::numeric / 1000 AS avg_trip_km,
                    AVG(fare) AS avg_fare
                FROM trips
                WHERE trip_date = %s
            """</span>, (report_date,))
            <span class="keyword">return</span> cur.fetchone()
    
    <span class="keyword">def</span> <span class="function">heatmap_data</span>(self, trip_date: date, grid_size: float = 0.01) -> List[Dict]:
        <span class="string">"""Ø¯Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ±Ø³ÛŒÙ… Ù†Ù‚Ø´Ù‡ Ø­Ø±Ø§Ø±ØªÛŒ"""</span>
        <span class="keyword">with</span> db.cursor(dict_cursor=<span class="keyword">True</span>) <span class="keyword">as</span> cur:
            cur.execute(<span class="string">"""
                WITH trip_points AS (
                    SELECT 
                        (dp).geom AS point
                    FROM trips,
                    LATERAL ST_DumpPoints(trajectory(trajectory)::geometry) AS dp
                    WHERE trip_date = %s
                )
                SELECT 
                    ST_X(ST_Centroid(ST_Collect(point))) AS lon,
                    ST_Y(ST_Centroid(ST_Collect(point))) AS lat,
                    COUNT(*) AS intensity
                FROM trip_points
                GROUP BY 
                    floor(ST_X(point) / %s),
                    floor(ST_Y(point) / %s)
                HAVING COUNT(*) > 5
            """</span>, (trip_date, grid_size, grid_size))
            <span class="keyword">return</span> cur.fetchall()

<span class="comment"># Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡</span>
<span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:
    analyzer = TripAnalyzer()
    
    <span class="comment"># Ú¯Ø²Ø§Ø±Ø´ Ø±ÙˆØ²Ø§Ù†Ù‡</span>
    report = analyzer.daily_report(date(2024, 1, 15))
    <span class="keyword">print</span>(<span class="string">"ğŸ“Š Ú¯Ø²Ø§Ø±Ø´ Ø±ÙˆØ²Ø§Ù†Ù‡:"</span>)
    <span class="keyword">print</span>(f<span class="string">"  ØªØ§Ú©Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„: {report['active_taxis']}"</span>)
    <span class="keyword">print</span>(f<span class="string">"  ØªØ¹Ø¯Ø§Ø¯ Ø³ÙØ±: {report['total_trips']}"</span>)
    <span class="keyword">print</span>(f<span class="string">"  Ú©Ù„ Ù…Ø³Ø§ÙØª: {report['total_km']:.1f} Ú©ÛŒÙ„ÙˆÙ…ØªØ±"</span>)
    <span class="keyword">print</span>(f<span class="string">"  Ø¯Ø±Ø¢Ù…Ø¯ Ú©Ù„: {report['total_revenue']:,.0f} ØªÙˆÙ…Ø§Ù†"</span>)
            </div>

            <div class="tip-box">
                <h4>ğŸš€ Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡</h4>
                <div class="code-block" style="margin-top: 15px;">
<span class="comment"># 1. Ø§Ø¬Ø±Ø§ÛŒ Docker</span>
docker-compose up -d

<span class="comment"># 2. Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§</span>
pip install -r requirements.txt

<span class="comment"># 3. Ø§Ø¬Ø±Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡</span>
python src/tracker.py
python src/analysis.py
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 11: Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ -->
        <div class="slide">
            <div class="slide-number">11</div>
            <h2>ğŸš€ Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h2>

            <h3>ğŸŒŠ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ AIS (Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§)</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - AIS Ship Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§</span>
<span class="keyword">CREATE TABLE</span> ships (
    mmsi <span class="type">INTEGER PRIMARY KEY</span>,
    ship_name <span class="type">VARCHAR</span>(100),
    ship_type <span class="type">INTEGER</span>,
    flag <span class="type">VARCHAR</span>(50),
    trajectory <span class="type">tgeogpoint</span>,
    sog <span class="type">tfloat</span>,        <span class="comment">-- Speed Over Ground</span>
    cog <span class="type">tfloat</span>,        <span class="comment">-- Course Over Ground</span>
    heading <span class="type">tint</span>
);

<span class="comment">-- Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ ÙˆØ§Ø±Ø¯ Ø¢Ø¨â€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø²Ù…ÛŒÙ†ÛŒ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">WITH</span> territorial_waters <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> <span class="function">ST_Buffer</span>(
        <span class="function">ST_MakeLine</span>(coast_points)::geography, 
        22224  <span class="comment">-- 12 nautical miles in meters</span>
    ) <span class="keyword">AS</span> geom
    <span class="keyword">FROM</span> coastline
)
<span class="keyword">SELECT</span> 
    s.ship_name,
    s.mmsi,
    <span class="function">startTimestamp</span>(<span class="function">atGeometry</span>(s.trajectory, tw.geom::geometry)) <span class="keyword">AS</span> entry_time,
    <span class="function">endTimestamp</span>(<span class="function">atGeometry</span>(s.trajectory, tw.geom::geometry)) <span class="keyword">AS</span> exit_time
<span class="keyword">FROM</span> ships s, territorial_waters tw
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(s.trajectory, tw.geom::geometry);

<span class="comment">-- ØªØ´Ø®ÛŒØµ ØªÙˆÙ‚Ù Ø¯Ø± Ø¨Ù†Ø¯Ø±</span>
<span class="keyword">SELECT</span> 
    s.ship_name,
    p.port_name,
    <span class="function">duration</span>(<span class="function">atGeometry</span>(s.trajectory, p.geom)) <span class="keyword">AS</span> time_in_port
<span class="keyword">FROM</span> ships s, ports p
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(s.trajectory, p.geom)
    <span class="keyword">AND</span> <span class="function">duration</span>(<span class="function">atGeometry</span>(s.trajectory, p.geom)) > <span class="string">'1 hour'</span>;
            </div>

            <h3>âœˆï¸ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Flight Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§ Ø¨Ø§ Ø§Ø±ØªÙØ§Ø¹</span>
<span class="keyword">CREATE TABLE</span> flights (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    flight_number <span class="type">VARCHAR</span>(20),
    aircraft_type <span class="type">VARCHAR</span>(50),
    origin <span class="type">VARCHAR</span>(10),
    destination <span class="type">VARCHAR</span>(10),
    trajectory <span class="type">tgeompoint</span>,    <span class="comment">-- 3D Ø¨Ø§ Ø§Ø±ØªÙØ§Ø¹</span>
    altitude <span class="type">tfloat</span>,           <span class="comment">-- Ø§Ø±ØªÙØ§Ø¹ (feet)</span>
    ground_speed <span class="type">tfloat</span>,       <span class="comment">-- Ø³Ø±Ø¹Øª (knots)</span>
    vertical_rate <span class="type">tfloat</span>       <span class="comment">-- Ù†Ø±Ø® ØµØ¹ÙˆØ¯/Ù†Ø²ÙˆÙ„</span>
);

<span class="comment">-- Ø¯Ø±Ø¬ Ù…Ø³ÛŒØ± Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</span>
<span class="keyword">INSERT INTO</span> flights (flight_number, trajectory, altitude) <span class="keyword">VALUES</span> (
    <span class="string">'IR721'</span>,
    tgeompoint <span class="string">'[Point(51.15 35.68 0)@2024-01-15 10:00:00,
                  Point(51.20 35.75 15000)@2024-01-15 10:15:00,
                  Point(52.00 36.50 35000)@2024-01-15 11:00:00,
                  Point(54.30 38.10 35000)@2024-01-15 12:30:00,
                  Point(55.00 38.50 10000)@2024-01-15 12:50:00,
                  Point(55.20 38.55 0)@2024-01-15 13:00:00]'</span>,
    tfloat <span class="string">'[0@2024-01-15 10:00:00, 15000@2024-01-15 10:15:00,
            35000@2024-01-15 11:00:00, 35000@2024-01-15 12:30:00,
            10000@2024-01-15 12:50:00, 0@2024-01-15 13:00:00]'</span>
);

<span class="comment">-- Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ø² Ø­Ø±ÛŒÙ… Ù‡ÙˆØ§ÛŒÛŒ ØªÙ‡Ø±Ø§Ù† Ø¹Ø¨ÙˆØ± Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">SELECT</span> 
    flight_number,
    <span class="function">duration</span>(<span class="function">atGeometry</span>(trajectory, tehran_airspace)) <span class="keyword">AS</span> time_over_tehran,
    <span class="function">maxValue</span>(<span class="function">atGeometry</span>(altitude, tehran_airspace_period)) <span class="keyword">AS</span> max_altitude
<span class="keyword">FROM</span> flights, 
     (<span class="keyword">SELECT</span> <span class="function">ST_Buffer</span>(<span class="function">ST_MakePoint</span>(51.4, 35.7)::geography, 50000)::geometry <span class="keyword">AS</span> tehran_airspace) t
<span class="keyword">WHERE</span> <span class="function">eIntersects</span>(trajectory, tehran_airspace);
            </div>

            <h3>ğŸš´ ØªØ­Ù„ÛŒÙ„ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±Ø²Ø´ÛŒ</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Sports Activity Analysis</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±Ø²Ø´ÛŒ</span>
<span class="keyword">CREATE TABLE</span> activities (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    user_id <span class="type">INTEGER</span>,
    activity_type <span class="type">VARCHAR</span>(50),  <span class="comment">-- running, cycling, hiking</span>
    trajectory <span class="type">tgeogpoint</span>,
    heart_rate <span class="type">tint</span>,
    elevation <span class="type">tfloat</span>,
    cadence <span class="type">tint</span>,
    power <span class="type">tfloat</span>  <span class="comment">-- Ø¨Ø±Ø§ÛŒ Ø¯ÙˆÚ†Ø±Ø®Ù‡</span>
);

<span class="comment">-- Ø¢Ù…Ø§Ø± ÛŒÚ© ÙØ¹Ø§Ù„ÛŒØª</span>
<span class="keyword">SELECT</span> 
    activity_type,
    <span class="function">length</span>(trajectory) / 1000 <span class="keyword">AS</span> distance_km,
    <span class="function">duration</span>(trajectory) <span class="keyword">AS</span> duration,
    <span class="function">length</span>(trajectory) / <span class="function">EXTRACT</span>(EPOCH <span class="keyword">FROM</span> <span class="function">duration</span>(trajectory)) * 3.6 <span class="keyword">AS</span> avg_speed_kmh,
    <span class="function">twAvg</span>(heart_rate) <span class="keyword">AS</span> avg_heart_rate,
    <span class="function">maxValue</span>(heart_rate) <span class="keyword">AS</span> max_heart_rate,
    <span class="function">maxValue</span>(elevation) - <span class="function">minValue</span>(elevation) <span class="keyword">AS</span> elevation_gain
<span class="keyword">FROM</span> activities
<span class="keyword">WHERE</span> id = 1;

<span class="comment">-- Ù…Ù‚Ø§ÛŒØ³Ù‡ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ Ø¯Ø± ÛŒÚ© Ù…Ø³ÛŒØ± Ù…Ø´ØªØ±Ú©</span>
<span class="keyword">SELECT</span> 
    a1.id <span class="keyword">AS</span> activity_1,
    a2.id <span class="keyword">AS</span> activity_2,
    <span class="function">hausdorffDistance</span>(
        <span class="function">trajectory</span>(a1.trajectory)::geometry,
        <span class="function">trajectory</span>(a2.trajectory)::geometry
    ) <span class="keyword">AS</span> route_similarity
<span class="keyword">FROM</span> activities a1, activities a2
<span class="keyword">WHERE</span> a1.user_id = a2.user_id
    <span class="keyword">AND</span> a1.id < a2.id
    <span class="keyword">AND</span> <span class="function">eIntersects</span>(a1.trajectory, a2.trajectory);
            </div>

            <h3>ğŸ“¦ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø­Ù…Ù„â€ŒÙˆÙ†Ù‚Ù„ Ùˆ Ù„Ø¬Ø³ØªÛŒÚ©</h3>

            <div class="code-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span>SQL - Logistics Tracking</span>
            </div>
            <div class="code-block">
<span class="comment">-- Ø¬Ø¯ÙˆÙ„ Ù…Ø­Ù…ÙˆÙ„Ù‡â€ŒÙ‡Ø§</span>
<span class="keyword">CREATE TABLE</span> shipments (
    id <span class="type">SERIAL PRIMARY KEY</span>,
    tracking_code <span class="type">VARCHAR</span>(50) <span class="keyword">UNIQUE</span>,
    origin_warehouse <span class="type">INTEGER</span>,
    destination_address <span class="type">geometry</span>(Point, 4326),
    vehicle_id <span class="type">INTEGER</span>,
    trajectory <span class="type">tgeogpoint</span>,
    temperature <span class="type">tfloat</span>,      <span class="comment">-- Ø¨Ø±Ø§ÛŒ Ù…Ø­Ù…ÙˆÙ„Ù‡â€ŒÙ‡Ø§ÛŒ ÛŒØ®Ú†Ø§Ù„ÛŒ</span>
    status <span class="type">ttext</span>,            <span class="comment">-- Ø¯Ø± Ù…Ø³ÛŒØ±ØŒ ØªØ­ÙˆÛŒÙ„ Ø´Ø¯Ù‡ØŒ ...</span>
    estimated_delivery <span class="type">TIMESTAMPTZ</span>
);

<span class="comment">-- Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù…Ø­Ù…ÙˆÙ„Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ù…Ø§ÛŒ ØºÛŒØ±Ù…Ø¬Ø§Ø² Ø¯Ø§Ø´ØªÙ‡â€ŒØ§Ù†Ø¯</span>
<span class="keyword">SELECT</span> 
    tracking_code,
    <span class="function">atRange</span>(temperature, floatrange <span class="string">'(8, 100)'</span>) <span class="keyword">AS</span> high_temp_periods,
    <span class="function">duration</span>(<span class="function">atRange</span>(temperature, floatrange <span class="string">'(8, 100)'</span>)) <span class="keyword">AS</span> duration_above_limit
<span class="keyword">FROM</span> shipments
<span class="keyword">WHERE</span> <span class="function">maxValue</span>(temperature) > 8;

<span class="comment">-- ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù† Ø±Ø³ÛŒØ¯Ù†</span>
<span class="keyword">SELECT</span> 
    tracking_code,
    <span class="function">ST_Distance</span>(
        <span class="function">endValue</span>(trajectory)::geography,
        destination_address::geography
    ) / 1000 <span class="keyword">AS</span> remaining_km,
    <span class="function">twAvg</span>(<span class="function">speed</span>(trajectory)) * 3.6 <span class="keyword">AS</span> avg_speed_kmh,
    <span class="function">NOW</span>() + (
        <span class="function">ST_Distance</span>(<span class="function">endValue</span>(trajectory)::geography, destination_address::geography) 
        / <span class="function">NULLIF</span>(<span class="function">twAvg</span>(<span class="function">speed</span>(trajectory)), 0)
    ) * <span class="string">'1 second'</span>::interval <span class="keyword">AS</span> estimated_arrival
<span class="keyword">FROM</span> shipments
<span class="keyword">WHERE</span> <span class="function">endTimestamp</span>(status) <span class="keyword">IS NULL</span>;  <span class="comment">-- Ù‡Ù†ÙˆØ² ØªØ­ÙˆÛŒÙ„ Ù†Ø´Ø¯Ù‡</span>
            </div>

            <div class="grid-2">
                <div class="card">
                    <div class="icon">ğŸŒ¡ï¸</div>
                    <h4>Cold Chain Monitoring</h4>
                    <p>Ù†Ø¸Ø§Ø±Øª Ø¨Ø± Ø¯Ù…Ø§ Ùˆ Ø±Ø·ÙˆØ¨Øª Ù…Ø­Ù…ÙˆÙ„Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø³ Ø¯Ø± Ø·ÙˆÙ„ Ù…Ø³ÛŒØ±</p>
                </div>
                <div class="card">
                    <div class="icon">â°</div>
                    <h4>ETA Prediction</h4>
                    <p>Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø²Ù…Ø§Ù† Ø±Ø³ÛŒØ¯Ù† Ø¨Ø§ ØªØ­Ù„ÛŒÙ„ Ø³Ø±Ø¹Øª Ùˆ ØªØ±Ø§ÙÛŒÚ©</p>
                </div>
                <div class="card">
                    <div class="icon">ğŸ›£ï¸</div>
                    <h4>Route Optimization</h4>
                    <p>Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø³ÛŒØ± Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø³ÙØ±Ù‡Ø§</p>
                </div>
                <div class="card">
                    <div class="icon">âš ï¸</div>
                    <h4>Anomaly Detection</h4>
                    <p>ØªØ´Ø®ÛŒØµ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ø² Ù…Ø³ÛŒØ± ÛŒØ§ ØªÙˆÙ‚Ùâ€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ø¹Ø§Ø¯ÛŒ</p>
                </div>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ 12: Ù…Ù†Ø§Ø¨Ø¹ Ùˆ Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ -->
        <div class="slide">
            <div class="slide-number">12</div>
            <h2>ğŸ“š Ù…Ù†Ø§Ø¨Ø¹ Ùˆ Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ</h2>

            <h3>ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…</h3>
            <table>
                <thead>
                    <tr>
                        <th>Ù…Ù†Ø¨Ø¹</th>
                        <th>Ø¢Ø¯Ø±Ø³</th>
                        <th>ØªÙˆØ¶ÛŒØ­</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>MobilityDB</strong></td>
                        <td><a href="https://mobilitydb.com" target="_blank">mobilitydb.com</a></td>
                        <td>ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø±Ø³Ù…ÛŒ</td>
                    </tr>
                    <tr>
                        <td><strong>GitHub</strong></td>
                        <td><a href="https://github.com/MobilityDB/MobilityDB" target="_blank">github.com/MobilityDB</a></td>
                        <td>Ú©Ø¯ Ù…Ù†Ø¨Ø¹</td>
                    </tr>
                    <tr>
                        <td><strong>Documentation</strong></td>
                        <td><a href="https://docs.mobilitydb.com" target="_blank">docs.mobilitydb.com</a></td>
                        <td>Ù…Ø³ØªÙ†Ø¯Ø§Øª Ú©Ø§Ù…Ù„</td>
                    </tr>
                    <tr>
                        <td><strong>PyMEOS</strong></td>
                        <td><a href="https://pymeos.readthedocs.io" target="_blank">pymeos.readthedocs.io</a></td>
                        <td>Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Python</td>
                    </tr>
                    <tr>
                        <td><strong>Docker Hub</strong></td>
                        <td><a href="https://hub.docker.com/r/mobilitydb/mobilitydb" target="_blank">hub.docker.com/r/mobilitydb</a></td>
                        <td>Docker Image</td>
                    </tr>
                    <tr>
                        <td><strong>MovingPandas</strong></td>
                        <td><a href="https://movingpandas.org" target="_blank">movingpandas.org</a></td>
                        <td>ØªØ­Ù„ÛŒÙ„ Ù…Ø³ÛŒØ± Ø¯Ø± Python</td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸ“– Ø®Ù„Ø§ØµÙ‡ Ø¢Ù†Ú†Ù‡ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÛŒÙ…</h3>

            <div class="grid-3">
                <div class="card">
                    <div class="icon">1ï¸âƒ£</div>
                    <h4>Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡</h4>
                    <p>Temporal typesØŒ InterpolationØŒ Moving objects</p>
                </div>
                <div class="card">
                    <div class="icon">2ï¸âƒ£</div>
                    <h4>Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ</h4>
                    <p>DockerØŒ Build Ø§Ø² Ø³ÙˆØ±Ø³ØŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª</p>
                </div>
                <div class="card">
                    <div class="icon">3ï¸âƒ£</div>
                    <h4>Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡</h4>
                    <p>tint, tfloat, tgeompoint, tgeogpoint</p>
                </div>
                <div class="card">
                    <div class="icon">4ï¸âƒ£</div>
                    <h4>ØªÙˆØ§Ø¨Ø¹ Temporal</h4>
                    <p>Ø§Ø³ØªØ®Ø±Ø§Ø¬ØŒ Ø¨Ø±Ø´ØŒ ØªØ¨Ø¯ÛŒÙ„ØŒ ØªØ¬Ù…ÛŒØ¹</p>
                </div>
                <div class="card">
                    <div class="icon">5ï¸âƒ£</div>
                    <h4>ØªÙˆØ§Ø¨Ø¹ Ù…Ú©Ø§Ù†ÛŒ</h4>
                    <p>ÙØ§ØµÙ„Ù‡ØŒ Ø³Ø±Ø¹ØªØŒ Ø¬Ù‡ØªØŒ Ø·ÙˆÙ„ Ù…Ø³ÛŒØ±</p>
                </div>
                <div class="card">
                    <div class="icon">6ï¸âƒ£</div>
                    <h4>Ø±ÙˆØ§Ø¨Ø· Ù…Ú©Ø§Ù†ÛŒ-Ø²Ù…Ø§Ù†ÛŒ</h4>
                    <p>ØªÙ‚Ø§Ø·Ø¹ØŒ Ù†Ø²Ø¯ÛŒÚ©ÛŒØŒ ÙˆØ±ÙˆØ¯/Ø®Ø±ÙˆØ¬</p>
                </div>
                <div class="card">
                    <div class="icon">7ï¸âƒ£</div>
                    <h4>Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h4>
                    <p>Ø§ÛŒÙ†Ø¯Ú©Ø³ GiSTØŒ Ù¾Ø§Ø±ØªÛŒØ´Ù†â€ŒØ¨Ù†Ø¯ÛŒ</p>
                </div>
                <div class="card">
                    <div class="icon">8ï¸âƒ£</div>
                    <h4>Python</h4>
                    <p>PyMEOSØŒ MovingPandasØŒ Folium</p>
                </div>
                <div class="card">
                    <div class="icon">9ï¸âƒ£</div>
                    <h4>Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ù„ÛŒ</h4>
                    <p>Ø±Ø¯ÛŒØ§Ø¨ÛŒ ØªØ§Ú©Ø³ÛŒØŒ ØªØ­Ù„ÛŒÙ„ØŒ Ú¯Ø²Ø§Ø±Ø´</p>
                </div>
            </div>

            <h3>ğŸ¯ Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ</h3>

            <div class="grid-2">
                <div class="feature-card">
                    <h4>ğŸš€ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹</h4>
                    <ol>
                        <li>Docker Ø±Ø§ Ù†ØµØ¨ Ùˆ MobilityDB Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ GPS Ù†Ù…ÙˆÙ†Ù‡ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</li>
                        <li>Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø¨Ø§ PyMEOS Ø¯Ø± Python Ú©Ø§Ø± Ú©Ù†ÛŒØ¯</li>
                        <li>Ù†Ù‚Ø´Ù‡ ØªØ¹Ø§Ù…Ù„ÛŒ Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                    </ol>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“ˆ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡â€ŒØªØ±Ù‡Ø§</h4>
                    <ol>
                        <li>ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ (AIS, GPS) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ML Ø±ÙˆÛŒ Ù…Ø³ÛŒØ±Ù‡Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯</li>
                        <li>API Ø¨Ø±Ø§ÛŒ Ø³ÛŒØ³ØªÙ… Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                        <li>Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ MobilityDB Ù…Ø´Ø§Ø±Ú©Øª Ú©Ù†ÛŒØ¯</li>
                    </ol>
                </div>
            </div>

            <div class="tip-box">
                <h4>ğŸ’¡ Ù†Ú©ØªÙ‡ Ù†Ù‡Ø§ÛŒÛŒ</h4>
                <p>
                    MobilityDB Ø§Ø¨Ø²Ø§Ø± Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ Ø§Ø³Øª. Ø¨Ø§ ØªØ±Ú©ÛŒØ¨ Ø¢Ù† Ø¨Ø§ 
                    PostGIS Ùˆ Python Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ùˆ ØªØ­Ù„ÛŒÙ„ Ù…Ø³ÛŒØ± Ø¨Ø³Ø§Ø²ÛŒØ¯. 
                    Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ØŒ Ø¢Ø²Ù…Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯ØŒ Ùˆ Ø§Ø² Ù‚Ø¯Ø±Øª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù†ÛŒ-Ø²Ù…Ø§Ù†ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯!
                </p>
            </div>
        </div>

        <!-- Ø§Ø³Ù„Ø§ÛŒØ¯ Ù¾Ø§ÛŒØ§Ù†ÛŒ -->
        <div class="slide" style="text-align: center; background: linear-gradient(135deg, #ede9fe, #ddd6fe);">
            <div class="slide-number">ğŸ‰</div>
            <h2 style="border: none; text-align: center;">Ù¾Ø§ÛŒØ§Ù† Ø¢Ù…ÙˆØ²Ø´</h2>
            
            <div style="font-size: 6em; margin: 40px 0;">ğŸš—</div>
            
            <h3 style="border: none; text-align: center; font-size: 2.5em; color: var(--primary-color);">
                MobilityDB - Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø±Ú©ØªÛŒ
            </h3>
            
            <p style="font-size: 1.4em; max-width: 700px; margin: 30px auto;">
                Ø¨Ø§ MobilityDB Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ù…Ø³ÛŒØ± Ø±Ø§ Ø°Ø®ÛŒØ±Ù‡ØŒ Ù¾Ø±Ø³â€ŒÙˆØ¬ÙˆØŒ Ùˆ ØªØ­Ù„ÛŒÙ„ Ú©Ù†ÛŒØ¯.
            </p>

            <div class="stats-grid" style="max-width: 800px; margin: 50px auto;">
                <div class="stat-card">
                    <div class="number">ğŸ—ºï¸</div>
                    <div class="label">PostGIS</div>
                </div>
                <div class="stat-card" style="background: var(--gradient-2);">
                    <div class="number">â±ï¸</div>
                    <div class="label">Temporal</div>
                </div>
                <div class="stat-card">
                    <div class="number">ğŸ˜</div>
                    <div class="label">PostgreSQL</div>
                </div>
                <div class="stat-card" style="background: var(--gradient-2);">
                    <div class="number">ğŸ</div>
                    <div class="label">Python</div>
                </div>
            </div>

            <div style="margin: 40px auto; max-width: 600px;">
                <a href="https://mobilitydb.com" target="_blank" 
                   style="background: var(--primary-color); color: white; padding: 18px 50px; 
                          border-radius: 30px; text-decoration: none; font-size: 1.2em; 
                          display: inline-block; box-shadow: var(--shadow-md);">
                    ğŸš€Ø´Ø±ÙˆØ¹ Ú©Ø§Ø± Ø¨Ø§ MobilityDB
                </a>
            </div>

            <p style="margin-top: 50px; color: var(--text-secondary);">
                ØªÙ‡ÛŒÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù…Ø¹Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† GIS Ø§ÛŒØ±Ø§Ù†
            </p>
        </div>

    </div>

    <!-- Footer -->
    <footer>
        <h3>ğŸ“š Ù…Ù†Ø§Ø¨Ø¹ Ø¨ÛŒØ´ØªØ±</h3>
        <p style="margin: 20px 0;">
            <a href="https://mobilitydb.com" target="_blank">MobilityDB</a> | 
            <a href="https://github.com/MobilityDB/MobilityDB" target="_blank">GitHub</a> | 
            <a href="https://pymeos.readthedocs.io" target="_blank">PyMEOS Docs</a> | 
            <a href="https://movingpandas.org" target="_blank">MovingPandas</a> | 
            <a href="https://postgis.net" target="_blank">PostGIS</a>
        </p>
        
        <div style="margin: 40px 0;">
            <h4 style="color: white; margin-bottom: 20px;">ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯</h4>
            <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 15px;">
                <a href="https://hub.docker.com/r/mobilitydb/mobilitydb" target="_blank" 
                   style="background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 20px;">
                    ğŸ³ Docker Image
                </a>
                <a href="https://github.com/MobilityDB/MobilityDB-workshop" target="_blank"
                   style="background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 20px;">
                    ğŸ““ Workshop
                </a>
                <a href="https://github.com/anitagraser/movingpandas-examples" target="_blank"
                   style="background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 20px;">
                    ğŸ“Š Examples
                </a>
            </div>
        </div>

        <hr style="border: none; border-top: 1px solid rgba(255,255,255,0.2); margin: 30px 0;">
        
        <p style="opacity: 0.7;">
            Ø¢Ù…ÙˆØ²Ø´ MobilityDB | Ù†Ø³Ø®Ù‡ 1.0 | Ø¢Ø°Ø± Û±Û´Û°Û³
        </p>
        <p style="opacity: 0.5; font-size: 0.9em; margin-top: 10px;">
            Ø§ÛŒÙ† Ø¢Ù…ÙˆØ²Ø´ Ø¨Ø± Ø§Ø³Ø§Ø³ MobilityDB 1.1 Ùˆ PostgreSQL 14+ ØªÙ‡ÛŒÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª
        </p>
    </footer>

    <!-- Back to Top Button -->
    <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" 
            style="position: fixed; bottom: 30px; left: 30px; width: 50px; height: 50px;
                   background: var(--primary-color); color: white; border: none; 
                   border-radius: 50%; cursor: pointer; box-shadow: var(--shadow-md);
                   font-size: 1.5em; z-index: 1000;"
            title="Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§">
        â†‘
    </button>

    <!-- Print Styles -->
    <style>
        @media print {
            nav, footer, button {
                display: none !important;
            }
            
            .slide {
                break-inside: avoid;
                page-break-inside: avoid;
                box-shadow: none !important;
                border: 1px solid #ddd !important;
                margin-bottom: 20px !important;
            }
            
            header {
                padding: 30px 20px !important;
            }
            
            .code-block {
                white-space: pre-wrap !important;
                word-wrap: break-word !important;
            }
            
            a {
                text-decoration: none !important;
                color: inherit !important;
            }
            
            body {
                font-size: 12pt !important;
            }
        }
    </style>

    <!-- JavaScript for Interactivity -->
    <script>
        // Smooth scroll for navigation
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight active navigation item
        const observerOptions = {
            root: null,
            rootMargin: '-20% 0px -80% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    document.querySelectorAll('nav a').forEach(link => {
                        link.style.background = link.getAttribute('href') === `#${id}` 
                            ? 'var(--primary-color)' 
                            : 'transparent';
                    });
                }
            });
        }, observerOptions);

        document.querySelectorAll('.slide[id]').forEach(slide => {
            observer.observe(slide);
        });

        // Copy code block functionality
        document.querySelectorAll('.code-block').forEach(block => {
            block.addEventListener('dblclick', function() {
                const text = this.textContent;
                navigator.clipboard.writeText(text).then(() => {
                    const originalBg = this.style.background;
                    this.style.background = '#065f46';
                    setTimeout(() => {
                        this.style.background = originalBg;
                    }, 200);
                });
            });
        });

        // Add slide numbers dynamically (if not present)
        let slideCount = 0;
        document.querySelectorAll('.slide').forEach(slide => {
            slideCount++;
            const existingNumber = slide.querySelector('.slide-number');
            if (!existingNumber) {
                const numberDiv = document.createElement('div');
                numberDiv.className = 'slide-number';
                numberDiv.textContent = slideCount;
                slide.insertBefore(numberDiv, slide.firstChild);
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            const slides = document.querySelectorAll('.slide');
            const currentScroll = window.scrollY;
            let currentSlideIndex = 0;

            slides.forEach((slide, index) => {
                if (slide.offsetTop <= currentScroll + 100) {
                    currentSlideIndex = index;
                }
            });

            if (e.key === 'ArrowDown' || e.key === 'PageDown') {
                e.preventDefault();
                if (currentSlideIndex < slides.length - 1) {
                    slides[currentSlideIndex + 1].scrollIntoView({ behavior: 'smooth' });
                }
            } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {
                e.preventDefault();
                if (currentSlideIndex > 0) {
                    slides[currentSlideIndex - 1].scrollIntoView({ behavior: 'smooth' });
                }
            } else if (e.key === 'Home') {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else if (e.key === 'End') {
                e.preventDefault();
                slides[slides.length - 1].scrollIntoView({ behavior: 'smooth' });
            }
        });

        // Progress indicator
        window.addEventListener('scroll', function() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            
            // Update progress bar if exists
            const progressBar = document.getElementById('progress-bar');
            if (progressBar) {
                progressBar.style.width = scrolled + '%';
            }
        });

        // Console welcome message
        console.log('%cğŸš— MobilityDB Tutorial', 'font-size: 24px; font-weight: bold; color: #6366f1;');
        console.log('%cWelcome to MobilityDB Tutorial!', 'font-size: 14px; color: #8b5cf6;');
        console.log('%cDouble-click on any code block to copy it.', 'font-size: 12px; color: #64748b;');
        console.log('%cUse Arrow keys or Page Up/Down to navigate.', 'font-size: 12px; color: #64748b;');
    </script>

</body>
</html>